System.register([],(function(e){return{execute:function(){e(function(e){function t(t){for(var i,n,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)n=a[s],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(l&&l(t);u.length;)u.shift()()}var i={},r={0:0};function n(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.e=function(e){var t=[],i=r[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,n){i=r[e]=[t,n]}));t.push(i[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.src=function(e){return n.p+""+({1:"vendors~canvg",2:"vendors~pdfmake",3:"vendors~xlsx",4:"xlsx"}[e]||e)+".bundle.js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var i=r[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,i[1](l)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},n.m=e,n.c=i,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../arcgis-charts/",n.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;return n(n.s=10)}([function(e,t,i){"use strict";(function(e,r,n){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function a(e,t,i,r){return new(i||(i=Promise))((function(n,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */i.d(t,"a",(function(){return Ix})),i.d(t,"b",(function(){return U_})),i.d(t,"c",(function(){return Y_})),i.d(t,"d",(function(){return q_})),i.d(t,"e",(function(){return CC})),i.d(t,"f",(function(){return wC})),i.d(t,"g",(function(){return IC})),i.d(t,"h",(function(){return $_})),i.d(t,"i",(function(){return OC})),i.d(t,"j",(function(){return FS})),i.d(t,"k",(function(){return ES})),i.d(t,"l",(function(){return kS}));var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function s(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var l=function(){return(l=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function u(e,t,i,r){return new(i||(i=Promise))((function(n,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function c(e,t){var i,r,n,a,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}var f=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._value+"%"},e}();function m(e){return new f(e)}function y(e){return Number(e)!==e}function g(e){return{}.toString.call(e)}function v(e){if("string"==typeof e)return e;if("number"==typeof e)return""+e;throw new Error("Expected a string or number but got "+g(e))}function b(e){return!!e}function x(e){if(_(e)&&!T(e)){var t=Number(e);return y(t)&&A(e)&&""!=e?x(e.replace(/[^0-9.\-]+/g,"")):t}return e}function S(e){if(_(e)&&!A(e)){if(T(e))return v(e);if(O(e))return e.toString()}return e}function P(e){return!_(e)||T(e)||function(e){return e instanceof f}(e)?e:A(e)&&-1!=e.indexOf("%")?m(x(e)):x(e)}function _(e){return null!=e}function C(e){if(_(e))return e;throw new Error("Value doesn't exist")}function w(e,t){return _(e)?e:t}function I(e){return"[object Date]"===g(e)}function A(e){return"string"==typeof e}function T(e){return"number"==typeof e&&Number(e)==e}function O(e){return"object"==typeof e&&null!=e}function D(e){return Array.isArray(e)}var k=Math.PI,F=k/2,E=k/180,M=180/k;function j(e,t,i){return _(e)?V(e=x(e),t,i):e}function L(e,t,i){if(!T(t)||t<=0){var r=Math.round(e);return i&&r-e==.5&&r--,r}var n=Math.pow(10,t);return Math.round(e*n)/n}function R(e,t){if(!T(t)||t<=0)return Math.ceil(e);var i=Math.pow(10,t);return Math.ceil(e*i)/i}function V(e,t,i){if(T(t)){if(T(i)&&i<t){var r=i;i=t,t=r}e<t&&(e=t)}return T(i)&&e>i&&(e=i),e}function B(e){return L(Math.sin(E*e),10)}function N(e){return L(Math.tan(E*e),10)}function W(e){return L(Math.cos(E*e),10)}function z(e,t){return T(e)?T(t)&&t>e?t:e:T(t)?t:null}function H(e,t){return T(e)?T(t)&&t<e?t:e:T(t)?t:null}function G(e,t){var i=C(e.start),r=C(t.start),n=C(e.end),a=C(t.end);return Math.max(i,r)<=Math.min(n,a)}function U(e){var t=C(e.start);return{start:1-C(e.end),end:1-t}}function $(e,t){return e?(t||(t={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(e.x-t.x),2)+Math.pow(Math.abs(e.y-t.y),2))):0}function q(e,t,i,r,n){if(!e)return 0;t||(t={x:0,y:0});var a=0,o=e;if(n>0)for(var s=0;s<=n;s++){var l=ee(e,t,i,r,s/n);a+=$(o,l),o=l}return a}function Y(e,t,i,r){var n=$(t,r),a=$(e,i);return Math.abs(a/n)}function K(e,t,i){return T(i)||(i=.5),{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}}function X(e,t){t||(t={x:2*e.x,y:2*e.y});var i=t.x-e.x,r=t.y-e.y,n=Math.atan2(r,i)*M;return n<0&&(n+=360),ne(n)}function J(e){if(e){var t=e.length;if(0!==t){for(var i,r=void 0,n=void 0,a=void 0,o=0;o<t;o++){var s=e[o];(!T(n)||s.x>n)&&(n=s.x),(!T(r)||s.x<r)&&(r=s.x),(!T(i)||s.y<i)&&(i=s.y),(!T(a)||s.y>a)&&(a=s.y)}return{x:r,y:i,width:n-r,height:a-i}}}return{x:0,y:0,width:0,height:0}}function Q(e){var t=e.length;if(0!==t){for(var i=void 0,r=void 0,n=void 0,a=void 0,o=0;o<t;o++){var s=e[o];i=H(s.x,i),r=H(s.y,r),n=z(s.x+s.width,n),a=z(s.y+s.height,a)}return{x:i,y:r,width:n-i,height:a-r}}}function Z(e,t,i,r){return{x:(1-r)*(1-r)*e.x+2*(1-r)*r*i.x+r*r*t.x,y:(1-r)*(1-r)*e.y+2*(1-r)*r*i.y+r*r*t.y}}function ee(e,t,i,r,n){var a={x:0,y:0},o=1-n,s=o*o,l=s*o;return a.x=e.x*l+3*i.x*s*n+3*r.x*o*n*n+t.x*n*n*n,a.y=e.y*l+3*i.y*s*n+3*r.y*o*n*n+t.y*n*n*n,a}function te(e,t,i,r,n,a){return n=re(n),a=re(a),{x:(-e.x+t.x/n+i.x)*n,y:(-e.y+t.y/a+i.y)*a}}function ie(e,t,i,r,n,a){return n=re(n),a=re(a),{x:(t.x+i.x/n-r.x)*n,y:(t.y+i.y/a-r.y)*a}}function re(e){return 1-e+1e-5}function ne(e){return 360==e?360:e%360}function ae(e,t,i){if(t>i){var r=t;t=i,i=r}e=ne(e);var n=(t-ne(t))/360;return e<t&&(e+=360*(n+1)),e>i&&(e-360>t?e-=360:e=e<t+(i-t)/2+180?i:t),e<t&&(e=e>t+(i-t)/2-180?t:i),e}function oe(e,t,i){var r=Number.MAX_VALUE,n=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=-Number.MAX_VALUE,s=[];T(i)||(i=1),s.push(se(i,e)),s.push(se(i,t));for(var l=Math.min(90*Math.floor(e/90),90*Math.floor(t/90)),u=Math.max(90*Math.ceil(e/90),90*Math.ceil(t/90)),c=l;c<=u;c+=90)c>=e&&c<=t&&s.push(se(i,c));for(var h=0;h<s.length;h++){var d=s[h];d.x<r&&(r=d.x),d.y<n&&(n=d.y),d.x>a&&(a=d.x),d.y>o&&(o=d.y)}return{x:r,y:n,width:a-r,height:o-n}}function se(e,t){return{x:e*W(t),y:e*B(t)}}function le(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>t.y&&e.y<t.y+t.height}function ue(e,t){for(var i=e.length,r=0;r<i;++r)if(e[r]===t)return r;return-1}function ce(e,t){for(var i=e.length,r=0;r<i;++r)if(t(e[r]))return!0;return!1}function he(e,t){for(var i=e.length,r=new Array(i),n=0;n<i;++n)r[n]=t(e[n],n);return r}function de(e,t){for(var i=e.length,r=0;r<i;++r)t(e[r],r)}function pe(e,t){for(var i=e.length,r=0;r<i&&t(e[r],r);++r);}function fe(e,t){var i=!1,r=e.indexOf(t);if(-1!==r){i=!0,e.splice(r,1);for(var n=e.length;r<n;)e[r]===t?(e.splice(r,1),--n):++r}return i}function me(e,t,i){var r=ue(e,t);-1!==r&&xe(e,r),null==i?e.push(t):be(e,i,t)}function ye(e,t,i){T(i)?0===i?e.unshift(t):e.splice(i,0,t):e.push(t)}function ge(e){return Array.isArray(e)?e:[e]}function ve(e){for(var t=e.length,i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}function be(e,t,i){e.splice(t,0,i)}function xe(e,t){e.splice(t,1)}function Se(e,t,i){for(var r=0,n=e.length,a=!1;r<n;){var o=r+n>>1,s=t(i,e[o]);s<0?n=o:0===s?(a=!0,r=o+1):r=o+1}return{found:a,index:a?r-1:r}}function Pe(e,t){for(var i=e.length,r=0;r<i;++r)if(t(e[r],r))return r;return-1}function _e(e,t){for(var i=e.length,r=0;r<i;)t(e[r])?++r:(e.splice(r,1),--i)}var Ce=function(){function e(e){this._disposed=!1,this._dispose=e}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},e}(),we=function(e){function t(t){return e.call(this,(function(){de(t,(function(e){e.dispose()}))}))||this}return s(t,e),t}(Ce),Ie=function(e){function t(){var t=e.call(this,(function(){_(t._disposer)&&(t._disposer.dispose(),t._disposer=void 0)}))||this;return t}return s(t,e),t.prototype.get=function(){return this._value},t.prototype.set=function(e,t){_(this._disposer)&&this._disposer.dispose(),this._disposer=t,this._value=e},t.prototype.reset=function(){this.set(void 0,void 0)},t}(Ce),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._counter=0,t}return s(t,e),t.prototype.increment=function(){var e=this;return++this._counter,new Ce((function(){--e._counter,0===e._counter&&e.dispose()}))},t}(Ce),Te=!1,Oe=[],De=[],ke=[],Fe=[],Ee="function"==typeof requestAnimationFrame?function(e){requestAnimationFrame(e)}:function(e){setTimeout(e,1e3/60)};function Me(){for(var e=Date.now(),t=Oe.length,i=0;i<t;++i)Oe[i](e);!function(e,t){for(var i=e.length,r=t;r<i;++r)e[r-t]=e[r];e.length=i-t}(Oe,t);for(i=0;i<De.length;++i)De[i](e);De.length=0;for(i=0;i<ke.length;++i)ke[i](e);ke.length=0,0===Oe.length&&0===De.length?Te=!1:Ee(Me)}function je(){Te||(Te=!0,Ee(Me))}function Le(e){ke.push(e),je()}var Re=function(){function e(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{de(e,(function(e){e.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}},e.prototype.hasListeners=function(){return 0!==this._listeners.length},e.prototype.hasListenersByType=function(e){return ce(this._listeners,(function(t){return(null===t.type||t.type===e)&&!t.killed}))},e.prototype.enable=function(){this._enabled=!0},e.prototype.disable=function(){this._enabled=!1},e.prototype.enableType=function(e){delete this._disabled[e]},e.prototype.disableType=function(e,t){void 0===t&&(t=1/0),this._disabled[e]=t},e.prototype._removeListener=function(e){if(0===this._iterating){var t=this._listeners.indexOf(e);if(-1===t)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1)}else this._killed.push(e)},e.prototype._removeExistingListener=function(e,t,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(n){n.once!==e||n.type!==t||null!=i&&n.callback!==i||n.context!==r||n.disposer.dispose()}))},e.prototype.isEnabled=function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&null==this._disabled[e]},e.prototype.has=function(e,t,i){return-1!==Pe(this._listeners,(function(r){return!0!==r.once&&r.type===e&&(null==t||r.callback===t)&&r.context===i}))},e.prototype._shouldDispatch=function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");var t=this._disabled[e];return T(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled},e.prototype._eachListener=function(e){var t=this;++this._iterating;try{de(this._listeners,e)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(de(this._killed,(function(e){t._removeListener(e)})),this._killed.length=0)}},e.prototype.dispatchImmediately=function(e,t){this._shouldDispatch(e)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==e||i.dispatch(e,t)}))},e.prototype.dispatch=function(e,t){this._shouldDispatch(e)&&this._eachListener((function(i){var r;i.killed||null!==i.type&&i.type!==e||(r=function(){i.killed||i.dispatch(e,t)},Fe.push(r))}))},e.prototype._on=function(e,t,i,r,n,a){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,i,r);var s={type:t,callback:i,context:r,shouldClone:n,dispatch:a,killed:!1,once:e,disposer:new Ce((function(){s.killed=!0,o._removeListener(s)}))};return this._listeners.push(s),s},e.prototype.onAll=function(e,t,i){return void 0===i&&(i=!0),this._on(!1,null,e,t,i,(function(i,r){return e.call(t,i,r)})).disposer},e.prototype.on=function(e,t,i,r){return void 0===r&&(r=!0),this._on(!1,e,t,i,r,(function(e,r){return t.call(i,r)})).disposer},e.prototype.once=function(e,t,i,r){void 0===r&&(r=!0);var n=this._on(!0,e,t,i,r,(function(e,r){n.disposer.dispose(),t.call(i,r)}));return n.disposer},e.prototype.off=function(e,t,i){this._removeExistingListener(!1,e,t,i)},e.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");de(e._listeners,(function(e){!e.killed&&e.shouldClone&&(null===e.type?t.onAll(e.callback,e.context):e.once?t.once(e.type,e.callback,e.context):t.on(e.type,e.callback,e.context))}))},e}(),Ve=function(e){function t(t){var i=e.call(this)||this;return i.target=t,i}return s(t,e),t.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");de(e._listeners,(function(i){i.context!==e.target&&!i.killed&&i.shouldClone&&(null===i.type?t.onAll(i.callback,i.context):i.once?t.once(i.type,i.callback,i.context):t.on(i.type,i.callback,i.context))}))},t}(Re);function Be(e){var t=[];for(var i in e)Ne(e,i)&&t.push(i);return t}function Ne(e,t){return{}.hasOwnProperty.call(e,t)}function We(e,t){for(var i in e)if(Ne(e,i)&&!t(i,e[i]))break}function ze(e,t){We(e,(function(e,i){return t(e,i),!0}))}function He(e,t,i){de(function(e,t){return Be(e).sort(t)}(e,i),(function(i){t(i,e[i])}))}function Ge(e,t){return Object.assign({},e,t)}function Ue(e,t,i){de(i,(function(i){_(e[i])&&(t[i]=e[i])}))}function $e(e,t){Ue(e,t,Be(e))}function qe(e){return function(t){for(var i=e.length,r=0;r<i&&t(e[r]);++r);}}function Ye(e){var t=[];return e((function(e){return t.push(e),!0})),t}function Ke(e,t){e(t)}function Xe(e,t){e((function(e){return t(e),!0}))}function Je(e,t){return qe(Ye(e).sort(t))}function Qe(e,t){return function(i){return e((function(e){return i(t(e))}))}}function Ze(e){return function(t){var i=0;e((function(e){return t([i++,e])}))}}function et(e,t){var i=!1;return e((function(e){return!t(e)||(i=!0,!1)})),i}var tt=function(){function e(e,t){this.createNewItems=!1,this.list=e,this._create=t,this.reset()}return e.prototype.reset=function(){this._listCopy=Ye(this.list.iterator())},e.prototype.clear=function(){this._listCopy.length=0},e.prototype.getFirst=function(){return this.returnItem(0)},e.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},e.prototype.find=function(e){var t=Pe(this._listCopy,e);if(-1!==t){var i=this._listCopy[t];return fe(this._listCopy,i),i}return this.getLast()},e.prototype.removeItem=function(e){return fe(this._listCopy,e)},e.prototype.returnItem=function(e){if(e>=0&&e<this._listCopy.length){var t=this._listCopy[e];return fe(this._listCopy,t),t}if(this.createNewItems)return this._create()},e.prototype.iterator=function(){return qe(this._listCopy)},e}();function it(e,t){return e===t?0:e<t?-1:1}function rt(e,t){return new Array(t+1).join(e)}var nt=function(e){function t(t){var i=t.events.on("removed",(function(e){e.oldValue.dispose()}),void 0,!1);return e.call(this,(function(){i.dispose(),Xe(t.iterator(),(function(e){e[1].dispose()}))}))||this}return s(t,e),t}(Ce),at=function(){function e(){this.events=new Re,this._dictionary={}}return e.prototype.hasKey=function(e){return Ne(this._dictionary,e)},e.prototype.getKey=function(e){return this._dictionary[e]},e.prototype.insertKey=function(e,t){if(Ne(this._dictionary,e))throw new Error("Key "+e+" already exists in dictionary");this._dictionary[e]=t,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:e,newValue:t})},e.prototype.setKey=function(e,t){if(Ne(this._dictionary,e)){var i=this._dictionary[e];i!==t&&(this._dictionary[e]=t,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:e,oldValue:i,newValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[e]=t,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:e,newValue:t})},e.prototype.updateKey=function(e,t){if(!Ne(this._dictionary,e))throw new Error("Key "+e+" doesn't exist in dictionary");var i=this._dictionary[e],r=t(i);i!==r&&(this._dictionary[e]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:e,oldValue:i,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))},e.prototype.removeKey=function(e){if(Ne(this._dictionary,e)){var t=this._dictionary[e];delete this._dictionary[e],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:e,oldValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t})}},e.prototype.insertKeyIfEmpty=function(e,t){return this.hasKey(e)||this.insertKey(e,t()),this.getKey(e)},e.prototype.clear=function(){var e=this;this.events.isEnabled("removed")&&ze(this._dictionary,(function(t,i){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:i})})),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},e.prototype.copyFrom=function(e){var t=this;Xe(e.iterator(),(function(e){t.setKey(e[0],e[1])}))},e.prototype.iterator=function(){return e=this._dictionary,function(t){for(var i in e)if(Ne(e,i)&&!t([i,e[i]]))break};var e},e.prototype[Symbol.iterator]=function(){var e,t,i,r;return c(this,(function(n){switch(n.label){case 0:for(t in e=[],this._dictionary)e.push(t);i=0,n.label=1;case 1:return i<e.length?(r=e[i],Ne(this._dictionary,r)?[4,[r,this._dictionary[r]]]:[3,3]):[3,4];case 2:n.sent(),n.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},e.prototype.each=function(e){Xe(this.iterator(),(function(t){var i=d(t,2),r=i[0],n=i[1];return e(r,n)}))},e.prototype.sortedIterator=function(){return Je(this.iterator(),(function(e,t){return it(e[0],t[0])}))},e}(),ot=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return s(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;Xe(e.iterator(),(function(e){t.setKey(e[0],e[1].clone())}))},t.prototype.create=function(e){var t=this;return this.insertKeyIfEmpty(e,(function(){return t.template.clone()}))},t}(at),st=new(function(){function e(){this._storage=new at,this.ttl=1e3}return e.prototype.set=function(e,t,i,r){var n=this._storage.insertKeyIfEmpty(e,(function(){return new at})),a={touched:(new Date).getTime(),ttl:T(r)?r:this.ttl,value:i};n.setKey(t,a)},e.prototype.get=function(e,t,i){if(void 0===i&&(i=void 0),this._storage.hasKey(e)){var r=this._storage.getKey(e);if(r.hasKey(t)){var n=r.getKey(t);return n.ttl&&n.touched+n.ttl<(new Date).getTime()&&(n.expired=!0),n.expired?(r.removeKey(t),i):n.value}return i}return i},e.prototype.clear=function(e){e?this._storage.removeKey(e):this._storage.clear()},e}()),lt=new(function(){function e(){var e=this;this.events=new Re,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],"undefined"!=typeof addEventListener&&(addEventListener("beforeprint",(function(){de(e.baseSprites,(function(e){var t=e.paper.svg;t.setAttribute("viewBox","0 0 "+t.clientWidth+" "+t.clientHeight)}))})),addEventListener("afterprint",(function(){de(e.baseSprites,(function(e){e.paper.svg.removeAttribute("viewBox")}))})))}return e.prototype.getUniqueId=function(){var e=this._uidCount;return this._uidCount+=1,"id-"+e},Object.defineProperty(e.prototype,"map",{get:function(){return this._map||(this._map=new at),this._map},enumerable:!0,configurable:!0}),e.prototype.setCache=function(e,t,i){st.set(this.uid,e,t,i)},e.prototype.getCache=function(e,t){return void 0===t&&(t=void 0),st.get(this.uid,e,t)},e.prototype.dispatch=function(e,t){this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},e.prototype.dispatchImmediately=function(e,t){this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatchImmediately(e,t)):this.events.dispatchImmediately(e,{type:e,target:this}))},e.prototype.getPlaceholder=function(e){return _(this._placeholders[e])||(this._placeholders[e]="__amcharts_"+e+"_"+function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}(8)+"__"),this._placeholders[e]},e.prototype.addToInvalidComponents=function(e){e.baseId?me(this.invalidDatas[e.baseId],e):me(this.invalidDatas.noBase,e)},e.prototype.removeFromInvalidComponents=function(e){e.baseId&&fe(this.invalidDatas[e.baseId],e),fe(this.invalidDatas.noBase,e)},e.prototype.addToInvalidSprites=function(e){e.baseId?ye(this.invalidSprites[e.baseId],e):ye(this.invalidSprites.noBase,e)},e.prototype.removeFromInvalidSprites=function(e){e.baseId&&fe(this.invalidSprites[e.baseId],e),fe(this.invalidSprites.noBase,e)},e.prototype.addToInvalidPositions=function(e){e.baseId?ye(this.invalidPositions[e.baseId],e):ye(this.invalidPositions.noBase,e)},e.prototype.removeFromInvalidPositions=function(e){e.baseId&&fe(this.invalidPositions[e.baseId],e),fe(this.invalidPositions.noBase,e)},e.prototype.addToInvalidLayouts=function(e){e.baseId?ye(this.invalidLayouts[e.baseId],e):ye(this.invalidLayouts.noBase,e)},e.prototype.removeFromInvalidLayouts=function(e){e.baseId&&fe(this.invalidLayouts[e.baseId],e),fe(this.invalidLayouts.noBase,e)},e}());function ut(e,t){var i=lt.registeredClasses[t];return null!=i&&e instanceof i}var ct=function(){function e(e,t,i){this._array=e,this._start=t,this._end=i}return e.prototype.iterator=function(){var e=this;return function(t){if(e._start!==e._end)if(e._start<e._end)for(var i=e._start;i<e._end&&t(e._array[i]);++i);else for(i=e._start-1;i>=e._end&&t(e._array[i]);--i);}},e.prototype.backwards=function(){return new e(this._array,this._end,this._start)},e.prototype.range=function(t,i){if(t<=i){if(this._start===this._end)return this;if(this._start<this._end){var r=i-t;return t=Math.max(this._start+t,this._start),i=Math.min(t+r,this._end),new e(this._array,t,i)}r=i-t;return t=Math.max(this._start-t,this._end),i=Math.max(t-r,this._end),new e(this._array,t,i)}throw new Error("Start index must be lower than end index")},e}(),ht=(function(e){function t(t,i,r){var n=e.call(this,[t.events.on("inserted",(function(e){var i=e.newValue,r=n._getKey(i),a=0;Ke(t.iterator(),(function(e){return e!==i&&(n._getKey(e)===r&&++a,!0)})),n._insert(i,r,a)}),void 0,!1),t.events.on("removed",(function(e){n._remove(e.oldValue)}),void 0,!1)])||this;return n._keys=[],n._groups={},n._getKey=i,n._sort=r,Xe(t.iterator(),(function(e){n._insert(e,i(e))})),n}s(t,e),t.prototype._insert=function(e,t,i){if(null==this._groups[t]){this._groups[t]=[];var r=Se(this._keys,this._sort,t),n=r.found,a=r.index;if(n)throw new Error("Key already exists: "+t);be(this._keys,a,t)}null==i?this._groups[t].push(e):be(this._groups[t],i,e)},t.prototype._remove=function(e){var t=this._getKey(e),i=this._groups[t];if(null!=i&&(fe(i,e),0===i.length)){delete this._groups[t];var r=Se(this._keys,this._sort,t),n=r.found,a=r.index;if(!n)throw new Error("Key doesn't exist: "+t);xe(this._keys,a)}},t.prototype.iterator=function(){var e,t=this;return e=Qe(qe(this._keys),(function(e){return qe(t._groups[e])})),function(t){var i=!0,r=function(e){return i=t(e)};e((function(e){return e(r),i}))}}}(we),function(e){function t(t,i){void 0===i&&(i=!0);var r=this;if(i){var n=t.events.on("removed",(function(e){e.oldValue.dispose()}),void 0,!1);r=e.call(this,(function(){n.dispose(),Xe(t.iterator(),(function(e){e.dispose()}))}))||this}else r=e.call(this,(function(){Xe(t.iterator(),(function(e){e.dispose()}))}))||this;return r}return s(t,e),t}(Ce));function dt(e,t){if(!(e>=0&&e<t))throw new Error("Index out of bounds: "+e)}var pt=function(){function e(e){void 0===e&&(e=[]),this.events=new Re,this._values=e}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return-1!==this._values.indexOf(e)},e.prototype.removeValue=function(e){for(var t=0,i=this._values.length;t<i;)this._values[t]===e?(this.removeIndex(t),--i):++t},e.prototype.indexOf=function(e){return ue(this._values,e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.hasIndex=function(e){return e>=0&&e<this._values.length},e.prototype.getIndex=function(e){return this._values[e]},e.prototype.setIndex=function(e,t){dt(e,this._values.length);var i=this._values[e];return i!==t&&(this._values[e]=t,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:i,newValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})),i},e.prototype.insertIndex=function(e,t){dt(e,this._values.length+1),be(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},e.prototype._sortQuicksort=function(e,t,i){if(e<t){var r=this._sortPartition(e,t,i);this._sortQuicksort(e,r,i),this._sortQuicksort(r+1,t,i)}},e.prototype._sortPartition=function(e,t,i){for(var r=this._values,n=r[e],a=e-1,o=t+1;;){do{++a}while(i(r[a],n)<0);do{--o}while(i(r[o],n)>0);if(a>=o)return o;this.swap(a,o)}},e.prototype.sort=function(e){this._sortQuicksort(0,this._values.length-1,e)},e.prototype.swap=function(e,t){var i=this._values.length;if(dt(e,i),dt(t,i),e!==t){var r=this._values[e],n=this._values[t];this._values[e]=n,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:r,newValue:n}),this._values[t]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:n,newValue:r})}},e.prototype.removeIndex=function(e){dt(e,this._values.length);var t=this._values[e];return xe(this._values,e),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t}),t},e.prototype.moveValue=function(e,t){var i=this.indexOf(e);if(-1!==i){var r=this._values[i];xe(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:r})}null==t?(t=this._values.length,this._values.push(e)):be(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),-1===i&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},e.prototype.push=function(e){var t=this._values.push(e)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e}),e},e.prototype.unshift=function(e){this.insertIndex(0,e)},e.prototype.pushAll=function(e){var t=this;de(e,(function(e){t.push(e)}))},e.prototype.copyFrom=function(e){this.pushAll(e._values)},e.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},e.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},e.prototype.setAll=function(e){var t=this,i=ve(this._values);this._values.length=0,de(e,(function(e){t._values.push(e)})),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&de(i,(function(e){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:e})})),this.events.isEnabled("inserted")&&de(this._values,(function(e){t.events.dispatchImmediately("inserted",{type:"inserted",target:t,newValue:e})}))},e.prototype.clear=function(){this.setAll([])},e.prototype.iterator=function(){return qe(this._values)},e.prototype[Symbol.iterator]=function(){var e,t;return c(this,(function(i){switch(i.label){case 0:e=this._values.length,t=0,i.label=1;case 1:return t<e?[4,this._values[t]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++t,[3,1];case 4:return[2]}}))},e.prototype.each=function(e){de(this._values,e)},e.prototype.range=function(e,t){if(e<=t){var i=t-e;return e=Math.max(e,0),t=Math.min(e+i,this._values.length),new ct(this._values,e,t)}throw new Error("Start index must be lower than end index")},e.prototype.backwards=function(){return new ct(this._values,this._values.length,0)},e}(),ft=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return s(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;Xe(e.iterator(),(function(e){t.push(e.clone())}))},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.push(t),t},t.prototype.clone=function(){for(var e=new t(this.template),i=this.values,r=i.length,n=0;n<r;++n)e.push(i[n].clone());return e},t}(pt),mt=function(){function e(e){this._values=[],this.events=new Re,null!=e&&this.setAll(e)}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype._insert=function(e){return this._values.push(e),this._values.length-1},Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return ue(this._values,e)},e.prototype.contains=function(e){return-1!==this.indexOf(e)},e.prototype.getIndex=function(e){return this._values[e]},Object.defineProperty(e.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),e.prototype.insert=function(e){var t=this._insert(e);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:t,newValue:e})},e.prototype.remove=function(e){var t=this.indexOf(e);if(-1!==t){var i=this._values[t];xe(this._values,t),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:t,oldValue:i})}},e.prototype.setAll=function(e){var t=this;!function(e,t){for(var i=e.length;i--;)t(e[i],i)}(this._values,(function(e,i){t._values.pop(),t.events.isEnabled("removed")&&t.events.dispatchImmediately("removed",{type:"removed",target:t,index:i,oldValue:e})})),de(e,(function(e){t.insert(e)}))},e.prototype.clear=function(){this.setAll([])},e.prototype.slice=function(t,i){var r=new e;return r._values=this._values.slice(t,i),r},e.prototype.findClosestIndex=function(e,t,i){void 0===i&&(i="any");var r,n,a=-1,o=0;return Ke(this.iterator(),(function(s){var l=t(s);if("any"===i){if(l===e)return a=o,!1;var u=Math.abs(e-l);(!_(n)||n>u)&&(a=o,r=l,n=u)}else"left"===i&&l<e?(!_(r)||r<l)&&(a=o,r=l):"right"===i&&l>=e&&(!_(r)||r>=l)&&(a=o,r=l);return++o,!0})),-1===a&&("left"===i?a=0:"right"===i&&(a=this.length-1)),a},e.prototype.iterator=function(){return qe(this._values)},e.prototype[Symbol.iterator]=function(){var e,t;return c(this,(function(i){switch(i.label){case 0:e=this._values.length,t=0,i.label=1;case 1:return t<e?[4,this._values[t]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++t,[3,1];case 4:return[2]}}))},e.prototype.each=function(e){de(this._values,e)},e}(),yt=function(e){function t(t){var i=e.call(this)||this;return i._ordering=t,i}return s(t,e),t.prototype._insert=function(e){var t=Se(this._values,this._ordering,e).index;return be(this._values,t,e),t},t.prototype.indexOf=function(e){var t=Se(this._values,this._ordering,e),i=t.found,r=t.index;return i?r:-1},t.prototype.update=function(e){var t=ue(this._values,e);if(-1!==t){var i=this._values.length-1;(0===t||this._ordering(this._values[t-1],e)<0)&&(t===i||this._ordering(e,this._values[t+1])<0)||(xe(this._values,t),this._insert(e))}},t}(mt),gt=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return s(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;Xe(e.iterator(),(function(e){t.insert(e.clone())}))},t.prototype.slice=function(e,i){var r=new t(this.template);return r._values=this._values.slice(e,i),r},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},t}(mt),vt=function(e){function t(t,i){var r=e.call(this,i)||this;return r.template=t,r}return s(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;Xe(e.iterator(),(function(e){t.insert(e.clone())}))},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},t}(yt);function bt(e,t){return e===t?0:e<t?-1:1}function xt(e){switch(e){case 0:return 0;case-1:return 1;case 1:return-1}}function St(e,t){return 0===e?t:e}var Pt=new(function(){function e(){this._callbackId=0,this._callbacks=new yt((function(e,t){return St(bt(e.priority,t.priority),bt(e.id,t.id))}))}return e.prototype.addAll=function(e,t,i,r,n){void 0===r&&(r=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:i,priority:r,scope:n,type:e})},e.prototype.isEnabled=function(e,t){return ce(this._callbacks.values,(function(i){return i.key===t&&e instanceof i.type}))},e.prototype.applyAll=function(e,t,i){var r=this._callbacks.values,n=r.length;if(0==n)return i;for(var a=0;a<n;++a){var o=r[a];o.key===t&&e instanceof o.type&&(i=o.callback.call(o.scope,i,e,t))}return i},e}()),_t=function(){function e(e){this._callbackId=0,this._callbacks=new yt((function(e,t){return St(bt(e.priority,t.priority),bt(e.id,t.id))})),this._disabled={},this.object=e,this.events=this._callbacks.events}return e.prototype.add=function(e,t,i,r){void 0===i&&(i=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:t,priority:i,scope:r})},e.prototype.has=function(e,t,i,r){return void 0===i&&(i=0),et(this._callbacks.iterator(),(function(n){return n.key===e&&n.callback===t&&n.priority===i&&n.scope===r}))},e.prototype.remove=function(e,t){var i=this;de(Ye(this._callbacks.iterator()),(function(r){r.key!==e||T(t)&&t!==r.priority||i._callbacks.remove(r)}))},e.prototype.enableKey=function(e){delete this._disabled[e]},e.prototype.disableKey=function(e,t){void 0===t&&(t=1/0),this._disabled[e]=t},e.prototype._hasListenersByType=function(e){return ce(this._callbacks.values,(function(t){return t.key===e}))},e.prototype.isEnabled=function(e){return null==this._disabled[e]&&(this._hasListenersByType(e)||Pt.isEnabled(this.object,e))},e.prototype._shouldDispatch=function(e){var t=this._disabled[e];return!T(t)||(t<=1?delete this._disabled[e]:--this._disabled[e],!1)},e.prototype.apply=function(e,t){if(this._shouldDispatch(e)){var i=this._callbacks.values,r=i.length;if(r>0)for(var n=0;n<r;++n){var a=i[n];a.key===e&&(t=a.callback.call(a.scope,t,this.object,e))}return t=Pt.applyAll(this.object,e,t)}return t},e.prototype.keys=function(){return Ye(Qe(this._callbacks.iterator(),(function(e){return e.key})))},e.prototype.copyFrom=function(e){var t=this;Xe(e._callbacks.iterator(),(function(e){t.add(e.key,e.callback,e.priority,e.scope)})),ze(e._disabled,(function(e,i){t._disabled[e]=i}))},e.prototype.clear=function(){this._callbacks.clear()},e}(),Ct={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function wt(e,t){var i;return Ct[e]?i=Ct[e]:"#"===e.charAt(0)?i=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,r){return t+t+i+i+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,r,n){return t+t+i+i+r+r+n+n}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)/256}:void 0}(e)}(e):e.match(/^rgba?\(/)&&(i=function(e){var t=(e=e.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(!(t=e.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4])}}(e)),i||(i={r:0,g:0,b:0,a:1}),_(t)&&(i.a=t),i}function It(e){return 1==e.length?"0"+e:""+e}function At(e,t,i){return i=V(i,0,1),e?t?{r:e.r+Math.round((t.r-e.r)*i),g:e.g+Math.round((t.g-e.g)*i),b:e.b+Math.round((t.b-e.b)*i),a:(e.a||1)+Math.round(((t.a||1)-(e.a||1))*i)}:e:t||e}function Tt(e,t){var i=t>0?255-e:e;return Math.round(i*t)}function Ot(e){var t,i,r,n=e.h,a=e.s,o=e.l;if(0==a)t=i=r=o;else{var s=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},l=o<.5?o*(1+a):o+a-o*a,u=2*o-l;t=s(u,l,n+1/3),i=s(u,l,n),r=s(u,l,n-1/3)}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*r)}}function Dt(e){var t=e.r/255,i=e.g/255,r=e.b/255,n=Math.max(t,i,r),a=Math.min(t,i,r),o=0,s=0,l=(n+a)/2;if(n===a)o=s=0;else{var u=n-a;switch(s=l>.5?u/(2-n-a):u/(n+a),n){case t:o=(i-r)/u+(i<r?6:0);break;case i:o=(r-t)/u+2;break;case r:o=(t-i)/u+4}o/=6}return{h:o,s:s,l:l}}var kt=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return this._value?function(e){return"#"+It(e.r.toString(16))+It(e.g.toString(16))+It(e.b.toString(16))}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rgba",{get:function(){return this._value?function(e){return _(e.a)&&1!==e.a?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":"rgb("+e.r+","+e.g+","+e.b+")"}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(e){this._value&&(this._value.a=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new e({r:255,g:255,b:255})),this._lightColor},set:function(e){this._lightColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new e({r:0,g:0,b:0})),this._darkColor},set:function(e){this._darkColor=e},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},e.prototype.lighten=function(t){return new e(function(e,t){return e?{r:Math.max(0,Math.min(255,e.r+Tt(e.r,t))),g:Math.max(0,Math.min(255,e.g+Tt(e.g,t))),b:Math.max(0,Math.min(255,e.b+Tt(e.b,t))),a:e.a}:e}(this.rgb,t))},e.prototype.brighten=function(t){return new e(function(e,t){if(e){var i=Tt(Math.min(Math.max(e.r,e.g,e.b),230),t);return{r:Math.max(0,Math.min(255,Math.round(e.r+i))),g:Math.max(0,Math.min(255,Math.round(e.g+i))),b:Math.max(0,Math.min(255,Math.round(e.b+i))),a:e.a}}return e}(this.rgb,t))},e.prototype.saturate=function(t){return new e(function(e,t){if(null==e||1==t)return e;var i=Dt(e);return i.s=t,Ot(i)}(this.rgb,t))},Object.defineProperty(e.prototype,"alternative",{get:function(){if(null!=this.rgb)return function(e){return(299*e.r+587*e.g+114*e.b)/1e3>=128}(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),e}();function Ft(e,t){if(!_(e))return new kt(void 0);if("string"==typeof e){var i="_color_"+e+"_"+(t||"1"),r=lt.getCache(i);if(r)return new kt({r:r.r,g:r.g,b:r.b,a:r.a});var n=wt(e,t);return lt.setCache(i,n),new kt(n)}return e instanceof kt?(_(t)&&(e.alpha=t),e):new kt(e)}function Et(e){return _(e)&&!function(e){return e instanceof kt}(e)?function(e){return Ft(e)}(e):e}var Mt=function(){function e(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return e.prototype.debug=function(){},Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid||(this._uid=lt.getUniqueId(),lt.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this._map||(this._map=new at),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new at),this._delayedMap},enumerable:!0,configurable:!0}),e.prototype.addDelayedMap=function(e,t){var i=this.delayedMap;i.hasKey(t)||i.setKey(t,[]),i.getKey(t).push({property:e,target:this})},e.prototype.processDelayedMap=function(){var e=this;this.delayedMap.each((function(t,i){if(e.map.hasKey(t)){var r=e.map.getKey(t);de(i,(function(e){e.target[e.property]=r})),e.delayedMap.removeKey(t)}}))},e.prototype.applyTheme=function(){var e=this;if(lt){var t=this.getCurrentThemes();t&&de(t,(function(t,i){t(e)}))}},Object.defineProperty(e.prototype,"themes",{get:function(){return this._themes},set:function(e){this._themes=e},enumerable:!0,configurable:!0}),e.prototype.getCurrentThemes=function(){return this.themes||lt.themes},e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._disposers;for(this._disposers=null;0!==e.length;){e.shift().dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var t=this._uid;null!=t&&lt.map.removeKey(t)}},e.prototype.addDisposer=function(e){this._disposers.push(e)},e.prototype.removeDispose=function(e){if(!this._disposed){var t=ue(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()},e.prototype.clone=function(e){e||(e="clone-"+lt.getUniqueId());var t=new this.constructor;return t.cloneId=e,t.copyFrom(this),t},Object.defineProperty(e.prototype,"clones",{get:function(){return this._clones||(this._clones=new pt),this._clones},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){e.clones.push(this),this.clonedFrom=e},Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e},enumerable:!0,configurable:!0}),e.prototype.setCache=function(e,t,i){st.set(this.uid,e,t,i)},e.prototype.getCache=function(e,t){return void 0===t&&(t=void 0),st.get(this.uid,e,t)},e.prototype.clearCache=function(){st.clear(this.uid)},e.prototype.setTimeout=function(e,t){var i=this,r=setTimeout((function(){i.removeDispose(n),e()}),t),n=new Ce((function(){clearTimeout(r)}));return this._disposers.push(n),n},e.prototype.setInterval=function(e,t){var i=this,r=setInterval((function(){i.removeDispose(n),e()}),t),n=new Ce((function(){clearTimeout(r)}));return this._disposers.push(n),n},Object.defineProperty(e.prototype,"config",{set:function(e){try{this.processConfig(e)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(t){var i=this;if(t){var r=this;if(He(t,(function(t,n){var a,o=n;if("callback"==t&&"function"==typeof n&&n.call(r),i.hasProperty(t))if(!O(o)||!_(o.type)||O(r[t])&&_(r[t].className)&&!o.forceCreate&&r[t].className==o.type||i.asIs(t)?a=r[t]:(a=i.createClassInstance(o.type))?r[t]=a:a=r[t],a instanceof _t)i.processAdapters(a,o);else if(a instanceof Re)i.processEvents(a,o);else if("locale"==t&&A(o))window["am4lang_"+o]&&(r[t]=window["am4lang_"+o]);else if("parent"==t&&A(o)){var s=i.map.getKey(o);s?r[t]=s:i.addDelayedMap("parent",o)}else if(i.asIs(t))r[t]=o;else if(i.asFunction(t)&&A(o)){if(!_(lt.registeredClasses[o]))throw Error("Invalid easing function: "+o);r[t]=lt.registeredClasses[o]}else if(o instanceof e)r[t]=o;else if(a instanceof e)a.config=o;else if(a instanceof ft||a instanceof gt||a instanceof vt){if(D(o))a instanceof ft?i.processListTemplate(o,a):i.processOrderedTemplate(o,a);else if(O(o))if(o instanceof e)a.template=o;else{var l=void 0;l=_(o.template)?o.template:o,a.template instanceof e?a.template.config=l:ze(l,(function(t,r){var n=a.template[t];n instanceof _t?i.processAdapters(n,r):n instanceof Re?i.processEvents(n,r):n instanceof ot?i.processDictionaryTemplate(n,r):a.template[t]instanceof e?a.template[t].config=r:O(r)&&_(r.type)?(n=i.createClassInstance(r.type))?(n instanceof e&&(n.config=r),a.template[t]=n):a.template[t]=r:n instanceof pt?i.processList(r,n):a.template[t]=i.maybeColorOrPercent(r)})),_(o.values)&&(a instanceof ft?i.processListTemplate(o.values,a):i.processOrderedTemplate(o.values,a))}}else a instanceof pt?"children"==t?i.processList(o,a,i):i.processList(o,a):a instanceof ot?i.processDictionaryTemplate(a,o):a instanceof at?i.processDictionary(a,o):a instanceof kt||a instanceof f?r[t]=i.maybeColorOrPercent(o):O(a)&&O(o)?$e(o,a):(o=i.maybeColorOrPercent(o),r[t]=o);else i.isReserved(t)||(r[t]=o)}),this.configOrder),this.processingErrors.length){var n=this.processingErrors.join("\n");throw this._processingErrors=[],Error(n)}}},e.prototype.maybeColorOrPercent=function(e){if(A(e)){if(e.match(/^[\-]?[0-9.]+\%$/))return m(x(e));if(e.match(/^\#[0-9abcdef]{3,}$/i))return Ft(e)}return e},e.prototype.processAdapters=function(e,t){var i=this;D(t)?de(t,(function(t,r){e.add(t.key,t.callback,t.priority||0,i)})):O(t)&&ze(t,(function(t,i){e.has(t,i)||e.add(t,i)}))},e.prototype.processEvents=function(e,t){var i=this;O(t)?ze(t,(function(t,i){e.has(t,i)||e.on(t,i)})):D(t)&&de(t,(function(t,r){e.on(t.type,t.callback,i)}))},e.prototype.processDictionaryTemplate=function(t,i){O(i)&&ze(i,(function(i,r){var n;(n="template"==i?t.template:t.hasKey(i)?t.getKey(i):t.create(i))instanceof e?n.config=r:O(n)&&O(r)?$e(r,n):n.setKey(i,r)}))},e.prototype.processDictionary=function(e,t){O(t)&&ze(t,(function(t,i){e.setKey(t,i)}))},e.prototype.processListTemplate=function(t,i){var r=this;for(de(t,(function(t,n){var a,o=r.getConfigEntryType(t);if(i.hasIndex(n)&&!t.forceCreate)a=i.getIndex(n);else{if(t instanceof e)return void i.push(t);a=o?i.create(o):i.create()}t===a||O(t)&&(a instanceof e?a.config=t:O(a)&&O(t)?$e(t,a):i.setIndex(i.indexOf(a),t))}));t.length>i.length;)i.pop()},e.prototype.processOrderedTemplate=function(t,i){var r=this;de(t,(function(t,n){var a,o=r.getConfigEntryType(t);a=o?i.create(o):i.create(),O(t)&&(a instanceof e?a.config=t:O(a)&&O(t)?$e(t,a):i.insert(t))}))},e.prototype.processList=function(t,i,r){var n=this;D(t)||(t=[t]);var a=i.length;for(de(t,(function(t,o){if(O(t)){var s=void 0;if(o<a&&!t.forceCreate)s=i.getIndex(o);else{if(t instanceof e)return void i.push(t);s=n.createEntryInstance(t),r?s.parent=r:i.push(s)}s instanceof e?s.config=t:O(s)&&O(t)&&$e(t,s)}else i.hasIndex(o)?i.setIndex(o,t):i.push(t)}));t.length>i.length;)i.pop()},e.prototype.configOrder=function(e,t){return e==t?0:"language"==e?-1:"language"==t?1:0},e.prototype.asIs=function(e){return-1!=ue(["locale"],e)},e.prototype.asFunction=function(e){return!1},e.prototype.createClassInstance=function(e){if(_(lt.registeredClasses[e]))return new lt.registeredClasses[e];throw Error('Invalid type: "'+e+'".')},e.prototype.createEntryInstance=function(e){var t;return _(e.type)&&(t=this.createClassInstance(e.type)),t||e},e.prototype.getConfigEntryType=function(e){if(_(e.type)){if(_(lt.registeredClasses[e.type]))return lt.registeredClasses[e.type];throw Error('Invalid type: "'+e.type+'".')}},e.prototype.hasProperty=function(e){return e in this},e.prototype.isReserved=function(e){return-1!==["type","forceCreate"].indexOf(e)},Object.defineProperty(e.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),e}(),jt=function(e){function t(){var t=e.call(this)||this;return t.className="BaseObjectEvents",t}return s(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new Re,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(e,t){this._eventDispatcher&&this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},t.prototype.dispatchImmediately=function(e,t){this._eventDispatcher&&this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatchImmediately(e,t)):this.events.dispatchImmediately(e,{type:e,target:this}))},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t._eventDispatcher&&this.events.copyFrom(t._eventDispatcher)},t}(Mt);function Lt(e,t){return ze(e,(function(e,i){_(i)&&(t[e]=i)})),t}function Rt(e){return/^[^#]*/.exec(e)[0]}function Vt(){var e="#";if(/apple/i.test(navigator.vendor)){var t=document.baseURI;if(t){t=Rt(t);var i=Rt(location.href);t!==i&&(e=i+e)}}return e}function Bt(e){return _(e)&&""!==e.toString()}function Nt(e,t){return T(e)?e:null!=e&&T(e.value)&&T(t)?t*e.value:0}function Wt(e,t,i){var r;return T(e)?(r=e)<0&&(r=i?t+r:t-r):null!=e&&T(e.value)&&(r=t*e.value),r}function zt(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}function Ht(e){return JSON.stringify(e)}function Gt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Ut(e,t,i,r){if(e.length<=t)return[e];var n=[];if(i){for(var a=-1,o=e.replace(/([,;:!?\\\/\.]+|[\s])/g,"____$1____").split("____"),s=1;s<o.length;s++){"."!=(l=o[s])&&","!=l||!o[s-1].match(/[\w]+$/)||(o[s-1]+=l,o[s]="")}for(s=0;s<o.length;s++){var l,u=(l=o[s]).length;if(0!==u){if(u>t){if(r&&(l=Kt(l)),h=l.match(new RegExp(".{1,"+t+"}","g"))){if(r)for(var c=0;c<h.length;c++)h[c]=Kt(h[c]);n=n.concat(h)}}else-1===a&&(n.push(""),a=0),n[a].length+u+1>t&&""!==n[a]&&(n.push(""),a++),n[a]+=l;a=n.length-1}}}else{var h;if(h=e.match(new RegExp(".{1,"+t+"}","g"))){if(r)for(c=0;c<h.length;c++)h[c]=Kt(h[c]);n=h}}return 1==n.length&&i&&n[0].length>t&&(n=[]),n}function $t(e,t,i,r,n){return e.length<=t?e:((t-=i.length)<1&&(t=1),(Ut(e,t,r,n)[0]||"")+i)}function qt(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Yt(e){return e.replace(/[\s\uFEFF\xA0]+$/g,"")}function Kt(e){return e.split("").reverse().join("")}function Xt(e,t,i){return void 0===t&&(t=0),void 0===i&&(i="0"),"string"!=typeof e&&(e=e.toString()),t>e.length?Array(t-e.length+1).join(i)+e:e}function Jt(e){return e.replace(/\/(date|number|duration)$/i,"")}function Qt(e){return e?e.replace(/<[^>]*>/g,""):e}function Zt(e){return e?Qt((""+e).replace(/[\n\r]+/g,". ")):e}function ei(e){if(I(e))return new Date(e);if(T(e))return new Date(e);var t=Number(e);return T(t)?new Date(t):new Date(e)}function ti(e){if(I(e))return e.getTime();if(T(e))return e;if(A(e)){var t=Number(e);return T(t)?t:void 0}}function ii(e,t){var i=new Date(e.getFullYear(),0,0),r=e.getTime()-i.getTime()+60*(i.getTimezoneOffset()-e.getTimezoneOffset())*1e3;return Math.floor(r/864e5)}function ri(e,t){var i=ii(e)-1,r=Math.floor((i-(e.getDay()||7)+10)/7);return 0===r?r=53:53===r&&(r=1),r}function ni(e,t){var i=ri(new Date(e.getFullYear(),e.getMonth(),1)),r=ri(e);return 1==r&&(r=53),r-i+1}function ai(e,t){return e>12?e-=12:0===e&&(e=12),_(t)?e+(t-1):e}function oi(e,t,i,r){if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),r)return t?"Coordinated Universal Time":"UTC";var n=e.toLocaleString("UTC"),a=e.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(n.length);return!1===i&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function si(e,t,i){return e>i?i:e<t?t:e}function li(e,t,i){var r=i-t;return(e>i||e<t)&&(e=t+(e-r*Math.floor(e/r))),e}function ui(e,t){var i=e.x,r=e.y,n=[];if(t){for(;_(t.parent);)n.push(t),t=t.parent;n.reverse();for(var a=0;a<n.length;a++){var o=n[a],s=o.rotation,l=i-o.pixelX-o.ex,u=r-o.pixelY-o.ey;o.dx&&(i-=o.dx),o.dy&&(r-=o.dy);var c=o.scale;o.group&&(c=o.group.scale),i=(W(-s)*l-B(-s)*u)/c-o.pixelPaddingLeft,r=(W(-s)*u+B(-s)*l)/c-o.pixelPaddingTop}}return{x:i,y:r}}function ci(e,t){var i=e.x,r=e.y;if(t)for(;_(t.parent);){var n=t.rotation;i+=t.pixelPaddingLeft+t.ex,r+=t.pixelPaddingTop+t.ey;var a=t.scale;t.group&&(a=t.group.scale);var o=t.pixelX+(i*W(n)-r*B(n))*a,s=t.pixelY+(i*B(n)+r*W(n))*a;t.dx&&(o+=t.dx),t.dy&&(s+=t.dy),i=o,r=s,t=t.parent}return{x:i,y:r}}function hi(e,t,i){return ui(ci(e,t),i)}function di(e,t){var i=ci(e,t),r=ci({x:e.x+e.width,y:e.y+e.height},t);return{x:i.x,y:i.y,width:r.x-i.x,height:r.y-i.y}}function pi(e,t,i){try{var r=t.getBoundingClientRect();return T(i)||(i=1),{x:(e.x-r.left)/i,y:(e.y-r.top)/i}}catch(t){return e}}function fi(e,t){try{var i=t.getBoundingClientRect();return{x:e.x+i.left,y:e.y+i.top}}catch(t){return e}}function mi(e,t){return t&&t.htmlContainer?ui(pi(e,C(t.htmlContainer),t.svgContainer.cssScale),t):e}function yi(e,t){return t&&t.htmlContainer?fi(ci(e,t),C(t.htmlContainer)):e}var gi=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function vi(e){var t=gi.exec(e);return{protocol:t&&t[1]||"",separator:t&&t[2]||"",authority:t&&t[3]||"",domain:t&&t[4]||"",port:t&&t[5]||"",path:t&&t[6]||"",query:t&&t[7]||"",hash:t&&t[8]||""}}function bi(e){return e.protocol+e.separator+e.authority+e.domain+e.port+e.path+e.query+e.hash}function xi(e){return""===e.protocol&&""===e.separator&&""===e.authority&&""===e.domain&&""===e.port}function Si(e,t){var i=vi(e),r=vi(t);if(xi(i))throw new Error("Left URL is not absolute");if(xi(r)){if(""!==r.path)if("/"===r.path[0])i.path=r.path;else{var n=i.path.split(/\//),a=r.path.split(/\//);if(0===n.length?0!==a.length&&n.push(""):n.length>1&&n.pop(),function(e,t){for(var i=t.length,r=0;r<i;++r)e.push(t[r])}(n,a),i.path=n.join("/"),""!==i.path&&"/"!==i.path[0])throw new Error("URL path must start with /")}return i.query=r.query,i.hash=r.hash,bi(i)}return bi(r)}function Pi(){return!!window.MSInputMethodContext&&!!document.documentMode}function _i(e){return+e}function Ci(e,t){return Math.pow(e,t)}function wi(e,t){return 1-Math.pow(1-e,t)}function Ii(e,t){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}function Ai(e){return wi(e,3)}function Ti(e){return Math.sin(e*F)}function Oi(e){return e*e*e}function Di(e){return--e*e*e+1}lt.registeredClasses["ease.linear"]=_i,lt.registeredClasses["ease.quadIn"]=function(e){return e*e},lt.registeredClasses["ease.quadOut"]=function(e){return e*(2-e)},lt.registeredClasses["ease.quadInOut"]=function(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2},lt.registeredClasses["ease.polyIn"]=Ci,lt.registeredClasses["ease.polyOut"]=wi,lt.registeredClasses["ease.polyInOut"]=Ii,lt.registeredClasses["ease.polyIn3"]=function(e){return Ci(e,3)},lt.registeredClasses["ease.polyOut3"]=Ai,lt.registeredClasses["ease.polyInOut3"]=function(e){return Ii(e,3)},lt.registeredClasses["ease.expIn"]=function(e){return Math.pow(2,10*e-10)},lt.registeredClasses["ease.expOut"]=function(e){return 1-Math.pow(2,-10*e)},lt.registeredClasses["ease.expInOut"]=function(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2},lt.registeredClasses["ease.sinIn"]=function(e){return 1-Math.cos(e*F)},lt.registeredClasses["ease.sinOut"]=Ti,lt.registeredClasses["ease.sinInOut"]=function(e){return(1-Math.cos(k*e))/2},lt.registeredClasses["ease.cubicIn"]=Oi,lt.registeredClasses["ease.cubicOut"]=Di,lt.registeredClasses["ease.cubicInOut"]=function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2},lt.registeredClasses["ease.circleIn"]=function(e){return 1-Math.sqrt(1-e*e)},lt.registeredClasses["ease.circleOut"]=function(e){return Math.sqrt(1- --e*e)},lt.registeredClasses["ease.circleInOut"]=function(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2};var ki=7.5625;function Fi(e){return(e=+e)<4/11?ki*e*e:e<8/11?ki*(e-=6/11)*e+3/4:e<10/11?ki*(e-=9/11)*e+15/16:ki*(e-=21/22)*e+63/64}lt.registeredClasses["ease.bounceIn"]=function(e){return 1-Fi(1-e)},lt.registeredClasses["ease.bounceOut"]=Fi,lt.registeredClasses["ease.bounceInOut"]=function(e){return((e*=2)<=1?1-Fi(1-e):Fi(e-1)+1)/2};var Ei=2*Math.PI,Mi=.3/Ei,ji=Math.asin(1)*Mi;lt.registeredClasses["ease.elasticIn"]=function(e){return 1*Math.pow(2,10*--e)*Math.sin((ji-e)/Mi)},lt.registeredClasses["ease.elasticOut"]=function(e){return 1-1*Math.pow(2,-10*(e=+e))*Math.sin((e+ji)/Mi)},lt.registeredClasses["ease.elasticInOut"]=function(e){return((e=2*e-1)<0?1*Math.pow(2,10*e)*Math.sin((ji-e)/Mi):2-1*Math.pow(2,-10*e)*Math.sin((ji+e)/Mi))/2};var Li=function(e){function t(){var t=e.call(this)||this;return t.transitionDuration=0,t.transitionEasing=Di,t.properties={},t.propertyFields={},t.filters=new pt,t.isTemplate=!1,t.className="SpriteState",t._disposers.push(new ht(t.filters)),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new _t(this),this._adapterO.events.on("inserted",(function(t){e[t.newValue.key]=e[t.newValue.key]}),void 0,!1),this._adapterO.events.on("removed",(function(t){e[t.newValue.key]=e[t.newValue.key]}),void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.getPropertyValue=function(e){var t=this.properties[e],i=this.sprite;if(i){var r=this.propertyFields[e];if(_(r)&&(i.dataItem&&(t=i.dataItem.dataContext[r]),null==t&&(t="__unset")),_(t))this._adapterO&&(t=this._adapterO.apply(e,t));else{var n=i.getPropertyValue(e);(t=this._adapterO?this._adapterO.apply(e,n):n)==n&&(t=void 0)}}return t},t.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,Lt(e.properties,this.properties),Lt(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO))},Object.defineProperty(t.prototype,"allValues",{get:function(){var e=this,t={};(ze(this.properties,(function(i,r){t[i]=e.getPropertyValue(i)})),this._adapterO)&&ze(this._adapterO.keys(),(function(i,r){var n=e.getPropertyValue(r);t[r]=n}));return ze(this.propertyFields,(function(i){var r=e.getPropertyValue(i);t[i]=r})),t},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.properties={},this.filters.clear()},t.prototype.processConfig=function(t){_(t)&&_(t.properties)&&ze(t.properties,(function(e,i){A(i)&&(i.match(/^[0-9.\-]+\%$/)?t.properties[e]=m(x(i)):i.match(/^\#[0-9abcdef]{3,}$/i)&&(t.properties[e]=Et(i)))})),e.prototype.processConfig.call(this,t)},t.prototype.asFunction=function(t){return"transitionEasing"==t||e.prototype.asIs.call(this,t)},t}(Mt);lt.registeredClasses.SpriteState=Li;var Ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._interactionEvents=new at,t}return s(t,e),t.prototype._dispatchSpriteEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=Ge(e,{target:this.target});this.target.events.dispatchImmediately(t.type,t)}},t.prototype._dispatchSpritePointEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=Ge(e,{target:this.target,spritePoint:e.point?mi(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(t.type,t)}},t.prototype._addInteractionObjectEvent=function(e,t,i,r){var n=this,a=r+"-"+e;return this._interactionEvents.insertKeyIfEmpty(a,(function(){var o=n.target.interactions.events.on(e,t,i,r);return new Ae((function(){n._interactionEvents.removeKey(a),o.dispose()}))})).increment()},t.prototype._on=function(t,i,r,n,a,o){var s=e.prototype._on.call(this,t,i,r,n,a,o),l=[s.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":l.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,a));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":l.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,a))}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0}return s.disposer=new we(l),s},t}(Ve),Vi=function(){function e(){}return e.opacity=1,e.strokeOpacity=1,e.strokeWidth=1,e.fillOpacity=1,e.fill=Ft("#000000"),e.stroke=Ft("#000000"),e.focusable=void 0,e.tabindex=0,e}(),Bi={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function Ni(e,t,i){return t+(i-t)*e}function Wi(e,t,i){return new f(Ni(e,t.percent,i.percent))}function zi(e,t,i){var r=new kt(At(t.rgb,i.rgb,e));return t.alpha!=i.alpha&&(r.alpha=t.alpha+(i.alpha-t.alpha)*e),r}function Hi(e,t){return t+e.charAt(0).toUpperCase()+e.substr(1)}var Gi,Ui=function(){function e(e){this._disposer=new Ce((function(){for(;0!==e.length;)e[0].dispose()}))}return e.prototype.isDisposed=function(){return this._disposer.isDisposed()},e.prototype.dispose=function(){this._disposer.dispose()},e}(),$i=function(e){function t(t,i,r,n){var a=e.call(this)||this;return a.duration=0,a.easing=_i,a.progress=0,a._loop=0,a._pause=!1,a._delayTimeout=null,a._time=0,a._isFinished=!1,a.className="Animation",a.object=t,a.animationOptions=ge(i),a.duration=r,n&&(a.easing=n),a.applyTheme(),a}return s(t,e),t.prototype.debug=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.pause()},t.prototype.delay=function(e){var t=this;if(e>0){this.pause(),me(this.object.animations,this);var i=setTimeout((function(){t._delayTimeout=null,t.start()}),e);this._delayTimeout=new Ce((function(){clearTimeout(i)}))}return this},t.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,me(vn.animations,this),me(this.object.animations,this),vn.requestFrame()},t.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var t=this.animationOptions[e];if(_(t.from)||(t.childObject?t.from=t.childObject[t.property]:(t.from=this.object[t.property],_(t.from)||(t.from=Vi[t.property]))),t.from==t.to)fe(this.animationOptions,t);else if(!_(t.from)||!(t.from instanceof f)&&t.to instanceof f||t.from instanceof f&&!(t.to instanceof f))this.staticOptions.push(t),fe(this.animationOptions,t);else if(T(t.to))if(t.updateMethod=Ni,t.from instanceof f){var i=this.object[Hi(t.property,"pixel")];isNaN(i)?(this.staticOptions.push(t),fe(this.animationOptions,t)):t.from=i}else isNaN(t.from)&&(this.staticOptions.push(t),fe(this.animationOptions,t));else if(t.to instanceof kt)t.from?t.updateMethod=zi:(this.staticOptions.push(t),fe(this.animationOptions,t));else if(t.to instanceof f){if(t.updateMethod=Wi,!isNaN(t.from)){i=this.object[Hi(t.property,"relative")];isNaN(i)||(t.from=m(100*i))}}else this.staticOptions.push(t),fe(this.animationOptions,t)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var r={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",r)}return this.update(),0===this.duration&&this.end(),this},t.prototype.loop=function(e){return T(e)||(e=1/0),this._loop=e,this},t.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),fe(vn.animations,this),fe(this.object.animations,this),this},t.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},t.prototype.end=function(){if(0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var e={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",e)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},t.prototype.kill=function(){this.pause(),this._isFinished=!0},t.prototype.isFinished=function(){return this._isFinished},t.prototype.applyStaticOptions=function(){var e=this;de(this.staticOptions,(function(t){t.childObject?t.childObject[t.property]=1==e.progress?t.to:t.from:e.object[t.property]=1==e.progress?t.to:t.from}))},t.prototype.stop=function(e){if(this.pause(),!e&&this.events.isEnabled("animationstopped")){var t={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",t)}return this},t.prototype.setProgress=function(e){var t=this;if(this._time=this.duration*e,de(this.animationOptions,(function(i){if(i.updateMethod&&_(i.from)){var r=i.updateMethod(e,i.from,i.to);i.childObject?i.childObject[i.property]=r:t.object[i.property]=r}})),this.progress=e,this.events.isEnabled("animationprogress")){var i={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",i)}vn.requestFrame()},t.prototype.update=function(){if(!this._pause){var e=void 0;this._time=V(Date.now()-this._startTime,0,this.duration);var t=this._time/this.duration;e=this.easing(t),(0==this.duration||!T(e)||t>=1)&&(e=1),this.setProgress(e),1==L(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(t.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),t.prototype.stopSameAnimations=function(){var e=this;de(ve(this.object.animations),(function(t){if(t!==e&&!t.delayed){var i=[];de(e.animationOptions,(function(e){de(t.animationOptions,(function(r){e.property==r.property&&e.childObject==r.childObject&&(i.push(r),0==t.animationOptions.length&&t.kill())}))})),de(i,(function(e){fe(t.animationOptions,e)}))}}))},t.prototype.asFunction=function(t){return"easing"==t||e.prototype.asIs.call(this,t)},t}(jt),qi="http://www.w3.org/2000/svg",Yi="http://www.w3.org/2000/xmlns/",Ki="http://www.w3.org/1999/xlink";function Xi(e,t,i,r){return e.addEventListener(t,i,r||!1),new Ce((function(){e.removeEventListener(t,i,r||!1)}))}function Ji(e){if(A(e)){var t=document.getElementById(e);if(null==t&&(t=document.getElementsByClassName(e)[0]),t instanceof HTMLElement)return t}else if(e instanceof HTMLElement)return e}function Qi(e,t){if(e)if(e.classList)e.classList.add(t);else{var i=e.getAttribute("class");i?e.setAttribute("class",i.split(" ").filter((function(e){return e!==t})).join(" ")+" "+t):e.setAttribute("class",t)}}function Zi(e,t){if(e)if(e.classList)e.classList.remove(t);else{var i=e.getAttribute("class");i&&e.setAttribute("class",i.split(" ").filter((function(e){return e!==t})).join(" "))}}function er(e,t,i){e.style[t]=i}function tr(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function ir(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var e=document.createElement("button");e.style.position="fixed",e.style.top="0px",e.style.left="-10000px",document.body.appendChild(e),e.focus(),e.blur(),document.body.removeChild(e)}}function rr(e,t){for(var i=t;;){if(e===i)return!0;if(null==i.parentNode){if(null==i.host)return!1;i=i.host}else i=i.parentNode}}function nr(e){for(var t=e;;){if(null==t.parentNode)return null!=t.host?t:null;t=t.parentNode}}function ar(e){for(var t=e.ownerDocument,i=e;;){if(null==i.parentNode)return i===t||null!=i.host?i:null;i=i.parentNode}}function or(e){var t;t=function(){try{var t=e.getBoundingClientRect(),i=t.left-Math.round(t.left),r=t.top-Math.round(t.top);0!==i&&Le((function(){e.style.left=i+"px"})),0!==r&&Le((function(){e.style.top=r+"px"}))}catch(e){}},De.push(t),je()}var sr=function(e){function t(t,i,r){var n=this,a=function(e){if(null==e){if(!_(Gi))(t=document.createElement("style")).type="text/css",document.head.appendChild(t),Gi=t.sheet;return Gi}var t;return(t=document.createElement("style")).type="text/css",e.appendChild(t),t.sheet}(t);return(n=e.call(this,(function(){var e=ue(a.cssRules,n._rule);if(-1===e)throw new Error("Could not dispose StyleRule");a.deleteRule(e)}))||this)._rule=function(e,t){var i=e.cssRules.length;return e.insertRule(t+"{}",i),e.cssRules[i]}(a,i),ze(r,(function(e,t){n.setStyle(e,t)})),n}return s(t,e),Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,t){var i=this._rule.style;i.setProperty("-webkit-"+e,t,""),i.setProperty("-moz-"+e,t,""),i.setProperty("-ms-"+e,t,""),i.setProperty("-o-"+e,t,""),i.setProperty(e,t,"")},t.prototype.setStyle=function(e,t){"transition"===e?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")},t}(Ce),lr=0;!function(e){function t(t,i,r){var n=this,a=_(r)?r:"__style_"+ ++lr+"__";return(n=e.call(this,t,"."+a,i)||this)._className=a,n}s(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className}}(sr);function ur(e){var t=tr(e,"font-family");if(t)return t;var i=e.parentElement||e.parentNode;return i?ur(i):void 0}function cr(e){var t=tr(e,"font-size");if(t)return t;var i=e.parentElement||e.parentNode;return i?cr(i):void 0}var hr=function(){function e(e){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof e?document.createElementNS(qi,e):e}return e.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(e.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),e.prototype.transform=function(){var e="translate("+this._x+","+this._y+")";if(1!=this._scale&&(e+=(e?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var t="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(t="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),e+=(e?" ":"")+t}this._transformString=e,this.node.setAttribute("transform",e)},e.prototype.getBBox=function(){var e={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var t=this.node.getBBox();e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height}catch(e){}return e},e.prototype.moveTo=function(e){if(e){var t=e.x,i=e.y;this._x==t&&this._y==i||(this._x=t,this._y=i,this.transform())}},Object.defineProperty(e.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(e){this.node.textContent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!=e&&(this._x=e,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!=e&&(this._y=e,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!=e&&(this._rotation=e,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this._rotationX},set:function(e){this._rotationX!=e&&(this._rotationX=e,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this._rotationY},set:function(e){this._rotationY!=e&&(this._rotationY=e,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale!=e&&(this._scale=e,this.transform())},enumerable:!0,configurable:!0}),e.prototype.removeAttr=function(e){this.node.removeAttribute(e)},e.prototype.attr=function(e){var t=this;return ze(e,(function(e,i){_(i)?t.node.setAttribute(e,i):t.node.removeAttribute(e)})),this},e.prototype.getAttr=function(e){return this.node.getAttribute(e)},e.prototype.attrNS=function(e,t,i){return this.node.setAttributeNS(e,t,i),this},e.prototype.getAttrNS=function(e,t){return this.node.getAttributeNS(e,t)},e.prototype.removeStyle=function(e){this.node.style[e]=null,delete this.node.style[e]},e.prototype.getStyle=function(e){return this.node.style[e]},e.prototype.addStyle=function(e){var t=this;return ze(e,(function(e,i){_(i)?t.node.style[e]=i:t.removeStyle(e)})),this},e.prototype.addClass=function(e){Qi(this.node,e)},e.prototype.removeClass=function(e){Zi(this.node,e)},e.prototype.setClass=function(e){this.node.setAttribute("class",e)},e.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.dispose=function(){this.removeNode()},e}(),dr=function(e){function t(t){return e.call(this,t)||this}return s(t,e),t.prototype.add=function(e){e&&this.node.appendChild(e.node)},t.prototype.addToBack=function(e){if(e){var t=this.node.childNodes[0];t?t!=e.node&&this.node.insertBefore(e.node,t):this.node.appendChild(e.node)}},t.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch(e){}},t.prototype.hasChild=function(e){for(var t=0;t<this.node.childNodes.length;t++)if(this.node.childNodes[t]==e.node)return!0;return!1},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),t.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},t}(hr),pr=function(e){function t(){var t=e.call(this)||this;return t._purposes={stroke:Ft("#e5e5e5"),fill:Ft("#f3f3f3"),primaryButton:Ft("#6794dc"),primaryButtonHover:Ft("#6771dc"),primaryButtonDown:Ft("#68dc75"),primaryButtonActive:Ft("#68dc75"),primaryButtonText:Ft("#FFFFFF"),primaryButtonStroke:Ft("#FFFFFF"),secondaryButton:Ft("#d9d9d9"),secondaryButtonHover:Ft("#d9d9d9").brighten(-.25),secondaryButtonDown:Ft("#d9d9d9").brighten(-.35),secondaryButtonActive:Ft("#d9d9d9").brighten(.35),secondaryButtonText:Ft("#000000"),secondaryButtonStroke:Ft("#FFFFFF"),grid:Ft("#000000"),background:Ft("#ffffff"),alternativeBackground:Ft("#000000"),text:Ft("#000000"),alternativeText:Ft("#FFFFFF"),disabledBackground:Ft("#999999"),positive:Ft("#67dc75"),negative:Ft("#dc6788")},t.className="InterfaceColorSet",t.applyTheme(),t}return s(t,e),t.prototype.debug=function(){},t.prototype.getFor=function(e){return this._purposes[e]},t.prototype.setFor=function(e,t){this._purposes[e]=t},t}(Mt);lt.registeredClasses.InterfaceColorSet=pr;var fr=new at;var mr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._domEvents={},t}return s(t,e),t.prototype._addDOMEvent=function(e,t,i,r){var n=this;if(!this._domEvents[e]){var a=function(e){i.call(r,t,e)};this.target.element.addEventListener(e,a,!1),this._domEvents[e]=new Ae((function(){delete n._domEvents[e],n.target.element.removeEventListener(e,a,!1)}))}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,t){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:t})},t.prototype._on=function(t,i,r,n,a,o){var s=e.prototype._on.call(this,t,i,r,n,a,o),l=[s.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this))}return s.disposer=new we(l),s},t}(Ve),yr=function(e){function t(t){var i=e.call(this)||this;return i._eventDispatcher=new mr(i),i.eventDisposers=new at,i.replacedStyles=new at,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new at,i.inertias=new at,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=t,i.className="InteractionObject",i._disposers.push(new nt(i.inertias)),i._disposers.push(new nt(i.eventDisposers)),i.applyTheme(),i}return s(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?kr().overObjects.moveValue(this):(this.isRealHover=!1,kr().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new pt),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?kr().downObjects.moveValue(this):kr().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new pt),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,kr().focusedObject=e?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?kr().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&kr().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,kr().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,kr().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,kr().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,kr().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,kr().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,kr().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,kr().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,kr().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&-1==this.tabindex&&(this._tabindex=1),kr().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return w(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),kr().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return w(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return w(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.inertiaOptions=t.inertiaOptions,this.hitOptions=t.hitOptions,this.hoverOptions=t.hoverOptions,this.swipeOptions=t.swipeOptions,this.keyboardOptions=t.keyboardOptions,this.cursorOptions=t.cursorOptions,this.contextMenuDisabled=t.contextMenuDisabled,kr().applyCursorOverStyle(this)},t.prototype.setEventDisposer=function(e,t,i){var r=this.eventDisposers.getKey(e);t?null==r&&this.eventDisposers.setKey(e,i()):null!=r&&(r.dispose(),this.eventDisposers.removeKey(e))},t.prototype.dispose=function(){e.prototype.dispose.call(this);var t=kr();t.overObjects.removeValue(this),t.downObjects.removeValue(this),t.trackedObjects.removeValue(this),t.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&t.unlockWheel(),t.focusedObject===this&&(t.focusedObject=void 0)},t}(jt),gr=function(){function e(e,t){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=e,this.keyboardEvent=t,this._startedOn=(new Date).getTime(),kr().processDragStart(e),vn.animations.push(this),this.update()}return e.prototype.update=function(){var e=this.interaction,t=kr().getKeyboardOption(e,"speed"),i=kr().getKeyboardOption(e,"accelleration"),r=kr().getKeyboardOption(e,"accellerationDelay"),n={x:0,y:0};this.keyboardEvent.shiftKey?(t*=.5,i=1):this.keyboardEvent.ctrlKey&&(t*=2);var a=(new Date).getTime()-this._startedOn,o=a-r;if(i>0&&o>0){var s=a/r;a=r,n.x+=this.directionX*(t*i*s*o),n.y+=this.directionY*(t*i*s*o)}n.x+=this.directionX*(t*a),n.y+=this.directionY*(t*a),kr().handleTransformMove(e,n,{x:0,y:0},this.keyboardEvent,!0,!1)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(kr().processDragStop(this.interaction),fe(vn.animations,this))},e}(),vr=function(e){function t(t,i,r,n){var a=e.call(this)||this;return a.animations=[],a.className="Inertia",a.interaction=t,a.type=i,a.point=r,a.startPoint=n,a._disposers.push(new Ui(a.animations)),a}return s(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},set:function(e){T(e)&&(this.point.x=e,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},set:function(e){T(e)&&(this.point.y=e,this.handleMove())},enumerable:!0,configurable:!0}),t.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var e={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",e)}},t.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&kr().processDragStop(this.interaction),this.dispose()},t}(Mt),br=new(function(){function e(){}return e.prototype.getEventKey=function(e){var t;switch(e.keyCode||e.which){case 38:t="up";break;case 40:t="down";break;case 37:t="left";break;case 39:t="right";break;case 13:t="enter";break;case 27:t="esc";break;case 36:t="home";break;case 35:t="end";break;case 9:t="tab";break;case 17:t="ctrl";break;case 18:t="alt";break;case 16:t="shift";break;case 32:t="space";break;case 36:t="home";break;case 35:t="end";break;case 33:t="pgup";break;case 34:t="pgdn";break;case 45:t="ins";break;case 46:t="del";break;case 107:t="plus";break;case 109:t="minus";break;default:t="other"}return t},e.prototype.isKey=function(e,t){var i=this.getEventKey(e);return A(t)&&(t=[t]),-1!==t.indexOf(i)},e.prototype.shiftKey=function(e){return e.shiftKey},e.prototype.ctrlKey=function(e){return e.ctrlKey},e.prototype.altKey=function(e){return e.altKey},e.prototype.metaKey=function(e){return e.metaKey},e}()),xr={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function Sr(e){switch(e){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Pr(e,t){return _(t)||(t=1),xr[e]*t}function _r(){return(new Date).getTime()}function Cr(e){return new Date(e.getTime())}function wr(e,t,i,r){e=new Date(e.getTime()),t=new Date(t.getTime());var n=0,a=0;r||"millisecond"==i||(n=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-n),a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a));var o=!1;switch(i){case"year":e.getUTCFullYear()!=t.getUTCFullYear()&&(o=!0);break;case"month":(e.getUTCFullYear()!=t.getUTCFullYear()||e.getUTCMonth()!=t.getUTCMonth())&&(o=!0);break;case"day":(e.getUTCMonth()!=t.getUTCMonth()||e.getUTCDate()!=t.getUTCDate())&&(o=!0);break;case"hour":e.getUTCHours()!=t.getUTCHours()&&(o=!0);break;case"minute":e.getUTCMinutes()!=t.getUTCMinutes()&&(o=!0);break;case"second":e.getUTCSeconds()!=t.getUTCSeconds()&&(o=!0);break;case"millisecond":e.getTime()!=t.getTime()&&(o=!0)}if(o)return!0;var s=Sr(i);return!!s&&(e.setUTCMinutes(e.getUTCMinutes()+n),t.setUTCMinutes(t.getUTCMinutes()+a),wr(e,t,s,r))}function Ir(e,t,i,r){var n=0;switch(r||"millisecond"==t||(n=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-n)),t){case"day":var a=e.getUTCDate();e.setUTCDate(a+i);break;case"second":var o=e.getUTCSeconds();e.setUTCSeconds(o+i);break;case"millisecond":var s=e.getUTCMilliseconds();e.setUTCMilliseconds(s+i);break;case"hour":var l=e.getUTCHours();e.setUTCHours(l+i);break;case"minute":var u=e.getUTCMinutes();e.setUTCMinutes(u+i);break;case"year":var c=e.getUTCFullYear();e.setUTCFullYear(c+i);break;case"month":var h=e.getUTCMonth();e.setUTCMonth(h+i);break;case"week":var d=e.getUTCDate();e.setUTCDate(d+7*i)}if(!r&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+n),"day"==t||"week"==t||"month"==t||"year"==t)){var p=e.getTimezoneOffset();if(p!=n){var f=p-n;e.setUTCMinutes(e.getUTCMinutes()+f),e.getTimezoneOffset()!=p&&e.setUTCMinutes(e.getUTCMinutes()-f)}}return e}function Ar(e,t,i,r,n,a,o,s){void 0===o&&(o=0),T(i)||(i=1);var l=0;switch(s&&-1!=["day","month","week","year"].indexOf(t)&&(e=Tr(e,s)),n||"millisecond"==t||(l=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-l)),t){case"day":var u=e.getUTCDate();if(i>1){if(a){a=Ar(a,"day",1);var c=e.getTime()-a.getTime(),h=Math.floor(c/Pr("day")/i),d=Pr("day",h*i);e.setTime(a.getTime()+d-l*Pr("minute"))}}else e.setUTCDate(u);e.setUTCHours(0,0,0,0);break;case"second":var p=e.getUTCSeconds();i>1&&(p=Math.floor(p/i)*i),e.setUTCSeconds(p,0);break;case"millisecond":if(1==i)return e;var f=e.getUTCMilliseconds();f=Math.floor(f/i)*i,e.setUTCMilliseconds(f);break;case"hour":var m=e.getUTCHours();i>1&&(m=Math.floor(m/i)*i),e.setUTCHours(m,o,0,0);break;case"minute":var y=e.getUTCMinutes();f=e.getUTCMilliseconds(),i>1&&(y=Math.floor(y/i)*i),e.setUTCMinutes(y,0,0);break;case"month":var g=e.getUTCMonth();i>1&&(g=Math.floor(g/i)*i),e.setUTCMonth(g,1),e.setUTCHours(0,o,0,0);break;case"year":var v=e.getUTCFullYear();i>1&&(v=Math.floor(v/i)*i),e.setUTCFullYear(v,0,1),e.setUTCHours(0,o,0,0);break;case"week":var b=e.getUTCDate(),x=e.getUTCDay();T(r)||(r=1),b=x>=r?b-x+r:b-(7+x)+r,e.setUTCDate(b),e.setUTCHours(0,o,0,0)}if(!n&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+l),"day"==t||"week"==t||"month"==t||"year"==t)){var S=e.getTimezoneOffset();if(S!=l){var P=S-l;e.setUTCMinutes(e.getUTCMinutes()+P)}}return e}function Tr(e,t){return new Date(e.toLocaleString("en-US",{timeZone:t}))}var Or=function(e){function t(){var i=e.call(this)||this;return i._globalEventsAdded=!1,i._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},i._usePointerEventsOnly=!1,i._useTouchEventsOnly=!1,i._addHoverEvents=!0,i._passiveSupported=!1,i._delayedEvents={out:[]},i.overObjects=new pt,i.downObjects=new pt,i.trackedObjects=new pt,i.transformedObjects=new pt,i.pointers=new at,i.inertiaOptions=new at,i.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},i.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},i.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},i.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},i.mouseOptions={sensitivity:1},i.className="Interaction",i.body=i.getInteraction(document.body),i._disposers.push(i.body),window.hasOwnProperty("PointerEvent")?(i._pointerEvents.pointerdown="pointerdown",i._pointerEvents.pointerup="pointerup",i._pointerEvents.pointermove="pointermove",i._pointerEvents.pointercancel="pointercancel",i._pointerEvents.pointerover="pointerover",i._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(i._pointerEvents.pointerdown="MSPointerDown",i._pointerEvents.pointerup="MSPointerUp",i._pointerEvents.pointermove="MSPointerMove",i._pointerEvents.pointercancel="MSPointerUp",i._pointerEvents.pointerover="MSPointerOver",i._pointerEvents.pointerout="MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(i._addHoverEvents=!1,i._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||i.fullFF()?i._usePointerEventsOnly=!0:i._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?i._pointerEvents.wheel="wheel":_(document.onmousewheel)&&(i._pointerEvents.wheel="mousewheel"),i.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:Ai}),i.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:Ai}),i._passiveSupported=t.passiveSupported,i.applyTheme(),i}return s(t,e),t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(Xi(document,this._pointerEvents.pointerdown,(function(t){e.handleGlobalPointerDown(t)}))),this._disposers.push(Xi(document,this._pointerEvents.pointermove,(function(t){e.handleGlobalPointerMove(t)}))),this._disposers.push(Xi(document,this._pointerEvents.pointerup,(function(t){e.handleGlobalPointerUp(t)}))),this._disposers.push(Xi(document,this._pointerEvents.pointercancel,(function(t){e.handleGlobalPointerUp(t,!0)}))),this._disposers.push(Xi(document,"mouseenter",(function(t){_(t.relatedTarget)||0!=t.buttons&&0!=t.which||e.handleDocumentLeave(t)})))),this._usePointerEventsOnly||(this._disposers.push(Xi(document,"touchstart",(function(t){e.handleGlobalTouchStart(t)}))),this._disposers.push(Xi(document,"touchmove",(function(t){e.handleGlobalTouchMove(t)}))),this._disposers.push(Xi(document,"touchend",(function(t){e.handleGlobalTouchEnd(t)})))),this._disposers.push(Xi(document,"keydown",(function(t){e.handleGlobalKeyDown(t)}))),this._disposers.push(Xi(document,"keyup",(function(t){e.handleGlobalKeyUp(t)}))),this._globalEventsAdded=!0)},t.prototype.processClickable=function(e){this.processTouchable(e)},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",Xi(e.element,"contextmenu",(function(e){e.preventDefault()}))):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},t.prototype.processHoverable=function(e){var t=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new we([Xi(e.element,this._pointerEvents.pointerout,(function(i){return t.handlePointerOut(e,i)})),Xi(e.element,this._pointerEvents.pointerover,(function(i){return t.handlePointerOver(e,i)}))])),e.trackable;else{var i=e.eventDisposers.getKey("hoverable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(this.isGlobalElement(e)||e.isTouchProtected||this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},t.prototype.processDraggable=function(e){this.processMovable(e)},t.prototype.processSwipeable=function(e){this.processMovable(e)},t.prototype.processResizable=function(e){this.processMovable(e)},t.prototype.processWheelable=function(e){var t=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new we([Xi(e.element,this._pointerEvents.wheel,(function(i){return t.handleMouseWheel(e,i)}),!!this._passiveSupported&&{passive:!1}),e.events.on("out",(function(i){e.wheelable&&t.unlockWheel()})),e.events.on("over",(function(i){e.wheelable&&t.lockWheel()}))]));else{var i=e.eventDisposers.getKey("wheelable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("wheelable"))}},t.prototype.processFocusable=function(e){var t=this;if(!0===e.focusable&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new we([Xi(e.element,"focus",(function(i){return t.handleFocus(e,i)})),Xi(e.element,"blur",(function(i){return t.handleBlur(e,i)})),Xi(e.element,this._pointerEvents.pointerdown,(function(i){return t.handleFocusBlur(e,i)})),Xi(e.element,"touchstart",(function(i){return t.handleFocusBlur(e,i)}),!!this._passiveSupported&&{passive:!1})]));else{var i=e.eventDisposers.getKey("focusable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("focusable"))}},t.prototype.processTouchable=function(e){var t=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",Xi(e.element,"touchstart",(function(i){return t.handleTouchDown(e,i)}),!!this._passiveSupported&&{passive:!1})):e.eventDisposers.setKey("touchable",Xi(e.element,this._pointerEvents.pointerdown,(function(i){return t.handlePointerDown(e,i)}))):e.eventDisposers.setKey("touchable",new we([Xi(e.element,this._pointerEvents.pointerdown,(function(i){return t.handlePointerDown(e,i)})),Xi(e.element,"touchstart",(function(i){return t.handleTouchDown(e,i)}),!!this._passiveSupported&&{passive:!1})])));else{var i=e.eventDisposers.getKey("touchable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("touchable"))}},t.prototype.handleFocus=function(e,t){if(e.focusable){if(e.isFocused=!0,e.events.isEnabled("focus")&&!vn.isPaused){var i={type:"focus",target:e,event:t};e.events.dispatchImmediately("focus",i)}}else t.preventDefault()},t.prototype.handleFocusBlur=function(e,t){!1!==e.focusable&&this.getHitOption(e,"noFocus")&&e.events.once("focus",(function(){e.events.disableType("blur"),ir(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")}))},t.prototype.handleBlur=function(e,t){if(e.focusable){if(e.isFocused=!1,e.events.isEnabled("blur")&&!vn.isPaused){var i={type:"blur",target:e,event:t};e.events.dispatchImmediately("blur",i)}}else t.preventDefault()},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject)if(br.isKey(e,"esc"))ir();else if(this.focusedObject.draggable&&br.isKey(e,["up","down","left","right"])){e.preventDefault();var t=this.focusedObject;if(t.eventDisposers.hasKey("interactionKeyboardObject"))return;var i=new gr(t,e);switch(t.eventDisposers.setKey("interactionKeyboardObject",i),br.getEventKey(e)){case"up":i.directionY=-1;break;case"down":i.directionY=1;break;case"left":i.directionX=-1;break;case"right":i.directionX=1}}},t.prototype.handleGlobalKeyUp=function(e){if(this.focusedObject){var t=this.focusedObject.eventDisposers.getKey("interactionKeyboardObject");null!=t&&(e.preventDefault(),t.dispose(),this.focusedObject.eventDisposers.removeKey("interactionKeyboardObject")),br.isKey(e,"enter")&&this.focusedObject.sprite&&!this.focusedObject.sprite.events.isEnabled("toggled")&&(this.focusedObject.sprite.events.isEnabled("hit")?this.focusedObject.dispatchImmediately("hit"):"hit"==this.focusedObject.sprite.showTooltipOn&&this.focusedObject.dispatchImmediately("up"))}},t.prototype.handleGlobalPointerMove=function(e){var t=this.getPointer(e);if(t.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!vn.isPaused){var i={type:"track",target:this,event:e,pointer:t,touch:t.touch};this.events.dispatchImmediately("track",i)}this.addBreadCrumb(t,t.point),this.handleGlobalMove(t,e)},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var t=this.getPointer(e);if(this.events.isEnabled("down")&&!vn.isPaused){var i={type:"down",target:this,event:e,pointer:t,touch:t.touch};this.events.dispatchImmediately("down",i)}},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},t.prototype.handleGlobalPointerUp=function(e,t){void 0===t&&(t=!1);var i=this.getPointer(e);if(this.events.isEnabled("up")&&!vn.isPaused){var r={type:"up",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("up",r)}this.handleGlobalUp(i,e,t)},t.prototype.handleGlobalTouchMove=function(e){for(var t=0;t<e.changedTouches.length;t++){var i=this.getPointer(e.changedTouches[t]);if(i.point=this.getPointerPoint(e.changedTouches[t]),this.events.isEnabled("track")&&!vn.isPaused){var r={type:"track",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("track",r)}this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,e)}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var t=0;t<e.changedTouches.length;t++){var i=this.getPointer(e.changedTouches[t]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!vn.isPaused){var r={type:"down",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("down",r)}}},t.prototype.handleGlobalTouchEnd=function(e){for(var t=0;t<e.changedTouches.length;t++){var i=this.getPointer(e.changedTouches[t]);if(this.events.isEnabled("up")&&!vn.isPaused){var r={type:"up",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("up",r)}this.handleGlobalUp(i,e)}},t.prototype.handlePointerDown=function(e,t){var i=this.getPointer(t);(i.touch||1==t.which||3==t.which)&&(i.button=t.which,this.resetPointer(i,t),this.handleDown(e,i,t))},t.prototype.handlePointerOver=function(e,t){var i=this.getPointer(t);this.handleOver(e,i,t)},t.prototype.handlePointerOut=function(e,t){var i=this.getPointer(t);this.handleOut(e,i,t)},t.prototype.handleMouseWheel=function(e,t){var i=this.getPointer(t);i.point=this.getPointerPoint(t);var r=0,n=0,a=1;if(1==t.deltaMode&&(a=50),a*=this.getMouseOption(e,"sensitivity"),!(t instanceof WheelEvent))throw new Error("Invalid event type");r=Math.round(-1*t.wheelDeltaX||t.deltaX)*a,n=Math.round(-1*t.wheelDeltaY||t.deltaY)*a,this.handleWheel(e,i,r,n,t)},t.prototype.handleTouchDown=function(e,t){for(var i=0;i<t.changedTouches.length;i++){var r=this.getPointer(t.changedTouches[i]);this.maybePreventDefault(e,t,r),this.resetPointer(r,t.changedTouches[i]),this.handleDown(e,r,t)}},t.prototype.handleHit=function(e,t,i){var r=_r();if(e.lastHit&&e.lastHit>=r-this.getHitOption(e,"doubleHitTime")){if(r-e.lastHit<100)return;if(e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!vn.isPaused){var n={type:"doublehit",target:e,point:t.point,event:i,touch:t.touch};e.events.dispatchImmediately("doublehit",n)}}else if(e.lastHit=r,e.lastHitPointer=t,3===t.button){if(e.events.isEnabled("rightclick")&&!vn.isPaused){n={type:"rightclick",target:e,event:i};e.events.dispatchImmediately("rightclick",n)}}else if(e.events.isEnabled("hit")&&!vn.isPaused){n={type:"hit",target:e,event:i,point:t.point,touch:t.touch};e.events.dispatchImmediately("hit",n)}},t.prototype.handleOver=function(e,t,i,r){if(e.hoverable){var n=!1;if(this.shouldCancelHovers(t)&&this.areTransformed()&&this.moved(t,this.getHitOption(e,"hitTolerance"))&&(n=!0,this.cancelAllHovers(i)),this.processDelayed(),e.overPointers.moveValue(t),!e.isRealHover&&(n||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,t,i,!0),e.events.isEnabled("over")&&!vn.isPaused&&!n)){var a={type:"over",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("over",a)}}},t.prototype.handleOut=function(e,t,i,r,n){var a=this;if(void 0===r&&(r=!1),void 0===n&&(n=!1),e.hoverable&&(e.overPointers.removeValue(t),e.isHover&&(!e.hasDelayedOut||n))){if(r&&e.overPointers.length)return;if(t.touch&&!n&&!this.old(t)){var o=this.getHoverOption(e,"touchOutBehavior");if("leave"==o)return this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:i,keepUntil:_r()+500}),void(e.hasDelayedOut=!0);if("delay"==o&&this.getHoverOption(e,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:i,keepUntil:_r()+500,timeout:this.setTimeout((function(){a.handleOut(e,t,i,!0)}),this.getHoverOption(e,"touchOutDelay"))})}if(e.isHover=!1,this.overObjects.removeValue(e),!e.isDisposed()&&e.events.isEnabled("out")&&!vn.isPaused){var s={type:"out",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("out",s)}e.overPointers.clear(),e.hasDelayedOut=!1}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop();)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},t.prototype.handleDown=function(e,t,i){if(this.maybePreventDefault(e,i,t),e.inert&&this.stopInertia(e),this.handleOver(e,t,i,!0),e.downPointers.moveValue(t),this.applyCursorDownStyle(e,t),e.isDown||(!1!==e.focusable&&this.getHitOption(e,"noFocus")&&this.focusedObject&&ir(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,t,i),e.resizable&&this.processResizeStart(e,t,i)),e.events.isEnabled("down")&&!vn.isPaused){var r={type:"down",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("down",r)}},t.prototype.handleGlobalUp=function(e,t,i){var r=this;void 0===i&&(i=!1);var n=this.downObjects.values.slice();n.sort((function(e,t){if(e&&t){var i=e.element.compareDocumentPosition(t.element);return i&Node.DOCUMENT_POSITION_CONTAINED_BY?1:i&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0})),de(n,(function(n){n&&n.downPointers.contains(e)&&r.handleUp(n,e,t,i)}))},t.prototype.handleDocumentLeave=function(e){var t=this;Xe(this.downObjects.backwards().iterator(),(function(i){i.downPointers.each((function(r){t.handleUp(i,r,e)}))}))},t.prototype.handleUp=function(e,t,i,r){if(void 0===r&&(r=!1),this.restoreCursorDownStyle(e,t),e.downPointers.removeValue(t),(t.touch||this._useTouchEventsOnly)&&this.handleOut(e,t,i,!0),e.isDown){if(0==e.downPointers.length&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!vn.isPaused){var n={type:"up",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("up",n)}r||(e.swipeable&&this.swiped(e,t)?this.handleSwipe(e,t,i):(e.clickable&&!this.moved(t,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,t,i),e.inert&&this.moved(t,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,t):e.draggable&&this.processDragStop(e,t,i),e.resizable&&this.processResizeStop(e,t,i)))}},t.prototype.maybePreventDefault=function(e,t,i){!_(t)||!(e.draggable||e.swipeable||e.trackable||e.resizable)||this.isGlobalElement(e)||!1===t.cancelable||e.isTouchProtected&&i&&i.touch||t.preventDefault()},t.prototype.cancelAllHovers=function(e){var t=this;Xe(this.overObjects.backwards().iterator(),(function(i){if(i){var r=i.overPointers.getIndex(0);t.handleOut(i,r,e,!0,!0)}}))},t.prototype.shouldCancelHovers=function(e){return"touch"==Bi.disableHoverOnTransform},t.prototype.handleGlobalMove=function(e,t){var i,r=this;if(!e.touch){var n="function"==typeof(i=e.lastEvent).composedPath?i.composedPath()[0]:i.target;Xe(this.overObjects.backwards().iterator(),(function(i){if(i&&i.overPointers.contains(e)&&i.hoverable){var a=!1;i.element&&e.lastEvent&&rr(i.element,n)||(a=!0),a&&r.handleOut(i,e,t,!0)}}))}Xe(this.transformedObjects.backwards().iterator(),(function(i){!i.downPointers.contains(e)||i.swipeable&&r.swiping(i,e)||!i.draggable&&!i.resizable||r.handleTransform(i,t)})),Xe(this.trackedObjects.backwards().iterator(),(function(i){i.overPointers.contains(e)||r.handleTrack(i,e,t)}))},t.prototype.handleTrack=function(e,t,i,r){if(void 0===r&&(r=!1),(r||this.moved(t,0))&&e.events.isEnabled("track")&&!vn.isPaused){var n={type:"track",target:e,event:i,point:t.point,pointer:t,touch:t.touch};e.events.dispatchImmediately("track",n)}},t.prototype.handleSwipe=function(e,t,i){if(e.events.isEnabled("swipe")&&!vn.isPaused){var r={type:"swipe",target:e,event:i,touch:t.touch};e.events.dispatchImmediately("swipe",r)}if(t.startPoint.x<t.point.x){if(e.events.isEnabled("swiperight")&&!vn.isPaused){r={type:"swiperight",target:e,event:i,touch:t.touch};e.events.dispatchImmediately("swiperight",r)}}else if(e.events.isEnabled("swipeleft")&&!vn.isPaused){r={type:"swipeleft",target:e,event:i,touch:t.touch};e.events.dispatchImmediately("swipeleft",r)}},t.prototype.handleWheel=function(e,t,i,r,n){var a={x:i,y:r};e.events.isEnabled("wheel")&&!vn.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:n,point:t.point,shift:a}),i<0?e.events.isEnabled("wheelleft")&&!vn.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:n,point:t.point,shift:a}):i>0?e.events.isEnabled("swiperight")&&!vn.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:n,point:t.point,shift:a}):r<0?e.events.isEnabled("wheelup")&&!vn.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:n,point:t.point,shift:a}):r>0&&e.events.isEnabled("wheeldown")&&!vn.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:n,point:t.point,shift:a})},t.prototype.handleInertia=function(e,t){e.draggable&&0===e.downPointers.length&&this.handleMoveInertia(e,t),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,t)},t.prototype.handleMoveInertia=function(e,t){var i=e,r={x:t.point.x,y:t.point.y},n={x:t.startPoint.x,y:t.startPoint.y},a=new vr(i,"move",r,n),o=this.getTrailPoint(t,_r()-this.getInertiaOption(e,"move","time"));if(void 0!==o){var s=this.getInertiaOption(e,"move","factor"),l=[{to:t.point.x+(t.point.x-o.point.x)*s,property:"x"},{to:t.point.y+(t.point.y-o.point.y)*s,property:"y"}],u=new $i(a,l,this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(u.events.on("animationended",(function(e){a.done()}))),e.inertias.setKey("move",a)}else this.processDragStop(e,t,t.lastUpEvent)},t.prototype.handleResizeInertia=function(e,t){},t.prototype.handleTransform=function(e,t){var i,r,n,a=e.downPointers.getIndex(0),o=null,s=null;a&&(o=a.point,s=a.startPoint),n=r={x:e.originalPosition.x,y:e.originalPosition.y};for(var l=!0,u=1;u<e.downPointers.length;u++){var c=e.downPointers.getIndex(u);if(s.x!=c.startPoint.x&&s.y!=c.startPoint.y){l=!1,r=(i=c).point,n=i.startPoint;break}}var h=a&&this.moved(a,0);if(e.draggable&&a&&a.dragStartEvents&&a.dragStartEvents.length&&h&&e.events.isEnabled("dragstart")&&!vn.isPaused&&e.events.dispatchImmediately("dragstart",a.dragStartEvents.shift()),l&&e.draggable)this.handleTransformMove(e,o,s,t,h,a.touch),this.shouldCancelHovers(a)&&this.moved(a,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(t);else{var d=i&&this.moved(i,0);(this.shouldCancelHovers(a)&&this.moved(a,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(i)&&this.moved(i,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(t),e.draggable&&e.resizable?(this.handleTransformMove(e,o,s,t,h&&d,a.touch),this.handleTransformResize(e,o,s,r,n,t,h&&d,a.touch)):(e.draggable&&this.handleTransformMove(e,o,s,t,h,a.touch),!e.resizable||l&&!t.ctrlKey||this.handleTransformResize(e,o,s,r,n,t,h&&d,a.touch))}},t.prototype.handleTransformMove=function(e,t,i,r,n,a){if(n&&e.events.isEnabled("drag")&&!vn.isPaused&&(!e.isTouchProtected||!a)){var o={type:"drag",target:e,event:r,shift:{x:t.x-i.x,y:t.y-i.y},startPoint:i,point:t,touch:a};e.events.dispatchImmediately("drag",o)}},t.prototype.handleTransformResize=function(e,t,i,r,n,a,o,s){if(e.events.isEnabled("resize")&&!vn.isPaused&&(!e.isTouchProtected||!s)){var l={type:"resize",target:e,event:a,scale:Y(t,i,r,n),startPoint1:i,point1:t,startPoint2:n,point2:r,touch:s};e.events.dispatchImmediately("resize",l)}},t.prototype.processDragStart=function(e,t,i){this.transformedObjects.moveValue(e),this.shouldCancelHovers(t)&&this.cancelAllHovers(i);var r={type:"dragstart",target:e,event:i,touch:!!t&&t.touch};t&&(t.dragTarget=e),t&&t.dragStartEvents?t.dragStartEvents.push(r):vn.isPaused||e.dispatchImmediately("dragstart",r)},t.prototype.processDragStop=function(e,t,i){if(t||(t=this.getDragPointer(e)),t&&(t.dragTarget=void 0),this.transformedObjects.removeValue(e),(!t||this.moved(t,0))&&e.events.isEnabled("dragstop")&&!vn.isPaused){var r={type:"dragstop",target:e,touch:!!t&&t.touch};e.events.dispatchImmediately("dragstop",r)}},t.prototype.processResizeStart=function(e,t,i){this.transformedObjects.moveValue(e)},t.prototype.processResizeStop=function(e,t,i){this.transformedObjects.removeValue(e)},t.prototype.dragStart=function(e,t){t||(t=this.getDragPointer(e)),t&&this.handleDown(e,t,t.lastDownEvent)},t.prototype.dragStop=function(e,t,i){t||(t=this.getDragPointer(e)),t&&!i&&this.handleGlobalUp(t,t.lastUpEvent,i)},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){return(_(e.identifier)?""+e.identifier:_(e.pointerId)?""+e.pointerId:"m").replace("-","")},t.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var t,i=this.getPointerId(e),r=this.getPointerPoint(e);return this.pointers.hasKey(i)?(t=this.pointers.getKey(i)).touch=this.isPointerTouch(e):(t={id:i,touch:this.isPointerTouch(e),startPoint:r,startTime:_r(),point:r,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(t,r),this.pointers.setKey(i,t)),t.lastEvent=e,this.lastPointer=t,t},t.prototype.isPointerTouch=function(e){if("undefined"!=typeof Touch&&e instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&e instanceof PointerEvent&&_(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(_(e.type)&&e.type.match(/^mouse/))return!1;return!0},t.prototype.resetPointer=function(e,t){var i=this.getPointerPoint(t);e.startTime=_r(),e.startPoint={x:i.x,y:i.y},e.point={x:i.x,y:i.y},e.track=[],e.swipeCanceled=!1},t.prototype.addBreadCrumb=function(e,t){e.track.push({timestamp:_r(),point:t})},t.prototype.lockDocument=function(){this.prepElement(this.body)},t.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},t.prototype.lockElement=function(e){this.prepElement(e)},t.prototype.unlockElement=function(e){this.restoreAllStyles(e)},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},t.prototype.isLocalElement=function(e,t,i){var r=this.getCache("local_pointer_"+e.id);if(_(r))return r;var n=ar(t)||document;if(n.elementFromPoint){var a=n.elementFromPoint(e.point.x,e.point.y),o=a&&rr(t,a);return this.setCache("local_pointer_"+e.id+"_"+i,o,100),o}return!1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var t=e.element;if(t){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],r=0;r<i.length;r++)i[r]in t.style&&this.setTemporaryStyle(e,i[r],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},t.prototype.unprepElement=function(e){var t=e.element;if(t){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],r=0;r<i.length;r++)i[r]in t.style&&this.restoreStyle(e,i[r]);this.restoreStyle(e,"tapHighlightColor")}},t.prototype.getHitOption=function(e,t){var i=e.hitOptions[t];return void 0===i&&(i=this.hitOptions[t]),i},t.prototype.getHoverOption=function(e,t){var i=e.hoverOptions[t];return void 0===i&&(i=this.hoverOptions[t]),i},t.prototype.getSwipeOption=function(e,t){var i=e.swipeOptions[t];return void 0===i&&(i=this.swipeOptions[t]),i},t.prototype.getKeyboardOption=function(e,t){var i=e.keyboardOptions[t];return void 0===i&&(i=this.keyboardOptions[t]),i},t.prototype.getMouseOption=function(e,t){var i=e.mouseOptions[t];return void 0===i&&(i=this.mouseOptions[t]),i},t.prototype.getInertiaOption=function(e,t,i){var r=e.inertiaOptions.getKey(t);return r&&_(r[i])?r[i]:this.inertiaOptions.getKey(t)[i]},t.prototype.stopInertia=function(e){for(var t,i=["move","resize"],r=0;r<i.length;r++)if(t=i[r],e.inertias.hasKey(t)){var n=e.inertias.getKey(t);if(n){n.dispose();continue}}},t.prototype.swiping=function(e,t){var i=_r();return!(t.swipeCanceled||!e.swipeable)&&(Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>i-this.getSwipeOption(e,"time"))},t.prototype.swiped=function(e,t){var i=_r();return!t.swipeCanceled&&(Math.abs(t.startPoint.x-t.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>i-this.getSwipeOption(e,"time"))},t.prototype.applyCursorOverStyle=function(e){var t=e.cursorOptions;if(_(t.overStyle))for(var i=0;i<t.overStyle.length;i++)er(e.element,t.overStyle[i].property,t.overStyle[i].value)},t.prototype.applyCursorDownStyle=function(e,t){if(!t||!t.touch){var i=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&_(i))for(var r=0;r<i.length;r++)this.setTemporaryStyle(this.body,i[r].property,i[r].value),this.setTemporaryStyle(e,i[r].property,i[r].value)}},t.prototype.restoreCursorDownStyle=function(e,t){if(!t||!t.touch){var i=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&_(i))for(var r=0;r<i.length;r++)this.restoreStyle(this.body,i[r].property),this.restoreStyle(e,i[r].property)}},t.prototype.setGlobalStyle=function(e){for(var t=kr().body,i=D(e)?e:[e],r=0;r<i.length;r++)this.setTemporaryStyle(t,i[r].property,i[r].value)},t.prototype.restoreGlobalStyle=function(e){for(var t=kr().body,i=D(e)?e:[e],r=0;r<i.length;r++)this.restoreStyle(t,i[r].property)},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,t,i){var r=this.getShift(e);return Math.abs(r.x)>t||Math.abs(r.y)>t},t.prototype.old=function(e,t){return void 0===t&&(t=300),_r()-e.startTime>t},t.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,t){for(var i,r=0;r<e.track.length;r++)if(e.track[r].timestamp>=t){i=e.track[r];break}return i},t.prototype.pointerExists=function(e,t){var i=!1;return e.each((function(e){e!=t&&(i=e.point.x==t.point.x&&e.point.y==t.point.y)})),i},t.prototype.getInteraction=function(e){return new yr(e)},t.prototype.setTemporaryStyle=function(e,t,i){var r=e.element;_(r.style[t])&&!e.replacedStyles.hasKey(t)&&e.replacedStyles.setKey(t,r.style[t]),er(r,t,i)},t.prototype.restoreStyle=function(e,t){e.replacedStyles.hasKey(t)?(e.element.style[t]=e.replacedStyles.getKey(t),e.replacedStyles.removeKey(t)):delete e.element.style[t]},t.prototype.restoreAllStyles=function(e){Xe(e.replacedStyles.iterator(),(function(t){var i=t[0],r=t[1];e.element.style[i]=r,e.replacedStyles.removeKey(i)}))},t.prototype.dispose=function(){this.isDisposed()||(e.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},t.prototype.log=function(e,t,i){if(t.changedTouches)for(var r=0;r<t.changedTouches.length;r++)this.logTouch(e,t.type,t.changedTouches[r]);else{var n="";if(t.pointerType)switch(t.pointerType){case 2:n="touch";break;case 4:n="mouse";break;default:n=t.pointerType}else n="undefined"!=typeof TouchEvent&&t instanceof TouchEvent?"touch":t.type.match(/^mouse/)?"mouse":"???";var a="";a=_(t.identifier)?t.identifier:_(t.pointerId)?t.pointerId:"???",i?console.log(e+" ("+i.uid+")  "+t.type+"  "+n+"  "+a):console.log(e+"  "+t.type+"  "+n+"  "+a)}},t.prototype.areTransformed=function(e){var t=this.transformedObjects.length;if(e)for(var i=D(e)?e:[e],r=0;r<i.length;r++)this.transformedObjects.contains(i[r])&&t--;return t>0},t.prototype.logTouch=function(e,t,i){console.log(e+"  "+t+"  touch  "+i.identifier)},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(null==this._passiveSupported)try{var t=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(e){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(jt),Dr=null;function kr(){return null==Dr&&(Dr=new Or),Dr}var Fr=function(e){function t(){var t=e.call(this)||this;return t.adapter=new _t(t),t._elements={},t._IOs={},t._content="",t._title="",t._classPrefix="ampopup",t._defaultStyles=!0,t._showCurtain=!1,t._draggable=!0,t._align="center",t._dynamicResize=!0,t._verticalAlign="middle",t._shift={x:0,y:0},t._tempShift={x:0,y:0},t._readerTitle="",t._closable=!0,t._cssLoaded=!1,t._fitTo="window",t.isTemplate=!1,t._sized=!1,t.className="Popup",t}return s(t,e),t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},t.prototype.dispose=function(){this.close(),e.prototype.dispose.call(this)},t.prototype.positionElement=function(e){var t=this;void 0===e&&(e=!0),this._elements.wrapper&&setTimeout((function(){if(t._elements.wrapper){if(e||!t._sized){t._elements.wrapper.style.opacity="0.01",t._elements.wrapper.style.left="0",t._elements.wrapper.style.top="0",t._elements.wrapper.style.margin="0 0 0 0",t._elements.wrapper.style.width="",t._elements.wrapper.style.height="";var i=t._elements.wrapper.getBoundingClientRect();t._elements.wrapper.style.width=i.width+"px",t._elements.wrapper.style.height=i.height+"px",t._sized=!0}if(t.dynamicResize)for(var r=t._elements.wrapper.getElementsByTagName("img"),n=0;n<r.length;n++){var a=r[n];if(!a.complete){a.addEventListener("load",(function(){t.positionElement(!0)}));break}}setTimeout((function(){if(t._elements.wrapper){var i;switch(!e&&t._sized||!t._bbox?(i=t._elements.wrapper.getBoundingClientRect(),t._elements.wrapper.style.opacity=""):i=t._bbox,t.align){case"left":t._elements.wrapper.style.left="0",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;case"center":t._elements.wrapper.style.left="50%",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(Math.round(-i.width/2)+(t._shift.x+t._tempShift.x));break;case"right":t._elements.wrapper.style.left="auto",t._elements.wrapper.style.right="0",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;default:t._elements.wrapper.style.left=t.toStyle(t.left)||"auto",t._elements.wrapper.style.right=t.toStyle(t.right)||"auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x)}switch(t.verticalAlign){case"top":t._elements.wrapper.style.top="0",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;case"middle":t._elements.wrapper.style.top="50%",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(Math.round(-i.height/2)+(t._shift.y+t._tempShift.y));break;case"bottom":t._elements.wrapper.style.top="auto",t._elements.wrapper.style.bottom="0",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;default:t._elements.wrapper.style.top=t.toStyle(t.top)||"auto",t._elements.wrapper.style.bottom=t.toStyle(t.bottom)||"auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y)}}}),1)}}),1)},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",(function(t){e._tempShift.x=t.shift.x,e._tempShift.y=t.shift.y,e.positionElement(!1)})),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",(function(t){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)}))):this._IOs.header&&(kr().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},t.prototype.toStyle=function(e){return _(e)?T(e)?e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),t=document.createElement("div");t.className=e.contentClass,t.style.opacity="0.01";var i=document.createElement("a");i.className=e.closeClass;var r=document.createElement("div");r.className=e.headerClass;var n=document.createElement("div");n.innerHTML=this.title,n.className=e.titleClass,this.title||(n.style.display="none");var a=document.createElement("div");a.className=e.insideClass,a.innerHTML=this.content,this._IOs.wrapper=kr().getInteraction(t),this._IOs.header=kr().getInteraction(r),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=kr().getInteraction(i),this._disposers.push(this._IOs.close),i.style.visibility="hidden",t.setAttribute("role","dialog"),r.appendChild(i),r.appendChild(n),t.appendChild(r),t.appendChild(a),this.container.appendChild(t),this._elements.wrapper=t,this._elements.header=r,this._elements.content=a,this._elements.title=n,this._elements.close=i,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),t=document.createElement("div");t.className=e.curtainClass,this.container.appendChild(t),this._IOs.curtain=kr().getInteraction(t),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),t.style.display=this.showCurtain?"block":"none",this._elements.curtain=t},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(function(e,t){t||(t="ampopup");var i=new pr,r=i.getFor("text"),n=i.getFor("background");n.alpha=.8;var a=i.getFor("alternativeBackground");return a.alpha=.05,fr.insertKeyIfEmpty(t,(function(){var i=new we([new sr(e,"."+t,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new sr(e,"."+t+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":n.hex,opacity:"0.5"}),new sr(e,"."+t+"-header",{display:"block",width:"100%","min-height":"1.8em",background:a.rgba}),new sr(e,"."+t+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new sr(e,"."+t+"-content",{background:n.hex,"background-color":n.rgba,color:r.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new sr(e,"."+t+"-inside",{padding:"1em"}),new sr(e,"."+t+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new Ae((function(){fr.removeKey(t),i.dispose()}))})).increment()}(nr(this.container),this.classPrefix)),ze(this._elements,(function(e,t){t.style.display=""})),this._cssLoaded=!0)},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var t=[kr().body.events.on("keyup",(function(t){br.isKey(t.event,"esc")&&e.closable&&e.close()})),this._IOs.close.events.on("hit",(function(t){e.close()}))];t.push(this._IOs.curtain.events.on("hit",(function(t){e.showCurtain&&e.closable&&e.close()}))),this._disposers.push(new we(t))}else this._IOs.close.element.style.visibility="hidden"},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},t.prototype.releasePointers=function(){_(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.container=t.container,this.sprite=t.sprite,this.classPrefix=t.classPrefixRaw,this.content=t.content,this.title=t.title,this.readerTitle=t.readerTitle,this.defaultStyles=t.defaultStyles,this.showCurtain=t.showCurtain,this.align=t.align,this.verticalAlign=t.verticalAlign,this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.adapter.copyFrom(t.adapter)},t}(jt),Er=function(e){function t(){var t=e.call(this)||this;return t.adapter=new _t(t),t.className="Modal",t.showCurtain=!0,t.draggable=!1,t}return s(t,e),t}(Fr);function Mr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console&&console.warn.apply(console,p(e))}var jr=function(){function e(){var e=this;this._targets=[],this._observer=new ResizeObserver((function(t){de(t,(function(t){de(e._targets,(function(e){e.target===t.target&&e.callback()}))}))}))}return e.prototype.addTarget=function(e,t){this._observer.observe(e,{box:"content-box"}),this._targets.push({target:e,callback:t})},e.prototype.removeTarget=function(e){this._observer.unobserve(e),_e(this._targets,(function(t){return t.target!==e}))},e}(),Lr=function(){function e(){this._targets=[]}return e.prototype.addTarget=function(t,i){var r=this;if(0===this._targets.length){var n=null,a=function(){var t=Date.now();(null===n||t>n+e.delay)&&(n=t,de(r._targets,(function(e){var t=e.target.getBoundingClientRect();t.width===e.size.width&&t.height===e.size.height||(e.size=t,e.callback())}))),r._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}var o=t.getBoundingClientRect();this._targets.push({target:t,callback:i,size:o})},e.prototype.removeTarget=function(e){_e(this._targets,(function(t){return t.target!==e})),0===this._targets.length&&cancelAnimationFrame(this._timer)},e.delay=200,e}(),Rr=null;var Vr=function(){function e(e,t){this._disposed=!1,this._sensor=(null===Rr&&(Rr="undefined"!=typeof ResizeObserver?new jr:new Lr),Rr),this._element=e,this._sensor.addTarget(e,t)}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(e.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),e.prototype.reset=function(){Mr("resizeSensor.reset() is no longer needed and can be removed")},e}(),Br=[],Nr=function(){function e(e,t){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=e,t||(this._printing=!1,this.initSensor(),this._disposers.push(Xi(window,"beforeprint",(function(){i._printing=!0}))),this._disposers.push(Xi(window,"afterprint",(function(){i._printing=!1})))),Br.push(this);var r=document.createElement("div"),n=r.style;n.width="100%",n.height="100%",n.position="relative",e.appendChild(r),this.SVGContainer=r}return e.prototype.initSensor=function(){var e=this;this.resizeSensor&&this.resizeSensor.dispose();this.resizeSensor=new Vr(this.htmlElement,(function(){e.autoResize&&!e._printing&&e.measure()})),this._disposers.push(this.resizeSensor)},e.prototype.measure=function(){var e,t,i,r,n=(e=this.htmlElement,t=getComputedStyle(e),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),e.clientWidth-i-r),a=function(e){var t=getComputedStyle(e),i=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.clientHeight-i-r}(this.htmlElement),o=this.container;o&&(this.width==n&&this.height==a||(this.width=n,this.height=a,n>0&&(o.maxWidth=n),a>0&&(o.maxHeight=a),or(this.SVGContainer)),o.maxWidth||(o.maxWidth=0),o.maxHeight||(o.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.measure()},enumerable:!0,configurable:!0}),e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||fe(Br,this),de(this._disposers,(function(e){e.dispose()}))},Object.defineProperty(e.prototype,"hideOverflow",{set:function(e){this.SVGContainer.style.overflow=e?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return _(this._modal)||(this._modal=new Er,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),e.prototype.openModal=function(e,t){this.closeModal();var i=this.modal;return i.content=e,i.readerTitle=t||"",i.title=t||"",i.open(),i},e.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(e.prototype,"popups",{get:function(){if(!_(this._popups)){var e=new Fr;e.container=this.SVGContainer,this._popups=new ft(e),this._disposers.push(new ht(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),e.prototype.openPopup=function(e,t){var i=this.popups.create();return i.content=e,_(t)&&(i.title=t),i.open(),i},e.prototype.closeAllPopups=function(){this.popups.each((function(e){e.close()}))},Object.defineProperty(e.prototype,"readerAlertElement",{get:function(){if(!_(this._readerAlertElement)){var e=document.createElement("div");e.setAttribute("role","alert"),e.style.zIndex="-100000",e.style.opacity="0",e.style.position="absolute",e.style.top="0",this.SVGContainer.appendChild(e),this._readerAlertElement=e}return this._readerAlertElement},enumerable:!0,configurable:!0}),e.prototype.readerAlert=function(e){this.readerAlertElement.innerHTML=e},e.prototype.checkTransform=function(e){if(window.getComputedStyle){if(e&&e.style){var t=window.getComputedStyle(e,null);if(t){var i=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");if(i&&"none"!==i){var r=i.split("(")[1].split(")")[0].split(","),n=Number(r[0]),a=Number(r[1]),o=Math.sqrt(n*n+a*a);isNaN(o)||(this.cssScale*=o)}}}e.parentNode&&e.parentNode instanceof HTMLElement&&this.checkTransform(e.parentNode)}},e}(),Wr=function(){function e(e,t){this.container=e,this.id=t;var i=document.createElementNS(qi,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(Yi,"xmlns",qi),i.setAttributeNS(Yi,"xmlns:xlink",Ki),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(qi,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return e.prototype.add=function(e){return new hr(e)},e.prototype.addGroup=function(e){return new dr(e)},e.prototype.append=function(e){e&&this.svg.appendChild(e.node)},e.prototype.appendDef=function(e){e&&this.defs.appendChild(e.node)},e.prototype.foreignObject=function(){return new hr("foreignObject")},e.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},e}(),zr=null;function Hr(){if(null===zr){var e=document.createElement("div");e.hidden=!0,e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.zIndex="-1000000",document.body.appendChild(e);var t=new Nr(e,!0);zr=new Wr(t.SVGContainer,"ghost")}return zr}var Gr=function(e){function t(){var t=e.call(this)||this;t._elements=new pt,t.properties={},t.className="Pattern",t.width=10,t.height=10,t.x=0,t.y=0,t.patternUnits="userSpaceOnUse";var i=new pr;return t.backgroundFill=i.getFor("background"),t.backgroundOpacity=0,t.fillOpacity=1,t.fill=i.getFor("alternativeBackground"),t.stroke=i.getFor("alternativeBackground"),t.strokeOpacity=1,t.strokeWidth=1,t.shapeRendering="crispEdges",t.rotation=0,t.element=t.paper.addGroup("pattern"),t.id="pattern-"+lt.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t._disposers.push(new ht(t._elements)),t.patternUnits=t.patternUnits,t.width=t.width,t.height=t.height,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){var e=this,t=this.element;if(t){t.removeChildNodes();var i=this.paper.add("rect");i.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),t.add(i),t.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),Xe(this._elements.iterator(),(function(t){t.rotation=e.rotation,t.rotationX=e.properties.rotationX,t.rotationY=e.properties.rotationY,e.element.add(t)}))}},t.prototype.animate=function(e,t,i){return new $i(this,e,t,i).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Hr()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),ze(t.properties,(function(e,t){i[e]=t}))},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Ui(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){if(t&&_(t.elements)&&D(t.elements))for(var i=0,r=t.elements.length;i<r;i++){var n=t.elements[i];if(_(n.type)){var a=this.createEntryInstance(n);a instanceof Mt&&(a.config=n),this.addElement(_(n.typeProperty)?a[n.typeProperty]:a.element)}}e.prototype.processConfig.call(this,t)},t}(Mt);lt.registeredClasses.Pattern=Gr;var Ur=function(e){function t(){var t=e.call(this)||this;return t._stops=new pt,t._rotation=0,t.className="LinearGradient",t._stops.events.on("setIndex",t.validate,t),t._stops.events.on("inserted",t.validate,t),t.element=t.paper.addGroup("linearGradient"),t.id="gradient-"+lt.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){var e=this,t=(this._rotation+90)*E,i=Math.round(50+50*Math.sin(t+Math.PI))+"%",r=Math.round(50+50*Math.cos(t))+"%",n=Math.round(50+50*Math.sin(t))+"%",a=Math.round(50+50*Math.cos(t+Math.PI))+"%",o=this.element;o.removeChildNodes(),o.attr({x1:i,x2:n,y1:r,y2:a}),Xe(Ze(this._stops.iterator()),(function(t){var i=t[0],r=t[1],n=r.offset;T(n)||(n=i/(e._stops.length-1));var a=e.paper.add("stop");_(r.color)&&a.attr({"stop-color":r.color.toString()}),T(r.opacity)&&a.attr({"stop-opacity":r.opacity}),T(n)&&a.attr({offset:n}),o.add(a)}))},t.prototype.clear=function(){this._stops.clear()},t.prototype.addColor=function(e,t,i){this._stops.push({color:e,opacity:t,offset:i})},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Hr()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.stops.copyFrom(t.stops),this._rotation=t.rotation},Object.defineProperty(t.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e})},enumerable:!0,configurable:!0}),t}(Mt);lt.registeredClasses.LinearGradient=Ur;var $r=function(e){function t(){var t=e.call(this)||this;return t._stops=new pt,t.element=t.paper.addGroup("radialGradient"),t.id="gradient-"+lt.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){var e,t=this,i=this.element;T(this.cx)&&((e=this.cx)instanceof f&&(e=e.percent+"%"),i.attr({cx:e}));T(this.cy)&&((e=this.cy)instanceof f&&(e=e.percent+"%"),i.attr({cy:e}));this.fx&&((e=this.fx)instanceof f&&(e=e.percent+"%"),i.attr({fx:e}));this.fy&&((e=this.fy)instanceof f&&(e=e.percent+"%"),i.attr({fy:e}));i.removeChildNodes(),Xe(Ze(this._stops.iterator()),(function(e){var r=e[0],n=e[1],a=n.offset;T(a)||(a=r/(t._stops.length-1));var o=t.paper.add("stop");_(n.color)&&o.attr({"stop-color":n.color.toString()}),T(n.opacity)&&o.attr({"stop-opacity":n.opacity}),T(a)&&o.attr({offset:a}),i.add(o)}))},t.prototype.addColor=function(e,t,i){this._stops.push({color:e,opacity:t,offset:i}),this.draw()},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Hr()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.stops.copyFrom(t.stops),this.cx=t.cx,this.cy=t.cy,this.fx=t.fx,this.fy=t.fy},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear()},t}(Mt);lt.registeredClasses.RadialGradient=$r;var qr,Yr=function(){function e(){}return e.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],e.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],e.pointer=[{property:"cursor",value:"pointer"}],e.default=[{property:"cursor",value:"default"}],e.horizontalResize=[{property:"cursor",value:"ew-resize"}],e.verticalResize=[{property:"cursor",value:"ns-resize"}],e.notAllowed=[{property:"cursor",value:"not-allowed"}],e.text=[{property:"cursor",value:"text"}],e}(),Kr={_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(e){var t="th";if(e<11||e>13)switch(e%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd"}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},Xr=function(e){function t(){var t=e.call(this)||this;return t.adapter=new _t(t),t._locale=Kr,t._defaultLocale=Kr,t.className="Language",_(Bi.defaultLocale)&&(t.locale=Bi.defaultLocale),t.applyTheme(),t}return s(t,e),t.prototype.getLocale=function(e){return null==e&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},t.prototype.translate=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];t=this.getLocale(t);var n=e,a=this.getTranslations(t),o=a[e];if(null===o)o="";else if(_(o))o&&(n=o);else if(t!==this._defaultLocale)return this.translate.apply(this,p([e,this._defaultLocale],i));if(i.length)for(var s=i.length,l=0;l<s;++l)n=n.split("%"+(l+1)).join(i[l]);return this.adapter.apply("translate",{translation:n,locale:t}).translation},t.prototype.translateAny=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return this.translate.apply(this,p([e,t],i))},t.prototype.setTranslationAny=function(e,t,i){(i||this.locale)[e]=t},t.prototype.translateEmpty=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=this.translate.apply(this,p([e,t],i));return n==e?"":n},t.prototype.translateFunc=function(e,t){t=this.getLocale(t);var i=this.getTranslations(t)[e];return null!=i?i:t!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return""}},t.prototype.translateAll=function(e,t){var i=this;return this.isDefault()?e:he(e,(function(e){return i.translate(e,t)}))},t.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(e){if(this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))){var t={type:"localechanged",locale:e,target:this};this.events.dispatchImmediately("localechanged",t)}},enumerable:!0,configurable:!0}),t.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},t}(jt),Jr=function(e){function t(){var t=e.call(this)||this;return t.adapter=new _t(t),t.className="TextFormatter",t.applyTheme(),t}return s(t,e),t.prototype.debug=function(){},t.prototype.format=function(e,t){_(t)||(t="svg");var i="",r=(e=this.escape(e)).match(/\[([^\]]*?)\]/gm);if(!r)return this.wrap(e,"",t);for(var n=e.split(/\[[^\[\]]*\]/),a=0,o=n.length;a<o;a++){var s=n[a];if(""!==s){s=this.adapter.apply("chunk",s);var l="";a>0&&(l=r[a-1].replace("[","").replace("]","")),i+=this.wrap(s,l,t)}}return i=this.unescape(i),this.cleanUp(i)},t.prototype.escape=function(e){return e.replace(/\[\[/g,lt.getPlaceholder("1")).replace(/([^\/]{1})\]\]/g,"$1"+lt.getPlaceholder("2")).replace(/\]\]/g,lt.getPlaceholder("2")).replace(/\{\{/g,lt.getPlaceholder("3")).replace(/\}\}/g,lt.getPlaceholder("4")).replace(/\'\'/g,lt.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(lt.getPlaceholder("1"),"g"),"[[").replace(new RegExp(lt.getPlaceholder("2"),"g"),"]]").replace(new RegExp(lt.getPlaceholder("3"),"g"),"{{").replace(new RegExp(lt.getPlaceholder("4"),"g"),"}}").replace(new RegExp(lt.getPlaceholder("5"),"g"),"'")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,t,i){switch(""!==t&&"/"!==t||(t=""),i){case"html":return this.wrapHtml(e,this.translateStyleShortcuts(t));default:return this.wrapSvg(e,this.translateStyleShortcuts(t))}},t.prototype.wrapSvg=function(e,t){return""===t?"<tspan>"+e+"</tspan>":"<tspan style='"+t+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,t){var i=new hr("tspan");return i.textContent=e,t&&i.node.setAttribute("style",t),i},t.prototype.wrapHtml=function(e,t){return""===t?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(t)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,t){var i=document.createElement("span");return i.innerHTML=e,t&&i.setAttribute("style",t),i},t.prototype.styleSvgToHtml=function(e){return e=e.replace(/fill:/,"color:")},t.prototype.translateStyleShortcuts=function(e){if(""==e||"[ ]"==e)return"";var t=lt.getCache("translateStyleShortcuts_"+e);if(t)return t;var i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(var r=0;r<i.length;r++)e=e.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var n=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!n)return e;for(r=0;r<n.length;r++)n[r].match(/^bold$/i)?n[r]="font-weight:"+n[r]:"/"==n[r]?n[r]="":n[r].match(/:/)?n[r]=n[r].replace(/\+/g," "):n[r]="fill:"+n[r];var a=n.join(";");return lt.setCache("translateStyleShortcuts_"+e,a),a},t.prototype.chunk=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=[];e=this.escape(e);for(var n=t?e.split("'"):[e],a=0;a<n.length;a++){var o=n[a];if(""!==o)if(a%2==0)for(var s=(o=(o=o.replace(/\]\[/g,"]____[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),l=0;l<s.length;l++){"____"!==(u=this.cleanUp(this.unescape(s[l])))&&(""!==u&&(l%2==0?r.push({type:"value",text:this.adapter.apply("chunk",u)}):r.push({type:i?"value":"format",text:"["+u+"]"})))}else for(s=o.split(/[\[\]]+/),l=0;l<s.length;l++){var u;""!==(u=this.cleanUp(this.unescape(s[l])))&&(l%2==0?r.push({type:"text",text:u}):this.isImage(u)?r.push({type:"image",text:"["+u+"]"}):r.push({type:"format",text:"["+u+"]"}))}}return r},t.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},t}(Mt);function Qr(){return null==qr&&(qr=new Jr),qr}lt.registeredClasses.TextFormatter=Jr;var Zr=function(e){function t(){var t=e.call(this)||this;return t._negativeBase=0,t._numberFormat="#,###.#####",t._outputFormat="svg",t._smallNumberThreshold=1,t.className="NumberFormatter",t.applyTheme(),t}return s(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new Xr),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t,i){var r;(void 0===t||A(t)&&"number"===t.toLowerCase())&&(t=this._numberFormat);var n,a=Number(e);if(O(t))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,t).format(a):new Intl.NumberFormat(void 0,t).format(a)}catch(e){return"Invalid"}else{t=Jt(t);var o=this.parseFormat(t,this.language),s=void 0;s=a>this._negativeBase?o.positive:a<this._negativeBase?o.negative:o.zero,_(i)&&!s.mod&&(n=s,(s=JSON.parse(JSON.stringify(n))).decimals.active=0==a?0:i),r=s.template.split("____").join(this.applyFormat(a,s))}return r},t.prototype.parseFormat=function(e,t){var i=this,r=this.getCache(e);if(_(r))return r;var n={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},a=(e=e.replace("||","____")).split("|");return n.positive.source=a[0],void 0===a[2]?n.zero=n.positive:n.zero.source=a[2],void 0===a[1]?n.negative=n.positive:n.negative.source=a[1],ze(n,(function(e,t){if(!t.parsed)if(void 0===i.getCache(t.source)){var r=t.source;"number"===r.toLowerCase()&&(r=A(i._numberFormat)?i._numberFormat:"#,###.#####");for(var a=Qr().chunk(r,!0),o=0;o<a.length;o++){var s=a[o];if(s.text=s.text.replace("____","|"),"value"===s.type){var l=s.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES!]?/);if(l)if(null===l||""===l[0])t.template+=s.text;else{var u=l[0].match(/[abesABES%!]{2}|[abesABES%]{1}$/);u&&(t.mod=u[0].toLowerCase(),t.modSpacing=!!l[0].match(/[ ]{1}[abesABES%!]{1}$/));var c=l[0].split(".");if(""===c[0]);else{t.thousands.active=(c[0].match(/0/g)||[]).length,t.thousands.passive=(c[0].match(/\#/g)||[]).length+t.thousands.active;var h=c[0].split(",");1===h.length||(t.thousands.interval=C(h.pop()).length,0===t.thousands.interval&&(t.thousands.interval=-1))}void 0===c[1]||(t.decimals.active=(c[1].match(/0/g)||[]).length,t.decimals.passive=(c[1].match(/\#/g)||[]).length+t.decimals.active),t.template+=s.text.split(l[0]).join("____")}}else t.template+=s.text}i.setCache(t.source,t),t.parsed=!0}else n[e]=i.getCache(t.source)})),this.setCache(e,n),n},t.prototype.applyFormat=function(e,t){var i=e<0;e=Math.abs(e);var r="",n="",a=t.mod?t.mod.split(""):[];if(-1!==a.indexOf("b")){var o=this.applyPrefix(e,this.bytePrefixes,-1!==a.indexOf("!"));e=o[0],r=o[1],n=o[2],t.modSpacing&&(n=" "+n)}else if(-1!==a.indexOf("a")){var s=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==a.indexOf("!"));e=s[0],r=s[1],n=s[2],t.modSpacing&&(n=" "+n)}else if(-1!==a.indexOf("%")){var l=H(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(l)),n="%"}else if(-1!==a.indexOf("")){l=H(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(l)),n=""}if(-1!==a.indexOf("e")){var u=void 0;u=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(u[0]),n="e"+u[1],t.modSpacing&&(n=" "+n)}else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){var c=Math.pow(10,t.decimals.passive);e=Math.round(e*c)/c}var h="",d=function(e){if(y(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(0===e&&1/e==-1/0)return"-0";var t=e<0;e=Math.abs(e);var i,r=C(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+e)),n=r[1],a=r[2]||"";if(null==r[3])i=""===a?n:n+"."+a;else{var o,s=+r[3];if(e<1)i="0."+rt("0",o=s-1)+n+a;else i=0===(o=s-a.length)?n+a:o<0?n+a.slice(0,o)+"."+a.slice(o):n+a+rt("0",o)}return t?"-"+i:i}(e).split("."),p=d[0];if(p.length<t.thousands.active&&(p=Array(t.thousands.active-p.length+1).join("0")+p),t.thousands.interval>0){for(var f=[],m=p.split("").reverse().join(""),g=0,v=p.length;g<=v;g+=t.thousands.interval){var b=m.substr(g,t.thousands.interval).split("").reverse().join("");""!==b&&f.unshift(b)}p=f.join(t.thousands.separator)}h+=p,1===d.length&&d.push("");var x=d[1];return x.length<t.decimals.active&&(x+=Array(t.decimals.active-x.length+1).join("0")),""!==x&&(h+=t.decimals.separator+x),""===h&&(h="0"),0!==e&&i&&-1===a.indexOf("s")&&(h="-"+h),r&&(h=r+h),n&&(h+=n),h},t.prototype.applyPrefix=function(e,t,i){void 0===i&&(i=!1);for(var r=e,n="",a="",o=!1,s=1,l=0,u=t.length;l<u;l++)t[l].number<=e&&(0===t[l].number?r=0:(r=e/t[l].number,s=t[l].number),n=t[l].prefix,a=t[l].suffix,o=!0);return!o&&i&&t.length&&0!=e&&(r=e/t[0].number,n=t[0].prefix,a=t[0].suffix,o=!0),o&&(r=parseFloat(r.toPrecision(H(s.toString().length+Math.floor(r).toString().replace(/[^0-9]*/g,"").length,21)))),[r,n,a]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return _(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return _(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return _(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||","____")},t.prototype.unescape=function(e){return e.replace("____","|")},t}(Mt);lt.registeredClasses.NumberFormatter=Zr;var en=function(e){function t(){var t=e.call(this)||this;return t._dateFormat="yyyy-MM-dd",t._inputDateFormat="yyyy-MM-dd",t._utc=!1,t.timezoneMinutes=0,t._firstDayOfWeek=1,t.months=["January","February","March","April","May","June","July","August","September","October","November","December"],t.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t._outputFormat="svg",t.capitalize=!0,t.className="DateFormatter",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t){var i,r;if(this.language||(this.sprite?this.language=this.sprite.language:this.language=new Xr),void 0!==t&&""!==t||(t=this._dateFormat),r=A(e)?this.parse(e):ei(e),O(t))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,t).format(r):new Intl.DateTimeFormat(void 0,t).format(r)}catch(e){return"Invalid"}else{t=Jt(t);var n=this.parseFormat(t);if(_(this.timezoneOffset)?r.setMinutes(r.getMinutes()+r.getTimezoneOffset()-this.timezoneOffset):_(this.timezone)&&(r=Tr(r,this.timezone)),!T(r.getTime()))return this.language.translate("Invalid date");i=this.applyFormat(r,n,this.language),this.capitalize&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase()))}return i},t.prototype.parseFormat=function(e){var t=this.getCache(e);if(_(t))return t;for(var i={template:"",parts:[]},r=Qr().chunk(e,!0),n=0;n<r.length;n++){var a=r[n];if("value"===a.type){a.text.match(/^date$/i)&&A(this._dateFormat)&&(a.text=this._dateFormat);var o=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(o)for(var s=0;s<o.length;s++)i.parts.push(o[s]),a.text=a.text.replace(o[s],"____")}i.template+=a.text}return this.setCache(e,i),i},t.prototype.applyFormat=function(e,t,i){var r,n,a,o,s,l,u,c,h=t.template,d=e.getTimezoneOffset(),p=e.getTime();this.utc?(r=e.getUTCFullYear(),n=e.getUTCMonth(),a=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),l=e.getUTCMinutes(),u=e.getUTCSeconds(),c=e.getUTCMilliseconds()):(r=e.getFullYear(),n=e.getMonth(),a=e.getDay(),o=e.getDate(),s=e.getHours(),l=e.getMinutes(),u=e.getSeconds(),c=e.getMilliseconds());for(var f=0,m=t.parts.length;f<m;f++){var y="";switch(t.parts[f]){case"G":y=i.translate(r<0?"_era_bc":"_era_ad");break;case"yyyy":y=Math.abs(r).toString(),r<0&&(y+=i.translate("_era_bc"));break;case"yyy":case"yy":case"y":y=Math.abs(r).toString().substr(-t.parts[f].length),r<0&&(y+=i.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var g=r;1==ri(e)&&a>4&&g--,y="YYYY"==t.parts[f]?Math.abs(g).toString():Math.abs(g).toString().substr(-t.parts[f].length),g<0&&(y+=i.translate("_era_bc"));break;case"u":break;case"q":y=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":y=i.translate(this.months[n]).substr(0,1);break;case"MMMM":y=i.translate(this.months[n]);break;case"MMM":y=i.translate(this.monthsShort[n]);break;case"MM":y=Xt(n+1,2,"0");break;case"M":y=(n+1).toString();break;case"ww":y=Xt(ri(e,this.utc),2,"0");break;case"w":y=ri(e,this.utc).toString();break;case"W":y=ni(e,this.utc).toString();break;case"dd":y=Xt(o,2,"0");break;case"d":y=o.toString();break;case"DD":case"DDD":y=Xt(ii(e,this.utc).toString(),t.parts[f].length,"0");break;case"D":y=ii(e,this.utc).toString();break;case"F":case"g":break;case"t":y=i.translateFunc("_dateOrd").call(this,o);break;case"E":y=(a||7).toString();break;case"EE":y=Xt((a||7).toString(),2,"0");break;case"EEE":case"eee":y=i.translate(this.weekdaysShort[a]);break;case"EEEE":case"eeee":y=i.translate(this.weekdays[a]);break;case"EEEEE":case"eeeee":y=i.translate(this.weekdays[a]).substr(0,1);break;case"e":case"ee":y=(a-this.firstDayOfWeek+1).toString(),"ee"==t.parts[f]&&(y=Xt(y,2,"0"));break;case"a":y=s>=12?i.translate("PM"):i.translate("AM");break;case"aa":y=s>=12?i.translate("P.M."):i.translate("A.M.");break;case"aaa":y=s>=12?i.translate("P"):i.translate("A");break;case"h":y=ai(s).toString();break;case"hh":y=Xt(ai(s),2,"0");break;case"H":y=s.toString();break;case"HH":y=Xt(s,2,"0");break;case"K":y=ai(s,0).toString();break;case"KK":y=Xt(ai(s,0),2,"0");break;case"k":y=(s+1).toString();break;case"kk":y=Xt(s+1,2,"0");break;case"m":y=l.toString();break;case"mm":y=Xt(l,2,"0");break;case"s":y=u.toString();break;case"ss":y=Xt(u,2,"0");break;case"S":case"SS":case"SSS":y=Math.round(c/1e3*Math.pow(10,t.parts[f].length)).toString();break;case"x":y=p.toString();break;case"n":case"nn":case"nnn":y=Xt(c,t.parts[f].length,"0");break;case"z":y=oi(e,!1,!1,this.utc);break;case"zz":y=oi(e,!0,!1,this.utc);break;case"zzz":y=oi(e,!1,!0,this.utc);break;case"zzzz":y=oi(e,!0,!0,this.utc);break;case"Z":case"ZZ":var v=Math.abs(d)/60,b=Math.floor(v),x=60*v-60*b;this.utc&&(b=0,x=0),"Z"==t.parts[f]?(y="GMT",y+=d>0?"-":"+",y+=Xt(b,2)+":"+Xt(x,2)):(y=d>0?"-":"+",y+=Xt(b,2)+Xt(x,2));break;case"i":y=e.toISOString();break;case"I":y=e.toUTCString()}h=h.replace("____",y)}return h},t.prototype.parse=function(e,t){if(_(t)||(t=this.inputDateFormat),e instanceof Date)return e;if("number"==typeof e)return new Date(e);var i;"string"!=typeof e&&(e=e.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new Xr);var r="";t=(t=Jt(t)).substr(0,e.length);for(var n=this.parseFormat(t),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},s=0,l=0,u=0;u<n.parts.length;u++){switch(l=u+s+1,n.parts[u]){case"yyyy":case"YYYY":r+="([0-9]{4})",a.year=l;break;case"yyy":case"YYY":r+="([0-9]{3})",a.year3=l;break;case"yy":case"YY":r+="([0-9]{2})",a.year2=l;break;case"y":case"Y":r+="([0-9]{1})",a.year1=l;break;case"MMMM":r+="("+this.getStringList(this.months).join("|")+")",a.monthLong=l;break;case"MMM":r+="("+this.getStringList(this.monthsShort).join("|")+")",a.monthShort=l;break;case"MM":case"M":r+="([0-9]{2}|[0-9]{1})",a.month=l;break;case"ww":case"w":r+="([0-9]{2}|[0-9]{1})",a.week=l;break;case"dd":case"d":r+="([0-9]{2}|[0-9]{1})",a.day=l;break;case"DDD":case"DD":case"D":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=l;break;case"dddd":r+="("+this.getStringList(this.weekdays).join("|")+")",a.weekdayLong=l;break;case"ddd":r+="("+this.getStringList(this.weekdaysShort).join("|")+")",a.weekdayShort=l;break;case"aaa":case"aa":case"a":r+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=l;break;case"hh":case"h":r+="([0-9]{2}|[0-9]{1})",a.hour12Base1=l;break;case"HH":case"H":r+="([0-9]{2}|[0-9]{1})",a.hourBase0=l;break;case"KK":case"K":r+="([0-9]{2}|[0-9]{1})",a.hour12Base0=l;break;case"kk":case"k":r+="([0-9]{2}|[0-9]{1})",a.hourBase1=l;break;case"mm":case"m":r+="([0-9]{2}|[0-9]{1})",a.minute=l;break;case"ss":case"s":r+="([0-9]{2}|[0-9]{1})",a.second=l;break;case"SSS":case"SS":case"S":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=l,a.millisecondDigits=n.parts[u].length;break;case"nnn":case"nn":case"n":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=l;break;case"x":r+="([0-9]{1,})",a.timestamp=l;break;case"Z":r+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=l;break;case"ZZ":r+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=l;break;case"i":r+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",a.iso=l,s+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":s--}r+="[^0-9]*"}var c=new RegExp(r),h=e.match(c);if(h){if(a.year>-1&&(o.year=parseInt(h[a.year])),a.year3>-1){var d=parseInt(h[a.year3]);d+=1e3,o.year=d}if(a.year2>-1){d=parseInt(h[a.year2]);d+=d>50?1e3:2e3,o.year=d}if(a.year1>-1){d=parseInt(h[a.year1]);d=10*Math.floor((new Date).getFullYear()/10)+d,o.year=d}if(a.monthLong>-1&&(o.month=this.resolveMonth(h[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(h[a.monthShort])),a.month>-1&&(o.month=parseInt(h[a.month])-1),a.week>-1&&-1===a.day&&(o.month=0,o.day=function(e,t,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);var n=new Date(t,0,4,0,0,0,0);return r&&n.setUTCFullYear(t),7*e+i-((n.getDay()||7)+3)}(parseInt(h[a.week]),o.year,1,this.utc)),a.day>-1&&(o.day=parseInt(h[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(h[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(h[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(h[a.hourBase1])-1),a.hour12Base0>-1)11==(d=parseInt(h[a.hour12Base0]))&&(d=0),a.am>-1&&!this.isAm(h[a.am])&&(d+=12),o.hour=d;if(a.hour12Base1>-1)12==(d=parseInt(h[a.hour12Base1]))&&(d=0),a.am>-1&&!this.isAm(h[a.am])&&(d+=12),o.hour=d;if(a.minute>-1&&(o.minute=parseInt(h[a.minute])),a.second>-1&&(o.second=parseInt(h[a.second])),a.millisecond>-1){d=parseInt(h[a.millisecond]);2==a.millisecondDigits?d*=10:1==a.millisecondDigits&&(d*=100),o.millisecond=d}if(a.timestamp>-1){o.timestamp=parseInt(h[a.timestamp]);var p=new Date(o.timestamp);o.year=p.getUTCFullYear(),o.month=p.getUTCMonth(),o.day=p.getUTCDate(),o.hour=p.getUTCHours(),o.minute=p.getUTCMinutes(),o.second=p.getUTCSeconds(),o.millisecond=p.getUTCMilliseconds()}a.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),h[a.zone])),a.iso>-1&&(o.year=x(h[a.iso+0]),o.month=x(h[a.iso+1])-1,o.day=x(h[a.iso+2]),o.hour=x(h[a.iso+3]),o.minute=x(h[a.iso+4]),o.second=x(h[a.iso+5]),o.millisecond=x(h[a.iso+6]),"Z"==h[a.iso+7]||"z"==h[a.iso+7]?o.utc=!0:""!=h[a.iso+7]&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),h[a.iso+7]))),i=o.utc?new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else i=new Date(e);return i},t.prototype.resolveTimezoneOffset=function(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){var i=C(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),r=i[1],n=i[2],a=i[3],o=60*parseInt(n)+parseInt(a);return"+"==r&&(o*=-1),o-(e||new Date).getTimezoneOffset()}return 0},t.prototype.resolveMonth=function(e){var t=this.months.indexOf(e);return t>-1||this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.months).indexOf(e))>-1?t:0},t.prototype.resolveShortMonth=function(e){var t=this.monthsShort.indexOf(e);return t>-1||(t=this.months.indexOf(e))>-1||this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.monthsShort).indexOf(e))>-1?t:0},t.prototype.isAm=function(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},t.prototype.getStringList=function(e){for(var t=[],i=0;i<e.length;i++)this.language?t.push(Gt(this.language.translate(e[i]))):t.push(Gt(e[i]));return t},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this._timezone},set:function(e){var t,i;this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=(t=e,(i=new Date).setHours(0,0,0,0),Tr(i,t).getMinutes()),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Mt);lt.registeredClasses.DateFormatter=en;var tn=function(e){function t(){var t=e.call(this)||this;return t._negativeBase=0,t._baseUnit="second",t._outputFormat="svg",t._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},t._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},t.className="DurationFormatter",t.applyTheme(),t}return s(t,e),t.prototype.format=function(e,t,i){this.language||(this.sprite?this.language=this.sprite.language:this.language=new Xr);var r=i||this._baseUnit;void 0!==t&&""!==t||(t=_(this.durationFormat)?this.durationFormat:this.getFormat(x(e),null,r)),t=Jt(t);var n,a=this.parseFormat(t,r),o=Number(e);n=o>this._negativeBase?a.positive:o<this._negativeBase?a.negative:a.zero;var s=this.applyFormat(o,n);return""!==n.color&&("svg"===this._outputFormat?s="<tspan fill='"+n.color+"'>"+s+"</tspan>":"html"===this._outputFormat&&(s="<span style='color: "+n.color+";'>"+s+"</span>")),s},t.prototype.parseFormat=function(e,t){var i=this,r=this.getCache(e);if(_(r))return r;var n=t||this._baseUnit,a={positive:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1}},o=(e=e.replace("||","____")).split("|");return a.positive.source=o[0],void 0===o[2]?a.zero=a.positive:a.zero.source=o[2],void 0===o[1]?a.negative=a.positive:a.negative.source=o[1],ze(a,(function(e,t){if(!t.parsed)if(void 0===i.getCache(t.source)){var r,n=t.source;(r=t.source.match(/^\[([^\]]*)\]/))&&r.length&&""!==r[0]&&(n=t.source.substr(r[0].length),t.color=r[1]);for(var o=Qr().chunk(n,!0),s=0;s<o.length;s++){var l=o[s];if(l.text=l.text.replace("____","|"),"value"===l.type){l.text.match(/[yYMdDwhHKkmsSn]+a/)&&(t.absolute=!0,l.text=l.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var u=l.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(u)for(var c=0;c<u.length;c++)_(u[c])||(u[c]=i._unitAliases[u[c]]),t.parts.push(u[c]),l.text=l.text.replace(u[c],"____")}t.template+=l.text}i.setCache(t.source,t),t.parsed=!0}else a[e]=i.getCache(t.source)})),this.setCache(e,a),a},t.prototype.applyFormat=function(e,t){var i=!t.absolute&&e<this._negativeBase;e=Math.abs(e);for(var r=this.toTimeStamp(e,t.baseUnit),n=t.template,a=0,o=t.parts.length;a<o;a++){var s=t.parts[a],l=this.toTimeUnit(s.substr(0,1)),u=s.length,c=Math.floor(r/this._unitValues[l]);n=n.replace("____",Xt(c,u,"0")),r-=c*this._unitValues[l]}return i&&(n="-"+n),n},t.prototype.toTimeStamp=function(e,t){return e*this._unitValues[t]},t.prototype.toTimeUnit=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e,t,i){if(_(this.durationFormat))return this.durationFormat;if(i||(i=this.baseUnit),_(t)&&e!=t){e=Math.abs(e),t=Math.abs(t);var r=this.getValueUnit(z(e,t),i);return this.durationFormats[i][r]}var n=this.getValueUnit(e,i);return this.durationFormats[i][n]},t.prototype.getValueUnit=function(e,t){var i;t||(t=this.baseUnit);var r=this.getMilliseconds(e,t);return We(this._unitValues,(function(e,n){if(e==t||i){if(r/n<=1)return i||(i=e),!1;i=e}return!0})),i},t.prototype.getMilliseconds=function(e,t){return t||(t=this.baseUnit),e*this._unitValues[t]},Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Mt);lt.registeredClasses.DurationFormatter=tn;var rn=new at;var nn,an=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._validateDisposer=null,t}return s(t,e),t.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=lt.events.on("exitframe",this.validate,this))},t.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},t.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),e.prototype.dispose.call(this)},t}(jt),on=function(e){function t(){var t=e.call(this)||this;return t.adapter=new _t(t),t.closeDelay=1e3,t.closeOnClick=!0,t._language=new Ie,t._menuTag="ul",t._itemTag="li",t._labelTag="a",t._iconTag="img",t._classPrefix="amexport",t._defaultStyles=!0,t._align="right",t._verticalAlign="top",t._tabindex=0,t._ignoreNextClose=!1,t._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],t.className="ExportMenu",t._disposers.push(t._language),t.invalidate(),t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){this.draw(),e.prototype.validate.call(this)},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),C(this._container).appendChild(this._element);for(var t=this.adapter.apply("items",{items:this._items}).items,i=t.length,r=0;r<i;r++)this.drawBranch(this._element,t[r],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(kr().body.events.on("down",(function(t){t.pointer.touch||(e._ignoreNextClose=!1),e.close()}))),this._disposers.push(kr().body.events.on("keydown",(function(t){var i=br.getEventKey(t.event);switch(i){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&t.event.preventDefault(),e.moveSelection(i)}}))),this.defaultStyles&&this.loadDefaultCSS()},t.prototype.drawBranch=function(e,t,i){var r=this;if(!0!==(t=this.adapter.apply("branch",{branch:t,level:i}).branch).unsupported){t.ascendants||(t.ascendants=new pt);var n,a=t.type,o=this.createItemElement(i,a);t.icon?((n=this.createIconElement(i,a)).src=t.icon,(t.label||t.title)&&(n.title=t.title||t.label)):t.svg?(n=this.createSvgElement(i,a,t.svg),(t.label||t.title)&&(n.title=t.title||t.label)):((n=this.createLabelElement(i,a)).innerHTML=t.label?this.language.translate(t.label):"",t.title&&(n.title=t.title));var s=this.getReaderLabel(t,n.innerHTML);n.setAttribute("aria-label",s),o.appendChild(n),t.interactions=kr().getInteraction(o),t.element=o,this.typeClickable(a)&&(t.interactions.events.on("hit",(function(e){if(r.events.isEnabled("hit")&&!r.isDisposed()){var i={type:"hit",event:e.event,target:r,branch:t};r.events.dispatchImmediately("hit",i)}})),t.interactions.events.on("keyup",(function(e){if(br.isKey(e.event,"enter")&&r.events.isEnabled("enter")){var i={type:"enter",event:e.event,target:r,branch:t};r.events.dispatchImmediately("enter",i)}})));var l=this.getSubMenu(t);null!=l&&(t.interactions.events.on("keyup",(function(e){br.isKey(e.event,"enter")&&(r.selectBranch(l[0]),r.setFocus(l[0]))})),t.interactions.events.on("hit",(function(e){r.selectBranch(t)}))),t.interactions.events.on("over",(function(e){if(e.pointer.touch&&(r._ignoreNextClose=!0),r.selectBranch(t),r.events.isEnabled("over")){var i={type:"over",event:e.event,target:r,branch:t};r.events.dispatchImmediately("over",i)}})),t.interactions.events.on("out",(function(e){if(!r.isDisposed()&&(e.pointer.touch||r.delayUnselectBranch(t),r.events.isEnabled("out"))){var i={type:"out",event:e.event,target:r,branch:t};r.events.dispatchImmediately("out",i)}})),t.interactions.events.on("focus",(function(e){r.selectBranch(t)})),t.interactions.events.on("blur",(function(e){r.delayUnselectBranch(t)}));var u=i+1;if(t.menu){var c=this.createMenuElement(u);t.submenuElement=c;for(var h=t.menu.length,d=0;d<h;d++){var p=new pt;t.menu[d].ascendants=p,t.ascendants.length&&p.copyFrom(t.ascendants),p.push(t),this.drawBranch(c,t.menu[d],u)}if(""==c.innerHTML)return;o.appendChild(c)}t.hidden&&this.hideBranch(t),t.id&&o.setAttribute("id",t.id),t.color&&(o.style.backgroundColor=t.color.hex),e.appendChild(o)}},t.prototype.createMenuElement=function(e){var t=document.createElement(this.menuTag);return t.className=this.getMenuItemClass(e),0===e?t.setAttribute("role","menubar"):t.setAttribute("role","menu"),t},t.prototype.getMenuItemClass=function(e){var t=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return 0===e&&(t+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:t,level:e}).className},t.prototype.createItemElement=function(e,t){var i=document.createElement(this.itemTag),r=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return i.className=this.adapter.apply("itemClass",{className:r,level:e,type:t}).className,i.setAttribute("role","menuitem"),i.setAttribute("tabindex",this.tabindex.toString()),i},t.prototype.createLabelElement=function(e,t){var i=document.createElement(this.labelTag),r=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(r+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:r,level:e,type:t}).className,i},t.prototype.createIconElement=function(e,t){var i=document.createElement(this.iconTag),r=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(r+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:r,level:e,type:t}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},t.prototype.createSvgElement=function(e,t,i){var r=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement,n=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),r.setAttribute("class",this.adapter.apply("labelClass",{className:n,level:e,type:t}).className),r.setAttribute("tabindex",this.tabindex.toString()),r.setAttribute("role","menuitem"),r},t.prototype.dispose=function(){this._disposed||(e.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},t.prototype.typeClickable=function(e){return _(e)},t.prototype.hasSubMenu=function(e){return!(!e.menu||!e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,t){return t=Qt(t),0==e.ascendants.length?(t="..."==t?this.language.translate("Export"):t,t+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?t+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==e.type?t=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(t=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,t)),this.adapter.apply("rederLabel",{label:t,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag="ul"==e?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){var e,t,i,r;this._disposers.push((e=nr(this.container),t=this.classPrefix,i=t||"amexport",r=new pr,rn.insertKeyIfEmpty(i,(function(){var t=new we([new sr(e,"."+i+"-menu *",{"box-sizing":"border-box"}),new sr(e,"."+i+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new sr(e,"."+i+"-menu-level-0."+i+"-left",{right:"auto",left:"5px"}),new sr(e,"."+i+"-menu-level-0."+i+"-right",{right:"5px",left:"auto"}),new sr(e,"."+i+"-menu-level-0."+i+"-top",{top:"5px",bottom:"auto"}),new sr(e,"."+i+"-menu-level-0."+i+"-bottom",{top:"auto",bottom:"5px"}),new sr(e,"."+i+"-item."+i+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new sr(e,"div:hover ."+i+"-item."+i+"-item-level-0, ."+i+"-item."+i+"-item-level-0.active",{opacity:"0.9"}),new sr(e,"."+i+"-item."+i+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new sr(e,"."+i+"-item."+i+"-item-level-0:before",{display:"block"}),new sr(e,"."+i+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":r.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:r.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new sr(e,"."+i+"-left ."+i+"-item",{margin:"1px 0 0 1px"}),new sr(e,"."+i+"-item:hover, ."+i+"-item.active",{background:r.getFor("secondaryButtonHover").hex,color:r.getFor("secondaryButtonText").hex}),new sr(e,"."+i+"-item > ."+i+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new sr(e,"."+i+"-left ."+i+"-item > ."+i+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new sr(e,"."+i+"-right ."+i+"-item > ."+i+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new sr(e,"."+i+"-top ."+i+"-item > ."+i+"-menu",{top:"-1px",bottom:"auto"}),new sr(e,"."+i+"-bottom ."+i+"-item > ."+i+"-menu",{top:"auto",bottom:"0"}),new sr(e,"."+i+"-item > ."+i+"-menu",{display:"none"}),new sr(e,"."+i+"-item:hover > ."+i+"-menu, ."+i+"-item.active > ."+i+"-menu",{display:"block"}),new sr(e,"."+i+"-item:hover > ."+i+"-menu > ."+i+"-item, ."+i+"-item.active > ."+i+"-menu > ."+i+"-item",{opacity:"1"}),new sr(e,"."+i+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new sr(e,"."+i+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new sr(e,"."+i+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new sr(e,"."+i+"-item-level-0 > ."+i+"-icon",{padding:"0.1em 0.2em"}),new sr(e,"."+i+"-clickable",{cursor:"pointer"})]);return new Ae((function(){rn.removeKey(i),t.dispose()}))})).increment())),this._element&&(this._element.style.display="")},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,t=this._language.get();return null==t&&(t=new Xr,this._language.set(t,t.events.on("localechanged",(function(t){e.invalidate()})))),t},set:function(e){var t=this;this._language.set(e,e.events.on("localechanged",(function(e){t.invalidate()}))),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(!this.isDisposed())if(this._ignoreNextClose)this._ignoreNextClose=!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout((function(){e._element.style.pointerEvents="auto"}),100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var t=this._element.getElementsByClassName("active"),i=t.length-1;i>=0;i--)t[i]&&Zi(t[i],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},t.prototype.selectBranch=function(e){var t=this;if(!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),Qi(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&Xe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var i=!0,r=function(e){return i=t(e)},n=e.length,a=0;a<n&&(e[a](r),i);++a);}}(qe([this._currentSelection]),this._currentSelection.ascendants.iterator()),(function(i){e.ascendants.contains(i)||e===i||t.unselectBranch(i,!0)})),Xe(e.ascendants.iterator(),(function(e){e.closeTimeout&&(t.removeDispose(e.closeTimeout),e.closeTimeout=void 0),Qi(e.element,"active")})),this._currentSelection=e,this.events.isEnabled("branchselected"))){var i={type:"branchselected",target:this,branch:e};this.events.dispatchImmediately("branchselected",i)}},t.prototype.unselectBranch=function(e,t){if(!this.isDisposed()&&(Zi(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var i={type:"branchunselected",target:this,branch:e};this.events.dispatchImmediately("branchunselected",i)}},t.prototype.delayUnselectBranch=function(e,t){var i=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout((function(){i.unselectBranch(e,t)}),this.closeDelay),!0!==t&&e.ascendants&&Xe(e.ascendants.iterator(),(function(e){i.delayUnselectBranch(e,!0)})))},t.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var t;if("up"==e)t=this.getPrevSibling(this._currentSelection);else if("down"==e)t=this.getNextSibling(this._currentSelection);else if("left"==e&&"right"==this.align||"right"==e&&"left"==this.align){var i=this.getSubMenu(this._currentSelection);null!=i&&(t=i[0])}else("right"==e&&"right"==this.align||"left"==e&&"left"==this.align)&&(t=this.getParentItem(this._currentSelection));t&&t!==this._currentSelection&&(this.selectBranch(t),this.setFocus(t),this._currentSelection=t)}},t.prototype.getSiblings=function(e){var t=this.getParentItem(e);return t&&t.menu?t.menu:[]},t.prototype.getParentItem=function(e){return e.ascendants&&e.ascendants.length?e.ascendants.getIndex(e.ascendants.length-1):void 0},t.prototype.getNextSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var i=t.indexOf(e)+1;return t[i=t.length==i?0:i].unsupported?this.getNextSibling(t[i]):t[i]}return e},t.prototype.getPrevSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var i=t.indexOf(e)-1;return t[i=-1==i?t.length-1:i].unsupported?this.getPrevSibling(t[i]):t[i]}return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch(e){}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch(e){}},t.prototype.hideBranch=function(e){e.element.style.display="none"},t.prototype.showBranch=function(e){e.element.style.display=""},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}(an);function sn(e,t,i){return new Promise((function(r,n){var a=_(i)&&"blob"==i.responseType,o=new XMLHttpRequest;if(o.onload=function(){if(200===o.status){var e,i=void 0;if(a)return e=o.response,void(l=e,new Promise((function(e,t){var i=new FileReader;i.onload=function(t){e(i.result)},i.onerror=function(e){t(e)},i.readAsText(l)}))).then((function(i){var n={xhr:o,error:!1,response:i,blob:e,type:o.getResponseHeader("Content-Type"),target:t};r(n)}));i=o.responseText||o.response;var s={xhr:o,error:!1,response:i,blob:e,type:o.getResponseHeader("Content-Type"),target:t};r(s)}else n({xhr:o,error:!0,type:o.getResponseHeader("Content-Type"),target:t});var l},o.onerror=function(){n({xhr:o,error:!0,type:o.getResponseHeader("Content-Type"),target:t})},o.open("GET",e,!0),i&&i.withCredentials&&(o.withCredentials=!0),_(i)){if(_(i.requestHeaders))for(var s=0;s<i.requestHeaders.length;s++){var l=i.requestHeaders[s];o.setRequestHeader(l.key,l.value)}_(i.responseType)&&(o.responseType=i.responseType)}o.send()}))}var ln=/src: ([^;]+);/;function un(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(i){switch(i.label){case 0:t=e.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t.cssRules];case 2:return i.sent(),[4,new Promise((function(i,r){e.addEventListener("load",(function(){i(t.cssRules)}),!0),e.addEventListener("error",(function(e){r(e)}),!0),setTimeout((function(){r(new Error("Timeout while waiting for <style> to load"))}),1e4)}))];case 3:return[2,i.sent()];case 4:return[2]}}))}))}function cn(e,t,i){return u(this,void 0,void 0,(function(){var r,n,a,o;return c(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,sn(t)];case 1:return r=s.sent(),[3,3];case 2:return n=s.sent(),console.error("Failed to load stylesheet",t,n),[2];case 3:(a=e.createElement("style")).textContent=r.response,e.head.appendChild(a),s.label=4;case 4:return s.trys.push([4,,7,8]),[4,un(a)];case 5:return o=s.sent(),[4,hn(e,t,o,i)];case 6:return s.sent(),[3,8];case 7:return e.head.removeChild(a),[7];case 8:return[2]}}))}))}function hn(e,t,i,r){return u(this,void 0,void 0,(function(){var n,a,o,s,l;return c(this,(function(u){switch(u.label){case 0:for(n=[],a=i.length,o=0;o<a;o++)(s=i[o]).type===CSSRule.IMPORT_RULE?(l=s.href)&&(l=Si(t,l),n.push(cn(e,l,r))):r(t,s);return n.length?[4,Promise.all(n)]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}}))}))}function dn(e){return u(this,void 0,void 0,(function(){var t,i;return c(this,(function(r){switch(r.label){case 0:(t=document.createElement("iframe")).src="about:blank",t.setAttribute("title",""),document.head.appendChild(t),r.label=1;case 1:return r.trys.push([1,,3,4]),i=t.contentDocument,[4,Promise.all(he(document.styleSheets,(function(t){var r=t.href;return null==r?hn(i,location.href,t.cssRules,e):(r=Si(location.href,r),cn(i,r,e))})))];case 2:return r.sent(),[3,4];case 3:return document.head.removeChild(t),[7];case 4:return[2]}}))}))}var pn=function(e){function t(t){var i=e.call(this)||this;return i.adapter=new _t(i),i._formatOptions=new at,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new pt,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=t,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",(function(e){var t=i._formatOptions.getKey(e.type);return e.options?e.options=Ge(t,e.options):e.options=t,e})),i.applyTheme(),i.dispatchImmediately("inited"),i}return s(t,e),Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(e){var t=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",(function(e){return e.branch.unsupported=!t.typeSupported(e.branch.type),e})),this._menu.events.on("hit",(function(e){t.export(e.branch.type,e.branch.options),t.menu.close()})),this._menu.events.on("enter",(function(e){t.export(e.branch.type,e.branch.options),t.menu.close()})),this._menu.events.on("over",(function(e){t._disablePointers()})),this._menu.events.on("out",(function(e){setTimeout((function(){t._releasePointers()}),10)})),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",(function(e){return e.classPrefix=Bi.classNamePrefix+e.classPrefix,e})),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),t.prototype.typeSupported=function(e){var t=!0,i=this.getFormatOptions(e);return _(i)&&i.disabled?t=!1:"pdf"===e||("xlsx"===e?t=!!this._hasData():("print"!=e||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(e)||this._hasData())||(t=!1)),this.adapter.apply("supported",{supported:t,type:e}).supported},t.prototype._hasData=function(){return this.data&&this.data.length},t.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},t.prototype.export=function(e,t){return u(this,void 0,void 0,(function(){var i,r,n,a,o,s=this;return c(this,(function(l){switch(l.label){case 0:return"custom"==e?(this.handleCustom(t),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(i={type:"exportstarted",target:this,format:e,options:t},this.events.dispatchImmediately("exportstarted",i)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout((function(){if(s.events.isEnabled("exporttimedout")){var i={type:"exporttimedout",target:s,format:e,options:t};s.events.dispatchImmediately("exporttimedout",i)}s.showTimeout()}),this.timeoutDelay)),this.hideNonExportableSprites(),r=this._getFunction(e),t=this.adapter.apply("options",{options:t,type:e}).options,[4,(r=this.adapter.apply("exportFunction",{func:r,type:e,options:t}).func).call(this,e,t)]);case 1:return n=l.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),n?(this.events.isEnabled("exportfinished")&&(a={type:"exportfinished",target:this,format:e,options:t},this.events.dispatchImmediately("exportfinished",a)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===e?[2,this.print(n,t,this.adapter.apply("title",{title:this.title,options:t}).title)]:"pdfdata"==e?[2,this.download(n,this.filePrefix+".pdf")]:[2,this.download(n,this.filePrefix+"."+e)]):(this.events.isEnabled("error")&&(o={type:"error",target:this,format:e,options:t},this.events.dispatchImmediately("error",o)),[2,!1])}}))}))},t.prototype.unsupported=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,""]}))}))},t.prototype.handleCustom=function(e){_(e)&&_(e.callback)&&e.callback.call(e.callbackTarget||this,e)},t.prototype.getPrint=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.getImage("png",t)]}))}))},t.prototype.getFontFamilies=function(){return u(this,void 0,void 0,(function(){var e,t,i,r,n=this;return c(this,(function(a){switch(a.label){case 0:return e=this.getDOMURL(),t=[],i=[],[4,dn((function(r,a){if(a.type===CSSRule.FONT_FACE_RULE){var o=a.cssText,s=ln.exec(o);if(null!==s){var l=s[1].split(/ *, */).map((function(i){return u(n,void 0,void 0,(function(){var n,a,o,s,l,u;return c(this,(function(c){switch(c.label){case 0:return null!==(n=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(i))?[3,1]:[2,i];case 1:a=n[2],o=Si(r,n[1]),c.label=2;case 2:return c.trys.push([2,7,,8]),[4,sn(o,void 0,{responseType:"blob"})];case 3:return s=c.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(l=e.createObjectURL(s.blob),t.push(l),[3,6]);case 4:return[4,(h=s.blob,new Promise((function(e,t){var i=new FileReader;i.onload=function(t){e(i.result)},i.onerror=function(e){t(e)},i.readAsDataURL(h)})))];case 5:l=c.sent(),c.label=6;case 6:return[2,'url("'+l+'")'+a];case 7:return u=c.sent(),console.error("Failed to load font",o,u),[2,null];case 8:return[2]}var h}))}))}));i.push(Promise.all(l).then((function(e){return 0===(e=e.filter((function(e){return null!=e}))).length?"":o.replace(ln,"src: "+e.join(", ")+";")})))}}}))];case 1:return a.sent(),[4,Promise.all(i)];case 2:return r=a.sent(),[2,{blobs:t,cssText:r.filter((function(e){return!!e})).join("\n")}]}}))}))},t.prototype.getImage=function(e,t,i){return u(this,void 0,void 0,(function(){var r,n,a,o,s;return c(this,(function(l){switch(l.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),_(t)||(t=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return l.sent(),[4,this.simplifiedImageExport()];case 2:if(!l.sent())return[3,10];n=void 0,l.label=3;case 3:return l.trys.push([3,7,,9]),[4,this.getCanvas(t)];case 4:return n=l.sent(),!1===i?[3,6]:[4,this.addExtras(n,t)];case 5:n=l.sent(),l.label=6;case 6:return a=n.toDataURL(this.getContentType(e),t.quality),this.disposeCanvas(n),r||this.restoreNonExportableSprites(),[2,a];case 7:return o=l.sent(),console.error(o.message+"\n"+o.stack),Mr("Simple export failed, falling back to advanced export"),n&&this.disposeCanvas(n),[4,this.getImageAdvanced(e,t,i)];case 8:return s=l.sent(),r||this.restoreNonExportableSprites(),[2,s];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(e,t,i)];case 11:return s=l.sent(),r||this.restoreNonExportableSprites(),[2,s];case 12:return[2]}}))}))},t.prototype.addExtras=function(e,t,i){return u(this,void 0,void 0,(function(){var r,n,a,o,s,l,h,d,p,f,m,y,g,v,b=this;return c(this,(function(x){switch(x.label){case 0:return this.extraSprites.length?(r=0,n=0,a=e.width,o=e.height,s=0,l=0,[4,Promise.all(he(this.extraSprites,(function(e){return u(b,void 0,void 0,(function(){var u,h,d,p;return c(this,(function(c){switch(c.label){case 0:return(u=e instanceof mn?{sprite:e,position:"bottom"}:e).position=u.position||"bottom",u.marginTop=u.marginTop||0,u.marginRight=u.marginRight||0,u.marginBottom=u.marginBottom||0,u.marginLeft=u.marginLeft||0,i?[4,u.sprite.exporting.getCanvasAdvanced(t)]:[3,2];case 1:return h=c.sent(),[3,4];case 2:return[4,u.sprite.exporting.getCanvas(t)];case 3:h=c.sent(),c.label=4;case 4:return d=h.width+u.marginLeft+u.marginRight,p=h.height+u.marginTop+u.marginBottom,"top"==u.position?(a=u.crop?o:z(a,d),n+=p):"right"==u.position?(o=u.crop?o:z(o,p),s+=d):"left"==u.position?(o=u.crop?o:z(o,p),r+=d):"bottom"===u.position&&(a=u.crop?o:z(a,d),l+=p),[2,{canvas:h,position:u.position,left:u.marginLeft,top:u.marginTop,width:d,height:p}]}}))}))})))]):[3,2];case 1:return h=x.sent(),(d=this.getDisposableCanvas()).width=r+a+s,d.height=n+o+l,p=d.getContext("2d"),(f=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(p.fillStyle=f.toString(),p.fillRect(0,0,d.width,d.height)),g=(m=r)+a,v=(y=n)+o,de(h,(function(e){"top"==e.position?(y-=e.height,p.drawImage(e.canvas,r+e.left,y+e.top)):"right"==e.position?(p.drawImage(e.canvas,g+e.left,n+e.top),g+=e.width):"left"==e.position?(m-=e.width,p.drawImage(e.canvas,m+e.left,n+e.top)):"bottom"===e.position&&(p.drawImage(e.canvas,r+e.left,v+e.top),v+=e.height),b.disposeCanvas(e.canvas)})),p.drawImage(e,r,n),[2,d];case 2:return[2,e]}}))}))},t.prototype.getCanvas=function(e){return u(this,void 0,void 0,(function(){var t,i,r,n,a,o,s,l,u,h,d,p,f,m,y,g,v;return c(this,(function(c){switch(c.label){case 0:_(e)||(e={}),t=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),i=this.getDOMURL(),r=null,n=null,c.label=1;case 1:return c.trys.push([1,,4,5]),o=this.sprite.pixelWidth,s=this.sprite.pixelHeight,l=ur(this.sprite.dom),u=cr(this.sprite.dom),h=e.scale||1,d=this.getPixelRatio(e),h=this.getAdjustedScale(o*d,s*d,h,e),(a=this.getDisposableCanvas()).style.width=o*h+"px",a.style.height=s*h+"px",a.width=o*h,a.height=s*h,p=a.getContext("2d"),t&&(p.fillStyle=t.toString(),p.fillRect(0,0,o*h,s*h)),f=[],this.useWebFonts&&f.push(this.getFontFamilies().then((function(e){return n=e.blobs,e.cssText}))),f.push(this.imagesToDataURI(this.sprite.dom,e)),f.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(f)];case 2:return m=c.sent(),y=this.normalizeSVG("<style>"+m[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,o,s,h,l,u),g=new Blob([y],{type:"image/svg+xml"}),r=i.createObjectURL(g),[4,this.loadNewImage(r,o*h*d,s*h*d,"anonymous")];case 3:return v=c.sent(),p.drawImage(v,0,0),[3,5];case 4:return null!==r&&i.revokeObjectURL(r),null!==n&&de(n,(function(e){i.revokeObjectURL(e)})),this.restoreRemovedObjects(),[7];case 5:return[2,a]}}))}))},t.prototype.getCanvasAdvanced=function(e){return u(this,void 0,void 0,(function(){var t,i,r,n,a,o,s,l,u,h,d;return c(this,(function(c){switch(c.label){case 0:return _(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return c.sent(),t=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return i=c.sent(),r=this.sprite.pixelWidth,n=this.sprite.pixelHeight,a=ur(this.sprite.dom),o=cr(this.sprite.dom),s=e.scale||1,l=this.getPixelRatio(e),s=this.getAdjustedScale(r*l,n*l,s,e),u=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,r,n,s,a,o,t),(h=this.getDisposableCanvas()).style.width=r*l*s+"px",h.style.height=n*l*s+"px",h.width=r*l*s,h.height=n*l*s,d={useCORS:!0},1!=l&&(d.ignoreDimensions=!0,d.scaleWidth=r*l*s,d.scaleHeight=n*l*s),[4,i.fromString(h.getContext("2d"),u,d).render()];case 3:return c.sent(),[2,h]}}))}))},t.prototype.getImageAdvanced=function(e,t,i){return u(this,void 0,void 0,(function(){var r,n,a;return c(this,(function(o){switch(o.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),_(t)||(t=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(t)];case 1:return n=o.sent(),!1===i?[3,3]:[4,this.addExtras(n,t,!0)];case 2:n=o.sent(),o.label=3;case 3:return a=n.toDataURL(this.getContentType(e),t.quality),this.disposeCanvas(n),r||this.restoreNonExportableSprites(),[2,a]}}))}))},t.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},t.prototype.disposeCanvas=function(e){document.body.removeChild(e)},t.prototype.getPixelRatio=function(e){return this.useRetina&&window.devicePixelRatio||1},t.prototype.getAdjustedScale=function(e,t,i,r){if(!r)return i;var n,a,o=e*i,s=e*i;return r.maxWidth&&o>r.maxWidth&&(n=r.maxWidth/e),r.maxHeight&&s>r.maxHeight&&(a=r.maxHeight/t),n||a?H(n,a):(r.minWidth&&o<r.minWidth&&(n=r.minWidth/e),r.minHeight&&s<r.minHeight&&(a=r.minHeight/t),n||a?z(n,a):i)},t.prototype.imagesToDataURI=function(e,i){return u(this,void 0,void 0,(function(){var r,n,a,o,s,l;return c(this,(function(u){switch(u.label){case 0:if(!(r=e.querySelectorAll("image")).length)return[3,2];for(n=[],a=r.length,o=0;o<a;o++)s=r[o],(l=s.getAttributeNS(t.XLINK,"href"))&&(-1!==l.indexOf("data:image")||(-1!==l.indexOf(".svg")?n.push(this.svgToDataURI(s,i)):n.push(this.imageToDataURI(s,i))));return[4,Promise.all(n)];case 1:return u.sent(),[2];case 2:return[2]}}))}))},t.prototype.prepForeignObjects=function(e,t){return u(this,void 0,void 0,(function(){var t,i,r;return c(this,(function(n){if((t=e.querySelectorAll("foreignObject")).length)for(i=t.length,r=0;r<i;r++)this.temporarilyRemoveObject(t[r]);return[2]}))}))},t.prototype.imageToDataURI=function(e,i){return u(this,void 0,void 0,(function(){var r,n,a;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(t.XLINK,"href"),null,null,"anonymous")];case 1:r=o.sent(),(n=document.createElement("canvas")).width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0);try{return a=n.toDataURL(),e.setAttribute("href",a),[2,a]}catch(t){return!1!==i.keepTainted&&this.temporarilyRemoveObject(e),[2,void 0]}return[3,3];case 2:return o.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(e),[2,void 0];case 3:return[2]}}))}))},t.prototype.svgToDataURI=function(e,i){return u(this,void 0,void 0,(function(){var r,n,a,o;return c(this,(function(s){switch(s.label){case 0:r=e.getAttributeNS(t.XLINK,"href"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,sn(r)];case 2:return n=s.sent(),a=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+a+","+btoa(n.response),options:i}).data,e.setAttributeNS(t.XLINK,"href",o),[2,o];case 3:return s.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(e),[2,void 0];case 4:return[2]}}))}))},t.prototype.temporarilyRemoveObject=function(e,t){var i=e.parentElement||e.parentNode;t||(t=this.sprite.paper.add("g").node),i.insertBefore(t,e),e.textContent,i.removeChild(e),this._removedObjects.push({element:e,placeholder:t})},t.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop();){(e.placeholder.parentElement||e.placeholder.parentNode).insertBefore(e.element,e.placeholder)}},t.prototype.simplifiedImageExport=function(){return u(this,void 0,void 0,(function(){var e,t,i,r,n,a,o;return c(this,(function(s){switch(s.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(e=lt.getCache("simplifiedImageExport"))||!0===e)return[2,e];s.label=1;case 1:s.trys.push([1,6,,7]),(t=document.createElement("canvas")).width=1,t.height=1,i=t.getContext("2d"),r=this.getDOMURL(),n=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),a=r.createObjectURL(n),o=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.loadNewImage(a,1,1)];case 3:return o=s.sent(),[3,5];case 4:return s.sent(),[2,!1];case 5:i.drawImage(o,0,0),r.revokeObjectURL(a);try{return lt.setCache("simplifiedImageExport",!0),[2,!0]}catch(e){return lt.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return s.sent(),lt.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}}))}))},t.prototype.loadNewImage=function(e,t,i,r){return new Promise((function(n,a){var o;function s(){if(r){var t=o.src;o.onerror=function(){a(new Error('Loading image "'+e+'" failed'))},o.removeAttribute("crossorigin"),o.src="",o.src=t}else a(new Error('Loading image "'+e+'" failed'))}o=t&&i?new Image(t,i):new Image,r&&o.setAttribute("crossOrigin",r),o.onload=function(){n(o)},o.onabort=s,o.onerror=s,o.src=e}))},t.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},t.prototype.getSVG=function(e,t,i){return void 0===i&&(i=!0),u(this,void 0,void 0,(function(){var r,n,a,o,s,l,u,h,d,p;return c(this,(function(c){switch(c.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),_(t)||(t=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return c.sent(),n=this.sprite.pixelWidth,a=this.sprite.pixelHeight,o=ur(this.sprite.dom),s=cr(this.sprite.dom),l=t.scale||1,u=this.getPixelRatio(t),l=this.getAdjustedScale(n*u,a*u,l,t),h=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,n,a,l,o,s),d=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:t}).charset,p=this.adapter.apply("getSVG",{data:i?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(h):h,options:t}).data,r||this.restoreNonExportableSprites(),[2,p]}}))}))},t.prototype.normalizeSVG=function(e,t,i,r,n,a,o,s){var l="";i&&(l+='width="'+Math.round(i*(n||1))+'px" '),r&&(l+='height="'+Math.round(r*(n||1))+'px" ');var u="";a&&(u+="font-family: "+a.replace(/"/g,"")+";"),o&&(u+="font-size: "+o+";"),n&&(l+='viewBox="0 0 '+i+" "+r+'" ');var c=[],h=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(h)for(var d=0;d<h.length;d++)e=e.replace(h[d],"____"),c.push(h[d]);e.match(/<svg/)?""!==l&&(e=(e=(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+l)):e='<?xml version="1.0" encoding="utf-8"?><svg '+l+' style="'+u+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",s&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+s.rgba+'"/>')),/MSIE |Trident\//.test(navigator.userAgent)&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var p=new RegExp("url\\("+Gt(Vt()),"g");if(e=(e=e.replace(p,"url(#")).replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),c.length)for(d=0;d<c.length;d++)e=e.replace("____",c[d]);return e=this.adapter.apply("normalizeSVG",{data:e,options:t}).data},t.prototype.serializeElement=function(e){return(new XMLSerializer).serializeToString(e)},t.prototype.getPDF=function(e,t){return u(this,void 0,void 0,(function(){function i(e){var t={};t.normal=e.normal.path,f[e.normal.path]=e.normal.bytes,e.bold?(t.bold=e.bold.path,f[e.bold.path]=e.bold.bytes):t.bold=e.normal.path,e.italics?(t.italics=e.italics.path,f[e.italics.path]=e.italics.bytes):t.italics=e.normal.path,e.bolditalics?(t.bolditalics=e.bolditalics.path,f[e.bolditalics.path]=e.bolditalics.bytes):t.bolditalics=e.normal.path,p[e.name]=t}var r,n,a,o,s,l,u,h,d,p,f;return c(this,(function(c){switch(c.label){case 0:return[4,this.getImage(t.imageFormat||"png",t)];case 1:return r=c.sent(),[4,this.pdfmake];case 2:return n=c.sent(),a=[30,30,30,30],o={pageSize:t.pageSize||"A4",pageOrientation:t.pageOrientation||"portrait",pageMargins:t.pageMargins||a,defaultStyle:{font:t.font?t.font.name:void 0},content:[]},s=this.adapter.apply("title",{title:this.title,options:t}).title,l=0,s&&(o.content.push({text:s,fontSize:t.fontSize||14,bold:!0,margin:[0,0,0,15]}),l+=50),t.addURL&&(o.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:t.fontSize,margin:[0,0,0,15]}),l+=50),"pdfdata"!=e&&o.content.push({image:r,alignment:t.align||"left",fit:this.getPageSizeFit(o.pageSize,o.pageMargins,l)}),"pdfdata"==e||t.addData?(h=(u=o.content).push,d={},[4,this.getPDFData("pdf",t)]):[3,4];case 3:h.apply(u,[(d.table=c.sent(),d.fontSize=t.fontSize||14,d)]),c.label=4;case 4:return o=this.adapter.apply("pdfmakeDocument",{doc:o,options:t}).doc,p=null,f=null,t.font&&(p={},f={},i(t.font),t.extraFonts&&de(t.extraFonts,i)),[4,new Promise((function(e,t){n.createPdf(o,null,p,f).getDataUrl((function(t){e(t)}))}))];case 5:return[2,c.sent()]}}))}))},t.prototype.getPDFData=function(e,t){return u(this,void 0,void 0,(function(){var e,i,r,n,a,o,s=this;return c(this,(function(l){if(e={body:[]},i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,r=this.data,t.pivot)n=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,He(i,(function(i,n){var a=[];t.addColumnNames&&a.push(n);for(var o=r.length,l=0;l<o;l++){var u=r[l][i];a.push(s.convertToSpecialFormat(i,u,t,!0))}e.body.push(s.getPDFDataRow(a,t,void 0,!0))}),(function(e,t){var i=n.indexOf(e),r=n.indexOf(t);return i>r?1:i<r?-1:0}));else for(t.addColumnNames&&(e.body.push(this.getPDFDataRow(i,t,void 0,!0)),e.headerRows=1),a=r.length,o=0;o<a;o++)e.body.push(this.getPDFDataRow(r[o],t,i));return[2,this.adapter.apply("pdfmakeTable",{table:e,options:t}).table]}))}))},t.prototype.getPDFDataRow=function(e,t,i,r){var n=this;void 0===r&&(r=!1);var a=[];i||(i=e);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return He(i,(function(i,o){var s=n.convertEmptyValue(i,e[i],t),l=r?s:n.convertToSpecialFormat(i,s,t);l=""+l,a.push(l)}),(function(e,t){var i=o.indexOf(e),r=o.indexOf(t);return i>r?1:i<r?-1:0})),a},t.prototype.getPageSizeFit=function(e,t,i){void 0===i&&(i=0);var r=[0,0,0,0];"number"==typeof t?r=[t,t,t,t]:2==t.length?r=[t[0],t[1],t[0],t[1]]:4==t.length&&(r=t);var n={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[e];return n[0]-=r[0]+r[2],n[1]-=r[1]+r[3]+i,n},t.prototype.getExcel=function(e,t){return u(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,u,h,d=this;return c(this,(function(c){switch(c.label){case 0:return _(t)||(t=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(i=c.sent(),r=this.adapter.apply("xlsxWorkbookOptions",{xlsx:i,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,n=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:i,name:this.title||this.language.translate("Data")}).name),a={SheetNames:[n],Sheets:{}},o=[],s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,t.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,He(s,(function(e,i){var r=[];t.addColumnNames&&r.push(i);for(var n=d.data.length,a=0;a<n;a++){var s=d.data[a][e];r.push(d.convertToSpecialFormat(e,s,t,!0))}o.push(d.getExcelRow(r,t,void 0,!0))}),(function(e,t){var i=l.indexOf(e),r=l.indexOf(t);return i>r?1:i<r?-1:0}));else for(t.addColumnNames&&o.push(this.getExcelRow(s,t,void 0,!0)),u=this.data.length,h=0;h<u;h++)o.push(this.getExcelRow(this.data[h],t,s));return a.Sheets[n]=i.utils.aoa_to_sheet(o),a=this.adapter.apply("xlsxWorkbook",{xlsx:i,workbook:a,options:t}).workbook,[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+i.write(a,r),options:t}).data]}}))}))},t.prototype.normalizeExcelSheetName=function(e){return $t(e=e.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},t.prototype.getExcelRow=function(e,t,i,r){var n=this;void 0===r&&(r=!1);var a=[];i||(i=e);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return He(i,(function(i,o){var s=n.convertEmptyValue(i,e[i],t),l=r?s:n.convertToSpecialFormat(i,s,t,!0);a.push(l)}),(function(e,t){var i=o.indexOf(e),r=o.indexOf(t);return i>r?1:i<r?-1:0})),a},t.prototype.getCSV=function(e,t,i){return void 0===i&&(i=!0),u(this,void 0,void 0,(function(){var r,n,a,o,s,l,u,h,d,p=this;return c(this,(function(c){if(_(t)||(t=this.getFormatOptions("csv")),r="",n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,a="",o=this.data,t.pivot)s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,He(n,(function(e,i){var n=[];t.addColumnNames&&n.push(i);for(var s=o.length,l=0;l<s;l++){var u=o[l][e];n.push(p.convertToSpecialFormat(e,u,t,!0))}r+=a+p.getCSVRow(n,t,void 0,!0),a="\n"}),(function(e,t){var i=s.indexOf(e),r=s.indexOf(t);return i>r?-1:i<r?1:0}));else{for(l=o.length,u=0;u<l;u++)h=this.getCSVRow(o[u],t,n),t.reverse?r=h+a+r:r+=a+h,a="\n";t.addColumnNames&&(r=this.getCSVRow(n,t,void 0,!0)+a+r)}return d=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getCSV",{data:i?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(r):r,options:t}).data]}))}))},t.prototype.getCSVRow=function(e,t,i,r){var n=this;void 0===r&&(r=!1);var a=t.separator||",",o=[];i||(i=e);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return He(i,(function(i,s){var l=n.convertEmptyValue(i,e[i],t),u=r?l:n.convertToSpecialFormat(i,l,t);u=(u=""+u).replace(/"/g,'""'),(t.forceQuotes||u.search(new RegExp('"|\n|'+a,"g"))>=0)&&(u='"'+u+'"'),o.push(u)}),(function(e,t){var i=s.indexOf(e),r=s.indexOf(t);return i>r?1:i<r?-1:0})),o.join(a)},t.prototype.getHTML=function(e,t,i){return void 0===i&&(i=!0),u(this,void 0,void 0,(function(){var r,n,a,o,s,l,u,h=this;return c(this,(function(c){if(_(t)||(t=this.getFormatOptions("html")),r="<table>",t.tableClass&&(r='<table class="'+t.tableClass+'">'),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,a=this.data,t.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,r+="\n<tbody>",He(n,(function(e,i){var n=[];t.addColumnNames&&n.push(i);for(var o=a.length,s=0;s<o;s++){var l=a[s][e];n.push(h.convertToSpecialFormat(e,l,t,!0))}r+="\n"+h.getHTMLRow(n,t,void 0,!0)}),(function(e,t){var i=o.indexOf(e),r=o.indexOf(t);return i>r?-1:i<r?1:0})),r+="\n</tbody>";else{for(t.addColumnNames&&(r+="\n<thead>\n"+this.getHTMLRow(n,t,void 0,!0,!0)+"\n</thead>"),r+="\n<tbody>",s=a.length,l=0;l<s;l++)r+="\n"+this.getHTMLRow(a[l],t,n);r+="\n</tbody>"}return r+="\n</table>",u=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getHTML",{data:i?"data:"+this.getContentType(e)+";"+u+","+encodeURIComponent(r):r,options:t}).data]}))}))},t.prototype.getHTMLRow=function(e,t,i,r,n){var a=this;void 0===r&&(r=!1),void 0===n&&(n=!1);var o="\t<tr>";t.rowClass&&(o='\t<tr class="'+t.rowClass+'">'),i||(i=e);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,l=n?"th":"td",u=!0;return He(i,(function(i,n){var s=a.convertEmptyValue(i,e[i],t),c=r?s:a.convertToSpecialFormat(i,s,t);c=(c=""+c).replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}));var h=l;t.pivot&&u&&(h="th"),t.cellClass?o+="\n\t\t<"+h+' class="'+t.cellClass+'">'+c+"</"+h+">":o+="\n\t\t<"+h+">"+c+"</"+h+">",u=!1}),(function(e,t){var i=s.indexOf(e),r=s.indexOf(t);return i>r?1:i<r?-1:0})),o+="\n\t</tr>"},t.prototype.getJSON=function(e,t,i){return void 0===i&&(i=!0),u(this,void 0,void 0,(function(){var r,n,a,o,s,l,u,h,d=this;return c(this,(function(c){if(_(t)||(t=this.getFormatOptions("json")),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,this._dynamicDataFields)r=this.data;else for(r=[],a=this.data,o=function(e,i){var o=a[i];if("object"==typeof o){var s={};ze(o,(function(e,i){_(n[e])&&(s[n[e]]=d.convertToSpecialFormat(e,i,t))})),r.push(s)}},s=a.length,l=0;l<s;l++)o(0,l);return u=JSON.stringify(r,(function(e,i){return"object"==typeof i&&ze(i,(function(e,r){i[e]=d.convertToSpecialFormat(e,r,t)})),i}),t.indent),h=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getJSON",{data:i?"data:"+this.getContentType(e)+";"+h+","+encodeURIComponent(u):u,options:t}).data]}))}))},t.prototype.convertToSpecialFormat=function(e,t,i,r){if("number"==typeof t)if(this.isDateField(e))t=new Date(t);else{if(this.isDurationField(e))return this.durationFormatter.format(t,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(t,this.numberFormat)}return t instanceof Date?i.useTimestamps?t=t.getTime():i.useLocale?r||(t=t.toLocaleString()):t=this.dateFormatter.format(t,this.dateFormat):A(t)&&this.isDateField(e)&&this.dateFormat&&(t=this.dateFormatter.format(this.dateFormatter.parse(t),this.dateFormat)),t},t.prototype.convertEmptyValue=function(e,t,i){return _(t)?t:i.emptyAs},t.prototype.download=function(e,t){return u(this,void 0,void 0,(function(){var i,r,n,a,o,s,l,u,h,d,p,f,m,y,g;return c(this,(function(c){if(this.msBlobDownloadSupport()){if(f=e.split(";"),m=f.shift().replace(/data:/,""),e=decodeURIComponent(f.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(m))return i=new Blob([e],{type:m}),window.navigator.msSaveBlob(i,t),[2,!0];try{n=atob(e),e=n}catch(e){return[2,!1]}for(s=new Array(e.length),l=0;l<e.length;++l)u=e.charCodeAt(l),s[l]=u;h=new Blob([new Uint8Array(s)],{type:m}),window.navigator.msSaveBlob(h,t)}else if(this.blobDownloadSupport()){if((r=document.createElement("a")).download=t,document.body.appendChild(r),f=e.split(";"),m=f.shift().replace(/data:/,""),e=decodeURIComponent(f.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(m))return a=new Blob([e],{type:m}),o=window.URL.createObjectURL(a),r.href=o,r.download=t,r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(o)}),100),[2,!0];try{n=atob(e),e=n}catch(e){return[2,!1]}for(s=new Array(e.length),l=0;l<e.length;++l)u=e.charCodeAt(l),s[l]=u;h=new Blob([new Uint8Array(s)],{type:m}),d=window.URL.createObjectURL(h),r.href=d,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){window.URL.revokeObjectURL(d)}),100)}else this.linkDownloadSupport()?((p=document.createElement("a")).download=t,p.href=e,document.body.appendChild(p),p.click(),document.body.removeChild(p)):this.legacyIE()?4===(f=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==f[2]?f[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(m=void 0,t.match(/\.svg$/)?m="image/svg+xml":(m="text/plain",t+=".txt"),(y=document.createElement("iframe")).width="1px",y.height="1px",y.style.display="none",document.body.appendChild(y),(g=y.contentDocument).open(m,"replace"),g.write(decodeURIComponent(f[3])),g.close(),g.execCommand("SaveAs",!0,t),document.body.removeChild(y))):window.location.href=e;return[2,!0]}))}))},t.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},t.prototype.linkDownloadSupport=function(){var e=lt.getCache("linkDownloadSupport");if(!1===e||!0===e)return e;var t=void 0!==document.createElement("a").download;return lt.setCache("linkDownloadSupport",t),t},t.prototype.blobDownloadSupport=function(){return _(window.Blob)},t.prototype.msBlobDownloadSupport=function(){return _(window.navigator.msSaveOrOpenBlob)},t.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==e.getElementsByTagName("i").length},t.prototype.print=function(e,t,i){return u(this,void 0,void 0,(function(){return c(this,(function(r){return"css"==t.printMethod?[2,this.printViaCSS(e,t,i)]:[2,this.printViaIframe(e,t,i)]}))}))},t.prototype.printViaCSS=function(e,t,i){return u(this,void 0,void 0,(function(){var r,n,a,o;return c(this,(function(s){return r=document.documentElement.scrollTop||document.body.scrollTop,n=new sr(nr(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),i&&document&&document.title&&(a=document.title,document.title=i),(o=new Image).src=e,o.style.maxWidth="100%",o.style.display="block",o.style.position="relative",o.style.visibility="visible",o.style.opacity="1",o.style.clipPath="none",document.body.appendChild(o),this.setTimeout((function(){window.print()}),50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t.delay<1e3?t.delay=1e3:t.delay<100&&(t.delay=100),this.setTimeout((function(){document.body.removeChild(o),n.dispose(),a&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=r}),t.delay||500),[2,!0]}))}))},t.prototype.printViaIframe=function(e,t,i){return u(this,void 0,void 0,(function(){var r,n;return c(this,(function(a){return(r=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(r),r.contentWindow.document.open(),r.contentWindow.document.close(),(n=new Image).src=e,n.style.maxWidth="100%",n.style.height="auto",i&&(r.contentWindow.document.title=i),r.contentWindow.document.body.appendChild(n),r.load=function(){r.contentWindow.document.body.appendChild(n)},this.setTimeout((function(){try{r.contentWindow.document.execCommand("print",!1,null)||r.contentWindow.print()}catch(e){r.contentWindow.print()}}),t.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t.delay<1e3?t.delay=1e3:t.delay<100&&(t.delay=100),this.setTimeout((function(){document.body.removeChild(r)}),t.delay+50||100),[2,!0]}))}))},t.prototype.findBackgroundColor=function(e){var t=1,i=tr(e,"background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==i)&&(t=0),0==t){var r=e.parentElement;return r?this.findBackgroundColor(r):Ft("#fff")}return Ft(i,t)},Object.defineProperty(t.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),t.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate())},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new en,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new pt),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new Zr,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new pt),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new tn,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new pt),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e},enumerable:!0,configurable:!0}),t.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&de(this.data,(function(t){ze(t,(function(t,i){_(e._dataFields[t])||(e._dataFields[t]=e.adapter.apply("dataFieldName",{name:t,field:t}).name)}))}))},t.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},t.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},t.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},t.prototype.getContentType=function(e){var t="";switch(e){case"png":case"gif":t="image/"+e;break;case"jpg":t="image/jpeg";break;case"svg":t="image/svg+xml";break;case"csv":t="text/csv";break;case"json":t="application/json";break;case"html":t="text/html";break;case"pdf":case"pdfdata":t="application/pdf";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:t,type:e}).contentType},Object.defineProperty(t.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),t.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...")},t.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1)},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),t.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},t.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=new Xr),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal||(this._modal=new Er,this._modal.adapter.add("classPrefix",(function(e){return e=Bi.classNamePrefix+e}))),this._modal},enumerable:!0,configurable:!0}),t.prototype.showModal=function(e,t){this.hideModal(),this.hidePreloader();var i=this.modal;i.container=this.sprite.svgContainer.SVGContainer,i.content=e,i.readerTitle=t,i.open()},t.prototype.hideModal=function(){this._modal&&this.modal.close()},t.prototype._canvg=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,i.e(1).then(i.bind(null,13))];case 1:return null!=(e=t.sent()).default?[2,e.default]:[2,e]}}))}))},Object.defineProperty(t.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfmake",{get:function(){return null==nn&&(nn=function(){return u(this,void 0,void 0,(function(){var e,t,r,n;return c(this,(function(a){switch(a.label){case 0:return[4,Promise.all([i.e(2).then(i.bind(null,11)).then((function(e){return e.p})),i.e(2).then(i.bind(null,12))])];case 1:return e=a.sent(),t=e[0],r=e[1],(n=window).pdfMake=n.pdfMake||{},n.pdfMake.vfs=r.default,t.vfs=r.default,[2,t]}}))}))}()),nn},enumerable:!0,configurable:!0}),t.prototype._xlsx=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,Promise.all([i.e(3),i.e(4)]).then(i.bind(null,14)).then((function(e){return e.x}))];case 1:return[2,e.sent()]}}))}))},Object.defineProperty(t.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),t.prototype.setFormatOptions=function(e,t){this._formatOptions.setKey(e,t)},t.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),t.prototype._disablePointers=function(){_(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},t.prototype._releasePointers=function(){_(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},t.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var t=this.sprite.svgContainer;t&&de(t.nonExportableSprites,(function(t){t.isHidden||t.isHiding||!t.visible||e._hiddenObjects.push(t),t.hide(0)})),this._objectsAlreadyHidden=!0}},t.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(de(this._hiddenObjects,(function(e){e.show(0)})),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},t.prototype.awaitValidSprites=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return e=[],this.validateSprites.length&&de(this.validateSprites,(function(t,i){t.invalid&&e.push(new Promise((function(e,i){t.events.once("validated",(function(t){e()}))})))})),e.length?[4,Promise.all(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.processConfig=function(t){lt.registeredClasses.ExportMenu=on,t&&_(t.menu)&&!_(t.menu.type)&&(t.menu.type="ExportMenu"),e.prototype.processConfig.call(this,t)},t.XLINK="http://www.w3.org/1999/xlink",t}(an),fn=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],mn=function(e){function t(){var t=e.call(this)||this;return t.properties={},t._eventDispatcher=new Ri(t),t._bindings={},t._isTemplate=!1,t._isPath=!1,t._inited=!1,t._ready=!1,t.isHiding=!1,t._isHidden=!1,t.isShowing=!1,t.isStandaloneInstance=!1,t._isActive=!1,t._mask=new Ie,t._positionPrecision=3,t._language=new Ie,t._exporting=new Ie,t._exportable=!0,t._bbox={x:0,y:0,width:0,height:0},t.invalid=!1,t.positionInvalid=!1,t.propertyFields={},t.applyOnClones=!1,t._measuredWidthSelf=0,t._measuredHeightSelf=0,t.maxLeft=0,t.maxRight=0,t.maxTop=0,t.maxBottom=0,t.maxLeftSelf=0,t.maxRightSelf=0,t.maxTopSelf=0,t.maxBottomSelf=0,t._isDragged=!1,t._isResized=!1,t._disabled=!1,t._internalDisabled=!1,t._updateDisabled=!1,t._internalDefaultsApplied=!1,t.rollOutDelay=0,t.isBaseSprite=!1,t.shouldClone=!0,t.appeared=!1,t.ex=0,t.ey=0,t.dragWhileResize=!1,t.measureFailed=!1,t.preventShow=!1,t.cloneTooltip=!0,t.className="Sprite",t._disposers.push(t._eventDispatcher),t.uid,t.group=t.paper.addGroup("g"),t.setPropertyValue("scale",1),t.setPropertyValue("rotation",0),t.setPropertyValue("align","none"),t.setPropertyValue("valign","none"),t.setPropertyValue("pixelPerfect",!1),t.setPropertyValue("visible",!0),t.setPropertyValue("tooltipPosition","fixed"),t.setPropertyValue("verticalCenter","none"),t.setPropertyValue("horizontalCenter","none"),t.setPropertyValue("tooltipX",m(50)),t.setPropertyValue("tooltipX",m(50)),t.setPropertyValue("marginTop",0),t.setPropertyValue("marginBottom",0),t.setPropertyValue("marginLeft",0),t.setPropertyValue("marginRight",0),t.setPropertyValue("dx",0),t.setPropertyValue("dy",0),t.setPropertyValue("paddingTop",0),t.setPropertyValue("paddingBottom",0),t.setPropertyValue("paddingRight",0),t.setPropertyValue("paddingLeft",0),t.setPropertyValue("togglable",!1),t.setPropertyValue("hidden",!1),t.setPropertyValue("urlTarget","_self"),t.setPropertyValue("alwaysShowTooltip",!1),t.setPropertyValue("showTooltipOn","hover"),t._prevMeasuredWidth=0,t._prevMeasuredHeight=0,t._measuredWidth=0,t._measuredHeight=0,t._isMeasured=!0,t.invalidate(),t.applyTheme(),t._disposers.push(t.events),t._disposers.push(t.group),t._disposers.push(t._mask),t._disposers.push(t._language),t._disposers.push(t._exporting),t._disposers.push(new Ce((function(){ze(t._bindings,(function(e,t){t.dispose()}))}))),t.setPropertyValue("interactionsEnabled",!0),t}return s(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new _t(this)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.applyTheme=function(){e.prototype.applyTheme.call(this)},t.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var t=this._parent;return t?t.getCurrentThemes():lt.themes},t.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},t.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,lt.addToInvalidSprites(this),vn.requestFrame())},t.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,lt.removeFromInvalidSprites(this),this.afterDraw()},t.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,lt.addToInvalidPositions(this),vn.requestFrame())},t.prototype.validatePosition=function(){var e=this.pixelX,t=this.pixelY,i=this.dx,r=this.dy,n=e+i,a=t+r;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var o=this.measure(),s=this.group.transformString;this.group.moveTo({x:n,y:a}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(s!=this.group.transformString||o)&&(null==s?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),"hit"!=this.showTooltipOn&&"always"!=this.showTooltipOn||this.updateTooltipPosition()),e+i==n&&t+r==a&&(lt.removeFromInvalidPositions(this),this.positionInvalid=!1);var l=this._maskRectangle;l&&this._clipElement.moveTo({x:l.x-e,y:l.y-t})},t.prototype.beforeDraw=function(){},t.prototype.draw=function(){},t.prototype.afterDraw=function(){var e,t;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var i=h(this._adapterO.keys()),r=i.next();!r.done;r=i.next()){var n=r.value;switch(n){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[n]=this[n]}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},t.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},t.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},t.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},t.prototype.updateFilterScale=function(){var e=this;Xe(this.filters.iterator(),(function(t){t.scale=e.globalScale}))},t.prototype.removeFromInvalids=function(){lt.removeFromInvalidSprites(this),lt.removeFromInvalidPositions(this)},t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),this.isMeasured=t.isMeasured,this.states.copyFrom(t.states),t.filters.length>0&&t.filters.each((function(e){i.filters.push(e.clone())})),t._adapterO&&this.adapter.copyFrom(t._adapterO),t._interaction&&this.interactions.copyFrom(t.interactions),t._plugins&&this.plugins.copyFrom(t.plugins),this.configField=t.configField,this.applyOnClones=t.applyOnClones,this.disabled=t.disabled,this.virtualParent=t.virtualParent,this.exportable=t.exportable,t._tooltip&&(this._tooltip?this._tooltip.copyFrom(t.tooltip):t.cloneTooltip?this.tooltip=t.tooltip.clone():this._tooltip=t.tooltip),this._showSystemTooltip=t.showSystemTooltip,Lt(t.propertyFields,this.propertyFields),Lt(t.properties,this),t.fillModifier&&(this.fillModifier=t.fillModifier.clone()),t.strokeModifier&&(this.strokeModifier=t.strokeModifier.clone())},t.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(e.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var t=this._clones.length-1;t>=0;t--){this._clones.getIndex(t).dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var i=this.stroke;!i||i instanceof kt||!i.dispose||this.clonedFrom&&this.clonedFrom.stroke==i||i.dispose();var r=this.fill;if(!r||r instanceof kt||!r.dispose||this.clonedFrom&&this.clonedFrom.fill==r||r.dispose(),_(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var n=this._filters.getIndex(0);n.dispose(),this._filters.removeValue(n)}this._alwaysShowDisposers=void 0}},Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=b(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof gn&&Xe(this.children.iterator(),(function(t){t.isTemplate=e})),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSystemTooltip",{get:function(){return _(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(e){e=b(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(e){this._topParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){this.paper;var t=this._parent;t!=e&&(t&&t.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),t.prototype.handleAlwaysShow=function(){this.showTooltip()},t.prototype.handleAlwaysShowTooltip=function(){var e=this,t=this._alwaysShowDisposers;if(t&&de(t,(function(e){e.dispose()})),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=e;){var i=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(i),this._alwaysShowDisposers.push(i),e=e.parent}},Object.defineProperty(t.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var t=this.stroke;if(t&&t.element&&this.paper.appendDef(t.element),this.fillModifier&&this.fill instanceof kt){var i=this.fillModifier.modify(this.fill);i&&i.element&&this.paper.appendDef(i.element)}if(this.strokeModifier&&this.stroke instanceof kt){var r=this.strokeModifier.modify(this.stroke);r&&r.element&&this.paper.appendDef(r.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(t.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new at),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new at),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:Hr()},set:function(e){this.setPaper(e)},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){return this._paper!=e&&(this._paper=e,this.appendDefs(),!0)},Object.defineProperty(t.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;return e?e.htmlContainer:void 0},set:function(e){this._htmlContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters||(this._filters=new pt,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new ht(this._filters))),this._filters},enumerable:!0,configurable:!0}),t.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},t.prototype.setSVGAttribute=function(e){this.group.attr(e)},t.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e)},t.prototype.setClassName=function(){var e=this.className,t=Bi.classNamePrefix;this.element&&this.element.addClass(t+e),this.group.addClass(t+e+"-group"),_(this.id)&&this.group.addClass(t+this.id),this.userClassName&&this.group.addClass(this.userClassName)},t.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},t.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},t.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=lt.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+Vt()+e+'")'})}},t.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof gn){this._clipElement.attr({width:z(0,e.pixelWidth),height:z(0,e.pixelHeight)});var t=hi({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=t.x,this._clipPath.y=t.y}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation},t.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var t=100,i=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var r="filter-"+this.uid;this.filterElement.attr({id:r}),Xe(this.filters.iterator(),(function(r){r.sprite=e,r.paper=e.paper,e.filterElement.attr({filterUnits:r.filterUnits}),r.appendPrimitives(e.filterElement),r.width>t&&(t=r.width),r.height>i&&(i=r.height),r.scale=e.globalScale}));var n=t+"%",a=i+"%";this.filterElement.attr({width:n,height:a,x:-(t-100)/2+"%",y:-(i-100)/2+"%"}),this.group.attr({filter:'url("'+Vt()+r+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},t.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},t.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(e){this._svgContainer=e},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height}}},t.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,t=this.bbox,i=0,r=0,n=t.x,a=t.y,o=t.width,s=t.height,l=this.pixelPaddingLeft,u=this.pixelPaddingRight,c=this.pixelPaddingTop,h=this.pixelPaddingBottom,d=z(o+l+u,this.pixelWidth),p=z(s+c+h,this.pixelHeight),f=t.x,m=t.x+d,y=t.y,g=t.y+p,v=this.horizontalCenter,b=this.verticalCenter;switch(v){case"none":i=n+l;break;case"left":i=l;break;case"middle":i=l-(o+u+l)/2;break;case"right":i=-u-o}switch(b){case"none":r=a+c;break;case"top":r=c;break;case"middle":r=c-(s+h+c)/2;break;case"bottom":r=-h-s}this._measuredHeight=p,this._measuredWidth=d;var x=L(i-n,this._positionPrecision,!0),S=L(r-a,this._positionPrecision,!0);this.ex=x-l,this.ey=S-c,this.maxLeft=f+x-l,this.maxRight=m+x-l,this.maxTop=y+S-c,this.maxBottom=g+S-c,this.pixelPerfect&&0==Bi.pixelPerfectPrecision&&(x-=.5,S-=.5),this.element.moveTo({x:x,y:S}),e!=this.element.transformString&&this.dispatchImmediately("transformed")}},t.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,t=this._measuredHeight,i=this.maxLeft,r=this.maxRight,n=this.maxTop,a=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=t;var o=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var s=this.paper.svg,l=s.createSVGMatrix(),u=this.rotation,c=this.scale;this.nonScaling&&(c=this.scale/this.globalScale),l.a=W(u)*c,l.c=-B(u)*c,l.e=0,l.b=B(u)*c,l.d=W(u)*c,l.f=0;var h=s.createSVGPoint();h.x=i,h.y=n;var d=s.createSVGPoint();d.x=r,d.y=n;var p=s.createSVGPoint();p.x=r,p.y=a;var f=s.createSVGPoint();f.x=i,f.y=a;var m=h.matrixTransform(l),y=d.matrixTransform(l),g=p.matrixTransform(l),v=f.matrixTransform(l);i=Math.min(m.x,y.x,g.x,v.x),r=Math.max(m.x,y.x,g.x,v.x),n=Math.min(m.y,y.y,g.y,v.y),e=r-i,t=(a=Math.max(m.y,y.y,g.y,v.y))-n,this.maxLeft=L(i,o,!0),this.maxRight=L(r,o,!0),this.maxTop=L(n,o,!0),this.maxBottom=L(a,o,!0)}return this._measuredWidth=L(e,o,!0),this._measuredHeight=L(t,o,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(_(this.tooltipText)||_(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},t.prototype.insertBefore=function(e){var t=this._parent;if(t){var i=t.children.indexOf(e);-1!==i&&(t.children.moveValue(this,i),t.sortChildren())}return this},t.prototype.insertAfter=function(e){var t=this._parent;if(t){var i=t.children.indexOf(e);-1!==i&&(t.children.moveValue(this,i+1),t.sortChildren())}return this},t.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},t.prototype.getRelativeX=function(e){return e instanceof f?e.value:this._parent?e/this._parent.innerWidth:0},t.prototype.getRelativeY=function(e){return e instanceof f?e.value:this._parent?e/this._parent.innerHeight:0},t.prototype.getPixelX=function(e){var t=0;if(T(e))t=e;else if(e instanceof f){var i=e.value;this._parent&&(t=L(this._parent.innerWidth*i,this._positionPrecision,!0))}return t},t.prototype.getPixelY=function(e){var t=0;if(T(e))t=e;else if(e instanceof f){var i=e.value;this._parent&&(t=L(this._parent.innerHeight*i,this._positionPrecision,!0))}return t},t.prototype.moveTo=function(e,t,i,r){this.isDragged&&!r||(e&&(T(e.x)&&this.setPropertyValue("x",L(e.x,this._positionPrecision,!0)),T(e.y)&&this.setPropertyValue("y",L(e.y,this._positionPrecision,!0))),T(t)&&(this.rotation=t),T(i)&&(this.scale=i),this.invalidatePosition())},Object.defineProperty(t.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var t=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof gn?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new we([e.events.on("maxsizechanged",(function(){t.inited&&t.applyMask()}),void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){(e=b(e))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var t=this.pixelX+this.maxLeft,i=this.pixelY+this.maxTop,r=t+this.maxRight,n=i+this.maxBottom,a=e.pixelX+e.maxLeft,o=e.pixelY+e.maxTop,s=a+e.maxRight,l=o+e.maxBottom;return!(a>r||s<t||o>n||l<i)},Object.defineProperty(t.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),t.prototype.isReady=function(){return this._ready},Object.defineProperty(t.prototype,"states",{get:function(){if(!this._states){var e=new Li;this._states=new ot(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new nt(this._states)),this._disposers.push(e)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){this.states.getKey("default")||(this.states.create("default").properties.opacity=1);return this.states.getKey("default")},enumerable:!0,configurable:!0}),t.prototype.processState=function(e){var t=e.newValue;if(t.sprite=this,t.name=e.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(_(this.tooltipHTML)||_(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(_(this.tooltipHTML)||_(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var i=this.clones.values,r=i.length,n=0;n<r;++n){var a=i[n];a.isDisposed()||a.states.setKey(t.name,t)}},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Ui(this._animations))),this._animations},enumerable:!0,configurable:!0}),t.prototype.getSvgPoint=function(e){try{var t=this.htmlContainer.getBoundingClientRect();return{x:e.x-t.left,y:e.y-t.top}}catch(t){return e}},t.prototype.animate=function(e,t,i){return new $i(this,e,t,i).start()},t.prototype.setState=function(e,t,i){var r;if(e instanceof Li)this.states.setKey(e.name,e),r=e;else if(!(r=this.states.getKey(e)))return;if("hover"==r.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==r.name?this.isHiding=!0:this.visible||this.setVisibility(r.properties.visible||this.defaultState.properties.visible),"active"==r.name&&(this.isActive=!0),T(t)||(t=r.transitionDuration),_(i)||(i=r.transitionEasing),this.transitTo(r,t,i)},t.prototype.applyCurrentState=function(e){var t=this.setState(this.defaultState,e);return this.isHover&&(t=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(t=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(t=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(t=this.setState("hoverActive",e))),t},t.prototype.transitTo=function(e,t,i){var r,n=this,a=[];if(ze(e.allValues,(function(e,t){var i=n[e];if(t!=i&&null==n.defaultState.properties[e]&&(n.defaultState.properties[e]=i),"__unset"!=t){var r={from:i,to:t,property:e};a.push(r)}})),a.length>0&&((r=this.animate(a,t,i))&&!r.isFinished()?this._disposers.push(r.events.on("animationended",(function(){n.dispatchImmediately("transitionended")}))):this.dispatchImmediately("transitionended")),e.filters.length>0){var o=[];Xe(e.filters.iterator(),(function(e){var r=e.clone();o.push(r);var a=[];Xe(n.filters.iterator(),(function(e){e.className==r.className&&(et(n.defaultState.filters.iterator(),(function(e){return e.className===r.className}))||n.defaultState.filters.push(e),ze(r.properties,(function(t,i){var r=e.properties[t];r!=i&&a.push({property:t,from:r,to:i})})))})),r.animate(a,t,i)})),this.filters.clear(),this.filters.pushAll(o)}return r},t.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(t.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(e){(e=b(e))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(e){e=b(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(e){e=b(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,!0===e?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e)},enumerable:!0,configurable:!0}),t.prototype.setActive=function(e){e=b(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return _(e)?e:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(e){this.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){if(e=b(e),this.getPropertyValue("disabled")!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var t=this._parent.element;t.hasChild(this.group)||t.add(this.group)}this instanceof gn?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),vn.requestFrame(),!0}return!1},Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new Zr,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new en,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new tn,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new Xr,this.language=e,e))},set:function(e){var t=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",(function(e){if(t._numberFormatter&&(t._numberFormatter.language=t.language),t._dateFormatter&&(t._dateFormatter.language=t.language),t._durationFormatter&&(t._durationFormatter.language=t.language),t._exporting.get()){var i=t._exporting.get();i.numberFormatter.language=t.language,i.dateFormatter.language=t.language,i.durationFormatter.language=t.language,i.language=t.language}t instanceof gn&&t.deepInvalidate()})))},enumerable:!0,configurable:!0}),t.prototype.populateString=function(e,t){if(_(e)){e=v(e);var i=(e=Qr().escape(e)).match(/\{([^}]+)\}/g),r=void 0;if(i)for(r=0;r<i.length;r++){var n=i[r].replace(/\{([^}]+)\}/,"$1"),a=this.getTagValue(n,"",t);_(a)||(a=""),e=e.split(i[r]).join(a)}e=Qr().unescape(e)}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},t.prototype.getTagValue=function(e,t,i){var r;_(i)||(i=this.dataItem);for(var n,a=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(n=o.exec(e));)if(n[3])a.push({prop:n[3]});else{var s=[];if(""!=qt(n[2]))for(var l=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,u=void 0;null!==(u=l.exec(n[2]));)s.push(u[1]||u[2]||u[3]);a.push({method:n[1],params:s})}if(i){_(r=this.getTagValueFromObject(a,i.values))&&!O(r)||(r=this.getTagValueFromObject(a,i));var c=i.dataContext;!_(r)&&c&&(_(r=this.getTagValueFromObject(a,i.dataContext))||(r=this.getTagValueFromObject([{prop:e}],c)),!_(r)&&c.dataContext&&(r=this.getTagValueFromObject(a,c.dataContext))),!_(r)&&i.component&&i.component.dataItem!==i&&(r=i.component.getTagValue(e,t))}return _(r)||(r=this.getTagValueFromObject(a,this.populateStringFrom||this)),!_(r)&&this._parent&&(r=this._parent.getTagValue(e,t)),r},t.prototype.getTagValueFromObject=function(e,t,i){for(var r=t,n=!1,a=0,o=e.length;a<o;a++){var s=e[a];if(s.prop){if(!_(r=r[s.prop]))return}else switch(s.method){case"formatNumber":var l=ti(r);_(l)&&(r=this.numberFormatter.format(l,i||s.params[0]||void 0),n=!0);break;case"formatDate":var u=void 0;if(!I(u=A(r)?this.dateFormatter.parse(r):ei(r))||y(u.getTime()))return;_(u)&&(r=this.dateFormatter.format(u,i||s.params[0]||void 0),n=!0);break;case"formatDuration":var c=ti(r);_(c)&&(r=this.durationFormatter.format(c,i||s.params[0]||void 0,s.params[1]||void 0),n=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[s.method]&&r[s.method].apply(this,s.params)}}if(!n){var h=[{method:"",params:i}];if(_(i)){var d=function(e){if(void 0===e)return"string";var t=(e=(e=(e=e.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return t?t[1]:"number"===e?"number":"date"===e?"date":"duration"===e?"duration":e.match(/[#0]/)?"number":e.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(i);"number"===d?h[0].method="formatNumber":"date"===d?h[0].method="formatDate":"duration"===d&&(h[0].method="formatDuration")}else T(r)?(h[0].method="formatNumber",h[0].params=""):I(r)&&(h[0].method="formatDate",h[0].params="");h[0].method&&(r=this.getTagValueFromObject(h,r))}return r},Object.defineProperty(t.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e)},enumerable:!0,configurable:!0}),t.prototype.setDataItem=function(e){var t=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var i=e.dataContext;i&&(this.config=i[this.configField],!this.config&&i.dataContext&&(this.config=i.dataContext[this.configField]))}var r=e.dataContext;if(r){var n=r.dataContext;ze(this.propertyFields,(function(e,i){if(_(r[i]))t[e]=r[i];else if(n){var a=n[i];if(_(a))t[e]=a}}))}}this.invalidate()}},t.prototype.getPropertyValue=function(e){var t=this.properties[e];return this._isTemplate||(this._adapterO&&(t=this._adapterO.apply(e,t)),t=Pt.applyAll(this,e,t)),t},t.prototype.setColorProperty=function(e,t,i){var r=this.properties[e];return!(t instanceof kt&&r instanceof kt&&t.toString()==r.toString())&&this.setPropertyValue(e,t,i)},t.prototype.setPercentProperty=function(e,t,i,r,n,a){if(T(t=P(t)))return T(n)&&(t=L(t,n,a)),this.setPropertyValue(e,t,i,r);var o=this.properties[e];return!(t instanceof f&&o instanceof f&&t.value==o.value)&&this.setPropertyValue(e,t,i,r)},t.prototype.setPropertyValue=function(e,t,i,r){if(this.properties[e]!==t&&!this.isDisposed()){if(this.properties[e]=t,this.events.isEnabled("propertychanged")){var n={type:"propertychanged",target:this,property:e};this.events.dispatchImmediately("propertychanged",n)}if(i&&this.invalidate(),r&&this.invalidatePosition(),this.applyOnClones)for(var a=this.clones.values,o=a.length,s=0;s<o;++s){var l=a[s];l.isDisposed()||(l[e]=t)}return!0}return!1},t.prototype.bind=function(e,t,i,r){var n=this;void 0===i&&(i=e),_(this._bindings[e])&&this._bindings[e].dispose(),this[e]=t[i],this._bindings[e]=t.events.on("propertychanged",(function(a){if(a.property===i){var o=t[i];r&&(o=r(o)),n[e]=o}}))},t.prototype.observe=function(e,t,i,r){var n=this;return new we(he(ge(e),(function(e){return n.events.on("propertychanged",(function(r){r.property===e&&t.call(i,r)}),i,r)})))},t.prototype.applyAccessibility=function(){var e=this.readerTitle,t=this.readerDescription,i=this.role,r=this.readerHidden,n=this.readerChecked,a=this.readerControls,o=this.readerLive,s=this.readerOrientation,l=this.readerValueNow,u=this.readerValueText,c=[],h=[],d=this.readerLabelledBy;d&&c.push(d);var p=this.readerDescribedBy;if(p&&h.push(p),e)if(c.length||this.showSystemTooltip){var f=this.titleElement,m=this.uid+"-title";f.node.textContent!=e&&(f.node.textContent=e,f.attr({id:m})),c.push(m)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(t){var y=this.descriptionElement,g=this.uid+"-description";y.node.textContent!=t&&(y.node.textContent=t,y.attr({id:g})),h.push(g)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);c.length?this.setSVGAttribute({"aria-labelledby":c.join(" ")}):this.removeSVGAttribute("aria-labelledby"),h.length?this.setSVGAttribute({"aria-describedby":h.join(" ")}):this.removeSVGAttribute("aria-describedby"),i?this.setSVGAttribute({role:i}):this.removeSVGAttribute("role"),r?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),n?this.setSVGAttribute({"aria-checked":"true"}):!1===n?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),a?this.setSVGAttribute({"aria-controls":a}):this.removeSVGAttribute("aria-controls"),o?this.setSVGAttribute({"aria-live":o}):this.removeSVGAttribute("aria-live"),s?this.setSVGAttribute({"aria-orientation":s}):this.removeSVGAttribute("aria-orientation"),l?this.setSVGAttribute({"aria-valuenow":l}):this.removeSVGAttribute("aria-valuenow"),u?this.setSVGAttribute({"aria-valuetext":u}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return _(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=S(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return _(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=S(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=S(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),"slider"==e&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=b(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=b(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=S(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=S(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=S(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=S(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=S(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=S(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=S(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactions",{get:function(){if(!this._interaction){var e=kr().getInteraction(this.dom);this._interaction=e,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction)}return this._interaction},enumerable:!0,configurable:!0}),t.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(t.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var t=this;e=b(e),this.setPropertyValue("focusable",e)&&(e||this.isInteractive())&&(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),this._tabindex||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,(function(){return new we([t.events.on("blur",t.handleBlur,t,!1),t.events.on("focus",t.handleFocus,t,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},t.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(t.prototype,"focusFilter",{get:function(){var e=this._focusFilter;return e||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(e){this._focusFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){var e=this._tabindex;return null!=e?e:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(e){e=x(e),this.setPropertyValue("tabindex",e)&&T(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=e>-1||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var t=this;e=b(e),this.setPropertyValue("draggable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,(function(){return new we([t.events.on("down",t.handleDown,t,!1),t.events.on("dragstart",t.handleDragStart,t,!1),t.events.on("drag",t.handleDragMove,t,!1),t.events.on("dragstop",t.handleDragStop,t,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleDragStart=function(e){this.interactions.isTouchProtected&&e.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},t.prototype.dragStart=function(e){this._isDragged=!0,kr().dragStart(this.interactions,e)},t.prototype.handleDragStop=function(e){this.interactions.isTouchProtected&&e.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},t.prototype.dragStop=function(e,t){this._isDragged=!1,kr().dragStop(this.interactions,e,t)},t.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var t=this.interactions.originalPosition;if(t&&this._isDragged){var i=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:t.x+e.shift.x/i,y:t.y+e.shift.y/i},void 0,void 0,!0)}this.dispatchImmediately("dragged",e)}},Object.defineProperty(t.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=b(e),this.setPropertyValue("inert",e)&&(e||this.isInteractive())&&(this.interactions.inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var t=this;e=b(e),this.setPropertyValue("hoverable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,(function(){return new we([t.events.on("over",t.handleOver,t,!1),t.events.on("out",t.handleOut,t,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var t=void 0;e&&e.pointer&&(t=pi(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(t)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},t.prototype.handleOut=function(e){var t=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout((function(){t.tooltip.isHover||(t.tooltip.targetSprite==t&&t.hideTooltip(),t._outTimeout=t.setTimeout(t.handleOutReal.bind(t),t.rollOutDelay))}),10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},t.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState()},Object.defineProperty(t.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),t.prototype.handleDown=function(e){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},t.prototype.handleUp=function(e){var t=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(lt.events.once("exitframe",(function(){t.showTooltip()}))),this._disposers.push(kr().body.events.once("down",(function(e){t.hideTooltip()}))))},Object.defineProperty(t.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var t=this;e=b(e),this.setPropertyValue("clickable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,(function(){return new we([t.events.on("down",t.handleDown,t,!1),t.events.on("up",t.handleUp,t,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var t=this;e=b(e),this.setPropertyValue("togglable",e)&&(e||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",e,(function(){return t.events.on("hit",t.handleToggle,t,!1)}))},enumerable:!0,configurable:!0}),t.prototype.handleToggle=function(e){this.isActive=!this.isActive},Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=b(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),Bt(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=Yr.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e)},enumerable:!0,configurable:!0}),t.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,lt.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e)},Object.defineProperty(t.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e)},enumerable:!0,configurable:!0}),t.prototype.urlHandler=function(e){if(Bt(this.url)){var t=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=t:window.open(t,this.urlTarget)}},Object.defineProperty(t.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=b(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),(e||this.isInteractive())&&(this.interactions.swipeable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=b(e),this.setPropertyValue("trackable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var t=this;e=b(e),this.setPropertyValue("resizable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,(function(){return new we([t.events.on("down",t.handleDown,t,!1),t.events.on("resize",t.handleResize,t,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var t=K(pi(e.point1,this.htmlContainer,this.svgContainer.cssScale),pi(e.point2,this.htmlContainer,this.svgContainer.cssScale)),i=mi(e.startPoint1,this._parent),r=mi(e.startPoint2,this._parent),n=this.interactions.originalPosition,a=this.interactions.originalScale;if(n){var o=K({x:(i.x-n.x)/a,y:(i.y-n.y)/a},{x:(r.x-n.x)/a,y:(r.y-n.y)/a}),s=ui(t,this._parent);this.moveTo({x:s.x-o.x*this.scale,y:s.y-o.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,kr().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e},enumerable:!0,configurable:!0}),t.prototype.applyCursorStyle=function(){},Object.defineProperty(t.prototype,"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(e){if(e=b(e),this.setPropertyValue("interactionsEnabled",e)){var t=null;e?this.group.node.style.pointerEvents="":t="none",this.group.node.style.pointerEvents=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e)},enumerable:!0,configurable:!0}),t.prototype.getExporting=function(){var e=this._exporting.get();return e||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((e=new pn(this.svgContainer.SVGContainer)).sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e),e))},Object.defineProperty(t.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var t=this.svgContainer;this._exportable=e,t&&(e?fe(t.nonExportableSprites,this):-1==ue(t.nonExportableSprites,this)&&t.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),t.prototype.modalPrefix=function(e){return e=Bi.classNamePrefix+e},Object.defineProperty(t.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var t=e.modal;return t.adapter.has("classPrefix",this.modalPrefix)||t.adapter.add("classPrefix",this.modalPrefix),t}},enumerable:!0,configurable:!0}),t.prototype.openModal=function(e,t){var i=this.svgContainer;if(i)return i.openModal(e,t)},t.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal()},Object.defineProperty(t.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var t=e.popups;return t.template.sprite=this,t.template.adapter.has("classPrefix",this.modalPrefix)||t.template.adapter.add("classPrefix",this.modalPrefix),t}},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(e,t){var i=this.svgContainer;if(i)return i.openPopup(e,t)},t.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups()},Object.defineProperty(t.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelX",{get:function(){var e=V(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){T(e)&&(e=L(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){T(e)&&(e=L(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelY",{get:function(){var e=V(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){T(e)&&(e=L(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){T(e)&&(e=L(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){T(e)&&(e=L(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){T(e)&&(e=L(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){T(e=x(e))||(e=0),this.setPropertyValue("rotation",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=S(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=S(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=S(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=S(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!T(e)&&this._parent){var t=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(t=t-this.pixelMarginLeft-this.pixelMarginRight),t}return e},set:function(e){this.setMaxWidth(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxWidth=function(e){var t=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxWidth",e)){T(this.relativeWidth)&&this.invalidate();var r={type:"maxsizechanged",target:this,previousWidth:t,previousHeight:i};this.dispatchImmediately("maxsizechanged",r)}},Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!T(e)&&this._parent){var t=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(t=t-this.pixelMarginTop-this.pixelMarginBottom),t}return e},set:function(e){this.setMaxHeight(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxHeight=function(e){var t=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxHeight",e)){T(this.relativeHeight)&&this.invalidate();var r={type:"maxsizechanged",target:this,previousWidth:t,previousHeight:i};this.dispatchImmediately("maxsizechanged",r)}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof f?(this.percentWidth=e.percent,T(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof f?(this.percentHeight=e.percent,T(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelWidth",{get:function(){var e;e=T(this.percentWidth)?this.maxWidth:T(this._pixelWidth)?this._pixelWidth:0;var t=this.minWidth;null!=t&&e<t&&(e=t);var i=L(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelHeight",{get:function(){var e;e=T(this.percentHeight)?this.maxHeight:T(this._pixelHeight)?this._pixelHeight:0;var t=this.minHeight;null!=t&&e<t&&(e=t);var i=L(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(T(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(T(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){(e=x(e))<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),t.prototype.margin=function(e,t,i,r){return this.marginTop=e,this.marginRight=t,this.marginBottom=i,this.marginLeft=r,this},Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),t.prototype.padding=function(e,t,i,r){return this.paddingTop=e,this.paddingRight=t,this.paddingBottom=i,this.paddingLeft=r,this},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return!!this.setPropertyValue("path",e)&&(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||(this.element&&(!this.element.node||this.element.node instanceof SVGPathElement)||(this.element=this.paper.add("path")),this._isPath=!0),_(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(t.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=j(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if(O(e)&&!("r"in e)||(e=Et(e)),this.setColorProperty("fill",e)||this.fillModifier)if(e instanceof kt&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof kt)this.setSVGAttribute({fill:e.toString()});else if(_(e)){if(e instanceof Gr||e instanceof Ur||e instanceof $r){var t=e;t.paper=this.paper,this.setSVGAttribute({fill:'url("'+Vt()+t.id+'")'})}}else this.removeSVGAttribute("fill")},Object.defineProperty(t.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=j(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e)},enumerable:!0,configurable:!0}),t.prototype.setStroke=function(e){if(O(e)&&!("r"in e)||(e=Et(e)),this.setColorProperty("stroke",e)||this.strokeModifier)if(e instanceof kt&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof kt)"none"==e.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(_(e)){if(e instanceof Gr||e instanceof Ur||e instanceof $r){var t=e;t.paper=this.paper,this.setSVGAttribute({stroke:'url("'+Vt()+t.id+'")'})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=j(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=b(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=b(e),this.setPropertyValue("nonScaling",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=x(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(T(e)||(e=1),e/=this.globalScale),this.setSVGAttribute({"stroke-width":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=S(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=x(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=S(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=b(e),this._positionPrecision=e?Bi.pixelPerfectPrecision:3,this.setPropertyValue("pixelPerfect",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return _(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=b(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e},enumerable:!0,configurable:!0}),t.prototype.show=function(e){return this.showReal(e)},t.prototype.showReal=function(e){var t=this;if(!this.preventShow){var i,r=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=r.opacity&&this.opacity<r.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),T(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(i=this.applyCurrentState(e))&&!i.isFinished()?(this._showHideDisposer=i.events.on("animationended",(function(){t.isShowing=!1})),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var n=this.defaultState.properties.visible;_(n)||(n=!0),this.visible=n,this.readerHidden=!1,this.dispatchImmediately("shown")}return i}},t.prototype.hide=function(e){return this.hideReal(e)},t.prototype.hideReal=function(e){var t,i=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var r=this.hiddenState;r?(t=this.setState(r,e,void 0))&&!t.isFinished()?(this._hideAnimation=t,this._showHideDisposer=t.events.on("animationended",(function(){i.isHiding=!1,i._isHidden=!0,0==r.properties.visible&&(i.visible=!1)}),this),this._disposers.push(this._showHideDisposer),this._disposers.push(t)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return T(e)||(e=this.hiddenState.transitionDuration),t},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=b(e),this.setVisibility(e)},enumerable:!0,configurable:!0}),t.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return _(e)||(e=!0),e},t.prototype.setVisibility=function(e){if(this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var t={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",t)}},Object.defineProperty(t.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=x(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"))},t.prototype.toBack=function(){var e=this._parent;e&&0!=e.children.indexOf(this)&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(t.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDataItem",{get:function(){var e=this._tooltipDataItem;return e||this.dataItem},set:function(e){this._tooltipDataItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e},enumerable:!0,configurable:!0}),t.prototype.showTooltip=function(e){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&"pointer"==this.tooltipPosition&&this.isHover&&(e=pi(kr().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var t=this;null!=t;){if(!t.visible||t.disabled||t.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));t=t.parent}if(_(this.tooltipText)||_(this.tooltipHTML)){var i=this.tooltip,r=this.tooltipDataItem;if(i){i.targetSprite=this;var n=this,a=this.tooltipColorSource;if((i.getStrokeFromObject||i.getFillFromObject)&&a&&(a.isTemplate?r&&pe(r.sprites,(function(e){return e.clonedFrom!=a||(n=e,!1)})):n=a),i.getStrokeFromObject){for(var o=this.stroke,s=n;null!=s.parent&&(null==(o=s.stroke)&&(s=s.parent),null==o););o instanceof kt?i.background.animate({property:"stroke",to:o},i.animationDuration):i.background.stroke=o}if(i.dataItem=r,i.label.populateStringFrom=this,i.getFillFromObject){var l=this.fill;for(s=n;null!=s.parent;)if(null==(l=s.fill)||l instanceof kt&&null==l.rgb)s=s.parent;else if(null!=l)break;null==l&&(l=Ft("#000000")),l instanceof kt&&i.visible?i.background.animate({property:"fill",to:l},i.animationDuration):i.background.fill=l,i.autoTextColor&&l instanceof kt&&(i.label.fill=l.alternative)}var u="";if(this.tooltipHTML&&(i.html=this.tooltipHTML,u=this.tooltipHTML),this.tooltipText&&(i.text=this.tooltipText,u=this.tooltipText),this.updateTooltipPosition(e)){if(i.readerDescribedBy=this.uidAttr(),i.label.invalid&&i.label.validate(),null!=u&&""!=u&&""!=i.label.currentText){i&&!i.parent&&(i.parent=this.tooltipContainer);var c=i.defaultState.transitionDuration;return c<=0&&(c=1),i.show(c),i.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},t.prototype.updateTooltipPosition=function(e){var t=this;if("pointer"!=this.tooltipPosition){var i=ci({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(i)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=kr().body.events.on("track",(function(e){return t.pointTooltipTo(pi(e.point,t.svgContainer.SVGContainer,t.svgContainer.cssScale),!0)})),e)return this.pointTooltipTo(e,!0)},t.prototype.pointTooltipTo=function(e,t){var i=this.tooltip;if(i&&this.topParent){if(i.showInViewport)return i.pointTo(e,t),!0;if(le(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return i.pointTo(e,t),!0}return!1},t.prototype.hideTooltip=function(e){if("always"!=this.showTooltipOn){var t=this.tooltip;t&&(t.targetSprite==this&&(t.targetSprite=void 0),t.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(t.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=S(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){(e=S(e))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(e){this._tooltipContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(e){(e=b(e))&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&("hit"==e&&(this.clickable=!0),this.tooltip&&("always"==e?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e,t=this.getPropertyValue("tooltipX");return _(t)||(t=m(50)),T(t)&&(e=t),t instanceof f&&(e=this.maxLeftSelf+this._measuredWidthSelf*t.value-this.pixelPaddingLeft-this.ex),T(e)||(e=0),e},t.prototype.getTooltipY=function(){var e,t=this.getPropertyValue("tooltipY");return _(t)||(t=m(50)),T(t)&&(e=t),t instanceof f&&(e=this.maxTopSelf+this._measuredHeightSelf*t.value-this.pixelPaddingTop-this.ey),T(e)||(e=0),e},t.prototype.raiseCriticalError=function(e,t){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",e).message:this.modal.content=e.message,t?this.modal.closable=!0:this.disabled=!0,this.modal.open()),console.log(e)},t.prototype.processConfig=function(t){t&&(_(t.tooltipColorSource)&&A(t.tooltipColorSource)&&this.map.hasKey(t.tooltipColorSource)&&(t.tooltipColorSource=this.map.getKey(t.tooltipColorSource)),_(t.cursorOverStyle)&&A(t.cursorOverStyle)&&(t.cursorOverStyle=this.getCursorStyle(t.cursorOverStyle)),_(t.cursorDowntyle)&&A(t.cursorDowntyle)&&(t.cursorDowntyle=this.getCursorStyle(t.cursorDowntyle)),_(t.cursorOptions)&&(_(t.cursorOptions.overStyle)&&A(t.cursorOptions.overStyle)&&(t.cursorOptions.overStyle=this.getCursorStyle(t.cursorOptions.overStyle)),_(t.cursorOptions.downStyle)&&A(t.cursorOptions.downStyle)&&(t.cursorOptions.downStyle=this.getCursorStyle(t.cursorOptions.downStyle)))),e.prototype.processConfig.call(this,t),this.processDelayedMap()},t.prototype.getCursorStyle=function(e){switch(e){case"grab":return Yr.grab;case"grabbing":return Yr.grabbing;case"pointer":return Yr.pointer;case"horizontalResize":return Yr.horizontalResize;case"verticalResize":return Yr.verticalResize;default:return Yr.default}},t.prototype.configOrder=function(t,i){return t==i?0:"tooltipColorSource"==t?1:"tooltipColorSource"==i?-1:e.prototype.configOrder.call(this,t,i)},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=b(e),this.setShowOnInit(e)},enumerable:!0,configurable:!0}),t.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(!e||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new we([lt.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},t.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},t.prototype.appear=function(){var e=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var t=this.show();t&&!t.isFinished()?this.addDisposer(t.events.on("animationended",(function(){e.appeared=!0,e.dispatch("appeared")}))):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(t.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=b(e),this.setPropertyValue("hidden",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new pt,this._disposers.push(this._plugins.events.on("inserted",(function(t){t.newValue.target=e,t.newValue.init()}))),this._disposers.push(new ht(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),t.prototype._systemUpdate=function(e){this.validate()},t.prototype._systemCheckIfValidate=function(){return!0},t.prototype._systemValidatePositions=function(){this.validatePosition()},t.prototype._systemValidateLayouts=function(){},t}(jt);lt.registeredClasses.Sprite=mn;var yn=function(e){function t(){var t=e.call(this)||this;return t.className="Rectangle",t.element=t.paper.add("rect"),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this._positionPrecision;this.pixelPerfect&&(t=0);var i=L(this.innerWidth,t),r=L(this.innerHeight,t);this.element.attr({width:i,height:r})},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Rectangle=yn;var gn=function(e){function t(){var t=e.call(this)||this;return t._childrenByLayout=[],t._childrenDisposers=new at,t.hasFocused=!1,t.setStateOnSprites=[],t.layoutInvalid=!1,t._absoluteWidth=0,t._absoluteHeight=0,t._shouldBeReady=[],t._tapToActivate=!1,t.tapTimeout=3e3,t.className="Container",t._element=t.paper.addGroup("g"),t.group.add(t.element),t.setPropertyValue("pixelPerfect",!1),t.setPropertyValue("layout","absolute"),t.setPropertyValue("fixedWidthGrid",!1),t.setPropertyValue("verticalCenter","none"),t.setPropertyValue("horizontalCenter","none"),t._positionPrecision=4,t._disposers.push(new nt(t._childrenDisposers)),t.children.events.on("inserted",t.handleChildAdded,t),t.children.events.on("removed",t.handleChildRemoved,t),t.applyTheme(),t}return s(t,e),t.prototype.handleChildAdded=function(e){this.processChild(e.newValue)},t.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new we([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(e){}this.element&&this.element.add(e.group);e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate()},t.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},t.prototype.handleChildRemoved=function(e){var t=e.oldValue;(this._childrenDisposers.removeKey(t.uid),this.element)&&this.element.removeElement(t.group);t.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:t})},t.prototype.handleChildTransform=function(e){e.target.isMeasured&&this.invalidateLayout()},t.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,lt.addToInvalidLayouts(this),vn.requestFrame())},t.prototype.invalidate=function(){e.prototype.invalidate.call(this),this.invalidateLayout()},t.prototype.deepInvalidate=function(){e.prototype.invalidate.call(this),de(this._childrenByLayout,(function(e){e instanceof t?e.deepInvalidate():e.invalidate()})),this.invalidateLayout()},Object.defineProperty(t.prototype,"children",{get:function(){return this._children||(this._children=new pt),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),t.prototype.removeElement=function(){},t.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var t=[],i=[];Xe(this.children.iterator(),(function(r){"horizontal"==e.layout||"grid"==e.layout?T(r.percentWidth)?i.push(r):t.push(r):"vertical"==e.layout&&T(r.percentHeight)?i.push(r):t.push(r)})),this._childrenByLayout=t.concat(i)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},t.prototype.calculateRelativeSize=function(){var e=this,t=0,i=0;de(this._childrenByLayout,(function(e){e.isMeasured&&(T(e.percentWidth)&&(t+=e.percentWidth),T(e.percentHeight)&&(i+=e.percentHeight))})),de(this._childrenByLayout,(function(r){r.isMeasured&&("horizontal"==e.layout&&(T(r.percentWidth)&&(r.relativeWidth=r.percentWidth/t),T(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100)),"vertical"==e.layout&&(T(r.percentHeight)&&(r.relativeHeight=r.percentHeight/i),T(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100)),"grid"==e.layout&&(T(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100),T(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100))),"absolute"!=e.layout&&r.isMeasured||(T(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100),T(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100))}))},t.prototype.addChildren=function(){if(this.element){var e=ve(this.children.values),t=e.map((function(e,t){return{idx:t,data:e}}));t.sort((function(e,t){var i=e.data.zIndex||0,r=t.data.zIndex||0;return i<r?-1:i>r?1:e.idx-t.idx})),e=t.map((function(e){return e.data}));var i=this.element,r=!0;if(i.node&&i.node.childNodes)for(var n=0,a=i.node.childNodes.length;n<a;n++)if(i.node.childNodes[n]!=e[n].group.node){r=!1;break}r||(de(e,(function(e){e.group&&i.add(e.group)})),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},t.prototype.createChild=function(e){var t=new e;return t.parent=this,t},t.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e)}},t.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e)}},Object.defineProperty(t.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground())},enumerable:!0,configurable:!0}),t.prototype.handleGlobalScale=function(){e.prototype.handleGlobalScale.call(this),this.children.each((function(e){e.handleGlobalScale()}))},t.prototype.createBackground=function(){return new yn},t.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=(new pr).getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group))},t.prototype.validateLayout=function(){var e=this;lt.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var t=0,i=0,r=!0;this.children&&(this.sortChildren(),de(this._childrenByLayout,(function(n){var a,o;if(T(n.relativeWidth)?(a=L(e._availableWidth*n.relativeWidth,2),"horizontal"==e.layout&&(a-=n.pixelMarginRight+n.pixelMarginLeft)):"horizontal"==e.layout&&n.invalid&&n.validate(),T(n.relativeHeight)?(o=L(e._availableHeight*n.relativeHeight,2),"vertical"==e.layout&&(o-=n.pixelMarginTop+n.pixelMarginBottom)):"vertical"==e.layout&&n.invalid&&n.validate(),0==n.invalid){if(T(n.relativeWidth)&&(n.maxWidth=a),T(n.relativeHeight)&&(n.maxHeight=o),n.isMeasured){"horizontal"==e.layout&&(T(n.percentWidth)||n.measuredWidth>0&&(e._availableWidth-=n.measuredWidth+n.pixelMarginLeft+n.pixelMarginRight)),"vertical"==e.layout&&(T(n.percentHeight)||n.measuredHeight>0&&(e._availableHeight-=n.measuredHeight+n.pixelMarginTop+n.pixelMarginBottom));var s=n.measuredWidth,l=n.measuredHeight;"none"!=n.align&&(s+=n.pixelMarginLeft+n.pixelMarginRight),"none"!=n.valign&&(l+=n.pixelMarginTop+n.pixelMarginBottom),t=Math.max(t,s),i=Math.max(i,l)}}else n.isMeasured&&(T(n.relativeWidth)&&n.maxWidth!=a&&(n.maxWidth=a,r=!1),T(n.relativeHeight)&&n.maxHeight!=o&&(n.maxHeight=o,r=!1))}))),this._absoluteWidth=t,this._absoluteHeight=i,r&&this.arrange()},t.prototype.arrange=function(){var e,t,i,r,n,a,o,s,l,u,c,h=this,d=this.children,p=0,m=0,y=z(this.innerWidth,this._absoluteWidth),g=z(this.innerHeight,this._absoluteHeight),v=this.pixelPaddingLeft,b=this.pixelPaddingRight,x=this.pixelPaddingTop,S=this.pixelPaddingBottom,P=0,_=0,C=0,w=0,I=[],A=[],O=this.maxWidth,D=this.maxHeight,k=this.minWidth,F=this.minHeight,E=ve(d.values);if(this.reverseOrder&&E.reverse(),"grid"==this.layout){a=O,n=1;for(var M=0,j=E.length;M<j;M++){if((R=E[M]).isMeasured&&!R.disabled&&!R.__disabled){var L=R.measuredWidth;L<a&&(a=L),L>n&&(n=L)}}a=V(a,1,O),n=V(n,1,O),o=this.fixedWidthGrid?O/n:O/a,o=z(1,Math.floor(o)),o=H(this.maxColumns,o),I=this.getColumnWidth(E,o,n)}for(M=0,j=E.length;M<j;M++){var R;if(!(R=E[M]).isMeasured||R.disabled||R.__disabled)R.validatePosition();else{var B=void 0,N=void 0,W=R.pixelMarginLeft,G=R.pixelMarginRight,U=R.pixelMarginTop,$=R.pixelMarginBottom,q=R.measuredWidth,Y=R.measuredHeight,K=void 0,X=void 0,J=void 0,Q=void 0;switch(this.layout){case"none":break;case"absolute":switch(R.align){case"left":B=W-R.maxLeft;break;case"center":B=(y-q)/2-R.maxLeft;break;case"right":B=y-G-R.maxRight;break;default:R.x instanceof f||(B=R.pixelX)}switch(R.valign){case"top":N=U-R.maxTop;break;case"middle":N=(g-Y)/2-R.maxTop;break;case"bottom":N=g-$-R.maxBottom;break;default:R.y instanceof f||(N=R.pixelY)}break;case"vertical":switch(R.align){case"left":B=W-R.maxLeft;break;case"center":B=(y-q)/2-R.maxLeft;break;case"right":B=y-G-R.maxRight;break;default:B=R.pixelX}_=(N=_+U-R.maxTop)+R.maxBottom+$;break;case"horizontal":switch(R.valign){case"top":N=U-R.maxTop;break;case"middle":N=(g-Y)/2-R.maxTop;break;case"bottom":N=g-$-R.maxBottom;break;default:N=R.pixelY}P=(B=P+W-R.maxLeft)+R.maxRight+G;break;case"grid":switch(B=P+W-R.maxLeft,R.valign){case"top":N=_+U-R.maxTop;break;case"middle":N=_+(g-Y)/2-R.maxTop;break;case"bottom":N=_+g-$-R.maxBottom;break;default:N=_-R.maxTop}P+=I[w],A[C]=z(A[C],Y);var Z=I[++w];if(T(Z)||(Z=n),P>H(this.innerWidth,O)-Z+1&&w<o){o=w,P=0,_=0,C=0,w=0,I=this.getColumnWidth(E,o,n),A=[],M=-1;continue}w>=o&&(w=0,_+=A[C],C++,P=0)}"none"!==this.layout&&(R.moveTo({x:B,y:N}),K=B+R.maxLeft-W,X=B+R.maxRight+G,J=N+R.maxTop-U,Q=N+R.maxBottom+$,(X>t||!T(t))&&(t=X),(K<e||!T(e))&&(e=K),(J<i||!T(i))&&(i=J),(Q>r||!T(r))&&(r=Q),(X>l||!T(l))&&(l=X),(K<s||!T(s))&&(s=K),(J<u||!T(u))&&(u=J),(Q>c||!T(c))&&(c=c))}}if("none"==this.layout){var ee=this.bbox;e=ee.x,t=ee.x+ee.width,i=ee.y,r=ee.y+ee.height}T(e)||(e=0,s=0),T(t)||(l=t=this._availableWidth),T(i)||(i=0,u=0),T(r)||(c=r=this._availableHeight),T(u)||(u=0),T(c)||(c=u),T(s)||(s=0),T(l)||(l=s),p=t-e,m=r-i,T(this.relativeWidth)&&(e=0,t=p=O-v-b),T(this.relativeHeight)&&(i=0,r=m=D-x-S),T(this._pixelWidth)&&(e=0,p=this._pixelWidth-v-b),T(k)&&p<k&&(e=0,p=this.minWidth-v-b),T(this._pixelHeight)&&(i=0,m=this._pixelHeight-x-S),T(F)&&m<F&&(i=0,m=F-x-S);var te=l-s,ie=c-u;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&d.length>0){var re,ne,ae=p,oe=m;ae<te&&(ae=te),oe<ie&&(oe=ie),"center"==this.contentAlign&&(re=(ae-te)/2),"right"==this.contentAlign&&(re=ae-te),"middle"==this.contentValign&&(ne=(oe-ie)/2),"bottom"==this.contentValign&&(ne=oe-ie),T(re)&&Xe(d.iterator(),(function(e){var t=e.maxLeft,i=re;"horizontal"==h.layout&&(e.x=e.pixelX+i),"grid"==h.layout&&(e.x=e.pixelX+i),"vertical"==h.layout&&(i+=e.pixelMarginLeft,"none"==e.align&&(e.x=i-t)),"absolute"==h.layout&&(i+=e.pixelMarginLeft,"none"==e.align&&(e.x=i-t))})),T(ne)&&Xe(d.iterator(),(function(e){var t=e.maxTop,i=ne;"horizontal"==h.layout&&(i+=e.pixelMarginTop,"none"==e.valign&&(e.y=i-t)),"grid"==h.layout&&(i+=e.pixelMarginTop,e.y=i-t),"vertical"==h.layout&&(e.y=e.pixelY+i),"absolute"==h.layout&&(i+=e.pixelMarginTop,"none"==e.valign&&(e.y=i-t))}))}var se=this.bbox;p=z(p,k),m=z(m,F),this.contentWidth=p,this.contentHeight=m,p=H(p,O),m=H(m,D),this._bbox={x:e,y:i,width:p,height:m};var le=this.maxLeft,ue=this.maxTop,ce=this.maxBottom,he=this.maxRight;if(this.measure(),(le!=this.maxLeft||he!=this.maxRight||ue!=this.maxTop||ce!=this.maxBottom)&&this.events.isEnabled("transformed")){var de={type:"transformed",target:this};se&&(de.dummyData=se.width+" "+p+"  "+se.height+" "+m),this.events.dispatchImmediately("transformed",de)}this.dispatchImmediately("layoutvalidated")},t.prototype.updateCenter=function(){e.prototype.updateCenter.call(this),this.updateBackground()},t.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop)},t.prototype.getColumnWidth=function(e,t,i){var r=this,n=[],a=0;return de(e,(function(e){!e.isMeasured||e.disabled||e.__disabled||(r.fixedWidthGrid?n[a]=i:n[a]=z(n[a],e.measuredWidth+e.pixelMarginRight+e.pixelMarginLeft),++a==t&&(a=0))})),n},Object.defineProperty(t.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0)},enumerable:!0,configurable:!0}),t.prototype.fitsToBounds=function(e){var t=e.x,i=e.y;return t>=-.5&&t<=this.pixelWidth+.5&&i>=-.5&&i<=this.pixelHeight+.5},t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),this.layout=t.layout,this.setStateOnChildren=t.setStateOnChildren,t._background&&(this.background=t._background.clone(),this.background.copyFrom(t._background)),Xe(t.children.iterator(),(function(e){e.shouldClone&&(e.clone().parent=i)}))},Object.defineProperty(t.prototype,"preloader",{get:function(){var e=this._preloader;return e||(this.parent?this.parent.preloader:void 0)},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(t){var i=this,r=e.prototype.setPaper.call(this,t);return r&&(this._background&&(this._background.paper=t,this._background.topParent=this.topParent),this.children.each((function(e){e.setPaper(t),e.topParent=i.topParent}))),r},t.prototype.removeFromInvalids=function(){e.prototype.removeFromInvalids.call(this),lt.removeFromInvalidLayouts(this)},t.prototype.setDataItem=function(t){this._dataItem!=t&&(Xe(this.children.iterator(),(function(e){e.dataItem=t})),this._background&&(this._background.dataItem=t)),e.prototype.setDataItem.call(this,t)},t.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),t.prototype.invalidateLabels=function(){this.children.each((function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof t&&e.invalidateLabels()}))},Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),e.prototype.dispose.call(this)},t.prototype.setState=function(t,i,r){var n=t;return t instanceof Li&&(n=t.name),this.setStateOnChildren&&Xe(this.children.iterator(),(function(e){e.setState(n,i,r),"active"!=n&&(e.isActive=!1)})),this._background&&this._background.setState(n),this.setStateOnSprites.length&&de(this.setStateOnSprites,(function(e){e.setState(n,i,r)})),e.prototype.setState.call(this,t,i,r)},t.prototype.setActive=function(t){e.prototype.setActive.call(this,t),this._background&&(this._background.isActive=t)},t.prototype.dispatchReady=function(){var t=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;Ke(this.children.iterator(),(function(e){return!!(e.__disabled||e.disabled||e.isReady())||(i=!1,!1)})),pe(this._shouldBeReady,(function(e){return!!(e.__disabled||e.disabled||e.isReady())||(i=!1,!1)})),i?e.prototype.dispatchReady.call(this):lt.events.once("exitframe",(function(){t.dispatchReady(),vn.requestFrame()}),void 0,!1)}},t.prototype._systemUpdate=function(t){this.children.each((function(e){e.invalid&&(e._systemCheckIfValidate()?e.dataItem&&e.dataItem.component&&e.dataItem.component.dataInvalid?t.push(e):e.validate():t.push(e))})),e.prototype._systemUpdate.call(this,t)},t.prototype._systemValidatePositions=function(){this.children.each((function(e){e.positionInvalid&&e.validatePosition()})),e.prototype._systemValidatePositions.call(this)},t.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(t.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e)},enumerable:!0,configurable:!0}),t.prototype.setTapToActivate=function(e){var t=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,(function(){return new we([t.events.on("hit",t.handleTapToActivate,t,!1),t.events.on("down",t.initTapTimeout,t,!1),t.events.on("track",t.initTapTimeout,t,!1),kr().body.events.on("down",(function(e){kr().isLocalElement(e.pointer,t.paper.svg,t.uid)||t.handleTapToActivateDeactivation()}),t,!1)])})),kr()},t.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},t.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},t.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout((function(){e.handleTapToActivateDeactivation()}),this.tapTimeout))},t.prototype.moveHtmlContainer=function(e){var t=Ji(e);if(t){this.htmlContainer=t;var i=this.svgContainer;i.htmlElement=t,i.htmlElement.appendChild(i.SVGContainer),i.initSensor(),i.measure()}else A(e)&&""!=e&&vn.log("html container '"+e+"' not found")},t.prototype.hasLicense=function(){if(Bi.commercialLicense)return!0;for(var e=0;e<Bi.licenses.length;e++)if(Bi.licenses[e].match(/^CH.{5,}/i))return!0;return!1},t}(mn);lt.registeredClasses.Container=gn;var vn=new(function(){function e(){this._isPaused=!1,this.animations=[],this.uid=lt.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return e.prototype.reportTime=function(e,t){this.dummyCounter,t&&(this.time=Date.now())},e.prototype.update=function(){var e=this;if(!this._isPaused){this._frameRequested=!1;var t=Date.now();lt.dispatchImmediately("enterframe");for(var i in lt.invalidDatas)if(Ne(lt.invalidDatas,i)){for(var r=lt.invalidDatas[i];r.length>0;){var n=(a=r[0]).dataProvider;if(a.isDisposed())fe(r,a);else if(n&&n.dataInvalid)try{if(n.validateData(),n.dataValidationProgress<1)break}catch(e){fe(r,n),n.raiseCriticalError(e)}else try{if(a.validateData(),a.dataValidationProgress<1)break}catch(e){fe(r,a),a.raiseCriticalError(e)}}if(Date.now()-t>this.updateStepDuration)break}for(;lt.invalidRawDatas.length>0;){if((a=lt.invalidRawDatas[0]).isDisposed())fe(lt.invalidRawDatas,a);else try{a.validateRawData()}catch(e){fe(lt.invalidRawDatas,a),a.raiseCriticalError(e)}}for(;lt.invalidDataItems.length>0;){n=(a=lt.invalidDataItems[0]).dataProvider;if(a.isDisposed()||a.dataInvalid||n&&n.dataInvalid);else try{a.validateDataItems()}catch(e){fe(lt.invalidDataItems,a),a.raiseCriticalError(e)}fe(lt.invalidDataItems,a)}for(;lt.invalidDataRange.length>0;){var a;n=(a=lt.invalidDataRange[0]).dataProvider;if(a.isDisposed()||a.dataInvalid||n&&n.dataInvalid);else try{a.validateDataRange(),a.skipRangeEvent||a.dispatchImmediately("datarangechanged"),a.skipRangeEvent=!1}catch(e){fe(lt.invalidDataRange,a),a.raiseCriticalError(e)}fe(lt.invalidDataRange,a)}var o=[];ze(lt.invalidLayouts,(function(t){e.validateLayouts(t)})),ze(lt.invalidPositions,(function(t){e.validatePositions(t)}));var s=!1;if(t=Date.now(),ze(lt.invalidSprites,(function(i,r){for(var n=0;r.length>0;){if(e.validateLayouts(i),e.validatePositions(i),5==++n){if(Date.now()-t>e.updateStepDuration)break;n=0}var a=r[r.length-1];if(a&&!a.isDisposed()){if(a._systemCheckIfValidate())if(e.checkIfValidate2(a))try{a._systemUpdate(o)}catch(e){a.invalid=!1,fe(r,a),a.raiseCriticalError(e)}else o.push(a);else o.push(a);a.invalid=!1}fe(r,a)}lt.invalidSprites[i]=lt.invalidSprites[i].concat(o)})),ze(lt.invalidSprites,(function(e,t){t.length>0&&(s=!0)})),ze(lt.invalidDatas,(function(e,t){t.length>0&&(s=!0)})),de(ve(this.animations),(function(e){e.update()})),ze(lt.invalidLayouts,(function(t){e.validateLayouts(t)})),ze(lt.invalidPositions,(function(t){e.validatePositions(t)})),function(){for(var e=Date.now(),t=Fe.length,i=0;i<t;++i)Fe.shift()(e)}(),ze(lt.invalidLayouts,(function(t){e.validateLayouts(t)})),ze(lt.invalidPositions,(function(t){e.validatePositions(t)})),lt.dispatchImmediately("exitframe"),(s||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var l=!0;ze(lt.invalidDatas,(function(e,t){t.length>0&&(l=!1)})),ze(lt.invalidSprites,(function(e,t){t.length>0&&(l=!1)})),l&&(this.updateStepDuration=200)}}},e.prototype.checkIfValidate2=function(e){return!(e.dataItem&&e.dataItem.component&&e.dataItem.component.dataInvalid&&!e.dataItem.component.isTemplate)},e.prototype.requestFrame=function(){var e=this;this._frameRequested||(Ee((function(){e.update()})),this._frameRequested=!0)},e.prototype.softInvalidate=function(e){var t=this;e.children.each((function(e){e instanceof gn&&t.softInvalidate(e),e.measureFailed&&(ut(e,"Label")?e.hardInvalidate():e.invalidate(),e.measureFailed=!1)}))},e.prototype.validatePositions=function(e){for(var t=lt.invalidPositions[e];t.length>0;){var i=t[t.length-1];if(i.isDisposed())fe(t,i);else try{i._systemValidatePositions()}catch(e){i.positionInvalid=!1,fe(t,i),i.raiseCriticalError(e)}}},e.prototype.validateLayouts=function(e){for(var t=lt.invalidLayouts[e];t.length>0;){var i=t[t.length-1];if(i.isDisposed())fe(t,i);else try{i.children.each((function(e){e._systemValidateLayouts()})),i.validateLayout()}catch(e){i.layoutInvalid=!1,fe(t,i),i.raiseCriticalError(e)}}},e.prototype.log=function(e){!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console&&console.log.apply(console,p(e))}(e)},Object.defineProperty(e.prototype,"isPaused",{get:function(){return this._isPaused},set:function(e){this._isPaused=e,e||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),e.VERSION="4.10.16",e}()),bn=function(){function e(){}return e.prototype.parse=function(e){return[]},Object.defineProperty(e.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),e.prototype.maybeToNumber=function(e,t){return-1!==this.options.numberFields.indexOf(e)?ti(t):t},Object.defineProperty(e.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),e.prototype.maybeToDate=function(e,t){return-1!==this.options.dateFields.indexOf(e)?this.options.dateFormatter.parse(t,this.dateFormat):t},e.prototype.maybeToEmpty=function(e){return _(e)&&""!=e||!_(this.options.emptyAs)?e:this.options.emptyAs},Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new en,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),e}(),xn=[",",";","\t"],Sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentType="text/csv",t.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},t}return s(t,e),t.isCSV=function(e){return!!t.getDelimiterFromData(e)},t.getDelimiterFromData=function(e){var t,i=e.split("\n"),r=i.length;return de(xn,(function(e){for(var n=0,a=0,o=0;o<r;++o){if(!((n=i[o].split(e).length)>1)){a=0;break}if(0===a)a=n;else if(n!=a){a=0;break}}a&&(t=e)})),t},t.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=t.getDelimiterFromData(e));var i,r,n,a=this.CSVToArray(e,this.options.delimiter),o=_(this.options.emptyAs),s=this.parsableNumbers,l=this.parsableDates,u=[],c=[];for(r=0;r<this.options.skipRows;r++)a.shift();if(this.options.useColumnNames){c=a.shift();for(var h=0;h<c.length;h++)""===(i=_(c[h])?c[h].replace(/^\s+|\s+$/gm,""):"")&&(i="col"+h),c[h]=i}for(;n=this.options.reverse?a.pop():a.shift();)if(!this.options.skipEmpty||1!==n.length||""!==n[0]){var d={};for(r=0;r<n.length;r++)d[i=void 0===c[r]?"col"+r:c[r]]=""===n[r]?this.options.emptyAs:n[r],o&&(d[i]=this.maybeToEmpty(d[i])),s&&(d[i]=this.maybeToNumber(i,d[i])),l&&(d[i]=this.maybeToDate(i,d[i]));u.push(d)}return u},t.prototype.CSVToArray=function(e,t){t=t||",";for(var i=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],n=null;n=i.exec(e);){var a=n[1];a.length&&a!==t&&r.push([]);var o=void 0;o=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],r[r.length-1].push(o)}return r},t}(bn),Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentType="application/json",t.options={},t}return s(t,e),t.isJSON=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},t.prototype.parse=function(e){var t,i=this;try{_(JSON)&&(t=JSON.parse(e))}catch(e){return}var r=_(this.options.emptyAs),n=this.parsableNumbers,a=this.parsableDates;if(Array.isArray(t)&&(n||a||r))for(var o=function(e,o){var s=t[e];ze(s,(function(e,t){r&&(s[e]=i.maybeToEmpty(s[e])),n&&(s[e]=i.maybeToNumber(e,s[e])),a&&(s[e]=i.maybeToDate(e,s[e]))}))},s=0,l=t.length;s<l;s++)o(s);return t},t}(bn),_n=new(function(){function e(){this.adapter=new _t(this)}return e.prototype.load=function(e){var t=he(Array.isArray(e)?e:[e],(function(e){return e.dispatchImmediately("started"),e.dispatchImmediately("loadstarted"),sn(e.url,e,e.requestOptions)}));Promise.all(t).then((function(e){de(e,(function(e){var t=e.target;t.dispatchImmediately("loadended"),e.error?t.events.isEnabled("error")&&t.events.dispatchImmediately("error",{type:"error",code:e.xhr.status,message:t.language.translate("Unable to load file: %1",null,t.url),target:t}):t.processData(e.response,e.type),t.dispatchImmediately("ended")}))})).catch((function(e){e.target&&(e.target.dispatchImmediately("loadended"),e.target.events.isEnabled("error")&&e.target.events.dispatchImmediately("error",{type:"error",code:e.xhr.status,message:e.target.language.translate("Unable to load file: %1",null,e.target.url),target:e.target}),e.target.dispatchImmediately("ended"))}))},e.prototype.getParserByType=function(e){var t=this.adapter.apply("getParserByType",{parser:null,type:e}).parser;return t||("csv"==e||"text/csv"==e||"application/vnd.ms-excel"==e?new Sn:"json"==e||"application/json"==e?new Pn:void 0)},e.prototype.getParserByData=function(e,t){var i=this.adapter.apply("getParserByData",{parser:null,data:e,type:t}).parser;if(!i){if(i=this.getParserByType(t))return i;if(Pn.isJSON(e))return this.getParserByType("json");if(Sn.isCSV(e))return this.getParserByType("csv")}return i},e}()),Cn=function(e){function t(t,i){var r=e.call(this)||this;return r.adapter=new _t(r),r._requestOptions={},r._incremental=!1,r._incrementalParams={},r._keepCount=!1,r._updateCurrentData=!1,r.showPreloader=!0,r.className="DataSource",t&&(r.url=t),i&&(r.parser="string"==typeof i?_n.getParserByType(i):i),r}return s(t,e),t.prototype.processData=function(e,t){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=_n.getParserByData(e,t),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!_(this.data)&&this.events.isEnabled("parseerror")){var i={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",i)}this.dispatchImmediately("parseended"),_(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended")}},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new Pn),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var t=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?_(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",(function(e){t._reloadTimeout=setTimeout((function(){t.load()}),t.reloadFrequency)}))):_(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new Xr,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new en,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var t={};return t[(new Date).getTime().toString()]="",this.addUrlParams(e,t)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),_(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),_n.load(this))},t.prototype.addUrlParams=function(e,t){var i=e.match(/\?/)?"&":"?",r=[];return ze(t,(function(e,t){""!=t?r.push(e+"="+encodeURIComponent(t)):r.push(e)})),r.length?e+i+r.join("&"):e},t.prototype.processConfig=function(t){lt.registeredClasses.json=Pn,lt.registeredClasses.JSONParser=Pn,lt.registeredClasses.csv=Sn,lt.registeredClasses.CSVParser=Sn,e.prototype.processConfig.call(this,t)},t}(jt),wn=function(e){function t(){var t=e.call(this)||this;return t._rules=new pt,t._appliedRules={},t._appliedTargets=[],t._useDefault=!0,t.adapter=new _t(t),t._enabled=!1,t._responsiveDisposers=[],t._noStates=[],t.className="Responsive",t.rules.events.on("inserted",(function(){t.checkRules()}),!0),t.rules.events.on("removed",(function(){t.checkRules()}),!0),t._disposers.push(t.rules.events),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var t=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(C(this.component).events.on("sizechanged",(function(){t.checkRules()}),this)),this._responsiveDisposers.push(C(this.component).events.on("datavalidated",(function(){t._component.isReady()&&t.checkRules(!0)}),this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",In)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new pt;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var t=this._appliedRules[e];return!!_(t)&&t},t.prototype.checkRules=function(e){var t=this;void 0===e&&(e=!1);var i=this.allRules;if(i&&0!=i.length){var r=!1,n=C(this.component);if(Xe(i.iterator(),(function(e){e.id||(e.id=lt.getUniqueId());var i=e.relevant(n);(i&&!t.isApplied(e.id)||!i&&t.isApplied(e.id))&&(r=!0),t._appliedRules[e.id]=i})),e&&(r=!0),r){if(!this.component.isReady())return n.hidden=!0,void n.events.once("ready",(function(e){e.target.show(0),t.applyRules()}));this.dispatchImmediately("ruleschanged"),this.applyRules()}}},t.prototype.applyRules=function(e){var t=this,i=_(e)?e:C(this.component),r=!1;if(this.enabled){var n=!1;Xe(this.allRules.iterator(),(function(e){var a=t.getState(e,i);a&&(r||(-1!==ue(t._appliedTargets,i.uid)&&i.setState(t.getDefaultState(i),0),r=!0),t.isApplied(C(e.id))&&(a.transitionDuration=0,t.setTargetState(i,a),t.dispatchImmediately("ruleapplied",{rule:e}),n=!0))})),n?function(e,t,i){var r=e.indexOf(t);-1!==r&&e.splice(r,1),T(i)?e.splice(i,0,t):e.push(t)}(this._appliedTargets,i.uid):fe(this._appliedTargets,i.uid)}i.children&&Xe(i.children.iterator(),(function(e){t.applyRules(e)}))},t.prototype.getState=function(e,t){var i="responsive-"+e.id,r=t.uid+"_"+i;if(-1===ue(this._noStates,r)){if(t.states.hasKey(i))return t.states.getKey(i);var n=e.state(t,i);return n||this._noStates.push(r),n}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,t){var i=this,r=this.getDefaultState(e);ze(t.properties,(function(t,n){_(r.properties[t])||(r.properties[t]=i.getValue(e,t))})),e.setState(t)},t.prototype.getValue=function(e,t){var i=e.getPropertyValue(t);return!_(i)&&_(e[t])&&(i=e[t]),i},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),e.prototype.dispose.call(this)},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},t}(jt),In=new pt;In.events.on("inserted",(function(e){e.newValue.id=lt.getUniqueId()}));var An=function(){function e(){}return e.widthXXS=function(t){return t.pixelWidth<=e.XXS},e.widthXS=function(t){return t.pixelWidth<=e.XS},e.widthS=function(t){return t.pixelWidth<=e.S},e.widthM=function(t){return t.pixelWidth<=e.M},e.widthL=function(t){return t.pixelWidth<=e.L},e.widthXL=function(t){return t.pixelWidth<=e.XL},e.widthXXL=function(t){return t.pixelWidth<=e.XXL},e.heightXXS=function(t){return t.pixelHeight<=e.XXS},e.heightXS=function(t){return t.pixelHeight<=e.XS},e.heightS=function(t){return t.pixelHeight<=e.S},e.heightM=function(t){return t.pixelHeight<=e.M},e.heightL=function(t){return t.pixelHeight<=e.L},e.heightXL=function(t){return t.pixelHeight<=e.XL},e.heightXXL=function(t){return t.pixelHeight<=e.XXL},e.isXXS=function(t){return t.pixelWidth<=e.XXS&&t.pixelHeight<=e.XXS},e.isXS=function(t){return t.pixelWidth<=e.XS&&t.pixelHeight<=e.XS},e.isS=function(t){return t.pixelWidth<=e.S&&t.pixelHeight<=e.S},e.isM=function(t){return t.pixelWidth<=e.M&&t.pixelHeight<=e.M},e.isL=function(t){return t.pixelWidth<=e.L&&t.pixelHeight<=e.L},e.isXL=function(t){return t.pixelWidth<=e.XL&&t.pixelHeight<=e.XL},e.isXXL=function(t){return t.pixelWidth<=e.XXL&&t.pixelHeight<=e.XXL},e.maybeXXS=function(t){return t.pixelWidth<=e.XXS||t.pixelHeight<=e.XXS},e.maybeXS=function(t){return t.pixelWidth<=e.XS||t.pixelHeight<=e.XS},e.maybeS=function(t){return t.pixelWidth<=e.S||t.pixelHeight<=e.S},e.maybeM=function(t){return t.pixelWidth<=e.M||t.pixelHeight<=e.M},e.maybeL=function(t){return t.pixelWidth<=e.L||t.pixelHeight<=e.L},e.maybeXL=function(t){return t.pixelWidth<=e.XL||t.pixelHeight<=e.XL},e.maybeXXL=function(t){return t.pixelWidth<=e.XXL||t.pixelHeight<=e.XXL},e.XXS=100,e.XS=200,e.S=300,e.M=400,e.L=600,e.XL=800,e.XXL=1e3,e}(),Tn=function(e){function t(){var t=e.call(this)||this;return t._disabled=!1,t.hasProperties=!1,t.values={},t.categories={},t.dates={},t.locations={},t.workingLocations={},t.properties={},t.sprites=[],t.isTemplate=!1,t._index=null,t._visible=!0,t._hidden=!1,t._ignoreMinMax=!1,t.hasChildren={},t.isHiding=!1,t._valueAnimations={},t._locationAnimations={},t.className="DataItem",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new _t(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Ui(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,de(this.sprites,(function(t){t.__disabled=e}))},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,t){if(de(this.sprites,(function(t){e?t.visible=t.defaultState.properties.visible:t.hiddenState?t.visible=t.hiddenState.properties.visible:t.visible=!1})),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var i={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",i)}},t.prototype.show=function(e,t,i){var r,n=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),i&&de(i,(function(i){r=n.setWorkingValue(i,n.values[i].value,e,t)})),de(this.sprites,(function(i){var r=i.show(e);null==r||r.isFinished()||(n._disposers.push(r),null!=t&&t>0&&r.delay(t))})),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),de(this.sprites,(function(e){e.dispose()})),this.sprites=[]},t.prototype.hide=function(e,t,i,r){var n=this;if(this.isHiding=!0,de(this.sprites,(function(i){var r=i.hide(e);null==r||r.isFinished()||(n._disposers.push(r),null!=t&&t>0&&r.delay(t))})),T(i)&&r){var a;if(de(r,(function(r){var o=n.setWorkingValue(r,i,e,t);o&&(a=o)})),a&&!a.isFinished())return this._hideDisposer=a.events.on("animationended",(function(){n.setVisibility(!1,!0),n.isHiding=!1})),this._disposers.push(this._hideDisposer),a;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},t.prototype.getDuration=function(e){if(!T(e)){var t=this.component;t&&(e=t.interpolationDuration)}if(null!=e)return this._adapterO?this._adapterO.apply("duration",e):e},t.prototype.getValue=function(e,t){if(e&&this.component){t||(t=this.component.dataFields[e+"Show"])||(t="value");var i=this.values[e][t];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:i,field:e}).value:i}},t.prototype.getWorkingValue=function(e){if(e&&this.component){var t=this.component.dataFields[e+"Show"];return t||(t="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][t],field:e}).workingValue:this.values[e][t]}},t.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},t.prototype.setValue=function(e,t,i,r){var n=this.values[e].value,a=this.getDuration(i);if(n!==(t=x(t))){if(this.values[e].value=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var o={type:"valuechanged",target:this,property:e};this.events.dispatchImmediately("valuechanged",o)}this.component&&this.component.handleDataItemValueChange(this,e)}this.setWorkingValue(e,t,a,r)},t.prototype.setCalculatedValue=function(e,t,i){if(this.values[e][i]!==t&&T(t)){if(this.values[e][i]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var r={type:"calculatedvaluechanged",target:this,property:e};this.events.dispatchImmediately("calculatedvaluechanged",r)}this.component&&this.component.handleDataItemCalculatedValueChange(this,e)}},t.prototype.setWorkingValue=function(e,t,i,r){if(T(this.values[e].value)){var n=this.getDuration(i),a=this.values[e].workingValue;if(null!=n&&n>0&&T(a)&&this.component){if(a!=t){var o=this.animate({childObject:this.values[e],property:"workingValue",from:a,to:t,dummyData:e},n,this.component.interpolationEasing);return null!=r&&o.delay(r),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=o,o}(s=this._valueAnimations[e])&&s.stop(),this.values[e].workingValue=t}else{var s;if((s=this._valueAnimations[e])&&s.stop(),this.values[e].workingValue=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var l={type:"workingvaluechanged",target:this,property:e};this.events.dispatchImmediately("workingvaluechanged",l)}this.component&&this.component.handleDataItemWorkingValueChange(this,e)}}},t.prototype.setLocation=function(e,t,i,r){if(this.locations[e]!==t){if(this.locations[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var n={type:"locationchanged",target:this,property:e};this.events.dispatchImmediately("locationchanged",n)}this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,t,i,r)}},t.prototype.setWorkingLocation=function(e,t,i,r){var n=this.getDuration(i),a=this.workingLocations[e];if(null!=n&&n>0&&T(a)&&this.component){if(a!=t){var o=this.animate({childObject:this.workingLocations,property:e,from:a,to:t,dummyData:e},n,this.component.interpolationEasing);return null!=r&&o.delay(r),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=o,o}(s=this._locationAnimations[e])&&s.stop(),this.workingLocations[e]=t}else{var s;if((s=this._locationAnimations[e])&&s.stop(),this.workingLocations[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var l={type:"workinglocationchanged",target:this,property:e};this.events.dispatchImmediately("workinglocationchanged",l)}this.component&&this.component.handleDataItemWorkingLocationChange(this,e)}},t.prototype.setDate=function(e,t,i){!I(t)&&this.component&&(t=this.component.dateFormatter.parse(t)),this.dates[e]!==t&&(this.dates[e]=t,this.setValue(e,t.getTime(),i))},t.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},t.prototype.setProperty=function(e,t){if(this.properties[e]!==t){if(this.hasProperties=!0,this.properties[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:e,value:t};this.events.dispatchImmediately("propertychanged",i)}this.component&&this.component.handleDataItemPropertyChange(this,e)}},t.prototype.setCategory=function(e,t){A(t)||(t=v(t)),this.categories[e]!==t&&(this.categories[e]=t)},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.dataContext&&(this.dataContext=function(e,t){return ze(e,(function(e,i){t[e]=i})),t}(t.dataContext,{})),Lt(t.locations,this.locations),t._adapterO&&this.adapter.copyFrom(t._adapterO),this.component=t.component},Object.defineProperty(t.prototype,"opacity",{set:function(e){de(this.sprites,(function(t){t.opacity=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){if(this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var t={type:"propertychanged",target:this,property:"ignoreMinMax",value:e};this.events.dispatchImmediately("propertychanged",t)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),t.prototype.animate=function(e,t,i){return new $i(this,e,t,i).start()},t.prototype.handleInterpolationProgress=function(e){var t=e.target.animationOptions[0];if(t){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var i={type:"workingvaluechanged",target:this,property:t.dummyData};this.events.dispatchImmediately("workingvaluechanged",i)}this.component&&this.component.handleDataItemWorkingValueChange(this,t.dummyData)}},t.prototype.hasValue=function(e){for(var t=0,i=e.length;t<i;t++){var r=this.values[e[t]];if(!r||!_(r.value))return!1}return!0},Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e},enumerable:!0,configurable:!0}),t.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&fe(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this},t}(jt),On=function(e){function t(){var t=e.call(this)||this;return t.dataFields={},t._dataSources={},t._parseDataFrom=0,t._dataDisposers=[],t._currentDataSetId="",t._start=0,t._end=1,t.skipRangeEvent=!1,t.rangeChangeDuration=0,t.rangeChangeEasing=Di,t.parsingStepDuration=50,t.dataInvalid=!1,t.rawDataInvalid=!1,t.dataRangeInvalid=!1,t.dataItemsInvalid=!1,t.interpolationDuration=0,t.interpolationEasing=Di,t.sequencedInterpolation=!0,t.sequencedInterpolationDelay=0,t.dataValidationProgress=0,t._addAllDataItems=!0,t._usesData=!0,t.className="Component",t.minZoomCount=1,t.maxZoomCount=0,t._dataItems=new gt(t.createDataItem()),t._dataItems.events.on("inserted",t.handleDataItemAdded,t,!1),t._dataItems.events.on("removed",t.handleDataItemRemoved,t,!1),t._disposers.push(new ht(t._dataItems)),t._disposers.push(t._dataItems.template),t.invalidateData(),t.dataUsers.events.on("inserted",t.handleDataUserAdded,t,!1),t._disposers.push(new we(t._dataDisposers)),t._start=0,t._end=1,t.maxZoomDeclination=1,t.applyTheme(),t}return s(t,e),t.prototype.createDataItem=function(){return new Tn},t.prototype.handleDataUserAdded=function(e){e.newValue.dataProvider=this},t.prototype.handleDataItemValueChange=function(e,t){this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,t){},t.prototype.handleDataItemWorkingLocationChange=function(e,t){},t.prototype.handleDataItemCalculatedValueChange=function(e,t){},t.prototype.handleDataItemPropertyChange=function(e,t){},t.prototype.processDataItem=function(e,t){var i=this;if(e){t||(t={}),e.dataContext=t;var r=!1;ze(this.dataFields,(function(n,a){var o=n,s=t[a];if(i._adapterO&&i._adapterO.isEnabled("dataContextValue")&&(s=i._adapterO.apply("dataContextValue",{field:o,value:s,dataItem:e}).value),_(s))if(r=!0,e.hasChildren[o]){var l=i.createDataItem();l.copyFrom(i.mainDataSet.template);var u=new gt(l);u.events.on("inserted",i.handleDataItemAdded,i,!1),u.events.on("removed",i.handleDataItemRemoved,i,!1),i._dataDisposers.push(new ht(u));for(var c=s.length,h=0;h<c;h++){var d=s[h],p=u.create();p.parent=e,i.processDataItem(p,d)}e[o]=u}else e[o]=s})),ze(this.propertyFields,(function(i,n){var a=i,o=t[n];_(o)&&(r=!0,e.setProperty(a,o))})),this._addAllDataItems||r||this.mainDataSet.remove(e)}},t.prototype.updateDataItem=function(e){var t=this;if(e){var i=e.dataContext;ze(this.dataFields,(function(r,n){var a=r,o=i[n];(t._adapterO&&(o=t._adapterO.apply("dataContextValue",{field:a,value:o,dataItem:e}).value),_(o))&&(e.hasChildren[a]?e[a].each((function(e){t.updateDataItem(e)})):e[a]=o)})),ze(this.propertyFields,(function(t,r){var n=t,a=i[r];_(a)&&e.setProperty(n,a)}))}},t.prototype.validateDataElements=function(){for(var e=this.endIndex,t=this.startIndex;t<e;t++){var i=this.dataItems.getIndex(t);i&&this.validateDataElement(i)}},t.prototype.validate=function(){this.validateDataElements(),e.prototype.validate.call(this)},t.prototype.validateDataElement=function(e){},t.prototype.addData=function(e,t,i){var r=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),i||(e instanceof Array?de(e,(function(e){r.data.push(e)})):this.data.push(e)),this.inited)this.removeData(t,i);else if(T(t))for(;t>0;)this.data.shift(),t--;this.invalidateData()},t.prototype.removeData=function(e,t){if(T(e)&&e>0){for(;e>0;){var i=this.mainDataSet.getIndex(0);i&&this.mainDataSet.remove(i),this.dataUsers.each((function(e){if(!e.data||0==e.data.length){var t=e.mainDataSet.getIndex(0);t&&e.mainDataSet.remove(t)}})),t||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--}this.invalidateDataItems()}},t.prototype.invalidateData=function(){this.disabled||this.isTemplate||(lt.addToInvalidComponents(this),vn.requestFrame(),this.dataInvalid=!0,Xe(this.dataUsers.iterator(),(function(e){e.invalidateDataItems()})))},t.prototype.invalidateDataUsers=function(){Xe(this.dataUsers.iterator(),(function(e){e.invalidate()}))},t.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(me(lt.invalidDataItems,this),vn.requestFrame(),this.dataItemsInvalid=!0,Xe(this.dataUsers.iterator(),(function(e){e.invalidateDataItems()})))},t.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,me(lt.invalidDataRange,this),vn.requestFrame())},t.prototype.validateDataRange=function(){fe(lt.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},t.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},t.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},t.prototype.appendDataItems=function(){for(var e=this.endIndex,t=this.startIndex;t<e;t++){(i=this.dataItems.getIndex(t))&&(i.__disabled=!1)}for(t=0;t<this.startIndex;t++){(i=this.dataItems.getIndex(t))&&(i.__disabled=!0)}for(t=this.endIndex;t<this.dataItems.length;t++){var i;(i=this.dataItems.getIndex(t))&&(i.__disabled=!0)}},t.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(me(lt.invalidRawDatas,this),vn.requestFrame(),this.rawDataInvalid=!0,Xe(this.dataUsers.iterator(),(function(e){e.invalidateRawData()})))},t.prototype.validateRawData=function(){var e=this;fe(lt.invalidRawDatas,this),Xe(this.mainDataSet.iterator(),(function(t){t&&e.updateDataItem(t)}))},t.prototype.dispose=function(){var t=this;this.mainDataSet.template.clones.clear(),ze(this._dataSources,(function(e,i){t.removeDispose(i)})),e.prototype.dispose.call(this)},t.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),de(this._dataDisposers,(function(e){e.dispose()})),Xe(this.dataUsers.iterator(),(function(e){e.disposeData()})),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},t.prototype.getDataItem=function(e){return this.mainDataSet.create()},t.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,lt.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var e=this.dataItem.dataContext;this._data=e[this.dataFields.data]}if(0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var t=this.preloader;Xe(this.dataUsers.iterator(),(function(e){e._startIndex=void 0,e._endIndex=void 0}));for(var i=0,r=Date.now(),n=this._parseDataFrom,a=this.data.length,o=function(){var e=s.data[n];if(s._usesData){var a=s.getDataItem(e);s.processDataItem(a,e)}if((s.dataUsers.each((function(t){if(0==t.data.length){var i=t.getDataItem(e);t.processDataItem(i,e)}})),100==++i)&&(i=0,Date.now()-r>s.parsingStepDuration&&n<s.data.length-10))return s._parseDataFrom=n+1,t&&(n/s.data.length>.5&&!t.visible||(t.progress=n/s.data.length)),s.dataValidationProgress=n/s.data.length,n=s.data.length,s.invalidateData(),{value:void 0}},s=this;n<a;n++){var l=o();if("object"==typeof l)return l.value}t&&(t.progress=1),this.dataUsers.each((function(e){e.hidden&&e.hide(0)}))}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},t.prototype.validateDataItems=function(){fe(lt.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(t.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated"))},t.prototype.getDataSource=function(e){var t=this;return _(this._dataSources[e])||(this._dataSources[e]=new Cn,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",(function(e){return t.dataSourceDateFields(e)})),this._dataSources[e].adapter.add("numberFields",(function(e){return t.dataSourceNumberFields(e)})),this.events.on("inited",(function(){t.loadData(e)}),this,!1)),this._dataSources[e]},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var t=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",(function(){t.loadData("data")}),this,!1),this.setDataSourceEvents(e,"data")},enumerable:!0,configurable:!0}),t.prototype.loadData=function(e){this._dataSources[e].load()},t.prototype.dataSourceDateFields=function(e){return e},t.prototype.dataSourceNumberFields=function(e){return e},t.prototype.populateDataSourceFields=function(e,t,i){return de(i,(function(i){t[i]&&-1===ue(e,t[i])&&e.push(t[i])})),e},t.prototype.setDataSourceEvents=function(e,t){var i=this;e.events.on("started",(function(e){var t=i.preloader;t&&(t.progress=0)}),void 0,!1),e.events.on("loadstarted",(function(e){var t=i.preloader;t&&(t.progress=.25)}),void 0,!1),e.events.on("loadended",(function(e){var t=i.preloader;t&&(t.progress=.5)}),void 0,!1),e.events.on("parseended",(function(e){var t=i.preloader;t&&(t.progress=.75)}),void 0,!1),e.events.on("ended",(function(e){var t=i.preloader;t&&(t.progress=1)}),void 0,!1),e.events.on("error",(function(e){var t=i.preloader;t&&(t.progress=1),i.openModal(e.message)}),void 0,!1),t&&e.events.on("done",(function(r){var n=i.preloader;n&&(n.progress=1),"data"!=t||D(r.data)||(r.data=[r.data]),e.incremental&&"data"==t&&i.data.length?i.addData(r.data,e.keepCount?r.data.length:0):e.updateCurrentData&&"data"==t&&i.data.length?(de(i.data,(function(e,t){_(r.data[t])&&ze(e,(function(i,n){_(r.data[t][i])&&(e[i]=r.data[t][i])}))})),i.invalidateRawData()):i[t]=r.data}))},Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new wn,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this},enumerable:!0,configurable:!0}),t.prototype.zoom=function(e,t,i,r){var n=this;void 0===t&&(t=!1),void 0===i&&(i=!1);var a=e.start,o=e.end,s=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),"end"==s&&1==o&&0!=a&&a<this.start&&(s="start"),"start"==s&&0==a&&o>this.end&&(s="end"),T(r)||(r=this.maxZoomDeclination),!T(a)||!T(o))return{start:this.start,end:this.end};if(this._finalStart!=a||this._finalEnd!=o){var l=this.maxZoomFactor/this.minZoomCount,u=this.maxZoomFactor/this.maxZoomCount;if("start"==s?(this.maxZoomCount>0&&1/(o-a)<u&&(o=a+1/u),1/(o-a)>l&&(o=a+1/l),o>1&&o-a<1/l&&(a=o-1/l)):(this.maxZoomCount>0&&1/(o-a)<u&&(a=o-1/u),1/(o-a)>l&&(a=o-1/l),a<0&&o-a<1/l&&(o=a+1/l)),a<-r&&(a=-r),1/(o-a)>l&&(o=a+1/l),o>1+r&&(o=1+r),1/(o-a)>l&&(a=o-1/l),this._finalEnd=o,this._finalStart=a,this.skipRangeEvent=t,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!i){var c=this.rangeChangeAnimation;if(c&&c.progress<1){var h=c.animationOptions;if(h.length>1){if(h[0].to==a&&h[1].to==o)return{start:a,end:o};c.isDisposed()||c.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),c=this.animate([{property:"start",to:a},{property:"end",to:o}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=c,c&&!c.isFinished()?c.events.on("animationended",(function(){n.dispatchImmediately("rangechangeended")})):this.dispatchImmediately("rangechangeended")}else this.start=a,this.end=o,this.dispatch("rangechangeended")}return{start:a,end:o}},t.prototype.zoomToIndexes=function(e,t,i,r){if(T(e)&&T(t)){var n=e/this.dataItems.length,a=t/this.dataItems.length;this.zoom({start:n,end:a},i,r)}},Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return V(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(1==e&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return T(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=V(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),t.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(t.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return(!T(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=V(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var t=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(t,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),t.prototype.removeFromInvalids=function(){e.prototype.removeFromInvalids.call(this),lt.removeFromInvalidComponents(this),fe(lt.invalidDataItems,this),fe(lt.invalidDataRange,this),fe(lt.invalidRawDatas,this)},Object.defineProperty(t.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new at),this._dataSets},enumerable:!0,configurable:!0}),t.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){if(this.dataSets.getKey(e))return this.dataItems.each((function(e){e.__disabled=!0})),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(e){e.__disabled=!1})),!0;if(""!=this._currentDataSetId)return this.dataItems.each((function(e){e.__disabled=!0})),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(e){e.__disabled=!1})),!0}return!1},Object.defineProperty(t.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),t.prototype._updateDataItemIndexes=function(e){for(var t=this.mainDataSet.values,i=t.length,r=e;r<i;++r)t[r]._index=r},t.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.bindDataField=function(e,t){this.dataFields[e]=t,this.invalidateDataRange()},t.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},t.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(t.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new pt,this._disposers.push(new Ce((function(){Xe(e._dataUsers.iterator(),(function(e){e.dispose()}))})))),this._dataUsers},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t.dataFields=Lt(this.dataFields,{}),t},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.data=t.data,this.sequencedInterpolation=t.sequencedInterpolation,this.sequencedInterpolationDelay=t.sequencedInterpolationDelay,this.interpolationDuration=t.interpolationDuration,this.interpolationEasing=t.interpolationEasing},t.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},t.prototype.getExporting=function(){var t=e.prototype.getExporting.call(this);return t.adapter.has("data",this._exportData,-1,this)||(t.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",(function(e){t.handleDataUpdated()}))),t},t.prototype._exportData=function(e){return e.data=this.data,e},t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return i&&this.invalidateData(),i},t.prototype.setShowOnInit=function(t){t!=this.getPropertyValue("showOnInit")&&(!t||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),e.prototype.setShowOnInit.call(this,t)},t.prototype.setBaseId=function(t){t!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,lt.removeFromInvalidComponents(this),this._baseId=t,this.invalidateData()),e.prototype.setBaseId.call(this,t)},Object.defineProperty(t.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e)},enumerable:!0,configurable:!0}),t.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},t.prototype.asFunction=function(t){return"interpolationEasing"==t||"rangeChangeEasing"==t||e.prototype.asIs.call(this,t)},t}(gn);lt.registeredClasses.Component=On;var Dn=function(e){function t(){var t=e.call(this)||this;return t.isOversized=!1,t.className="Label",t.fill=(new pr).getFor("text"),t.wrap=!1,t.truncate=!1,t.fullWords=!0,t.ellipsis="",t.textAlign="start",t.textValign="top",t.layout="absolute",t.baseLineRatio=-.27,t._positionPrecision=1,t.events.on("maxsizechanged",(function(){t.inited&&t.handleMaxSize()}),t,!1),t.events.once("validated",t.handleValidate,t,!1),t.applyTheme(),t}return s(t,e),t.prototype.afterDraw=function(){e.prototype.afterDraw.call(this),this.validatePosition()},t.prototype.setPaper=function(t){var i=e.prototype.setPaper.call(this,t);return i&&this.hardInvalidate(),i},t.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||lt.events.once("exitframe",this.hardInvalidate,this)},t.prototype.handleMaxSize=function(){this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized?this.invalidate():this.alignSVGText()},t.prototype.arrange=function(){},t.prototype.updateCurrentText=function(){var e,t;Bt(this.html)&&this.paper.supportsForeignObject()?(e="html",t=this.html):(e="svg",t=this.text),O(t)&&(t=t.toString()),_(t)&&""!==t&&(t=this.populateString(t,this.dataItem)),"html"==e?this._adapterO&&(t=this._adapterO.apply("htmlOutput",t)):this._adapterO&&(t=this._adapterO.apply("textOutput",t));var i=t!=this.currentText||e!=this._currentFormat;return this.currentText=t,this._currentFormat=e,i},t.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},t.prototype.getLineBBox=function(e){var t=e&&e.element,i=t&&t.node;i&&i.parentNode&&(e.bbox=t.getBBox())},t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.bbox.width,i=this.bbox.height,r=this.topParent;if(!r||r.maxWidth&&r.maxHeight){var n=z(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),a=z(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=a+","+n+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=o){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var s=this._currentFormat,l=this.currentText;if(_(l)&&""!=l){var u=l.split("\n");this._prevStatus=o,this.textAlign=this.textAlign;var c=this.group.getAttr("display");if("none"==c&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===s){this.element.removeAttr("display");var h=this.element;this.resetBBox();for(var d=0,p="",f=0;f<u.length;f++){var m=u[f];if(""!=m){var y=Qr().chunk(m,null,this.ignoreFormatting),g=0,v=!0,b=!1,x=this.getLineInfo(f);x?(x.text="",x.element.textContent=""):(x={text:"",element:this.getSVGLineElement("",0),complex:!1},h.add(x.element)),x.element.removeAttr("display"),x.element.removeChildren(),this.textPathElement&&x.element.add(this.textPathElement);for(var S=0;S<y.length;S++){S&&(x.complex=!0);var P=y[S];if("format"===P.type)p=P.text;else{if(b)continue;x.text=P.text,x.style=Qr().translateStyleShortcuts(p);var C=this.getSvgElement(x.text,x.style);if(this.textPathElement?this.textPathElement.add(C):x.element.add(C),this.getLineBBox(x),x.bbox.width=Math.ceil(x.bbox.width),g<x.bbox.height&&(g=x.bbox.height),(this.wrap||this.truncate)&&x.bbox.width>n){this.isOversized=!0;var w=x.element.textContent,I=x.bbox.width/w.length,A=H(Math.ceil((x.bbox.width-n)/I),w.length);if(this.truncate){var T=!1,O=x.element.node;if(O&&O.childNodes)for(var D=x.element.node.childNodes.length-1;D>=0;D--){var k=x.element.node.childNodes[D];if(T&&x.bbox.width<=n&&(k.textContent+=" "+this.ellipsis,x.bbox=x.element.getBBox(),x.bbox.width=Math.floor(x.bbox.width),x.bbox.width<=n))break;T=!1;var F=k.textContent;for(w=x.element.textContent,A=H(Math.ceil((x.bbox.width-n)/I),w.length);x.bbox.width>n&&A<=w.length&&A>0;){(j=z(w.length-A-this.ellipsis.length,1))<=1&&(A=0,D>0&&(T=!0,x.element.node.removeChild(k))),(F=$t(F,j,this.ellipsis,this.fullWords,this.rtl)).length>j&&this.fullWords&&(F=$t(F,j,this.ellipsis,!1,this.rtl)),k.textContent=F,x.bbox=x.element.getBBox(),x.bbox.width=Math.floor(x.bbox.width),A=Math.ceil(1.1*A)}b=!0}}else{if(x.element.node){for(var E=x.element.node.lastChild,M=void 0;x.bbox.width>n&&A<=w.length&&A>0;){var j=z(P.text.length-A,1);v?M=Ut(P.text,j,!0,this.rtl):((M=Ut(P.text,j,!0,this.rtl))[0].length>j||1===j)&&(x.element.node.removeChild(E),A=0),A>0&&(E.textContent=Qr().cleanUp(qt(M.shift()))),x.bbox=x.element.getBBox(),x.bbox.width=Math.floor(x.bbox.width),A++}if(M.length>0){var R="";_(M)&&(this.rtl?R+=M.join("")+p:R+=p+M.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var V=S+1;V<y.length;V++)"value"==y[V].type?R+=y[V].text.replace(/([\[\]]{1})/g,"$1$1"):R+=y[V].text;u.splice(f+1,0,R)}b=!0}}}this.bbox.width<x.bbox.width&&(this.bbox.width=x.bbox.width),this.bbox.height=d+g,this.textPathElement?x.element.attr({dy:-this.paddingBottom.toString()}):x.element.attr({x:"0",y:d+g,dy:L(this.baseLineRatio*g,3).toString()}),v=!1}}var B=x.element.node;if(B)(E=B.lastChild)&&(E.textContent=this.rtl?E.textContent.replace(/^[\s\uFEFF\xA0]+/g,""):Yt(E.textContent));d+=g,this.addLineInfo(x,f)}else{var N=this.getSVGLineElement("",0);N.add(this.getSvgElement(".",Qr().translateStyleShortcuts(p))),h.add(N);var W=Math.ceil(N.getBBox().height);W>0&&(d+=W),h.removeElement(N);var G=this.getLineInfo(f);G&&(G.text="",G.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,0!=this.bbox.width&&0!=this.bbox.height||(this.measureFailed=!0),this._measuredWidth=L(z(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=L(z(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,i==this._measuredHeight&&t==this._measuredWidth||this.dispatch("transformed"),this.hideUnused(u.length)}else{this.element.removeAttr("display"),this.resetBBox(),(h=this.element).removeChildren();var U=this.paper.foreignObject();h.add(U),this.maxWidth&&U.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&U.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var $=this.getHTMLLineElement(l);U.node.appendChild($),$.style.display="inline-block";var q=$.clientWidth,Y=$.clientHeight;$.style.display="block",this._bbox={x:0,y:0,width:q,height:Y},U.attr({width:q+1,height:Y}),this.maybeHideOversized(),this._measuredWidth=z(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=z(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&($.style.overflow="hidden"),(q>n||Y>a)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==c&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:"none"})}}else r.events.once("maxsizechanged",this.hardInvalidate,this,!1)},t.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},t.prototype.alignSVGText=function(){var e=this.element,t=e.node.children||e.node.childNodes;if(t&&(!t||0!=t.length)){var i=this._measuredWidth,r=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var n=t.length-1;n>=0;n--){var a=t[n];if(a.setAttribute("text-anchor",this.textAlign),this.textPathElement)a.removeAttribute("x"),a.removeAttribute("y");else{switch(this.textAlign){case"middle":a.setAttribute("x",(i/2).toString()+"px");break;case"end":this.rtl||a.setAttribute("x",i.toString());break;default:this.rtl?a.setAttribute("x",i.toString()):a.removeAttribute("text-anchor")}var o=x(a.getAttribute("y"));switch(this.textValign){case"middle":a.setAttribute("y",((o||0)+(r-this.bbox.height)/2).toString());break;case"bottom":a.setAttribute("y",((o||0)+r-this.bbox.height).toString());break;default:a.setAttribute("y",(o||0).toString())}}}}},t.prototype.getSVGLineElement=function(e,t){var i=this.paper.addGroup("text");return i.textContent=e,i.attr({x:"0"}),_(t)&&i.attr({y:t.toString()}),(this.truncate||this.wrap)&&i.attr({overflow:"hidden"}),i},Object.defineProperty(t.prototype,"rtl",{get:function(){return _(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=b(e),this._rtl=e,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),t.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},t.prototype.getHTMLLineElement=function(e){var t=document.createElement("div");switch(t.innerHTML=e,this.textAlign){case"middle":t.style.textAlign="center";break;case"end":t.style.textAlign="right"}return this.wrap?t.style.wordWrap="break-word":t.style.whiteSpace="nowrap",this.rtl&&(t.style.direction="rtl"),_(this.fill)&&(t.style.color=this.fill.toString()),t},t.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"))},t.prototype.hideUnused=function(e){this.initLineCache();var t=this.getCache("lineInfo");if(t.length>=e)for(var i=e;i<t.length;i++){var r=t[i];r&&r.element&&r.element.attr({display:"none"})}},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(Ki,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:100*e+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){this.setPropertyValue("html",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},t.prototype.getLineInfo=function(e){this.initLineCache();var t=this.getCache("lineInfo");return t.length>e?t[e]:void 0},t.prototype.addLineInfo=function(e,t){this.initLineCache(),this.getCache("lineInfo")[t]=e},t.prototype.initLineCache=function(){_(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},t.prototype.setDataItem=function(t){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),t&&(this._sourceDataItemEvents=new we([t.events.on("valuechanged",this.invalidate,this,!1),t.events.on("workingvaluechanged",this.invalidate,this,!1),t.events.on("calculatedvaluechanged",this.invalidate,this,!1),t.events.on("propertychanged",this.invalidate,this,!1)])),e.prototype.setDataItem.call(this,t)},Object.defineProperty(t.prototype,"availableWidth",{get:function(){return _(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableHeight",{get:function(){return _(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),t.prototype.getSvgElement=function(e,t){var i=this.paper.add("tspan");return i.textContent=e,t&&i.node.setAttribute("style",t),i},t.prototype.deepInvalidate=function(){e.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(Zt(Bt(this.html)?this.html:this.text)),e},set:function(e){e=S(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.Label=Dn,In.push({relevant:An.heightXS,state:function(e,t){if(e instanceof Dn&&e.parent&&e.parent.isBaseSprite){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var kn=function(e){function t(){var t=e.call(this)||this;return t.className="RoundedRectangle",t.element=t.paper.add("path"),t.cornerRadius(3,3,3,3),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.innerWidth,i=this.innerHeight;if(T(t)&&T(i)){var r=H(t,i)/2,n=Nt(this.cornerRadiusTopLeft,r),a=Nt(this.cornerRadiusTopRight,r),o=Nt(this.cornerRadiusBottomRight,r),s=Nt(this.cornerRadiusBottomLeft,r),l=H(Math.abs(t/2),Math.abs(i/2)),u=V(n,0,l),c=V(a,0,l),h=V(o,0,l),d=V(s,0,l),p="M"+u+",0 L"+(t-c)+",0"+(" a"+c+","+c+" 0 0 1 "+c+","+c)+(" L"+t+","+(i-h))+(" a"+h+","+h+" 0 0 1 -"+h+","+h)+(" L"+d+","+i)+(" a"+d+","+d+" 0 0 1 -"+d+",-"+d)+(" L0,"+u)+(" a"+u+","+u+" 0 0 1 "+u+",-"+u)+" Z";this.path=p}},t.prototype.cornerRadius=function(e,t,i,r){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=t,this.cornerRadiusBottomLeft=i,this.cornerRadiusBottomRight=r},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.RoundedRectangle=kn;var Fn=function(e){function t(){var t=e.call(this)||this;t.className="Button",t.tooltipY=0,t.iconPosition="left",t.layout="horizontal",t.contentAlign="center",t.contentValign="middle",t.padding(8,16,8,16),t.setStateOnChildren=!0;var i=new pr,r=t.background;r.fill=i.getFor("secondaryButton"),r.stroke=i.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),t.label=new Dn,t.label.fill=i.getFor("secondaryButtonText"),t.label.shouldClone=!1;var n=r.states.create("hover");n.properties.fillOpacity=1,n.properties.fill=i.getFor("secondaryButtonHover");var a=r.states.create("down");return a.transitionDuration=100,a.properties.fill=i.getFor("secondaryButtonDown"),a.properties.fillOpacity=1,t.role="button",t.focusable=!0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var t=this._icon;t&&(t.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&("left"==e?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new kn},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.label&&this.label.copyFrom(t.label),t.icon&&(this.icon=t.icon.clone())},t}(gn);lt.registeredClasses.Button=Fn;var En=function(e){function t(){var t=e.call(this)||this;return t.className="Circle",t.element=t.paper.add("circle"),t.setPercentProperty("radius",m(100)),t.setPropertyValue("horizontalCenter","middle"),t.setPropertyValue("verticalCenter","middle"),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Nt(this.radius,H(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:2*e,height:2*e}},t}(mn);lt.registeredClasses.Circle=En;var Mn=function(e){function t(){var t=e.call(this)||this;return t.className="Ellipse",t.element=t.paper.add("ellipse"),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=2*e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=2*e,this.invalidate()},enumerable:!0,configurable:!0}),t}(En);lt.registeredClasses.Ellipse=Mn;var jn=function(e){function t(){var t=e.call(this)||this;return t.className="Image",t.element=t.paper.add("image"),t.applyTheme(),t.width=50,t.height=50,t}return s(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),this.href){var t=this.innerWidth,i=this.innerHeight;T(this.widthRatio)&&(t=i*this.widthRatio,this.width=t),T(this.heightRatio)&&(i=t*this.heightRatio,this.height=i),this.element.attr({width:t,height:i}),this.element.attrNS(Ki,"xlink:href",this.href)}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Image=jn;var Ln=function(e){function t(){var t=e.call(this)||this;return t.className="Line",t.element=t.paper.add("line"),t.fill=Ft(),t.x1=0,t.y1=0,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){T(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof Ur&&(t=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return T(e)||(e=this.pixelWidth),e},set:function(e){T(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){T(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof Ur&&(t=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return T(e)||(e=this.pixelHeight),e},set:function(e){T(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},r=K(t,i,e),n=X(t,i);return{x:r.x,y:r.y,angle:n}},t}(mn);lt.registeredClasses.Line=Ln;var Rn=function(e){function t(){var t=e.call(this)||this;return t.className="PointedRectangle",t.element=t.paper.add("path"),t.cornerRadius=6,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.cornerRadius,i=this.innerWidth,r=this.innerHeight;if(i>0&&r>0){var n,a,o=this.pointerX,s=this.pointerY,l=this.pointerBaseWidth/2,u=H(i/2,r/2),c=V(t,0,u),h=V(t,0,u),d=V(t,0,u),p=V(t,0,u),f=void 0,m=void 0,y=void 0,g=void 0,v=(o-0)*(r-0)-(s-0)*(i-0),b=(o-0)*(0-r)-(s-r)*(i-0);if(v>0&&b>0)f="M"+c+",0 L"+((n=V(o,c+l,i-l-h))-l)+",0 L"+o+","+(s=V(s,-1/0,0))+" L"+(n+l)+",0 L"+(i-h)+",0";else f="M"+c+",0 L"+(i-h)+",0";if(v<0&&b<0)y=" L"+(i-d)+","+r+" L"+((n=V(o,p+l,i-l-d))+l)+","+r+" L"+o+","+(s=V(s,r,1/0))+" L"+(n-l)+","+r+" L"+p+","+r;else y=" L"+p+","+r;if(v<0&&b>0)g=" L0,"+(r-p)+" L0,"+((a=V(s,c+l,r-p-l))+l)+" L"+(o=V(o,-1/0,0))+","+s+" L0,"+(a-l)+" L0,"+c;else g=" L0,"+c;if(v>0&&b<0)m=" L"+i+","+h+" L"+i+","+((a=V(s,h+l,r-l-d))-l)+" L"+(o=V(o,i,1/0))+","+s+" L"+i+","+(a+l)+" L"+i+","+(r-d);else m=" L"+i+","+(r-d);var x=" a"+h+","+h+" 0 0 1 "+h+","+h,S=" a"+d+","+d+" 0 0 1 -"+d+","+d,P=" a"+p+","+p+" 0 0 1 -"+p+",-"+p,_=" a"+c+","+c+" 0 0 1 "+c+",-"+c;this.path=f+x+m+S+y+P+g+_}},Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(function(e){function t(){var t=e.call(this)||this;return t.className="PointedShape",t.pointerBaseWidth=15,t.pointerLength=10,t.pointerY=0,t.pointerX=0,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),T(this.pointerX)||(this.pointerX=this.pixelWidth/2),T(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),t}(mn));function Vn(e){var t=Nn(e[0]),i={x:0,y:0},r=Bi.minPolylineStep;T(r)||(r=.5);for(var n=0,a=e.length;n<a;n++){var o=e[n];$(o,i)>r&&(t+=Nn(o),i=o)}return t}function Bn(e){return" M"+L(e.x,4)+","+L(e.y,4)+" "}function Nn(e){return" L"+L(e.x,4)+","+L(e.y,4)+" "}function Wn(e,t){return" Q"+L(t.x,4)+","+L(t.y,4)+" "+L(e.x,4)+","+L(e.y,4)}function zn(e,t,i){return" C"+L(t.x,4)+","+L(t.y,4)+" "+L(i.x,4)+","+L(i.y,4)+" "+L(e.x,4)+","+L(e.y,4)}function Hn(e,t,i,r){if(0==t)return"";T(r)||(r=i);var n="",a=",",o=Math.ceil(Math.abs(t)/180),s=1;t<0&&(s=0);var l=0,u=0,c=-W(e)*i,h=-B(e)*r;if(t<.5&&i>3e3)return Nn({x:f=L(W(p=e+t)*i,4),y:m=L(B(p)*r,4)});for(var d=0;d<o;d++){var p,f,m;n+=" a"+i+a+r+",0"+",0"+a+s+a+(f=L(W(p=e+t/o*(d+1))*i+c-l,4))+a+(m=L(B(p)*r+h-u,4)),l=f,u=m}return n}function Gn(e,t,i,r,n,a,o){if(0==t)return"";if(T(r)||(r=0),0==i&&r<=0)return"";if(i<r){var s=i;i=r,r=s,T(n)&&(n=n/r*i)}360==(t=H(t,360))&&(a=0,o=0);var l=e+t,u=B(H(t,45)/2),c=(n=T(n)?n:i)/i*r,h=n/i*(a=a||0),d=n/i*(o=T(o)?o:a);a=V(a,0,(i-r)/2),h=V(h,0,(n-c)/2),o=V(o,0,(i-r)/2),d=V(d,0,(n-c)/2),a=L(V(a,0,i*u),4),h=L(V(h,0,n*u),4),o=L(V(o,0,r*u),4),d=L(V(d,0,c*u),4);var p=Math.asin(a/i/2)*M*2,f=Math.asin(h/n/2)*M*2;r<o&&(r=o),c<d&&(c=d);var m=Math.asin(o/r/2)*M*2,y=Math.asin(d/c/2)*M*2;T(m)||(m=0),T(y)||(y=0);var g=e+t/2,v={x:L(W(g)*r,4),y:B(g)*c},b={x:W(e)*(r+o),y:B(e)*(c+d)},x={x:W(e)*(i-a),y:B(e)*(n-h)},S={x:W(l)*(i-a),y:B(l)*(n-h)},P={x:W(l)*(r+o),y:B(l)*(c+d)},_={x:W(e+p)*i,y:B(e+f)*n},C={x:W(l-m)*r,y:B(l-y)*c};o+=o*B(m/2),d+=d*B(y/2),m>(l-e)/2&&(C=v);var w="";return 360==t?w=Bn(x):(w=Bn(b),w+=Nn(x),w+=Un(_,a,h,!0)),w+=Hn(e+p,t-2*p,i,n),T(r)&&0!=r?(360==t&&0==a?w+=Bn(P):(w+=Un(S,a,h,!0),w+=Nn(P),w+=Un(C,o,d,!0)),w+=Hn(l-m,-(t-2*m),r,c),(t<360||a>0)&&(w+=Un(b,o,d,!0)),w+=Nn(b)):(w+=Un(S,a,h,!0),t<360&&(w+=Nn(b))),w}function Un(e,t,i,r,n,a){if(0==t)return"";var o=",";return" A"+t+o+i+o+(a=a||0)+o+ +(n=Boolean(n))+o+ +(r=Boolean(r))+o+L(e.x,4)+o+L(e.y,4)}function $n(e,t,i,r){return T(i)||(i=0),T(r)||(r=0),Bn({x:i,y:r})+Nn({x:i+e,y:r})+Nn({x:i+e,y:r+t})+Nn({x:i,y:r+t})+" Z"}function qn(e,t){var i=",",r=" L";return t?"M"+e.x+i+e.y+r+e.x+i+(e.y+e.height)+r+(e.x+e.width)+i+(e.y+e.height)+r+(e.x+e.width)+i+e.y+r+e.x+i+e.y:"M"+e.x+i+e.y+r+(e.x+e.width)+i+e.y+r+(e.x+e.width)+i+(e.y+e.height)+r+e.x+i+(e.y+e.height)+r+e.x+i+e.y}var Yn=function(e){function t(){var t=e.call(this)||this;return t._distance=0,t.className="Polyline",t.element=t.paper.add("path"),t.shapeRendering="auto",t.fill=Ft(),t.strokeOpacity=1,t.applyTheme(),t}return s(t,e),t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var t="",i=0,r=e.length;i<r;i++){var n=e[i];if(n.length>0){t+=Bn(n[0]);for(var a=1;a<n.length;a++){var o=n[a];t+=Nn(o),this._distance+=$(n[a-1],o)}}}this.path=t}this._realSegments=e},Object.defineProperty(t.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t=0;e<0&&(e=Math.abs(e),t=180);var i=this._realSegments;if(i){for(var r=this.distance,n=0,a=0,o=0,s=void 0,l=void 0,u=0;u<i.length;u++){var c=i[u];if(c.length>1){for(var h=1;h<c.length;h++)if(a=n/r,o=(n+=$(s=c[h-1],l=c[h]))/r,a<=e&&o>e){u=i.length;break}}else 1==c.length&&(s=c[0],l=c[0],a=0,o=1)}if(s&&l){var d=K(s,l,(e-a)/(o-a));return{x:d.x,y:d.y,angle:t+X(s,l)}}}return{x:0,y:0,angle:0}},Object.defineProperty(t.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Polyline=Yn;var Kn=function(e){function t(){var t=e.call(this)||this;return t.className="Polyarc",t.controlPointDistance=.5,t.controlPointPosition=.5,t.applyTheme(),t}return s(t,e),t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var t="";this._realSegments=[];for(var i=0,r=e.length;i<r;i++){var n=e[i],a=[];if(this._realSegments.push(a),n.length>0){t+=Bn(n[0]);for(var o=1;o<n.length;o++){var s=n[o-1],l=n[o],u=$(l,s),c=u*this.controlPointDistance,h=this.controlPointPosition,d=-X(s,l),p={x:s.x+(l.x-s.x)*h*.5-c*B(d),y:s.y+(l.y-s.y)*h*.5-c*W(d)},f={x:s.x+(l.x-s.x)*h*1.5-c*B(d),y:s.y+(l.y-s.y)*h*1.5-c*W(d)};t+=zn(l,p,f);var m=Math.ceil(u),y=s;if(m>0)for(var g=0;g<=m;g++){var v=ee(s,l,p,f,g/m);a.push(v),this._distance+=$(y,v),y=v}else a.push(s)}}}this.path=t}},Object.defineProperty(t.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath()},enumerable:!0,configurable:!0}),t}(Yn);lt.registeredClasses.Polyarc=Kn;var Xn=function(e){function t(t){var i=e.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=Di,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=t,i.applyTheme(),i}return s(t,e),t.prototype.morphToPolygon=function(e,t,i){var r=this.morphable.currentPoints;if(r&&e){this.sortPoints(r),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],_(t)||(t=this.morphDuration),_(i)||(i=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,r),this._morphToPointsReal=this.normalizePoints(r,e),this.morphable.currentPoints=this._morphFromPointsReal;var n=new $i(this,{property:"morphProgress",from:0,to:1},t,i);return this._disposers.push(n),n.start(),n}},t.prototype.normalizePoints=function(e,t){for(var i=0,r=e.length;i<r;i++){var n=e[i][0],a=e[i][1],o=C(J(n)),s=o.x+o.width,l=o.y+o.height;if(t[i]||(t[i]=[]),n&&!t[i][0]&&(t[i][0]=[{x:s,y:l},{x:s,y:l}]),t[i][0]){t[i][0]=this.addPoints(t[i][0],n.length);for(var u=1/0,c=0,h=0;h<t[i][0].length;h++){var d=$(t[i][0][h],n[0]);d<u&&(c=h,u=d)}var p=t[i][0].slice(0,c),f=t[i][0].slice(c);t[i][0]=f.concat(p)}a&&(t[i][1]||(t[i][1]=[{x:s,y:l},{x:s,y:l}]),t[i][1]=this.addPoints(t[i][1],a.length))}return t},t.prototype.sortPoints=function(e){e.sort((function(e,t){var i=C(J(e[0])),r=C(J(t[0]));return i.width*i.height>r.width*r.height?-1:1}));for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i][0];n&&t.push(C(J(n)))}return Q(t)},t.prototype.morphToCircle=function(e,t,i){var r=this.morphable.points,n=this.sortPoints(r);this._morphFromPointsReal=[],this._morphToPointsReal=[],_(t)||(t=this.morphDuration),_(i)||(i=this.morphEasing);for(var a=0,o=r.length;a<o;a++){var s=r[a][0],l=r[a][1];if(this._morphFromPointsReal[a]=[],this._morphToPointsReal[a]=[],s){var u=s,c=s,h=C(J(c));this.morphToSingle&&(h=C(n));var d=h.x+h.width/2,p=h.y+h.height/2,f=e;T(f)||(f=Math.min(h.width/2,h.height/2)),u=[];var m=X({x:d,y:p},s[0]),y=100;s.length>y&&(y=s.length);for(var g=360/((y=(c=this.addPoints(s,y)).length)-1),v=0;v<y;v++){var b=g*v+m,x={x:d+f*W(b),y:p+f*B(b)};u[v]=x}if(l&&l.length>0)for(var S=0,P=l.length;S<P;S++)u.push({x:d,y:p});this._morphFromPointsReal[a][0]=c,this._morphToPointsReal[a][0]=u}}this.morphable.currentPoints=this._morphFromPointsReal;var w=new $i(this,{property:"morphProgress",from:0,to:1},t,i);return this._disposers.push(w),w.start(),w},t.prototype.addPoints=function(e,t){for(var i=Math.round(t/e.length),r=[],n=0,a=e.length;n<a;n++){var o=e[n],s=void 0;s=n==e.length-1?e[0]:e[n+1],r.push(o);for(var l=1;l<i;l++){var u=l/i,c={x:o.x+(s.x-o.x)*u,y:o.y+(s.y-o.y)*u};r.push(c)}r.length+e.length-n==t&&(i=0)}if(r.length<t&&e.length>0){var h=e[e.length-1];for(l=r.length;l<t;l++)r.push({x:h.x,y:h.y})}return r},t.prototype.morphToRectangle=function(e,t,i,r){var n=this.morphable.points;this.sortPoints(n),this._morphFromPointsReal=[],this._morphToPointsReal=[],_(i)||(i=this.morphDuration),_(r)||(r=this.morphEasing);for(var a=0,o=n.length;a<o;a++){var s=n[a][0],l=n[a][1];if(this._morphFromPointsReal[a]=[],this._morphToPointsReal[a]=[],s){var u=s,c=s,h=this._bboxes[a];this.morphToSingle;var d=h.x,p=h.y,f=e,m=t;if(T(f)||(f=h.width),T(m)||(m=h.height),u=[{x:d,y:p},{x:d+f,y:p},{x:d+f,y:p+m},{x:d,y:p+m}],u=this.addPoints(u,s.length),s.length<4)for(var y=s.length;y<4;y++)u.push({x:s[y].x,y:s[y].y});if(l&&l.length>0)for(var g=h.x+h.width/2,v=h.y+h.height/2,b=0,x=l.length;b<x;b++)u.push({x:g,y:v});this._morphFromPointsReal[a][0]=c,this._morphToPointsReal[a][0]=u}}this.morphable.currentPoints=this._morphFromPointsReal;var S=new $i(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push(S),S.start(),S},Object.defineProperty(t.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var t=[];if(null!=e){var i=this._morphFromPointsReal,r=this._morphToPointsReal;if(null!=i&&null!=r)for(var n=0,a=i.length;n<a;n++){var o=[];t.push(o);var s=i[n][0],l=i[n][1],u=r[n][0],c=r[n][1];if(s&&s.length>0&&u&&u.length>0){for(var h=[],d=0,p=s.length;d<p;d++){var f=s[d],m=u[d],y={x:f.x+(m.x*this.scaleRatio-f.x)*e,y:f.y+(m.y*this.scaleRatio-f.y)*e};h.push(y)}o[0]=h}if(l&&l.length>0&&c&&c.length>0){for(var g=[],v=0,b=l.length;v<b;v++){f=l[v],m=c[v],y={x:f.x+(m.x*this.scaleRatio-f.x)*e,y:f.y+(m.y*this.scaleRatio-f.y)*e};g.push(y)}o[1]=g}}}this.morphable.currentPoints=t},enumerable:!0,configurable:!0}),t.prototype.morphBack=function(e,t){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,_(e)||(e=this.morphDuration),_(t)||(t=this.morphEasing);var i=new $i(this,{property:"morphProgress",from:0,to:1},e,t);return this._disposers.push(i),i.start(),i},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Ui(this._animations))),this._animations},enumerable:!0,configurable:!0}),t}(Mt),Jn=function(e){function t(){var t=e.call(this)||this;return t.className="Polygon",t.element=t.paper.add("path"),t.shapeRendering="auto",t._currentPoints=[],t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),t=this.path;if(t&&(!e||0==e.length)){for(var i=t.slice(1,t.length-1).split("ZM"),r=0;r<i.length;r++){var n=i[r];if(n.length>0){var a=n.split("M"),o=a[0],s=a[1];if(o&&o.length>0){var l=o.split("L");if(l.length>0){var u=[],c=[u];e.push(c);for(var h=0;h<l.length;h++){var d=l[h].split(",");u.push({x:+d[0],y:+d[1]})}if(s&&s.length>0){var p=s.split("L");if(p.length>0){var f=[];c.push(f);for(h=p.length-1;h>=0;h--){d=p[h].split(",");f.push({x:+d[0],y:+d[1]})}}}}}}}this.setPropertyValue("points",e),this._currentPoints=e}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var t,i,r,n,a="",o=this._currentPoints;if(o.length>0){for(var s=0,l=o.length;s<l;s++){var u=o[s][0],c=o[s][1];if(u&&u.length>0){a+=Bn(d=u[0]);for(var h=0;h<u.length;h++)a+=Nn(d=u[h]),(!T(i)||i<d.x)&&(i=d.x),(!T(t)||t>d.x)&&(t=d.x),(!T(r)||r>d.y)&&(r=d.y),(!T(n)||n<d.y)&&(n=d.y)}if(c&&c.length>0){var d;a+=Bn(d=c[0]);for(var p=0,f=c.length;p<f;p++)a+=Nn(d=c[p])}}a&&(a+=" Z"),this.bbox.x=t,this.bbox.y=r,this.bbox.width=i-t,this.bbox.height=n-r,e.prototype.setPath.call(this,a)}},t.prototype.setPath=function(t){return!!e.prototype.setPath.call(this,t)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new Xn(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Polygon=Jn;var Qn=function(e){function t(){var t=e.call(this)||this;return t.className="Polyspline",t.tensionX=.5,t.tensionY=.5,t.applyTheme(),t}return s(t,e),t.prototype.makePath=function(){this._distance=0;var e=this.segments,t=this.tensionX,i=this.tensionY;if(this.allPoints=[],e&&e.length>0){var r="";this._realSegments=[];for(var n=0,a=e.length;n<a;n++){var o=e[n],s=[];if(this._realSegments.push(s),o.length>0){var l=o[0],u=o[o.length-1],c=!1;L(l.x,3)==L(u.x)&&L(l.y)==L(u.y)&&(c=!0),r+=Bn(o[0]);for(var h=0;h<o.length-1;h++){var d=o[h-1],p=o[h],f=o[h+1],m=o[h+2];0===h?d=o[h]:h==o.length-2&&(m=o[h+1]),m||(m=f),0===h?d=c?o[o.length-2]:o[n]:h==o.length-2&&(m=c?o[1]:o[h+1]);var y=te(d,p,f,0,t,i),g=ie(0,p,f,m,t,i);r+=zn(f,y,g);var v=1.2*Math.ceil(q(p,f,y,g,20)),b=p;if(v>0)for(var x=0;x<=v;x++){var S=ee(p,f,y,g,x/v);if(S.x!=b.x||S.y!=b.y){s.push(S);var P=L(X(b,S),5);this._distance+=$(b,S),this.allPoints[Math.floor(this._distance)]={x:S.x,y:S.y,angle:P},b=S}}else s.push(d)}}var _=this.allPoints;if(_.length>1)for(var C=0;C<_.length;C++)if(!_[C])if(C>1)_[C]=_[C-1];else for(var w=1;w<_.length;w++)if(_[w]){_[C]=_[w];break}}this.path=r}},t.prototype.getClosestPointIndex=function(e){var t,i=this.allPoints,r=1/0;if(i.length>1)for(var n=1;n<i.length;n++){var a=$(e,i[n]);a<r&&(t=n,r=a)}return t},Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath()},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){var i=0,r=this.allPoints,n=r.length;if(T(e)||(e=0),n>1){if(t&&n>3){if(e<0){e<-.01&&(e=-.01);var a=r[0],o=r[1];return{x:s=a.x-(a.x-o.x)*n*e,y:l=a.y-(a.y-o.y)*n*e,angle:X(a,o)}}if(e>1){e>1.01&&(e=1.01);var s,l;a=r[r.length-2],o=r[r.length-3];return{x:s=a.x+(a.x-o.x)*n*(e-1),y:l=a.y+(a.y-o.y)*n*(e-1),angle:X(a,{x:s,y:l})}}if(1==e){var u=r[r.length-1];return{x:u.x,y:u.y,angle:u.angle}}}else e<0&&(e=Math.abs(e),i=180),e>=1&&(e=.9999999999999);var c;return{x:(c=r[Math.floor(e*n)]).x,y:c.y,angle:c.angle+i}}return 1==n?{x:(c=r[0]).x,y:c.y,angle:c.angle}:{x:0,y:0,angle:0}},t}(Yn);lt.registeredClasses.Polyspline=Qn;var Zn=function(e){function t(){var t=e.call(this)||this;return t.className="Slice",t.setPropertyValue("cornerRadius",0),t.setPropertyValue("startAngle",0),t.setPercentProperty("innerRadius",0),t.setPercentProperty("radius",0),t.setPropertyValue("arc",0),t.setPropertyValue("shiftRadius",0),t.strokeOpacity=1,t.setPropertyValue("layout","none"),t.slice=t.createChild(mn),t.slice.isMeasured=!1,t._disposers.push(t.slice),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.radiusY;this.radius>0&&0==t&&(t=.01),this.slice.path=Gn(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,t,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof $r&&this.updateGradient(this.realFill),this.realStroke instanceof $r&&this.updateGradient(this.realStroke)},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?Q([oe(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),oe(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",ne(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){T(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return T(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return T(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Nt(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return W(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return B(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(T(e))return e;var t=.5;e instanceof f&&(t=e.value);var i=Nt(this.innerRadius,this.radius);return this.ix*(i+(this.radius-i)*t)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(T(e))return e;var t=.5;e instanceof f&&(t=e.value);var i=Nt(this.innerRadius,this.radius);return this.iy*(i+(this.radius-i)*t)+this.slice.dy},t}(gn);lt.registeredClasses.Slice=Zn;var ea=function(e){function t(){var t=e.call(this)||this;t.className="Preloader",t.width=m(100),t.height=m(100);var i=new pr,r=t.createChild(gn);r.shouldClone=!1;var n=r.createChild(Zn);n.shouldClone=!1,n.radius=53,n.arc=360,n.fill=i.getFor("fill"),n.fillOpacity=.8,n.innerRadius=42,n.isMeasured=!1,t.backgroundSlice=n;var a=r.createChild(Zn);a.shouldClone=!1,a.radius=50,a.innerRadius=45,a.fill=i.getFor("alternativeBackground"),a.fillOpacity=.2,a.isMeasured=!1,t.progressSlice=a;var o=r.createChild(Dn);return o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=i.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,t.label=o,t.background.opacity=1,t.background.fill=i.getFor("background"),t.contentAlign="center",t.contentValign="middle",t.delay=300,t.states.create("hidden").properties.opacity=0,t.visible=!1,t.hide(0),t.__disabled=!0,t._disposers.push(t.backgroundSlice),t._disposers.push(t.progressSlice),t._disposers.push(t.label),t._disposers.push(r),t}return s(t,e),Object.defineProperty(t.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var t=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(100*e)+"%"),e>=1?(this._started&&(this._started=void 0),lt.events.once("enterframe",(function(){var e=t.hide();e&&!e.isFinished()?e.events.once("animationended",(function(){t.__disabled=!0})):t.__disabled=!0})),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.Preloader=ea;var ta=function(e){function t(){var t=e.call(this)||this;t.className="ResizeButton",t.orientation="horizontal",t.layout="absolute",t.horizontalCenter="middle",t.verticalCenter="middle",t.draggable=!0,t.padding(8,8,8,8),t.background.cornerRadius(20,20,20,20);var i=new mn;i.element=t.paper.add("path");var r=Bn({x:-2,y:-6});return r+=Nn({x:-2,y:6}),r+=Bn({x:2,y:-6}),r+=Nn({x:2,y:6}),i.path=r,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=(new pr).getFor("alternativeText"),i.strokeOpacity=.7,t.icon=i,t.label.dispose(),t.label=void 0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"orientation",{set:function(e){var t=this.icon;t&&(t.rotation="horizontal"==e?0:-90)},enumerable:!0,configurable:!0}),t}(Fn);lt.registeredClasses.ResizeButton=ta;var ia=function(e){function t(){var t=e.call(this)||this;t.className="CloseButton",t.padding(8,8,8,8),t.showSystemTooltip=!0,t.width=30,t.height=30;var i=new pr;t.cursorOverStyle=Yr.pointer;var r=t.background;r.cornerRadius(20,20,20,20);var n=i.getFor("background");r.fill=n,r.stroke=i.getFor("primaryButton"),r.strokeOpacity=1,r.strokeWidth=1;var a=i.getFor("primaryButtonActive"),o=r.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=n;var s=r.states.getKey("down");s.properties.stroke=a,s.properties.fill=n;var l=new mn;return l.element=t.paper.add("path"),l.stroke=r.stroke,t.icon=l,t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.pixelWidth/3,i=this.pixelHeight/3,r=Bn({x:-t/2,y:-i/2});r+=Nn({x:t/2,y:i/2}),r+=Bn({x:t/2,y:-i/2}),r+=Nn({x:-t/2,y:i/2}),this.icon.path=r,this.invalidateLayout()},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},t}(Fn);lt.registeredClasses.CloseButton=ia;var ra=function(e){function t(){var t=e.call(this)||this;t.className="SwitchButton",t.tooltipY=0,t.layout="horizontal",t.contentAlign="center",t.contentValign="middle",t.padding(8,16,8,16),t.setStateOnChildren=!0,t.states.create("active");var i=new pr,r=new Dn;r.fillOpacity=.3,r.states.create("active").properties.fillOpacity=1,r.isActive=!0,t.leftLabel=r;var n=new Fn,a=new En;n.contentValign="none",n.padding(0,0,0,0),a.radius=10,n.icon=a,n.icon.valign="middle",n.label=void 0;var o=m(100);n.background.cornerRadius(o,o,o,o),n.width=3.5*a.radius,n.height=2.1*a.radius,n.marginLeft=8,n.marginRight=8,n.togglable=!0,a.dx=.7*-a.radius,a.fill=i.getFor("primaryButton"),a.states.create("hover").properties.fill=i.getFor("primaryButtonHover");var s=a.states.create("active");s.properties.fill=i.getFor("primaryButtonActive"),s.properties.dx=.7*a.radius,t.switchButton=n,t.events.on("toggled",(function(){t.leftLabel.isActive=!t.isActive,t.rightLabel.isActive=t.isActive}));var l=new Dn;return l.fillOpacity=.3,l.states.create("active").properties.fillOpacity=1,t.rightLabel=l,t.role="button",t.focusable=!0,l.valign="middle",r.valign="middle",n.valign="middle",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.leftLabel&&this.leftLabel.copyFrom(t.leftLabel),t.rightLabel&&this.rightLabel.copyFrom(t.rightLabel),t.switchButton&&this.switchButton.copyFrom(t.switchButton)},t}(gn);lt.registeredClasses.SwitchButton=ra;var na=function(e){function t(){var t=e.call(this)||this;t._previousStart=0,t._previousEnd=1,t._prevStart=0,t._prevEnd=1,t._isBusy=!1,t._skipRangeEvents=!1,t.updateWhileMoving=!0,t.className="Scrollbar",t.minHeight=12,t.minWidth=12,t.animationDuration=0,t.animationEasing=Di,t.margin(10,10,10,10);var i=new pr,r=t.background;return r.cornerRadius(10,10,10,10),r.fill=i.getFor("fill"),r.fillOpacity=.5,t.showSystemTooltip=!0,t.startGrip=new ta,t.endGrip=new ta,t.events.on("transformed",t.updateThumb,t,!1),t.start=0,t.end=1,t.role="scrollbar",t.thumb.role="slider",t.thumb.readerLive="polite",t.startGrip.role="slider",t.endGrip.role="slider",t.events.once("inited",(function(){t._previousStart=void 0,t.dispatchRangeChange()}),void 0,!1),t.hideGrips=!1,t.orientation="horizontal",t.setSVGAttribute({"aria-valuemin":"0"}),t.setSVGAttribute({"aria-valuemax":"100"}),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(_(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),_(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),_(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),_(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(_(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),_(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),_(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),_(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},t.prototype.validateLayout=function(){this.updateSize(),e.prototype.validateLayout.call(this),this.updateExtremes()},t.prototype.processBackground=function(){e.prototype.processBackground.call(this);var t=this.background;t.clickable=!0,t.events.on("hit",this.handleBgHit,this,void 0)},t.prototype.handleBgHit=function(e){this.makeBusy();var t=e.spritePoint;t=hi(t,this.background,this);var i=this.thumb;if("horizontal"==this.orientation){var r=t.x-i.pixelWidth/2;r=V(r,0,this.innerWidth-i.pixelWidth),this._thumbAnimation=i.animate({property:"x",to:r},this.animationDuration,this.animationEasing)}else{var n=t.y-i.pixelHeight/2;n=V(n,0,this.innerHeight-i.pixelHeight),this._thumbAnimation=i.animate({property:"y",to:n},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},t.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},t.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},t.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},t.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},t.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},t.prototype.updateThumb=function(){if(this.parent){var e=this.thumb,t=this.start,i=this.end,r=this.startGrip,n=this.endGrip;if("horizontal"==this.orientation){var a=this.innerWidth;e.width=a*(i-t),e.maxX=a-e.pixelWidth,e.x=t*a,r.moveTo({x:e.pixelX,y:0},void 0,void 0,!0),n.moveTo({x:e.pixelX+e.pixelWidth,y:0},void 0,void 0,!0),r.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*t)+"%",position:t}).value),r.readerValueNow=""+Math.round(100*t),r.readerValueText=r.readerTitle,n.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),n.readerValueNow=""+Math.round(100*i),n.readerValueText=n.readerTitle}else{var o=this.innerHeight;e.height=o*(i-t),e.maxY=o-e.pixelHeight,e.y=(1-i)*o,r.moveTo({x:0,y:e.pixelY+e.pixelHeight},void 0,void 0,!0),n.moveTo({x:0,y:e.pixelY},void 0,void 0,!0),r.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-t))+"%",position:1-t}).value),r.readerValueNow=""+Math.round(100*t),r.readerValueText=r.readerTitle,n.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-i))+"%",position:1-i}).value),n.readerValueNow=""+Math.round(100*i),n.readerValueText=n.readerTitle}e.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*t)+"%",position:t}).value,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),e.readerValueNow=""+Math.round(100*t),e.readerValueText=e.readerTitle,this.readerValueNow=""+Math.round(100*t),this.readerValueText=e.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&this.dispatchRangeChange()}},t.prototype.updateExtremes=function(){var e=0,t=0,i=0,r=0;"horizontal"==this.orientation?(i=this.innerWidth,t=r=this.innerHeight/2):(r=this.innerHeight,e=i=this.innerWidth/2);var n=this.startGrip;n.minX=e,n.maxX=i,n.minY=t,n.maxY=r;var a=this.endGrip;a.minX=e,a.maxX=i,a.minY=t,a.maxY=r;var o=this.thumb;o.minX=e,o.maxX=i,o.minY=t,o.maxY=r},t.prototype.updateSize=function(){var e=this.orientation,t=this.startGrip;t&&(t.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var i=this.thumb;i&&("horizontal"==e?(T(this._pixelWidth)||this.width instanceof f||(this.width=m(100)),_(this.percentHeight)&&(this.height=this.minHeight),i.height=this.innerHeight,i.verticalCenter="middle",i.horizontalCenter="left"):(T(this._pixelHeight)||this.height instanceof f||(this.height=m(100)),_(this.percentWidth)&&(this.width=this.minWidth),i.width=this.innerWidth,i.verticalCenter="top",i.horizontalCenter="middle"))},Object.defineProperty(t.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),t.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},t.prototype.fixRange=function(e){e.start==L(this._start,2)&&e.end==L(this._end,2)||(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},t.prototype.getPosition=function(e){return V(L(e,4),0,1)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&("horizontal"===e?(this.startGrip.cursorOverStyle=Yr.horizontalResize,this.endGrip.cursorOverStyle=Yr.horizontalResize):(this.startGrip.cursorOverStyle=Yr.verticalResize,this.endGrip.cursorOverStyle=Yr.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.updateByOrientation=function(){},Object.defineProperty(t.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),t.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e)},t.prototype.handleGripDrag=function(e){this.makeBusy(),e.target===this._startGrip?this._usingGrip="start":this._usingGrip="end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(t.prototype,"thumb",{get:function(){if(!this._thumb){var e=new Fn;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e}return this._thumb},set:function(e){var t=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=Yr.grab,e.cursorDownStyle=Yr.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(kr().body.events.on("keyup",(function(e){br.isKey(e.event,["space","enter"])&&t.thumb.isFocused&&(e.event.preventDefault(),t.handleDoubleClick())}))),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),t.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,t=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,t=this._prevEnd);var i=this.animate([{property:"__start",to:e},{property:"__end",to:t}],this.animationDuration,this.animationEasing);i&&!i.isFinished()?(i.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=i):this.makeUnbusy()},t.prototype.handleThumbPosition=function(){var e=this.thumb;if("horizontal"==this.orientation){var t=this.innerWidth,i=e.innerWidth,r=e.pixelX;this._start=r/t,this._end=(r+i)/t,this.updateThumb()}else{var n=this.innerHeight,a=e.innerHeight,o=e.pixelY;this._start=1-(o+a)/n,this._end=1-o/n,this.updateThumb()}},t.prototype.createBackground=function(){return new kn},Object.defineProperty(t.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var t=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",(function(){t.startGrip.show(),t.endGrip.show()}),void 0,!1),this._outDisposer=this.events.on("out",(function(){t.startGrip.hide(),t.endGrip.hide()}),void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),t.prototype.asFunction=function(t){return"animationEasing"==t||e.prototype.asIs.call(this,t)},t}(gn);lt.registeredClasses.Scrollbar=na;var aa=function(e){function t(){var t=e.call(this)||this;return t.className="Slider",t.thumb.opacity=0,t.thumb.interactionsEnabled=!1,t.endGrip.opacity=0,t.endGrip.interactionsEnabled=!1,t.startGrip.events.on("drag",(function(){t.endGrip.x=t.startGrip.x,t.endGrip.y=t.startGrip.y})),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),t}(na);lt.registeredClasses.Slider=aa;var oa=function(e){function t(){var t=e.call(this)||this;t.className="TextLink",t.selectable=!0;var i=new pr;return t.fill=i.getFor("primaryButton").brighten(.3),t.states.create("hover").properties.fill=i.getFor("primaryButtonHover").brighten(.3),t.states.create("down").properties.fill=i.getFor("primaryButtonDown").brighten(.3),t.cursorOverStyle=Yr.pointer,t.applyTheme(),t}return s(t,e),t}(Dn);lt.registeredClasses.TextLink=oa;var sa=function(e){function t(){var t=e.call(this)||this;return t.properties={},t.isTemplate=!1,t._scale=1,t._nonScaling=!0,t.className="Filter",t.filterPrimitives=new pt,t.properties.filterUnits="objectBoundingBox",t.filterPrimitives.events.on("inserted",(function(e){t._disposers.push(e.newValue)})),t.width=120,t.height=120,t.applyTheme(),t}return s(t,e),t.prototype.appendPrimitives=function(e){Xe(this.filterPrimitives.iterator(),(function(t){e.add(t)}))},t.prototype.animate=function(e,t,i){return new $i(this,e,t,i).start()},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),ze(t.properties,(function(e,t){i[e]=t}))},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Hr()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new Ui(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},t}(Mt),la=function(e){function t(){var t=e.call(this)||this;return t.className="DropShadowFilter",t.color=Ft("#000"),t.feGaussianBlur=t.paper.add("feGaussianBlur"),t.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),t.filterPrimitives.push(t.feGaussianBlur),t.feOffset=t.paper.add("feOffset"),t.feOffset.attr({result:"offsetBlur"}),t.filterPrimitives.push(t.feOffset),t.feFlood=t.paper.add("feFlood"),t.feFlood.attr({"flood-color":t.color}),t.filterPrimitives.push(t.feFlood),t.feComposite=t.paper.add("feComposite"),t.feComposite.attr({in2:"offsetBlur",operator:"in"}),t.filterPrimitives.push(t.feComposite),t.feMerge=t.paper.addGroup("feMerge"),t.feMerge.add(t.paper.add("feMergeNode")),t.feMerge.add(t.paper.add("feMergeNode").attr({in:"SourceGraphic"})),t.filterPrimitives.push(t.feMerge),t.width=200,t.height=200,t.blur=1.5,t.dx=3,t.dy=3,t.opacity=.5,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},t}(sa);lt.registeredClasses.DropShadowFilter=la;var ua=function(e){function t(){var t=e.call(this)||this;t._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},t._pointTo={x:0,y:0},t.fitPointerToBounds=!1,t._verticalOrientation="up",t.fixDoc=!0,t.className="Tooltip",t.isMeasured=!1,t.getFillFromObject=!0,t.margin(5,5,5,5),t.defaultState.transitionDuration=1,t.hiddenState.transitionDuration=1;var i=t.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Ft("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var r=new la;r.dy=1,r.dx=1,r.opacity=.5,i.filters.push(r),t.autoTextColor=!0;var n=t.createChild(Dn);return n.shouldClone=!1,t.label=n,n.padding(7,12,4,12),n.interactionsEnabled=!1,n.horizontalCenter="middle",n.fill=Ft("#ffffff"),t._disposers.push(n),t.label.events.on("sizechanged",t.drawBackground,t),t.label.zIndex=1,t.pointerOrientation="vertical",t.animationDuration=0,t.animationEasing=Di,t.setPropertyValue("showInViewport",!1),t.role="tooltip",t.visible=!1,t.opacity=0,t.x=0,t.y=0,t.events.on("visibilitychanged",t.handleVisibility,t),t.applyTheme(),t}return s(t,e),t.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(t.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var t=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",(function(e){t.targetSprite&&t.targetSprite.hoverable&&(t.targetSprite.isHover=!0)}))),this._disposers.push(this.events.on("out",(function(e){t.targetSprite&&t.targetSprite.hoverable&&(t.targetSprite.isHover=!1)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new Rn},Object.defineProperty(t.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.label;t.invalid&&t.validate();var i,r,n=this._pointTo.x,a=this._pointTo.y,o=this._boundingRect,s=t.measuredWidth,l=t.measuredHeight,u=this.background.pointerLength;if(this.ignoreBounds&&(o=void 0),o&&this.fixDoc&&s>o.width){yi({x:o.x,y:o.y},this.parent);var c=yi({x:o.x+o.width,y:o.y+o.height},this.parent),h=document.body.offsetWidth;document.body.offsetHeight,c.x>h/2?o.x=o.width-s:o.width=o.x+s}var d=this.pointerOrientation;"horizontal"==d||"left"==d||"right"==d?(r=-l/2,i="horizontal"==d?o&&n>o.x+o.width/2?-s/2-u:s/2+u:"left"==d?s/2+u:-s/2-u):(o&&(i=V(0,o.x-n+s/2,o.x-n+o.width-s/2)),"vertical"==d?o&&a>o.y+l+u?(r=-l-u,this._verticalOrientation="up"):(r=u,this._verticalOrientation="down"):"down"==d?(r=-l-u,this._verticalOrientation="up"):(r=u,this._verticalOrientation="down")),o&&(r=V(r,o.y-a,o.y+o.height-l-a)),t.x=i,t.y=r,this.drawBackground()},t.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},t.prototype.drawBackground=function(){var e=this.label,t=this.background,i=e.measuredWidth,r=e.measuredHeight,n=this._boundingRect,a=i,o=e.pixelX-i/2,s=r,l=e.pixelY,u=this._pointTo.x,c=this._pointTo.y,h=n.x-u,d=h+n.width,p=n.y-c,f=p+n.height;t.x=o,t.y=l,t.width=a,t.height=s,this.fitPointerToBounds?(t.pointerX=V(-t.x,h-t.x,d-t.x),t.pointerY=V(-t.y,p-t.y,f-t.y)):(t.pointerX=-t.x,t.pointerY=-t.y),t.validate()},t.prototype.delayedPointTo=function(e,t){var i=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=lt.events.once("exitframe",(function(){i.pointTo(e,t)})),this.addDisposer(this._pointToDisposer)},t.prototype.pointTo=function(e,t){this._pointTo.x==e.x&&this._pointTo.y==e.y||(this._pointTo=e,this.invalidate(),!this.visible||t?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new $i(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},t.prototype.setBounds=function(e){var t=this._boundingRect;t.x==e.x&&t.y==e.y&&t.width==e.width&&t.height==e.height||(this._boundingRect=e,this.invalidate())},Object.defineProperty(t.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),t.prototype.updateBounds=function(){var e=this._boundingContainer,t=di({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(t)},Object.defineProperty(t.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label),t._boundingRect&&(this._boundingRect=t._boundingRect)},t.prototype.asFunction=function(t){return"animationEasing"==t||e.prototype.asIs.call(this,t)},t}(gn);lt.registeredClasses.Tooltip=ua;var ca=function(e){function t(){var t=e.call(this)||this;return t.className="Trapezoid",t.element=t.paper.add("path"),t.topSide=m(100),t.bottomSide=m(100),t.leftSide=m(100),t.rightSide=m(100),t.isMeasured=!1,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelWidth,i=this.pixelHeight,r=Nt(this.topSide,t),n=Nt(this.bottomSide,t),a=Nt(this.leftSide,i),o=Nt(this.rightSide,i),s=(t-r)/2,l=(i-a)/2,u=t-(t-r)/2,c=(i-o)/2,h=t-(t-n)/2,d=i-(i-o)/2,p=(t-n)/2,f=i-(i-a)/2,m="",y="",g="",v="";if(_(this.horizontalNeck)){var b=this.horizontalNeck.value;m=Nn({x:t*b,y:Math.max(l,c)}),g=Nn({x:t*b,y:Math.min(d,f)})}if(_(this.verticalNeck)){var x=this.verticalNeck.value;y=Nn({x:Math.min(u,h),y:i*x}),v=Nn({x:Math.max(s,p),y:i*x})}var S=Bn({x:s,y:l})+m+Nn({x:u,y:c})+y+Nn({x:h,y:d})+g+Nn({x:p,y:f})+v;this.path=S},Object.defineProperty(t.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0)},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Trapezoid=ca;var ha=function(e){function t(){var t=e.call(this)||this;return t.className="Triangle",t.element=t.paper.add("path"),t.direction="top",t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t,i=this.pixelWidth,r=this.pixelHeight;switch(this.direction){case"right":t=Bn({x:0,y:0})+Nn({x:i,y:r/2})+Nn({x:0,y:r})+" Z";break;case"left":t=Bn({x:i,y:0})+Nn({x:0,y:r/2})+Nn({x:i,y:r})+" Z";break;case"bottom":t=Bn({x:0,y:0})+Nn({x:i,y:0})+Nn({x:i/2,y:r})+" Z";break;case"top":t=Bn({x:i/2,y:0})+Nn({x:i,y:r})+Nn({x:0,y:r})+" Z"}this.path=t},Object.defineProperty(t.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0)},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Triangle=ha;var da=function(){function e(e,t){this._tensionX=e,this._tensionY=t}return e.prototype.smooth=function(e){for(var t=e.length-1;t>0;t--){var i=e[t],r=e[t-1];Math.abs(i.x-r.x)<.1&&Math.abs(i.y-r.y)<.1&&e.splice(t-1,1)}var n=this._tensionX,a=this._tensionY;if(e.length<3||n>=1&&a>=1)return Vn(e);var o=e[0],s=e[e.length-1],l=!1;L(o.x,3)==L(s.x)&&L(o.y)==L(s.y)&&(l=!0);for(var u="",c=(t=0,e.length-1);t<c;t++){i=e[t-1],r=e[t];var h=e[t+1],d=e[t+2];0===t?i=l?e[e.length-2]:e[t]:t==e.length-2&&(d=l?e[1]:e[t+1]),u+=zn(h,te(i,r,h,0,n,a),ie(0,r,h,d,n,a))}return u},e}();function pa(e,t,i,r,n,a){var o=e.x,s=e.y,l=t.x,u=t.y,c=$(e,t);a&&(i=c/Math.round(c/i));var h=lt.getCache(Ht(["wavedLine",e.x,t.x,e.y,t.y,i,r]));if(!h){if(c>0){var d=Math.atan2(u-s,l-o),p=Math.cos(d),f=Math.sin(d),m=i*p,y=i*f;if(i<=1||r<=1)h=Nn(t);else{var g=Math.round(2*c/i),v=[],b=1;l<o&&(b*=-1),u<s&&(b*=-1);for(var x=0;x<=g;x++){var S=o+x*m/2+(b*=-1)*r/2*f,P=s+x*y/2-b*r/2*p;v.push({x:S,y:P})}h=new da(n,n).smooth(v)}}else h="";lt.setCache(Ht(["wavedLine",e.x,t.x,e.y,t.y,i,r]),h)}return h}var fa=function(){function e(e,t){this._reversed=e,this._closed=t.closed}return e.prototype._curve=function(e,t,i,r,n,a){var o=(t-e)/3;return this._reversed?zn({x:r,y:t},{x:i+o*n,y:e+o},{x:r-o*a,y:t-o}):zn({x:t,y:r},{x:e+o,y:i+o*n},{x:t-o,y:r-o*a})},e.prototype.smooth=function(e){var t=this,i=NaN,r=NaN,n=NaN,a=NaN,o=NaN,s=0,l="";switch(de(e,(function(e){var u=e.x,c=e.y;if(t._reversed){var h=u;u=c,c=h}var d=NaN;if(u!==r||c!==a){switch(s){case 0:s=1,t._reversed?l+=Nn({x:c,y:u}):l+=Nn({x:u,y:c});break;case 1:s=2;break;case 2:s=3,l+=t._curve(i,r,n,a,ya(i,r,n,a,d=ga(i,r,n,a,u,c)),d);break;default:l+=t._curve(i,r,n,a,o,d=ga(i,r,n,a,u,c))}i=r,r=u,n=a,a=c,o=d}})),s){case 2:this._reversed?l+=Nn({x:a,y:r}):l+=Nn({x:r,y:a});break;case 3:l+=this._curve(i,r,n,a,o,ya(i,r,n,a,o))}return this._closed&&(l+=" Z"),l},e}();function ma(e){return e<0?-1:1}function ya(e,t,i,r,n){var a=t-e;return a?(3*(r-i)/a-n)/2:n}function ga(e,t,i,r,n,a){var o=t-e,s=n-t,l=(r-i)/(o||s<0&&-0),u=(a-r)/(s||o<0&&-0),c=(l*s+u*o)/(o+s);return(ma(l)+ma(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(c))||0}var va=function(e){function t(t){return e.call(this,!1,t)||this}return s(t,e),t}(fa),ba=function(e){function t(t){return e.call(this,!0,t)||this}return s(t,e),t}(fa),xa=function(e){function t(){var t=e.call(this)||this;return t.className="WavedCircle",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.fill=void 0,t.fillOpacity=0,t.tension=.8,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){var e="",t=this.pixelRadius;t>0&&(e=Bn((i=this.getPoints(t))[0])+new da(this.tension,this.tension).smooth(i));var i,r=this.pixelInnerRadius;r>0&&((i=this.getPoints(r)).reverse(),e+=Bn(i[0])+new da(this.tension,this.tension).smooth(i));this.path=e},t.prototype.getPoints=function(e){for(var t=e*Math.PI*2,i=this.waveHeight/2,r=t/Math.round(t/this.waveLength),n=r/2,a=[],o=t/r,s=0;s<=o;s++){var l=s*r/t*360,u=(s*r+n)/t*360;a.push({x:(e-i)*W(l),y:(e-i)*B(l)}),a.push({x:(e+i)*W(u),y:(e+i)*B(u)})}return a.pop(),a},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Nt(this.innerRadius,H(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(En);lt.registeredClasses.WavedCircle=xa;var Sa=function(e){function t(){var t=e.call(this)||this;return t.className="WavedLine",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.tension=.8,t.pixelPerfect=!1,t.fill=Ft(),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2};this.path=Bn(e)+pa(e,t,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Ln),Pa=function(e){function t(){var t=e.call(this)||this;return t.className="WavedRectangle",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.tension=.8,t.setPropertyValue("wavedLeft",!0),t.setPropertyValue("wavedRight",!0),t.setPropertyValue("wavedTop",!0),t.setPropertyValue("wavedBottom",!0),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelWidth,i=this.pixelHeight;if(t>0&&i>0){var r={x:0,y:0},n={x:t,y:0},a={x:t,y:i},o={x:0,y:i},s=Math.min(t,this.waveLength),l=Math.min(i,this.waveHeight),u=Math.min(i,this.waveLength),c=Math.min(t,this.waveHeight),h="",d="",p="",f="";this.wavedTop&&(h=pa(r,n,s,l,this.tension,!0)),this.wavedRight&&(d=pa(n,a,u,c,this.tension,!0)),this.wavedBottom&&(p=pa(a,o,s,l,this.tension,!0)),this.wavedLeft&&(f=pa(o,r,u,c,this.tension,!0)),this.path=Bn(r)+h+Nn(n)+d+Nn(a)+p+Nn(o)+f+"z"}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,t,i,r){this.wavedTop=e,this.wavedRight=t,this.wavedBottom=i,this.wavedLeft=r},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),t}(yn),_a=function(e){function t(){var t=e.call(this)||this;t.className="ZoomOutButton",t.padding(9,9,9,9),t.showSystemTooltip=!0;var i=new pr,r=t.background;r.cornerRadius(20,20,20,20),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var n=new mn;n.element=t.paper.add("path");var a=Bn({x:0,y:0});return a+=Nn({x:11,y:0}),n.path=a,n.pixelPerfect=!0,n.padding(8,3,8,3),n.stroke=i.getFor("primaryButtonText"),t.icon=n,t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},t}(Fn);lt.registeredClasses.ZoomOutButton=_a;var Ca=function(e){function t(){var t=e.call(this)||this;t.className="PlayButton",t.padding(12,12,12,12),t.showSystemTooltip=!0;var i=new pr,r=t.background;r.cornerRadius(25,25,25,25),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var n=new ha;n.direction="right",n.width=9,n.height=11,n.marginLeft=1,n.marginRight=1,n.horizontalCenter="middle",n.verticalCenter="middle",n.stroke=i.getFor("primaryButtonText"),n.fill=n.stroke,t.icon=n;var a=new kn;a.width=11,a.height=11,a.horizontalCenter="middle",a.verticalCenter="middle",a.cornerRadius(0,0,0,0),a.stroke=i.getFor("primaryButtonText"),a.fill=n.stroke,t.togglable=!0;var o=t.states.create("active");return o.transitionDuration=0,o.properties.icon=a,t.defaultState.transitionDuration=0,t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},t}(Fn);lt.registeredClasses.PlayButton=Ca;var wa=function(e){function t(){var t=e.call(this)||this;return t.className="ColorModifier",t.applyTheme(),t}return s(t,e),t.prototype.modify=function(e){return e},t}(Mt);lt.registeredClasses.ColorModifier=wa;var Ia=function(e){function t(){var t=e.call(this)||this;return t.lightnesses=[],t.brightnesses=[],t.opacities=[],t.offsets=[],t.className="GradientModifier",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e},enumerable:!0,configurable:!0}),t.prototype.modify=function(e){this.gradient.clear();var t=0;this.opacities&&(t=z(t,this.opacities.length)),this.lightnesses&&(t=z(t,this.lightnesses.length)),this.brightnesses&&(t=z(t,this.brightnesses.length));for(var i,r,n=1,a=0;a<t;a++){var o=e;this.opacities&&T(this.opacities[a])&&(n=this.opacities[a]),this.lightnesses&&T(this.lightnesses[a])&&(i=this.lightnesses[a],r=void 0),this.brightnesses&&T(this.brightnesses[a])&&(r=this.brightnesses[a],i=void 0),T(r)?o=e.brighten(this.brightnesses[a]):T(i)&&(o=e.lighten(this.lightnesses[a]));var s=this.offsets[a];this.gradient.addColor(o,n,s)}return this.gradient},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this._offsets=t.offsets,this._brightnesses=t.brightnesses,this._lightnesses=t.lightnesses,this._opacities=t.opacities},t}(wa);lt.registeredClasses.GradientModifier=Ia;var Aa=function(e){function t(){var t=e.call(this)||this;return t.className="LinearGradientModifier",t.gradient=new Ur,t.applyTheme(),t}return s(t,e),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.gradient=t.gradient.clone()},t}(Ia);lt.registeredClasses.LinearGradientModifier=Aa;var Ta=function(e){function t(){var t=e.call(this)||this;return t.className="Cone",t.angle=30,t.radius=m(100),t.topRadius=m(100),t.top=t.createChild(Mn),t.top.shouldClone=!1,t.bottom=t.createChild(Mn),t.bottom.shouldClone=!1,t.body=t.createChild(mn),t.body.shouldClone=!1,t.body.setElement(t.paper.add("path")),t.layout="none",t.bodyFillModifier=new Aa,t.bodyFillModifier.lightnesses=[0,-.25,0],t.body.fillModifier=t.bodyFillModifier,t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),Ue(this,this.top,fn),Ue(this,this.bottom,fn),Ue(this,this.body,fn);var t,i,r,n=this.innerWidth,a=this.innerHeight,o=this.bottom,s=this.top,l=this.angle;"horizontal"==this.orientation?(t=a/2,o.y=a/2,s.y=a/2,s.x=n,i=(90-l)/90,r=0,this.bodyFillModifier.gradient.rotation=90):(i=0,r=(90-l)/90,t=n/2,o.y=a,o.x=n/2,s.x=n/2,this.bodyFillModifier.gradient.rotation=0);var u,c=this.radius.value*t,h=this.topRadius.value*t;o.radius=c-c*i,o.radiusY=c-c*r,s.radius=h-h*i,s.radiusY=h-h*r,u="horizontal"==this.orientation?Bn({x:0,y:a/2-o.radiusY})+Hn(-90,-180,o.radius,o.radiusY)+Nn({x:n,y:a/2+s.radiusY})+Hn(90,180,s.radius,s.radiusY)+" Z":Bn({x:n/2-s.radius,y:0})+Hn(180,-180,s.radius,s.radiusY)+Nn({x:n/2+o.radius,y:a})+Hn(0,180,o.radius,o.radiusY)+" Z",this.body.path=u},Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(gn),Oa=function(e){function t(){var t=e.call(this)||this;return t.className="LightenFilter",t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({type:"matrix"}),t.filterPrimitives.push(t.feColorMatrix),t.lightness=0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var t=e+1;this.feColorMatrix.attr({values:t+" 0 0 0 0 0 "+t+" 0 0 0 0 0 "+t+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),t}(sa);lt.registeredClasses.LightenFilter=Oa;var Da=function(e){function t(){var t=e.call(this)||this;t.angle=30,t.depth=30,t.className="Rectangle3D",t.layout="none";var i=t.createChild(mn);i.shouldClone=!1,i.setElement(t.paper.add("path")),i.isMeasured=!1,t.sideBack=i,t._disposers.push(t.sideBack);var r=t.createChild(mn);r.shouldClone=!1,r.setElement(t.paper.add("path")),r.isMeasured=!1,t.sideBottom=r,t._disposers.push(t.sideBottom);var n=t.createChild(mn);n.shouldClone=!1,n.setElement(t.paper.add("path")),n.isMeasured=!1,t.sideLeft=n,t._disposers.push(t.sideLeft);var a=t.createChild(mn);a.shouldClone=!1,a.setElement(t.paper.add("path")),a.isMeasured=!1,t.sideRight=a,t._disposers.push(t.sideRight);var o=t.createChild(mn);o.shouldClone=!1,o.setElement(t.paper.add("path")),o.isMeasured=!1,t.sideTop=o,t._disposers.push(t.sideTop);var s=t.createChild(mn);return s.shouldClone=!1,s.setElement(t.paper.add("path")),s.isMeasured=!1,t.sideFront=s,t._disposers.push(t.sideFront),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.innerWidth,i=this.innerHeight,r=this.depth,n=this.angle,a=B(n),o=W(n),s={x:0,y:0},l={x:t,y:0},u={x:t,y:i},c={x:0,y:i},h={x:r*o,y:-r*a},d={x:r*o+t,y:-r*a},p={x:r*o+t,y:-r*a+i},f={x:r*o,y:-r*a+i};this.sideFront.path=Bn(s)+Nn(l)+Nn(u)+Nn(c)+" Z",this.sideBack.path=Bn(h)+Nn(d)+Nn(p)+Nn(f)+" Z",this.sideLeft.path=Bn(s)+Nn(h)+Nn(f)+Nn(c)+" Z",this.sideRight.path=Bn(l)+Nn(d)+Nn(p)+Nn(u)+" Z",this.sideBottom.path=Bn(c)+Nn(f)+Nn(p)+Nn(u)+" Z",this.sideTop.path=Bn(s)+Nn(h)+Nn(d)+Nn(l)+" Z"},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){var i;if(e.prototype.setFill.call(this,t),O(t)&&!("r"in t)||(t=Et(t)),t instanceof kt)i=t.hex;else if(t instanceof Ur||t instanceof $r)i=t.stops.getIndex(0).color.hex;else{var r=new Oa;r.lightness=-.2,this.sideBack.filters.push(r);var n=r.clone();n.lightness=-.4,this.sideLeft.filters.push(n);var a=r.clone();a.lightness=-.2,this.sideRight.filters.push(a);var o=r.clone();o.lightness=-.1,this.sideTop.filters.push(o);var s=r.clone();s.lightness=-.5,this.sideBottom.filters.push(s)}i&&(this.sideBack.fill=Ft(i).lighten(-.2),this.sideLeft.fill=Ft(i).lighten(-.4),this.sideRight.fill=Ft(i).lighten(-.2),this.sideTop.fill=Ft(i).lighten(-.1),this.sideBottom.fill=Ft(i).lighten(-.5))},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.sideBack.copyFrom(t.sideBack),this.sideLeft.copyFrom(t.sideLeft),this.sideRight.copyFrom(t.sideRight),this.sideTop.copyFrom(t.sideTop),this.sideBottom.copyFrom(t.sideBottom)},t}(gn),ka=function(e){function t(){var t=e.call(this)||this;t.className="Slice3D",t.layout="none";var i=t.createChild(mn);t.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),t.angle=30,t.depth=20;var r=t.createChild(mn);t.sideA=r,r.shouldClone=!1,r.isMeasured=!1;var n=t.createChild(mn);return t.sideB=n,n.shouldClone=!1,n.isMeasured=!1,t.applyTheme(),t}return s(t,e),t.prototype.setFill=function(t){var i;if(e.prototype.setFill.call(this,t),t instanceof kt)i=t.hex;else if(t instanceof Ur||t instanceof $r)i=t.stops.getIndex(0).color.hex;else{var r=new Oa;r.lightness=-.25,this.edge.filters.push(r),this.sideA.filters.push(r.clone()),this.sideB.filters.push(r.clone())}if(i){var n=Ft(i).lighten(-.25);this.edge.fill=n,this.sideA.fill=n,this.sideB.fill=n,this.edge.stroke=n,this.sideA.stroke=n,this.sideB.stroke=n}},t.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,e.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var t=this.startAngle,i=this.arc,r=this.pixelInnerRadius||0,n=this.radiusY||0,a=this.radius,o=t+i,s=n/a*r,l={x:W(t)*r,y:B(t)*s},u={x:W(t)*a,y:B(t)*n},c={x:W(o)*a,y:B(o)*n},h={x:W(o)*r,y:B(o)*s},d=this.depth,p={x:l.x,y:l.y-d},f={x:u.x,y:u.y-d},m={x:c.x,y:c.y-d},y={x:h.x,y:h.y-d},g="",v=Math.ceil(i/5),b=i/v,x=t,S=f,P=0;P<v;P++)if((x+=b)>0&&x<180){g+=Bn(S);var _={x:W(x)*a,y:B(x)*n-d};g+=Nn({x:S.x,y:S.y+d}),g+=Un({x:_.x,y:_.y+d},a,n,!0),g+=Nn(_),g+=Un(S,a,n),g+="z",S=_}else{g+=Bn(S),g+=Un(_={x:W(x)*a,y:B(x)*n-d},a,n,!0),g+=Nn({x:_.x,y:_.y+d}),g+=Un({x:S.x,y:S.y+d},a,n),g+=Nn(S),g+="z",S=_}S=p,x=t;for(P=0;P<v;P++)if((x+=b)>0&&x<180){g+=Bn(S);_={x:W(x)*r,y:B(x)*s-d};g+=Nn({x:S.x,y:S.y+d}),g+=Un({x:_.x,y:_.y+d},r,s,!0),g+=Nn(_),g+=Un(S,r,s),g+="z",S=_}else{g+=Bn(S),g+=Un(_={x:W(x)*r,y:B(x)*s-d},r,s,!0),g+=Nn({x:_.x,y:_.y+d}),g+=Un({x:S.x,y:S.y+d},r,s),g+=Nn(S),g+="z",S=_}this.edge.path=g,this.sideA.path=Bn(l)+Nn(u)+Nn(f)+Nn(p)+" Z",this.sideB.path=Bn(c)+Nn(h)+Nn(y)+Nn(m)+" Z",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-d}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return T(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return T(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.edge.copyFrom(t.edge),this.sideA.copyFrom(t.sideA),this.sideB.copyFrom(t.sideB)},t}(Zn),Fa=function(e){function t(){var t=e.call(this)||this;return t.className="RadialGradientModifier",t.gradient=new $r,t.applyTheme(),t}return s(t,e),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.gradient=t.gradient.clone()},t}(Ia);lt.registeredClasses.RadialGradientModifier=Fa;var Ea=function(e){function t(){var t=e.call(this)||this;return t.properties.gap=0,t._line=t.paper.add("path"),t.addElement(t._line),t}return s(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var t=this.width,i=this.height,r="";if(this.gap)for(var n=this.gap+this.strokeWidth,a=this.height/n,o=-a/2;o<1.5*a;o++)Math.round(this.rotation/90)!=this.rotation/90?(r+=Bn({x:-t,y:(o+.5)*n})+Nn({x:2*t,y:(o+.5)*n}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r+=Bn({x:-t,y:o*n})+Nn({x:2*t,y:o*n});else Math.round(this.rotation/90)!=this.rotation/90?(r=Bn({x:-t,y:i/2})+Nn({x:2*t,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r=Bn({x:0,y:0})+Nn({x:t,y:0});this._line.attr({d:r})}},Object.defineProperty(t.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw()},enumerable:!0,configurable:!0}),t}(Gr);lt.registeredClasses.LinePattern=Ea;var Ma=function(e){function t(){var t=e.call(this)||this;return t.properties.radius=2,t._circle=t.paper.add("circle"),t.addElement(t._circle),t.shapeRendering="auto",t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw()},enumerable:!0,configurable:!0}),t}(Gr);lt.registeredClasses.CirclePattern=Ma;var ja=function(e){function t(){var t=e.call(this)||this;return t.rectHeight=1,t.rectWidth=1,t._rect=t.paper.add("rect"),t.addElement(t._rect),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(t.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw()},enumerable:!0,configurable:!0}),t}(Gr);lt.registeredClasses.RectPattern=ja;var La=function(e){function t(){var t=e.call(this)||this;return t.className="ColorizeFilter",t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({type:"matrix"}),t.filterPrimitives.push(t.feColorMatrix),t.intensity=1,t.applyTheme(),t}return s(t,e),t.prototype.applyFilter=function(){var e,t,i,r=this.intensity,n=1-r,a=this.color;a&&a.rgb?(e=a.rgb.r/255*r,t=a.rgb.g/255*r,i=a.rgb.b/255*r):(e=0,t=0,i=0),this.feColorMatrix.attr({values:n+" 0 0 0 "+e+" 0 "+n+" 0 0 "+t+" 0 0 "+n+" 0 "+i+" 0 0 0 1 0"})},Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter()},enumerable:!0,configurable:!0}),t}(sa);lt.registeredClasses.ColorizeFilter=La;var Ra=function(e){function t(){var t=e.call(this)||this;return t.className="DesaturateFilter",t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({type:"saturate"}),t.filterPrimitives.push(t.feColorMatrix),t.width=120,t.height=120,t.saturation=0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()})},enumerable:!0,configurable:!0}),t}(sa);lt.registeredClasses.DesaturateFilter=Ra;var Va=function(e){function t(){var t=e.call(this)||this;return t.className="BlurFilter",t.feGaussianBlur=t.paper.add("feGaussianBlur"),t.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),t.filterPrimitives.push(t.feGaussianBlur),t.width=200,t.height=200,t.blur=1.5,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t}(sa);lt.registeredClasses.BlurFilter=Va;var Ba=function(e){function t(){var t=e.call(this)||this;return t.className="FocusFilter",t.feFlood=t.paper.add("feFlood"),t.feFlood.attr({"flood-color":(new pr).getFor("primaryButtonHover"),result:"base"}),t.filterPrimitives.push(t.feFlood),t.feMorphology=t.paper.add("feMorphology"),t.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),t.filterPrimitives.push(t.feMorphology),t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),t.filterPrimitives.push(t.feColorMatrix),t.feComposite=t.paper.add("feComposite"),t.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),t.filterPrimitives.push(t.feComposite),t.feBlend=t.paper.add("feBlend"),t.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),t.filterPrimitives.push(t.feBlend),t.width=130,t.height=130,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(t){this._sprite&&this._sprite!=t&&this._sprite.group.removeStyle("outline"),t.group.addStyle({outline:"none"}),e.prototype.setSprite.call(this,t)},t}(sa),Na=function(e){function t(){var t=e.call(this)||this;return t._list=[],t._currentStep=0,t._startIndex=0,t._currentPass=0,t.baseColor=new kt({r:103,g:183,b:220}),t.stepOptions={},t.passOptions={brighten:-.2},t.step=1,t.minColors=20,t.minLightness=.2,t.maxLightness=.9,t.shuffle=!1,t.wrap=!0,t.reuse=!1,t.saturation=1,t.className="ColorSet",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.getReusableColor=function(e){if(0==this._list.length)return this.generate(1),this.list[0];var t=e-Math.floor(e/this._list.length)*this.list.length;return this.list[t]},t.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(z(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},t.prototype.getIndex=function(e){var t;return this.list.length<=e?this.reuse?t=this.getReusableColor(e):(this.generate(this.minColors),t=this.getIndex(e)):t=this.list[e],t.saturate(this.saturation)},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.generate=function(e){var t=Dt(C(this.currentColor.rgb)),i=_(this.stepOptions.hue)?this.stepOptions.hue:1/e,r={brighten:0,lighten:0,hue:t.h,lightness:t.l,saturation:t.s},n=[],a=0==this.list.length?0:1;if(this.reuse)for(var o=a;o<=e;o++)n.push(Dt(C(this._list[o].rgb)).h);else for(o=a;o<=e;o++){var s=t.h+i*o;this.wrap&&s>1&&(s-=1),n.push(s)}this.shuffle&&n.sort((function(e,t){return Math.random()-.5}));for(o=0;o<e;o++){this.reuse?t=Dt(C(this._list[o].rgb)):t.h=n.shift(),this.applyStepOptions(t,r,o,this._currentPass);var l=Ft(Ot(t)),u=(this.stepOptions.brighten||0)*o+(this.passOptions.brighten||0)*this._currentPass;0!=u&&(u=this.wrap?li(u,this.minLightness,this.maxLightness):si(u,this.minLightness,this.maxLightness),l=l.brighten(u));var c=(this.stepOptions.lighten||0)*o+(this.passOptions.lighten||0)*this._currentPass;0!=c&&(c=this.wrap?li(c,this.minLightness,this.maxLightness):si(c,this.minLightness,this.maxLightness),l=l.lighten(c)),this._list.push(l)}this._currentPass++},Object.defineProperty(t.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),t.prototype.applyStepOptions=function(e,t,i,r){e.l=t.lightness+(this.stepOptions.lightness||0)*i+(this.passOptions.lightness||0)*r,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=li(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=si(e.l,this.minLightness,this.maxLightness))},t.prototype.processConfig=function(t){if(t){if(_(t.list)&&D(t.list))for(var i=0,r=t.list.length;i<r;i++)t.list[i]instanceof kt||(t.list[i]=Ft(t.list[i]));!_(t.baseColor)||t.baseColor instanceof kt||(t.baseColor=Ft(t.baseColor))}e.prototype.processConfig.call(this,t)},t}(Mt);lt.registeredClasses.ColorSet=Na;var Wa=function(e){function t(){var t=e.call(this)||this;t._list=[],t._currentStep=0,t._startIndex=0,t._currentPass=0,t.baseColor=new kt({r:103,g:183,b:220}),t.className="PatternSet";var i=new pr;return t.list=[t.getLinePattern(1e3,45,1,6),t.getRectPattern(10,0,4),t.getLinePattern(1e3,-45,1,6),t.getCirclePattern(11,2,!0),t.getLinePattern(6,90,1),t.getRectPattern(12,45,6,!0),t.getLinePattern(6,0,1),t.getRectPattern(7,0,4),t.getLinePattern(1e3,45,2,3,"4,2"),t.getCirclePattern(9,3,!1),t.getLinePattern(1e3,-45,2,3,"4,2"),t.getRectPattern(10,45,Math.sqrt(50)),t.getLinePattern(1e3,-45,2,1),t.getRectPattern(10,0,9),t.getLinePattern(1e3,45,2,1),t.getLinePattern(1e3,0,3,1),t.getRectPattern(10,45,10),t.getLinePattern(1e3,90,3,1)],t.baseColor=i.getFor("stroke"),t.applyTheme(),t}return s(t,e),t.prototype.getLinePattern=function(e,t,i,r,n){var a=new Ea;return a.width=e,a.height=e,a.stroke=this.baseColor,a.gap=r,a.strokeDasharray=n,a.strokeWidth=i,a.rotation=t,a},t.prototype.getRectPattern=function(e,t,i,r){var n=new ja;return n.width=e,n.height=e,n.rectWidth=i,n.rectHeight=i,r?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),0!=t&&(n.shapeRendering="auto"),n.rotation=t,n},t.prototype.getCirclePattern=function(e,t,i){var r=new Ma;return r.width=e,r.height=e,r.shapeRendering="auto",r.radius=t,i?(r.stroke=this.baseColor,r.strokeWidth=1,r.fillOpacity=0):(r.fill=this.baseColor,r.strokeWidth=0),r},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},t.prototype.getIndex=function(e){for(;this.list.length<=e;)this.generatePatterns();return this.list[e].clone()},t.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var t=0;t<e;t++)this.list.push(this.list[t].clone())},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){e.prototype.processConfig.call(this,t)},t}(Mt);lt.registeredClasses.PatternSet=Wa;var za=function(e){function t(){var t=e.call(this)||this;t.className="AmChartsLogo",t.valign="bottom";var i=.3;t.opacity=.3,t.defaultState.properties.opacity=.4,t.url="https://www.amcharts.com/",t.urlTarget="_blank",t.showSystemTooltip=!0,t.readerTitle="Chart created using amCharts library",t.width=66,t.height=21,t.background.opacity=0;var r=Ft("#474758");"#ffffff"==(new pr).getFor("background").alternative.hex&&(r=Ft("#ffffff"));var n=new Ur;n.addColor(r),n.addColor(r,1,.75),n.addColor(Ft("#3cabff"),1,.755),n.rotation=-10;var a=n,o=t.createChild(Qn);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],o.strokeWidth=6*i,o.tensionX=.8,o.tensionY=1,o.stroke=Ft("#3cabff");var s=t.createChild(Qn);s.shouldClone=!1,s.isMeasured=!1,s.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*i},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],s.strokeWidth=6*i,s.tensionX=.75,s.tensionY=1,s.stroke=a,t._disposers.push(s);var l=new Ra;t.filters.push(l);var u=new Ra;u.saturation=1;var c=t.states.create("hover");return c.properties.opacity=1,c.filters.push(u),t.applyTheme(),t}return s(t,e),t}(gn);function Ha(e,t){var i,r=Ji(e),n=!1;if(r||((r=document.createElement("div")).style.width="200px",r.style.height="200px",r.style.visibility="hidden",r.style.position="absolute",document.body.appendChild(r),n=!0),r){r.innerHTML="";var a=new Nr(r),o=new Wr(a.SVGContainer,"svg-"+(Br.length-1)),s=new gn;s.htmlContainer=r,s.svgContainer=a,s.width=m(100),s.height=m(100),s.background.fillOpacity=0,s.paper=o,o.append(s.group),n&&function(e){if("loading"!==document.readyState)e();else{var t=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}}((function(){s.moveHtmlContainer(e)})),s.relativeWidth=1,s.relativeHeight=1,a.container=s;var l=s.createChild(t);l.topParent=s;var u=l.uid;lt.invalidSprites[u]=[],lt.invalidDatas[u]=[],lt.invalidPositions[u]=[],lt.invalidLayouts[u]=[],s.baseId=u,l.isBaseSprite=!0,l.focusFilter=new Ba,lt.baseSprites.push(l),lt.baseSpritesByUid[u]=l,l.maskRectangle={x:0,y:0,width:Math.max(a.width||0,0),height:Math.max(a.height||0,0)},s.events.on("maxsizechanged",(function(e){0!=e.previousWidth&&0!=e.previousHeight||s.deepInvalidate(),l.maskRectangle&&(l.maskRectangle={x:0,y:0,width:Math.max(a.width||0,0),height:Math.max(a.height||0,0)})}));var c=null,h=function(){l.isDisposed()?c=null:null==ar(l.dom)?(Bi.autoDispose?(s.htmlContainer=void 0,a.htmlElement=void 0,l.dispose()):Mr("Chart was not disposed",l.uid),c=null):c=window.setTimeout(h,1e3)};h(),l.addDisposer(new Ce((function(){null!==c&&clearTimeout(c),fe(lt.baseSprites,l),lt.baseSpritesByUid[l.uid]=void 0}))),l.addDisposer(s);var d=s.createChild(gn);d.topParent=s,d.width=m(100),d.height=m(100),d.isMeasured=!1,s.tooltipContainer=d,l.tooltip=new ua,l.tooltip.hide(0),l.tooltip.setBounds({x:0,y:0,width:d.maxWidth,height:d.maxHeight}),d.events.on("maxsizechanged",(function(){C(l.tooltip).setBounds({x:0,y:0,width:d.maxWidth,height:d.maxHeight})}),void 0,!1);var p=new ea;if(p.events.on("inited",(function(){p.__disabled=!0}),void 0,!1),s.preloader=p,l instanceof gn&&!l.hasLicense()){var f=d.createChild(za);d.events.on("maxsizechanged",(function(e){d.maxWidth<=100||d.maxHeight<=50?f.hide():(f.isHidden||f.isHiding)&&f.show()}),void 0,!1),l.logo=f,f.align="left",f.valign="bottom"}return l.numberFormatter,s.isStandaloneInstance=!0,Bi.queue&&(i=l,-1==lt.queue.indexOf(i)&&(i.__disabled=!0,i.tooltipContainer.__disabled=!0,i.events.disableType("appeared"),0==lt.queue.length&&(lt.events.once("exitframe",(function(){Ua(i)})),vn.requestFrame()),i.addDisposer(new Ce((function(){Ga(i)}))),lt.queue.push(i))),l}throw vn.log("html container not found"),new Error("html container not found")}function Ga(e){var t=lt.queue.indexOf(e);if(t>=0){lt.queue.splice(lt.queue.indexOf(e),1);var i=lt.queue[t];i&&Ua(i)}}function Ua(e){e.__disabled=!1,e.tooltipContainer.__disabled=!1,e.events.enableType("appeared"),e.dispatch("removedfromqueue"),e.showOnInit&&e.events.on("appeared",(function(){Ga(e)})),e.vpDisposer&&e.vpDisposer.dispose(),e instanceof gn&&e.invalidateLabels(),e.tooltipContainer&&e.tooltipContainer.invalidateLayout(),e instanceof On?(e.invalidateData(),e.reinit(),e.events.once("datavalidated",(function(){e.showOnInit?e.appear():Ga(e)}))):(e.reinit(),e.events.once("inited",(function(){Ga(e)})),e.showOnInit&&e.appear())}function $a(e,t){var i;A(t)&&(_(lt.registeredClasses[t])?t=lt.registeredClasses[t]:(t=lt.registeredClasses.Container,i=new Error("Class ["+t+"] is not loaded.")));var r=Ha(e,t);return i&&r.raiseCriticalError(i),r}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function qa(e,t,i,r){return new(i||(i=Promise))((function(n,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}const Ya="esriFieldTypeDate",Ka="esriFieldTypeDouble",Xa="esriFieldTypeInteger",Ja="esriFieldTypeOID",Qa="esriFieldTypeSingle",Za="esriFieldTypeSmallInteger",eo="count",to="percentile_cont",io="esriSLSSolid",ro="esriSLS",no="unique-value",ao="class-breaks",oo="category",so="number",lo="gaugeSeries",uo="barSeries",co="featureLayer",ho={statisticType:eo,sortingOrder:"ASC"};function po(e){if("next"===e.toLowerCase())return"next";var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function fo(e){return void 0===e&&(e="4.17"),"https://js.arcgis.com/"+e+"/"}function mo(e){return!e||po(e)?function(e){void 0===e&&(e="4.17");var t=fo(e),i=po(e);return"next"!==i&&3===i.major?""+t+(i.minor<=10?"js/":"")+"esri/css/esri.css":t+"esri/themes/light/main.css"}(e):e}function yo(e,t){var i=mo(e),r=function(e){return document.querySelector('link[href*="'+e+'"]')}(i);return r||function(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}(r=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(i),t),r}var go={Promise:"undefined"!=typeof window?window.Promise:void 0},vo={};function bo(e,t,i){var r;i&&(r=function(e,t){var i=function(r){t(r.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",i,!1)};return e.addEventListener("error",i,!1),i}(e,i));var n=function(){t(e),e.removeEventListener("load",n,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",n,!1)}function xo(){return document.querySelector("script[data-esri-loader]")}function So(){var e=window.require;return e&&e.on}function Po(e){void 0===e&&(e={});var t={};[vo,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}));var i=t.version,r=t.url||fo(i);return new go.Promise((function(e,n){var a=xo();if(a){var o=a.getAttribute("src");o!==r?n(new Error("The ArcGIS API for JavaScript is already loaded ("+o+").")):So()?e(a):bo(a,e,n)}else if(So())n(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=t.css;if(s)yo(!0===s?i:s,t.insertCssBefore);t.dojoConfig&&(window.dojoConfig=t.dojoConfig),bo(a=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(r),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),n),document.body.appendChild(a)}}))}function _o(e){return new go.Promise((function(t,i){var r=window.require.on("error",i);window.require(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.remove(),t(e)}))}))}function Co(e){return qa(this,void 0,void 0,(function*(){return function(e,t){if(void 0===t&&(t={}),So())return _o(e);var i=xo(),r=i&&i.getAttribute("src");return!t.url&&r&&(t.url=r),Po(t).then((function(){return _o(e)}))}(e,{version:"next",css:!0})}))}const wo="esri/layers/support/Field",Io="esri/tasks/support/FeatureSet",Ao="esri/symbols/support/symbolUtils",To="esri/Map",Oo="esri/views/MapView",Do="esri/smartMapping/statistics/histogram",ko="esri/smartMapping/statistics/summaryStatistics",Fo="esri/layers/FeatureLayer",Eo="esri/tasks/support/Query",Mo="esri/tasks/support/StatisticDefinition",jo="esri/geometry/Extent",Lo="esri/renderers/support/jsonUtils",Ro="esri/core/promiseUtils",Vo="esri/request";function Bo(e,t,i,r){var n,a=null==(n=r)||"number"==typeof n||"boolean"==typeof n?r:i(r),o=t.get(a);return void 0===o&&(o=e.call(this,r),t.set(a,o)),o}function No(e,t,i){var r=Array.prototype.slice.call(arguments,3),n=i(r),a=t.get(n);return void 0===a&&(a=e.apply(this,r),t.set(n,a)),a}function Wo(e,t,i,r,n){return i.bind(t,e,r,n)}function zo(e,t){return Wo(e,this,1===e.length?Bo:No,t.cache.create(),t.serializer)}function Ho(){return JSON.stringify(arguments)}function Go(){this.cache=Object.create(null)}Go.prototype.has=function(e){return e in this.cache},Go.prototype.get=function(e){return this.cache[e]},Go.prototype.set=function(e,t){this.cache[e]=t};var Uo={create:function(){return new Go}},$o=function(e,t){var i=t&&t.cache?t.cache:Uo,r=t&&t.serializer?t.serializer:Ho;return(t&&t.strategy?t.strategy:zo)(e,{cache:i,serializer:r})},qo={variadic:function(e,t){return Wo(e,this,No,t.cache.create(),t.serializer)},monadic:function(e,t){return Wo(e,this,Bo,t.cache.create(),t.serializer)}};$o.strategies=qo;const Yo=0,Ko=1,Xo=2,Jo=3;var Qo="object"==typeof e&&e&&e.Object===Object&&e,Zo="object"==typeof self&&self&&self.Object===Object&&self,es=Qo||Zo||Function("return this")(),ts=es.Symbol,is=Object.prototype,rs=is.hasOwnProperty,ns=is.toString,as=ts?ts.toStringTag:void 0;var os=Object.prototype.toString;var ss=ts?ts.toStringTag:void 0;function ls(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ss&&ss in Object(e)?function(e){var t=rs.call(e,as),i=e[as];try{e[as]=void 0;var r=!0}catch(e){}var n=ns.call(e);return r&&(t?e[as]=i:delete e[as]),n}(e):function(e){return os.call(e)}(e)}function us(e){return null!=e&&"object"==typeof e}function cs(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}var hs=Array.isArray,ds=ts?ts.prototype:void 0,ps=ds?ds.toString:void 0;function fs(e){if("string"==typeof e)return e;if(hs(e))return cs(e,fs)+"";if(function(e){return"symbol"==typeof e||us(e)&&"[object Symbol]"==ls(e)}(e))return ps?ps.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ms(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ys(e){return e}function gs(e){if(!ms(e))return!1;var t=ls(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var vs,bs=es["__core-js_shared__"],xs=(vs=/[^.]+$/.exec(bs&&bs.keys&&bs.keys.IE_PROTO||""))?"Symbol(src)_1."+vs:"";var Ss=Function.prototype.toString;function Ps(e){if(null!=e){try{return Ss.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _s=/^\[object .+?Constructor\]$/,Cs=Function.prototype,ws=Object.prototype,Is=Cs.toString,As=ws.hasOwnProperty,Ts=RegExp("^"+Is.call(As).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Os(e){return!(!ms(e)||(t=e,xs&&xs in t))&&(gs(e)?Ts:_s).test(Ps(e));var t}function Ds(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Os(i)?i:void 0}var ks=Ds(es,"WeakMap"),Fs=Object.create,Es=function(){function e(){}return function(t){if(!ms(t))return{};if(Fs)return Fs(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function Ms(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var js=Date.now;var Ls=function(){try{var e=Ds(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Rs=function(e){var t=0,i=0;return function(){var r=js(),n=16-(r-i);if(i=r,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Ls?function(e,t){return Ls(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:ys);var Vs=/^(?:0|[1-9]\d*)$/;function Bs(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&Vs.test(e))&&e>-1&&e%1==0&&e<t}function Ns(e,t,i){"__proto__"==t&&Ls?Ls(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Ws(e,t){return e===t||e!=e&&t!=t}var zs=Object.prototype.hasOwnProperty;function Hs(e,t,i){var r=e[t];zs.call(e,t)&&Ws(r,i)&&(void 0!==i||t in e)||Ns(e,t,i)}function Gs(e,t,i,r){var n=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),n?Ns(i,s,l):Hs(i,s,l)}return i}var Us=Math.max;function $s(e,t){return Rs(function(e,t,i){return t=Us(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=Us(r.length-t,0),o=Array(a);++n<a;)o[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=i(o),Ms(e,this,s)}}(e,t,ys),e+"")}function qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ys(e){return null!=e&&qs(e.length)&&!gs(e)}function Ks(e,t,i){if(!ms(i))return!1;var r=typeof t;return!!("number"==r?Ys(i)&&Bs(t,i.length):"string"==r&&t in i)&&Ws(i[t],e)}var Xs=Object.prototype;function Js(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xs)}function Qs(e){return us(e)&&"[object Arguments]"==ls(e)}var Zs=Object.prototype,el=Zs.hasOwnProperty,tl=Zs.propertyIsEnumerable,il=Qs(function(){return arguments}())?Qs:function(e){return us(e)&&el.call(e,"callee")&&!tl.call(e,"callee")};var rl="object"==typeof exports&&exports&&!exports.nodeType&&exports,nl=rl&&"object"==typeof r&&r&&!r.nodeType&&r,al=nl&&nl.exports===rl?es.Buffer:void 0,ol=(al?al.isBuffer:void 0)||function(){return!1},sl={};function ll(e){return function(t){return e(t)}}sl["[object Float32Array]"]=sl["[object Float64Array]"]=sl["[object Int8Array]"]=sl["[object Int16Array]"]=sl["[object Int32Array]"]=sl["[object Uint8Array]"]=sl["[object Uint8ClampedArray]"]=sl["[object Uint16Array]"]=sl["[object Uint32Array]"]=!0,sl["[object Arguments]"]=sl["[object Array]"]=sl["[object ArrayBuffer]"]=sl["[object Boolean]"]=sl["[object DataView]"]=sl["[object Date]"]=sl["[object Error]"]=sl["[object Function]"]=sl["[object Map]"]=sl["[object Number]"]=sl["[object Object]"]=sl["[object RegExp]"]=sl["[object Set]"]=sl["[object String]"]=sl["[object WeakMap]"]=!1;var ul="object"==typeof exports&&exports&&!exports.nodeType&&exports,cl=ul&&"object"==typeof r&&r&&!r.nodeType&&r,hl=cl&&cl.exports===ul&&Qo.process,dl=function(){try{var e=cl&&cl.require&&cl.require("util").types;return e||hl&&hl.binding&&hl.binding("util")}catch(e){}}(),pl=dl&&dl.isTypedArray,fl=pl?ll(pl):function(e){return us(e)&&qs(e.length)&&!!sl[ls(e)]},ml=Object.prototype.hasOwnProperty;function yl(e,t){var i=hs(e),r=!i&&il(e),n=!i&&!r&&ol(e),a=!i&&!r&&!n&&fl(e),o=i||r||n||a,s=o?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!ml.call(e,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Bs(u,l))||s.push(u);return s}function gl(e,t){return function(i){return e(t(i))}}var vl=gl(Object.keys,Object),bl=Object.prototype.hasOwnProperty;function xl(e){if(!Js(e))return vl(e);var t=[];for(var i in Object(e))bl.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Sl(e){return Ys(e)?yl(e):xl(e)}var Pl=Object.prototype.hasOwnProperty;function _l(e){if(!ms(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=Js(e),i=[];for(var r in e)("constructor"!=r||!t&&Pl.call(e,r))&&i.push(r);return i}function Cl(e){return Ys(e)?yl(e,!0):_l(e)}var wl,Il=(wl=function(e,t,i,r){Gs(t,Cl(t),e,r)},$s((function(e,t){var i=-1,r=t.length,n=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(n=wl.length>3&&"function"==typeof n?(r--,n):void 0,a&&Ks(t[0],t[1],a)&&(n=r<3?void 0:n,r=1),e=Object(e);++i<r;){var o=t[i];o&&wl(e,o,i,n)}return e}))),Al=Ds(Object,"create");var Tl=Object.prototype.hasOwnProperty;var Ol=Object.prototype.hasOwnProperty;function Dl(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function kl(e,t){for(var i=e.length;i--;)if(Ws(e[i][0],t))return i;return-1}Dl.prototype.clear=function(){this.__data__=Al?Al(null):{},this.size=0},Dl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dl.prototype.get=function(e){var t=this.__data__;if(Al){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return Tl.call(t,e)?t[e]:void 0},Dl.prototype.has=function(e){var t=this.__data__;return Al?void 0!==t[e]:Ol.call(t,e)},Dl.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Al&&void 0===t?"__lodash_hash_undefined__":t,this};var Fl=Array.prototype.splice;function El(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}El.prototype.clear=function(){this.__data__=[],this.size=0},El.prototype.delete=function(e){var t=this.__data__,i=kl(t,e);return!(i<0)&&(i==t.length-1?t.pop():Fl.call(t,i,1),--this.size,!0)},El.prototype.get=function(e){var t=this.__data__,i=kl(t,e);return i<0?void 0:t[i][1]},El.prototype.has=function(e){return kl(this.__data__,e)>-1},El.prototype.set=function(e,t){var i=this.__data__,r=kl(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this};var Ml=Ds(es,"Map");function jl(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function Ll(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function Rl(e){return null==e?"":fs(e)}function Vl(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}Ll.prototype.clear=function(){this.size=0,this.__data__={hash:new Dl,map:new(Ml||El),string:new Dl}},Ll.prototype.delete=function(e){var t=jl(this,e).delete(e);return this.size-=t?1:0,t},Ll.prototype.get=function(e){return jl(this,e).get(e)},Ll.prototype.has=function(e){return jl(this,e).has(e)},Ll.prototype.set=function(e,t){var i=jl(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this};var Bl=gl(Object.getPrototypeOf,Object),Nl=Function.prototype,Wl=Object.prototype,zl=Nl.toString,Hl=Wl.hasOwnProperty,Gl=zl.call(Object);function Ul(e){if(!us(e))return!1;var t=ls(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!us(e)||"[object Object]"!=ls(e))return!1;var t=Bl(e);if(null===t)return!0;var i=Hl.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&zl.call(i)==Gl}(e)}var $l=$s((function(e,t){try{return Ms(e,void 0,t)}catch(e){return Ul(e)?e:new Error(e)}}));function ql(e){var t=this.__data__=new El(e);this.size=t.size}ql.prototype.clear=function(){this.__data__=new El,this.size=0},ql.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},ql.prototype.get=function(e){return this.__data__.get(e)},ql.prototype.has=function(e){return this.__data__.has(e)},ql.prototype.set=function(e,t){var i=this.__data__;if(i instanceof El){var r=i.__data__;if(!Ml||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new Ll(r)}return i.set(e,t),this.size=i.size,this};var Yl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kl=Yl&&"object"==typeof r&&r&&!r.nodeType&&r,Xl=Kl&&Kl.exports===Yl?es.Buffer:void 0,Jl=Xl?Xl.allocUnsafe:void 0;function Ql(){return[]}var Zl=Object.prototype.propertyIsEnumerable,eu=Object.getOwnPropertySymbols,tu=eu?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,r=null==e?0:e.length,n=0,a=[];++i<r;){var o=e[i];t(o,i,e)&&(a[n++]=o)}return a}(eu(e),(function(t){return Zl.call(e,t)})))}:Ql;var iu=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Vl(t,tu(e)),e=Bl(e);return t}:Ql;function ru(e,t,i){var r=t(e);return hs(e)?r:Vl(r,i(e))}function nu(e){return ru(e,Sl,tu)}function au(e){return ru(e,Cl,iu)}var ou=Ds(es,"DataView"),su=Ds(es,"Promise"),lu=Ds(es,"Set"),uu=Ps(ou),cu=Ps(Ml),hu=Ps(su),du=Ps(lu),pu=Ps(ks),fu=ls;(ou&&"[object DataView]"!=fu(new ou(new ArrayBuffer(1)))||Ml&&"[object Map]"!=fu(new Ml)||su&&"[object Promise]"!=fu(su.resolve())||lu&&"[object Set]"!=fu(new lu)||ks&&"[object WeakMap]"!=fu(new ks))&&(fu=function(e){var t=ls(e),i="[object Object]"==t?e.constructor:void 0,r=i?Ps(i):"";if(r)switch(r){case uu:return"[object DataView]";case cu:return"[object Map]";case hu:return"[object Promise]";case du:return"[object Set]";case pu:return"[object WeakMap]"}return t});var mu=fu,yu=Object.prototype.hasOwnProperty;var gu=es.Uint8Array;function vu(e){var t=new e.constructor(e.byteLength);return new gu(t).set(new gu(e)),t}var bu=/\w*$/;var xu=ts?ts.prototype:void 0,Su=xu?xu.valueOf:void 0;function Pu(e,t,i){var r,n,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return vu(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var i=t?vu(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var i=t?vu(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(e,i);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(a=new(n=e).constructor(n.source,bu.exec(n))).lastIndex=n.lastIndex,a;case"[object Set]":return new o;case"[object Symbol]":return r=e,Su?Object(Su.call(r)):{}}}var _u=dl&&dl.isMap,Cu=_u?ll(_u):function(e){return us(e)&&"[object Map]"==mu(e)};var wu=dl&&dl.isSet,Iu=wu?ll(wu):function(e){return us(e)&&"[object Set]"==mu(e)},Au={};function Tu(e,t,i,r,n,a){var o,s=1&t,l=2&t,u=4&t;if(i&&(o=n?i(e,r,n,a):i(e)),void 0!==o)return o;if(!ms(e))return e;var c=hs(e);if(c){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&yu.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!s)return function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}(e,o)}else{var h=mu(e),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(ol(e))return function(e,t){if(t)return e.slice();var i=e.length,r=Jl?Jl(i):new e.constructor(i);return e.copy(r),r}(e,s);if("[object Object]"==h||"[object Arguments]"==h||d&&!n){if(o=l||d?{}:function(e){return"function"!=typeof e.constructor||Js(e)?{}:Es(Bl(e))}(e),!s)return l?function(e,t){return Gs(e,iu(e),t)}(e,function(e,t){return e&&Gs(t,Cl(t),e)}(o,e)):function(e,t){return Gs(e,tu(e),t)}(e,function(e,t){return e&&Gs(t,Sl(t),e)}(o,e))}else{if(!Au[h])return n?e:{};o=Pu(e,h,s)}}a||(a=new ql);var p=a.get(e);if(p)return p;a.set(e,o),Iu(e)?e.forEach((function(r){o.add(Tu(r,t,i,r,e,a))})):Cu(e)&&e.forEach((function(r,n){o.set(n,Tu(r,t,i,n,e,a))}));var f=u?l?au:nu:l?keysIn:Sl,m=c?void 0:f(e);return function(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););}(m||e,(function(r,n){m&&(r=e[n=r]),Hs(o,n,Tu(r,t,i,n,e,a))})),o}Au["[object Arguments]"]=Au["[object Array]"]=Au["[object ArrayBuffer]"]=Au["[object DataView]"]=Au["[object Boolean]"]=Au["[object Date]"]=Au["[object Float32Array]"]=Au["[object Float64Array]"]=Au["[object Int8Array]"]=Au["[object Int16Array]"]=Au["[object Int32Array]"]=Au["[object Map]"]=Au["[object Number]"]=Au["[object Object]"]=Au["[object RegExp]"]=Au["[object Set]"]=Au["[object String]"]=Au["[object Symbol]"]=Au["[object Uint8Array]"]=Au["[object Uint8ClampedArray]"]=Au["[object Uint16Array]"]=Au["[object Uint32Array]"]=!0,Au["[object Error]"]=Au["[object Function]"]=Au["[object WeakMap]"]=!1;var Ou,Du=(Ou={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==Ou?void 0:Ou[e]}),ku=/[&<>"']/g,Fu=RegExp(ku.source);var Eu=Object.prototype.hasOwnProperty;function Mu(e){if(null==e)return!0;if(Ys(e)&&(hs(e)||"string"==typeof e||"function"==typeof e.splice||ol(e)||fl(e)||il(e)))return!e.length;var t=mu(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Js(e))return!xl(e).length;for(var i in e)if(Eu.call(e,i))return!1;return!0}var ju=Object.prototype,Lu=ju.hasOwnProperty;function Ru(e,t,i,r){return void 0===e||Ws(e,ju[i])&&!Lu.call(r,i)?t:e}var Vu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Bu(e){return"\\"+Vu[e]}var Nu=/<%=([\s\S]+?)%>/g,Wu={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Nu,variable:"",imports:{_:{escape:function(e){return(e=Rl(e))&&Fu.test(e)?e.replace(ku,Du):e}}}},zu=/\b__p \+= '';/g,Hu=/\b(__p \+=) '' \+/g,Gu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Uu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$u=/($^)/,qu=/['\n\r\u2028\u2029\\]/g,Yu=Object.prototype.hasOwnProperty;function Ku(e,t,i){var r=Wu.imports._.templateSettings||Wu;i&&Ks(e,t,i)&&(t=void 0),e=Rl(e),t=Il({},t,r,Ru);var n,a,o=Il({},t.imports,r.imports,Ru),s=Sl(o),l=function(e,t){return cs(t,(function(t){return e[t]}))}(o,s),u=0,c=t.interpolate||$u,h="__p += '",d=RegExp((t.escape||$u).source+"|"+c.source+"|"+(c===Nu?Uu:$u).source+"|"+(t.evaluate||$u).source+"|$","g"),p=Yu.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(d,(function(t,i,r,o,s,l){return r||(r=o),h+=e.slice(u,l).replace(qu,Bu),i&&(n=!0,h+="' +\n__e("+i+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var f=Yu.call(t,"variable")&&t.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(zu,""):h).replace(Hu,"$1").replace(Gu,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=$l((function(){return Function(s,p+"return "+h).apply(void 0,l)}));if(m.source=h,Ul(m))throw m;return m}const Xu={Arabic:"ar",Bosnian:"bs",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Slovenian:"sl",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},Ju=[Xu.Arabic,Xu.Hebrew];function Qu(e,t){return Ku(e)(t)}function Zu(e){let t=Xu.English;if(void 0!==e){const i=Object.values(Xu),r=i.filter(e=>-1!==e.indexOf("-"));if(-1!==e.indexOf("-")){const[t,i]=e.split("-");e=`${t}-${i.toUpperCase()}`}if(!0===r.includes(e))t=e;else{const r=function(e){const t=null==e?void 0:e.match(/^([a-z]{2})-([A-Z]{2})$/);let i=Xu.English;return null!=t&&(null==t?void 0:t.length)>1?i=t[1]:2===(null==e?void 0:e.length)&&e.toLowerCase()===e&&(i=e),i}(e);!0===i.includes(r)&&(t=r)}}return t}function ec(e=document.documentElement){var t,i;var r;const n=Zu(null!==(i=null===(t=(r="[lang]",function e(t){let i;return i=void 0===t||t===document||t===window?null:t.closest(r)||e(t.getRootNode().host),i}(e)))||void 0===t?void 0:t.lang)&&void 0!==i?i:window.navigator.language);return{locale:n,rtl:Ju.includes(n)}}const tc={maxRecordCountFactor:5,maxParallelRequests:4,maxRecords:2e3,orderByJSAPIDelimiter:" ",outStatistics:{statisticType:ho.statisticType,onStatisticField:"OBJECTID",outStatisticFieldName:"arcgis_charts_outStatisticFieldName_default_key"},uniqueIdsName:"arcgisChartsUniqueIds"},ic=[[166,206,227,255],[31,120,180,255],[178,223,138,255],[51,160,44,255],[251,154,153,255],[227,26,28,255],[253,191,111,255],[255,127,0,255],[202,178,214,255],[106,61,154,255]];function rc(e=0,t){const i=e>=0?e:0,[r,n,a,o]=ic[i%ic.length];return[r,n,a,void 0!==t?255*t:o]}function nc(e){var t,i,r;const n=null!==(t=null==e?void 0:e.useRandomColor)&&void 0!==t&&t,a=null==e?void 0:e.useRampColor,o=null!==(i=null==e?void 0:e.width)&&void 0!==i?i:1;let s=null!==(r=null==e?void 0:e.color)&&void 0!==r?r:[0,0,0,255*(null!=(l=1)?l:.7)];var l;return!0===n?s=function(e=1){return[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*e)]}():void 0!==a&&(s=rc(a.colorIndex)),void 0!==(null==e?void 0:e.opacity)&&(s[3]=null==e?void 0:e.opacity),{type:ro,style:io,color:s,width:o}}function ac(){return{type:so,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}}}function oc(e){let t;return void 0!==e&&e.length>0&&(t=e[0].type),t}function sc(e){let t;return e.type===uo&&(t=e.multipleBarType),t}function lc(e){const{value:t,keepSurroundingQuotes:i,escapeSQL:r}=e;let n=t.trim(),a="";return"'"===n.charAt(0)&&"'"===n.charAt(n.length-1)&&(n=n.slice(1,-1),!0===i&&(a="'")),!1!==r&&(n=function(e){let t=e;return t=t.replace(/'/g,"''"),t=t.replace(/[/\\"|[\]\\]/g,"\\$&"),t}(n)),n=`${a}${n}${a}`,n}function uc(e,t){let i=!1;const{maxBarUniqueSeriesCountTotal:r,maxBarTwoSeriesCountPerSeries:n,maxBarTwoSeriesCountTotal:a,maxBarThreePlusSeriesCountPerSeries:o,maxBarThreePlusSeriesCountTotal:s}={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500},l=e/t;return 1===t?i=e<=r:2===t?i=e<=a&&l<=n:t>2&&(i=e<=s&&l<=o),i}function cc(e){let t,i,r;return void 0!==e&&(t=e.type,t!==no&&t!==ao||(i=e.field,t===ao&&(r=e.normalizationField))),{rendererType:t,rendererField:i,rendererNormalizationField:r}}const hc=$o(e=>qa(void 0,void 0,void 0,(function*(){var t;const i=e.featureCollection;let r,n;if(void 0!==i&&void 0!==(null===(t=i.layers)||void 0===t?void 0:t[0])){const e=i.layers[0];r=e.featureSet,n=e.layerDefinition}else n=e.layerDefinition;const a={};if(void 0!==r){const[e]=yield Co([Io]);a.source=e.fromJSON(r).features;const[t]=yield Co([wo]);void 0!==(null==n?void 0:n.fields)&&(a.fields=n.fields.map(e=>t.fromJSON(e)))}else a.id=e.id,a.layerId=null==n?void 0:n.id,void 0!==e.url&&(a.url=e.url),void 0!==e.itemId&&void 0!==(null==n?void 0:n.id)&&(a.portalItem={id:e.itemId});if(void 0!==n){const e=n.drawingInfo;if(void 0!==(null==e?void 0:e.renderer)){const[t]=yield Co([Lo]);a.renderer=t.fromJSON(e.renderer)}}const[o]=yield Co([Fo]);return new o(a)})));function dc(e){return qa(this,void 0,void 0,(function*(){const{featureLayer:t,view:i,chartConfig:r}=e;let n;if((null==r?void 0:r.dataSource.type)===co)if(void 0!==t)if(void 0!==i&&!1===t.isTable){t.outFields=["*"];n=yield i.whenLayerView(t)}else n=t;else void 0!==r.dataSource.featureLayer&&(n=yield hc(r.dataSource.featureLayer));return n}))}function pc(e){return qa(this,void 0,void 0,(function*(){const[t]=yield Co([Fo]);return e instanceof t}))}function fc(e){return qa(this,void 0,void 0,(function*(){return!0===(yield pc(e))?e:e.layer}))}function mc(e,t){var i,r;return qa(this,void 0,void 0,(function*(){const n=yield fc(e);yield n.load();let a=n.fields.map(e=>e.toJSON());return!0===t&&void 0!==(null===(i=null==n?void 0:n.popupTemplate)||void 0===i?void 0:i.fieldInfos)&&(a=null===(r=null==n?void 0:n.popupTemplate)||void 0===r?void 0:r.fieldInfos.filter(e=>n.fieldsIndex.get(e.fieldName)).map(e=>{const t=n.fieldsIndex.get(e.fieldName);return t.alias=e.label,t.toJSON()})),a}))}function yc(e){return e.reduce((e,t)=>new Map([...e,[t.name,t]]),new Map)}function gc(e){var t;const i=e.find(e=>e.type===Ja);return null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""}function vc(e){return[Qa,Ka,Za,Xa].includes(e.type)}function bc(e){return e.filter(e=>e.type===Ya).map(e=>e.name)}function xc(e,t){let i="";return void 0!==e&&!0===e.includes("=")&&(i=!1!==t?lc({value:e.split("=")[0]}):e.split("=")[0].trim()),i}function Sc(e){const{where:t,normalize:i,keepSurroundingQuotes:r,escapeSQL:n}=e;let a="";return void 0!==t&&!0===t.includes("=")&&(a=t.split("=")[1].trim(),!1!==i&&(a=lc({value:a,keepSurroundingQuotes:r,escapeSQL:n}))),a}function Pc(e){const t=xc(e),i=Sc({where:e,normalize:!0,keepSurroundingQuotes:!0});let r="";return""!==t&&""!==i&&(r=`${t} = ${i}`),r}function _c(e){let t=!1;if(void 0===e||""===e)t=!0;else if(!0===e.includes("=")){t=xc(e,!1)===Sc({where:e,normalize:!1})}return t}function Cc(e){var t,i;let r=Yo;return!1===_c(null===(t=e[0].query)||void 0===t?void 0:t.where)?r=Xo:void 0===(null===(i=e[0].query)||void 0===i?void 0:i.outStatistics)?r=Ko:e.length>1&&(r=Jo),r}function wc(e){var t;const i={type:"featureLayer",featureLayer:{id:null==e?void 0:e.id,layerDefinition:{id:null==e?void 0:e.layerId},layerType:"ArcGISFeatureLayer",itemId:null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.serviceItemId}};return void 0!==(null==e?void 0:e.url)&&(i.featureLayer.url=e.url),i}function Ic(e){var t;let i=null!==(t=null==e?void 0:e.sourceJSON.maxRecordCount)&&void 0!==t?t:tc.maxRecords;return(null==e?void 0:e.sourceJSON.advancedQueryCapabilities.supportsMaxRecordCountFactor)&&(i=(null==e?void 0:e.sourceJSON.maxRecordCount)*tc.maxRecordCountFactor),i}function Ac(e){let t;const i=new Set(e);return null==i||i.forEach(e=>{null!=e&&""!==e&&(t=void 0===t?e:`${t} AND (${e})`)}),null!=t?t:"1 = 1"}function Tc(e){var t,i;return qa(this,void 0,void 0,(function*(){const{queryObject:r,chartQuery:n,outFields:a,start:o,num:s,maxRecordCountFactor:l,filter:u,returnDistinctValues:c,cacheHint:h}=e,[d]=yield Co([Eo]),p=new d;p.returnGeometry=!1;const f=yield fc(r);if(p.where=Ac([null==n?void 0:n.where,u,f.definitionExpression]),p.outFields=null!=a?a:["*"],p.groupByFieldsForStatistics=null!==(t=null==n?void 0:n.groupByFieldsForStatistics)&&void 0!==t?t:p.groupByFieldsForStatistics,p.orderByFields=null!==(i=null==n?void 0:n.orderByFields)&&void 0!==i?i:[],p.returnDistinctValues=null!=c&&c,void 0!==(null==n?void 0:n.outStatistics)){const[e]=yield Co([Mo]);p.outStatistics=n.outStatistics.map(t=>e.fromJSON(t))}if(void 0!==(null==n?void 0:n.extent)){const[e]=yield Co([jo]);p.geometry=new e(n.extent)}return void 0!==l&&(p.maxRecordCountFactor=l),p.cacheHint=!1!==h,void 0!==r&&void 0!==o&&(p.start=o,p.num=null!=s?s:Ic(f)),p}))}const Oc={},Dc="layerLoadFailure",kc="queryFeaturesError",Fc="ChartDisposeError";class Ec extends Error{constructor(e,t,i){super(t),this.name=e,this.details=i}}function Mc(e=ec().locale){return qa(this,void 0,void 0,(function*(){let t=yield i.e(54).then(i.bind(null,15));switch(e){case Xu.Arabic:t=yield i.e(42).then(i.bind(null,16));break;case Xu.Bosnian:t=yield i.e(44).then(i.bind(null,17));break;case Xu.Catalan:t=yield i.e(45).then(i.bind(null,18));break;case Xu.Czech:t=yield i.e(48).then(i.bind(null,19));break;case Xu.Danish:t=yield i.e(50).then(i.bind(null,20));break;case Xu.German:t=yield i.e(52).then(i.bind(null,21));break;case Xu.EnglishUSA:t=yield i.e(55).then(i.bind(null,22));break;case Xu.Spanish:t=yield i.e(57).then(i.bind(null,23));break;case Xu.Estonian:t=yield i.e(60).then(i.bind(null,24));break;case Xu.Finnish:t=yield i.e(62).then(i.bind(null,25));break;case Xu.French:t=yield i.e(63).then(i.bind(null,26));break;case Xu.Hebrew:t=yield i.e(66).then(i.bind(null,27));break;case Xu.Croatian:t=yield i.e(67).then(i.bind(null,28));break;case Xu.Hungarian:t=yield i.e(69).then(i.bind(null,29));break;case Xu.Indonesian:t=yield i.e(71).then(i.bind(null,30));break;case Xu.Italian:t=yield i.e(73).then(i.bind(null,31));break;case Xu.Japanese:t=yield i.e(76).then(i.bind(null,32));break;case Xu.Korean:t=yield i.e(77).then(i.bind(null,33));break;case Xu.Lithuanian:t=yield i.e(79).then(i.bind(null,34));break;case Xu.Latvian:t=yield i.e(82).then(i.bind(null,35));break;case Xu.NorwegianBokml:t=yield i.e(83).then(i.bind(null,36));break;case Xu.Dutch:t=yield i.e(85).then(i.bind(null,37));break;case Xu.Polish:t=yield i.e(87).then(i.bind(null,38));break;case Xu.PortugueseBrazil:t=yield i.e(90).then(i.bind(null,39));break;case Xu.PortuguesePortugal:t=yield i.e(91).then(i.bind(null,40));break;case Xu.Romanian:t=yield i.e(93).then(i.bind(null,41));break;case Xu.Russian:t=yield i.e(95).then(i.bind(null,42));break;case Xu.Slovenian:t=yield i.e(98).then(i.bind(null,43));break;case Xu.Swedish:t=yield i.e(100).then(i.bind(null,44));break;case Xu.Thai:t=yield i.e(101).then(i.bind(null,45));break;case Xu.Turkish:t=yield i.e(104).then(i.bind(null,46));break;case Xu.Ukrainian:t=yield i.e(105).then(i.bind(null,47));break;case Xu.Vietnamese:t=yield i.e(108).then(i.bind(null,48));break;case Xu.ChineseChina:t=yield i.e(110).then(i.bind(null,49));break;case Xu.ChineseHongKong:t=yield i.e(111).then(i.bind(null,50));break;case Xu.ChineseTaiwan:t=yield i.e(114).then(i.bind(null,51))}return t}))}function jc(e){return qa(this,void 0,void 0,(function*(){const{queryObject:t,statsList:i,filter:r,extent:n,returnDistinctValues:a}=e,o=new Map;if(void 0!==t&&void 0!==i&&i.length>0){const e=[];i.forEach(t=>{const{statisticType:i,onStatisticField:r,outStatisticFieldName:n}=t;e.push({statisticType:i,onStatisticField:r,outStatisticFieldName:n})});const s={where:r,extent:n,outStatistics:e},l=yield Tc({queryObject:t,chartQuery:s,returnDistinctValues:a});let u;try{u=yield t.queryFeatures(l,{signal:Oc.abortSignal})}catch(e){const[t]=yield Co([Ro]);if(!1===t.isAbortError(e)){const t=yield Mc();throw new Ec(kc,t.queryError,e)}}const c=null==u?void 0:u.features[0].attributes;i.forEach(e=>{const{outStatisticFieldName:t}=e;t in c&&o.set(t,c[t])})}return o}))}function Lc(e){return qa(this,void 0,void 0,(function*(){const{queryObject:t,chartQuery:i,outFields:r,start:n,num:a,returnDistinctValues:o,returnUniqueIdsOnly:s}=e;let l=[];if(void 0!==t){const e=function(e){let t;return!0===(null==e?void 0:e.sourceJSON.advancedQueryCapabilities.supportsMaxRecordCountFactor)&&(t=tc.maxRecordCountFactor),t}(yield fc(t)),u=yield Tc({queryObject:t,chartQuery:i,outFields:r,start:n,num:a,maxRecordCountFactor:e,returnDistinctValues:o});try{if(!0===s)l=yield t.queryObjectIds(u);else{l=(yield t.queryFeatures(u,{signal:Oc.abortSignal})).features}}catch(e){const[t]=yield Co([Ro]);if(!1===t.isAbortError(e)){const t=yield Mc();throw new Ec(kc,t.queryError,e)}}}return l}))}function Rc(e){return qa(this,void 0,void 0,(function*(){let t=0;const i=[],{featureCount:r,maxRecords:n}=e;let{start:a}=e,o=[];for(;t<tc.maxParallelRequests&&a<r;){const r=Object.assign(Object.assign({},e),{start:a,num:n});i.push(Lc(r)),a+=n,t+=1}return o=(yield Promise.all(i)).reduce((e,t)=>[...e,...t],[]),o}))}function Vc(e){var t;return qa(this,void 0,void 0,(function*(){const{queryObject:i,chartQuery:r,outFields:n,filter:a,returnDistinctValues:o,returnUniqueIdsOnly:s,featureCount:l,num:u,start:c,noBatch:h}=e,d=yield Tc({queryObject:i,chartQuery:r,outFields:n,filter:a,returnDistinctValues:o}),p=Object.assign(Object.assign({},r),{where:d.where});let f=[];if(void 0!==i){const e=yield fc(i),d=gc(yield mc(i)),m=null!==(t=null!=l?l:(yield jc({queryObject:i,filter:Ac([a,null==r?void 0:r.where]),statsList:[{statisticType:eo,onStatisticField:d,outStatisticFieldName:eo}]})).get(eo))&&void 0!==t?t:NaN,y=Ic(e);if(!0!==h&&m>y&&!0===e.capabilities.query.supportsPagination){let e=0,t=0;const r=Math.ceil(m/y),a=Math.ceil(r/tc.maxParallelRequests),l=[];for(;t<a;){e=t*tc.maxParallelRequests*y;const r=Rc(Object.assign(Object.assign({chartQuery:p,outFields:n},{queryObject:i,start:e,maxRecords:y,featureCount:m,returnDistinctValues:o}),{returnUniqueIdsOnly:s}));l.push(r),t+=1}f=(yield Promise.all(l)).flat()}else m>0&&(f=yield Lc({queryObject:i,chartQuery:p,outFields:n,returnDistinctValues:o,returnUniqueIdsOnly:s,num:u,start:c}))}return f}))}const Bc={$schema:"http://json-schema.org/draft-07/schema#",definitions:{RESTFieldType:{enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"RESTFieldType"},RESTStatisticType:{enum:["avg","count","max","min","no_aggregation","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"RESTStatisticType"},RESTSimpleLineSymbolStyle:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"RESTSimpleLineSymbolStyle"},RESTSimpleMarkerSymbolStyle:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"RESTSimpleMarkerSymbolStyle"},RESTSimpleFillSymbolStyle:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"RESTSimpleFillSymbolStyle"},RESTHorizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"RESTHorizontalAlignment"},RESTVerticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"RESTVerticalAlignment"},RESTSymbolType:{enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string",title:"RESTSymbolType"},RESTFontStyle:{enum:["italic","normal","oblique"],type:"string",title:"RESTFontStyle"},RESTFontWeight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"RESTFontWeight"},RESTFontDecoration:{enum:["line-through","none","underline"],type:"string",title:"RESTFontDecoration"},RESTRendererType:{enum:["class-breaks","dictionary","dot-density","heatmap","simple","unique-value"],type:"string",title:"RESTRendererType"},WebChartTypes:{enum:["barSeries","boxPlotSeries","category","chart","chartAxis","chartGuide","chartLegend","chartOverlay","chartOverlays","chartText","date","gaugeSeries","histogramSeries","lineSeries","number","pieSeries","probabilityPlotSeries","profileGraphSeries","scatterSeries"],type:"string",title:"WebChartTypes"},WebChartDataTransformations:{title:"WebChartDataTransformations",enum:["logarithmic","none","squareRoot"],type:"string"},WebChartColoringPatterns:{title:"WebChartColoringPatterns",enum:["colorMatch","singleColor"],type:"string"},WebChartLegendPositions:{title:"WebChartLegendPositions",enum:["bottom","left","right","top"],type:"string"},WebChartBarSeriesKinds:{title:"WebChartBarSeriesKinds",enum:["sideBySide","stacked","stacked100"],type:"string"},WebChartProbabilityPlotKinds:{title:"WebChartProbabilityPlotKinds",enum:["normalQQPlot","qqPlot"],type:"string"},WebChartSortOrderKinds:{enum:["ASC","DESC"],type:"string",title:"WebChartSortOrderKinds"},WebChartDataSourceTypes:{enum:["featureLayer","inline"],type:"string",title:"WebChartDataSourceTypes"},RGBObject:{description:"JSON representation of the color object",title:"RGBObject",type:"object",properties:{r:{type:"number",title:"r"},g:{type:"number",title:"g"},b:{type:"number",title:"b"},a:{default:1,type:"number",title:"a"}},additionalProperties:!1,required:["b","g","r"]},RGBArray:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]},title:"RGBArray"},WebChartConfigFields:{description:"Is an object which dictate which data-item field should be used for defining a property of the rendered element (line, point, bars, etc). Used in inline data source mode only.",title:"WebChartConfigFields",type:"object",properties:{fillColor:{type:"string",title:"fillColor"},fillOpacity:{type:"string",title:"fillOpacity"},fillStyle:{type:"string",title:"fillStyle"},markerSize:{type:"string",title:"markerSize"},outlineColor:{type:"string",title:"outlineColor"},outlineOpacity:{type:"string",title:"outlineOpacity"},outlineWidth:{type:"string",title:"outlineWidth"},outlineStyle:{type:"string",title:"outlineStyle"}},additionalProperties:!1},WebChartDataItemColor:{anyOf:[{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]}},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]}},{type:"string"}],title:"WebChartDataItemColor"},WebChartDataItemValue:{anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]}},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]}},{type:["null","string","number","boolean"]}],title:"WebChartDataItemValue"},WebChartDataItem:{description:"JSON representation of a typical data item",title:"WebChartDataItem",type:"object",additionalProperties:{anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]}},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]}},{type:["null","string","number","boolean"]}]}},WebChartScatterPlotDataItem:{description:"JSON representation of the processed data for a Scatter plot",title:"WebChartScatterPlotDataItem",type:"object",properties:{r2:{type:"number",title:"r2"},trendLinePoints:{type:"array",items:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartDataItem"}],minItems:2,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartDataItem"}]},title:"trendLinePoints"},data:{type:"array",items:{$ref:"#/definitions/WebChartDataItem"},title:"data"}},additionalProperties:!1,required:["data","r2","trendLinePoints"]},WebChartBin:{description:"JSON representation of a Histogram bin",title:"WebChartBin",type:"object",properties:{count:{type:"number",title:"count"},minValue:{description:"Min value in the bin",type:"number",title:"minValue"},maxValue:{description:"Max value in the bin",type:"number",title:"maxValue"},symbol:{description:"JSON representation of a typical data item",$ref:"#/definitions/WebChartDataItem",title:"symbol"}},additionalProperties:!1,required:["count","maxValue","minValue"]},WebChartHistogramDataItem:{description:"JSON representation of the processed data for a Histogram",title:"WebChartHistogramDataItem",type:"object",properties:{mean:{type:"number",title:"mean"},median:{type:"number",title:"median"},stddev:{type:"number",title:"stddev"},max:{type:"number",title:"max"},min:{type:"number",title:"min"},sum:{description:"Sum of the values of all the points",type:"number",title:"sum"},count:{description:"Number of all the points/features in un-binned data (including only non-null entries)",type:"number",title:"count"},nulls:{description:"Number of null entries in the pool of points",type:"number",title:"nulls"},bins:{type:"array",items:{$ref:"#/definitions/WebChartBin"},title:"bins"}},additionalProperties:!1,required:["bins","max","mean","median","min","stddev"]},WebChartDataTypes:{anyOf:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartScatterPlotDataItem"},{$ref:"#/definitions/WebChartHistogramDataItem"},{type:"array",items:{$ref:"#/definitions/WebChartDataItem"}},{type:"number"}],title:"WebChartDataTypes"},WebChartInlineDataSource:{description:"JSON representation of the inline data source",title:"WebChartInlineDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source. It is **inline** for inline data (arrays of POJOs).",type:"string",enum:["inline"],title:"type"},processed:{description:"Indicates whether the data is already processed and be used right away. If it is `false`, then the data needs to go through some transformation before being assigned to chart/series.",type:"boolean",title:"processed"},configFields:{description:"An object that is used to pass custom configuration like selecting the fill color based on a dataSource field.",$ref:"#/definitions/WebChartConfigFields",title:"configFields"},data:{description:"Structure containing all the data for the chart. It can be pre-processed (see `WebChartDataTypes`) or not (WebChartDataItem[])",anyOf:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartScatterPlotDataItem"},{$ref:"#/definitions/WebChartHistogramDataItem"},{type:"array",items:{$ref:"#/definitions/WebChartDataItem"}},{type:"number"}],title:"data"}},additionalProperties:!1,required:["data","processed","type"]},WebChartFeatureLayerDataSource:{description:"JSON representation of the feature layer data source",title:"WebChartFeatureLayerDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source. It is **featureLayer** for [Feature Layer](https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-FeatureLayer.html) data.",type:"string",enum:["featureLayer"],title:"type"},featureLayer:{$ref:"#/definitions/IFeatureLayer",description:"Carries the properties necessary to build a JSAPI Feature Layer in order to fetch the chart data.",title:"featureLayer"},filter:{description:"A string representing **any legal SQL where clause** which helps filter a sub-set of the original data which is to be adopted for all types of data visualizations. This `where` clause is **AND**-ed with series' level `where` clause during the chart's data processing routines. Whenever a data query is made by the chart, this `where` clause is respected.",type:"string",title:"filter"}},additionalProperties:!1,required:["featureLayer","type"]},WebChartDataSources:{anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartFeatureLayerDataSource"}],title:"WebChartDataSources"},WebChartText:{description:"Stores info on how some text is rendered on the chart and whether it is visible or not.",title:"WebChartText",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartText object. For ChartText object, it is chartText.",type:"string",enum:["chartText"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},content:{$ref:"#/definitions/ITextSymbol",description:"Contains the styling info and text content. Details on **esriTS** are [here](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm).",title:"content"}},additionalProperties:!1,required:["content","type"]},WebChartLegend:{description:"JSON representation of the Chart's legend box",title:"WebChartLegend",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartLegend object. For ChartLegend object, it is **chartLegend**.",type:"string",enum:["chartLegend"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},title:{description:"Contains styling info on how the title of the legend box should be rendered",$ref:"#/definitions/WebChartText",title:"title"},body:{$ref:"#/definitions/ITextSymbol",description:"Contains styling info on how legend body (excluding the **title**) should be rendered",title:"body"},position:{$ref:"#/definitions/WebChartLegendPositions",description:'Positions the legends at `"right"`, `"left"`, `"top"`, or `"bottom"` of the chart.',title:"position"},maxHeight:{default:50,type:["null","number"],title:"maxHeight"}},additionalProperties:!1,required:["body","position","type"]},WebChartOverlay:{description:"JSON represewntation of the chart's overlays like trendling scatter plot, and median in histogram",title:"WebChartOverlay",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartOverlay object. For ChartOverlay object, it is chartOverlay.",type:"string",enum:["chartOverlay"],title:"type"},created:{description:"Determines whether the overlay is created under the hood. It may or may not be visible.",default:!1,type:"boolean",title:"created"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},symbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the overlay should be rendered",title:"symbol"}},additionalProperties:!1,required:["symbol","type"]},NumberFormatOptions:{description:"Defines how the numerical(value) axis data should be formatted.",title:"NumberFormatOptions",type:"object",properties:{type:{description:"Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is number. It can help us to differentiate numerical (value) axis from other types of axes viz., date-time axis and category axis.",type:"string",enum:["number"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.NumberFormatOptions",description:"Represents the JS native [Intl.NumberFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat), which is based on [CLDR](http://cldr.unicode.org/translation/numbers-currency/number-patterns) specifications.",title:"intlOptions"}},additionalProperties:!1,required:["intlOptions","type"]},DateTimeFormatOptions:{description:"Defines how the DateTime axis data should be formatted.",title:"DateTimeFormatOptions",type:"object",properties:{type:{description:"Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is date. It can help us to differentiate date-time axis from other types of axes viz., numeric (value) axis and category axis.",type:"string",enum:["date"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.DateTimeFormatOptions",description:"Represent the JS native [Intl.DateTimeFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormatt), which is based on [CLDR](http://cldr.unicode.org/translation/date-time-1/date-time-patterns) specifications.",title:"intlOptions"}},additionalProperties:!1,required:["intlOptions","type"]},CategoryFormatOptions:{description:"Defines how the category axis data (Categories) should be formatted.",title:"CategoryFormatOptions",type:"object",properties:{type:{description:"It can help us to differentiate category axis from other types of axes, viz., date-time axis and numeric (value) axis.",type:"string",enum:["category"],title:"type"},characterLimit:{description:"Represents a positive integer which represents the limit on the number of characters to be displayed for all the category strings. The truncated string are appended with `...`. If property is not present or `null`, no truncation is done.",minimum:1,multipleOf:1,type:["null","number"],title:"characterLimit"}},additionalProperties:!1,required:["type"]},WebChartGuide:{description:"JSON representation of the chart's guide object. Can be used to represent both line and fill guides.",title:"WebChartGuide",type:"object",properties:{type:{description:"Represents a unique string identifier for the Guide object. For Guide class, it is **chartGuide**.",type:"string",enum:["chartGuide"],title:"type"},start:{description:"Determines the value where the guide should begin.",anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:["null","string","number"]}],title:"start"},end:{description:"Determines the value where the guide should end. If it is not specified, we get a line guide, otherwise we get a fill/rectangular guide.",anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:["null","string","number"]}],title:"end"},style:{description:"Determines how the guide should be rendered. Line guide requires [esriSLS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format, and fill guide requires [esriSFS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format.",anyOf:[{$ref:"#/definitions/ISimpleFillSymbol"},{$ref:"#/definitions/ISimpleLineSymbol"}],title:"style"},name:{description:"A unique string identifier which is used to refer to a particular guide. It is displayed in the Chart Authoring UI to differentiate between different guides.",type:"string",title:"name"},label:{description:"Defines a text label for the given guide. It is displayed on the chart next to the concerned guide and is styled using **esriTS** format.",$ref:"#/definitions/ITextSymbol",title:"label"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},above:{description:"Determines whether the guide should be rendered on top of (overlapping) the series or under the series.",default:!1,type:"boolean",title:"above"}},additionalProperties:!1,required:["name","start","style","type"]},WebChartAxis:{description:"JSON representation of the chart's axis object",title:"WebChartAxis",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartAxis object. For ChartAxis object, it is chartAxis.",type:"string",enum:["chartAxis"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},isLogarithmic:{description:"Specifies whether the axis has a logarithmic scale or not.",default:!1,type:"boolean",title:"isLogarithmic"},title:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the title of the axis should be rendered",title:"title"},valueFormat:{description:"Specifies how numerical/categorical/date-time values should be formatted.",anyOf:[{$ref:"#/definitions/NumberFormatOptions"},{$ref:"#/definitions/DateTimeFormatOptions"},{$ref:"#/definitions/CategoryFormatOptions"}],title:"valueFormat"},minimum:{description:"The minimum value which the axis should represent, when it is not defined or null, then the minimum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"minimum"},maximum:{description:"The maximum value which the axis should represent, when it is not defined or null, then the maximum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"maximum"},grid:{description:"Dictates how the grid lines associated with a particular axis should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"grid"},guides:{description:"Represent an array of guides that should be rendered onto the axis.",type:"array",items:{$ref:"#/definitions/WebChartGuide"},title:"guides"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the axis line should be rendered.",title:"lineSymbol"},labels:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the axis labels should be rendered.",title:"labels"}},additionalProperties:!1,required:["labels","lineSymbol","title","type","valueFormat"]},WebChartQuery:{description:"Chart query object inspired by [JSAPI Query](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html) class.",title:"WebChartQuery",type:"object",properties:{where:{description:"Acts as a filter on the base data for attribute-based filtering.",type:"string",title:"where"},groupByFieldsForStatistics:{description:"An array of fields which determine how the base data is grouped. Only one **groupBy** Field is supported, but ArcGIS JSAPI [supports multiple groupBy fields](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#groupByFieldsForStatistics). While splitting by multiple group-by fields is possible, it is not being done because of the number of series it will give rise to (equal to the length of the Cartesian product set) possibly making the visualization hard to interpret.",maxItems:1,type:"array",items:{type:"string"},title:"groupByFieldsForStatistics"},outStatistics:{description:"Represents an array of statitics definitions which dictate how a particular field should be aggregated. Refer to [JSAPI Statistics Definition class](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-StatisticDefinition.html) for more info.",type:"array",items:{$ref:"#/definitions/IStatisticDefinition"},title:"outStatistics"},orderByFields:{description:"Represents the sorting order of the output result. More info present in [JSAPI docs](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#orderByFields). The format of any entry in this array is `field_name sorting_order`. When `sorting_order` is not defined, it is assumed to be ascending",examples:["STATE_NAME DESC","CITY_NAME ASC","CITY_NAME"],type:"array",items:{type:"string"},title:"orderByFields"},extent:{description:"Acts as a filter on the base data for spatial filtering. Only the features matching the given extent will be displayed on the chart. It is a [JSAPI Extent object](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Extent.html)",$ref:"#/definitions/IExtent",title:"extent"}},additionalProperties:!1},WebChartSeries:{description:"JSON representation of the chart's series object. All other series extends this interface.",type:"object",properties:{type:{type:"string",title:"type"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","name","type","x"],title:"WebChartSeries"},WebChartBarChartSeries:{description:"[Bar chart](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/bar-chart.htm) shows the categorical distribution of String/DateTime data.",title:"WebChartBarChartSeries",type:"object",properties:{type:{description:"Represents a unique string identifier for the BarChartSeries object. For BarSeries object, it is **barSeries**.",type:"string",enum:["barSeries"],title:"type"},y:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},multipleBarType:{$ref:"#/definitions/WebChartBarSeriesKinds",description:'Specifies how the bars/columns should be placed when multiple bar series are rendered in the same chart, say when "split by" operation is executed on any field or when multiple attributes/fields corresponding to the same set of classes are to be visualized.',title:"multipleBarType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},dataLabels:{$ref:"#/definitions/WebChartText",description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",title:"dataLabels"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"}},additionalProperties:!1,required:["colorType","dataLabels","fillSymbol","id","multipleBarType","name","type","x","y"]},HistogramOverlays:{description:"Object containing Histogram overlays",title:"HistogramOverlays",type:"object",properties:{type:{type:"string",enum:["chartOverlays"],title:"type"},mean:{$ref:"#/definitions/WebChartOverlay",title:"mean"},median:{$ref:"#/definitions/WebChartOverlay",title:"median"},standardDeviation:{$ref:"#/definitions/WebChartOverlay",title:"standardDeviation"},comparisonDistribution:{$ref:"#/definitions/WebChartOverlay",title:"comparisonDistribution"}},additionalProperties:!1,required:["comparisonDistribution","mean","median","standardDeviation","type"]},WebChartHistogramSeries:{description:"[Histogram](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/histogram.htm) shows the numerical(frequency) distribution of a numerical field.",title:"WebChartHistogramSeries",type:"object",properties:{type:{description:"Represents a unique string identifier for the HistogramSeries object. For BarSeries object, it is **histogramSeries**.",type:"string",enum:["histogramSeries"],title:"type"},binCount:{description:"Bin count must be a positive integer.",minimum:1,multipleOf:1,default:32,type:["null","number"],title:"binCount"},overlays:{$ref:"#/definitions/HistogramOverlays",description:"Specifies the chart overlays. Histogram supports 4 overlays: **mean**, **median**, **standardDeviation** and **comparisonDistribution**.",title:"overlays"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",description:"Specifies how the data should be transformed (e.g. square root, log, etc.) before binning.",title:"dataTransformationType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","dataTransformationType","fillSymbol","id","name","overlays","type","x"]},ScatterPlotOverlays:{description:"Object containing Scatter Plot overlays",title:"ScatterPlotOverlays",type:"object",properties:{type:{type:"string",enum:["chartOverlays"],title:"type"},trendLine:{$ref:"#/definitions/WebChartOverlay",title:"trendLine"}},additionalProperties:!1,required:["trendLine","type"]},WebChartScatterPlotSeries:{description:"[Scatter plot](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/scatter-plot.htm) shows the relationship between two numerical fields.",title:"WebChartScatterPlotSeries",type:"object",properties:{type:{description:"Represents a unique string identifier for the ScatterSeries object. For ScatterSeries object, it is **scatterSeries**.",type:"string",enum:["scatterSeries"],title:"type"},y:{description:"Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",description:'Specifies how each data point in the scatter plot should be rendered. The type is `"esriSMS"` and it is adopted from the [REST API Types](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm#GUID-C8D40B32-5F4B-45EB-8048-6D5A8763E13B).',title:"markerSymbol"},overlays:{$ref:"#/definitions/ScatterPlotOverlays",description:"Specifies all the chart overlays. The scatter plot implements only 1 overlay, **trendLine**.",title:"overlays"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","markerSymbol","name","overlays","type","x","y"]},WebChartPieChartSeries:{description:"JSON representation of the Pie Chart series",title:"WebChartPieChartSeries",type:"object",properties:{type:{type:"string",enum:["pieSeries"],title:"type"},y:{type:"string",title:"y"},innerRadius:{default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:0,type:["null","number"],title:"startAngle"},endAngle:{default:360,type:["null","number"],title:"endAngle"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the slices should be rendered",title:"fillSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","fillSymbol","id","name","type","x","y"]},WebChartGaugeSeries:{description:"JSON representation of the Gauge series",title:"WebChartGaugeSeries",type:"object",properties:{type:{type:"string",enum:["gaugeSeries"],title:"type"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","name","type","x"]},WebChartLineChartSeries:{description:"JSON representation of the Line Chart series",title:"WebChartLineChartSeries",type:"object",properties:{type:{type:"string",enum:["lineSeries"],title:"type"},y:{anyOf:[{type:"array",items:{type:"string"}},{type:"string"}],title:"y"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"lineSymbol"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","lineSymbol","markerSymbol","name","type","x","y"]},WebChartBoxPlotSeries:{description:"JSON representation of the Box plot series",title:"WebChartBoxPlotSeries",type:"object",properties:{type:{type:"string",enum:["boxPlotSeries"],title:"type"},y:{anyOf:[{type:"array",items:{type:"string"}},{type:"string"}],title:"y"},showOutliers:{type:"boolean",title:"showOutliers"},showInnerPoints:{type:"boolean",title:"showInnerPoints"},showMean:{type:"boolean",title:"showMean"},standardizeValues:{type:"boolean",title:"standardizeValues"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"},rotated:{type:"boolean",title:"rotated"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","fillSymbol","id","name","showInnerPoints","showMean","showOutliers","standardizeValues","type","x","y"]},WebChartProbabilityPlotSeries:{description:"JSON representation of the Probability plot series",title:"WebChartProbabilityPlotSeries",type:"object",properties:{type:{type:"string",enum:["probabilityPlotSeries"],title:"type"},y:{type:"string",title:"y"},probabilityPlotType:{$ref:"#/definitions/WebChartProbabilityPlotKinds",title:"probabilityPlotType"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",title:"dataTransformationType"},showReferenceLine:{type:"boolean",title:"showReferenceLine"},standardizeValues:{type:"boolean",title:"standardizeValues"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},referenceLineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"referenceLineSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","dataTransformationType","id","markerSymbol","name","probabilityPlotType","referenceLineSymbol","showReferenceLine","standardizeValues","type","x","y"]},WebChartProfileGraphSeries:{description:"JSON representation of the Profile graph series",title:"WebChartProfileGraphSeries",type:"object",properties:{type:{type:"string",enum:["profileGraphSeries"],title:"type"},y:{type:"string",title:"y"},horizontalUnits:{type:"string",title:"horizontalUnits"},verticalUnits:{type:"string",title:"verticalUnits"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"lineSymbol"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","horizontalUnits","id","lineSymbol","markerSymbol","name","type","verticalUnits","x","y"]},WebMapWebChart:{description:"Gives a JSON representation of the Chart object without the dataSource Object. Used in the Webmap Viewer workflows.",type:"object",properties:{version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"}},additionalProperties:!1,required:["series","type","version"],title:"WebMapWebChart"},WebChart:{description:"Gives a JSON representation of the Chart object. Used by ArcGIS Charts packages.",type:"object",properties:{dataSource:{description:"Property representing the datasource. Can be Feature layer or vanilla POJOs.",anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartFeatureLayerDataSource"}],title:"dataSource"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"}},additionalProperties:!1,required:["dataSource","series","type","version"],title:"WebChart"},WebMapWebGaugeChart:{description:"JSON representation of Gauge",type:"object",properties:{innerRadius:{default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:-180,type:["null","number"],title:"startAngle"},endAngle:{default:180,type:["null","number"],title:"endAngle"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"}},additionalProperties:!1,required:["series","type","version"],title:"WebMapWebGaugeChart"},WebGaugeChart:{type:"object",properties:{innerRadius:{default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:-180,type:["null","number"],title:"startAngle"},endAngle:{default:180,type:["null","number"],title:"endAngle"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"},dataSource:{description:"Property representing the datasource. Can be Feature layer or vanilla POJOs.",anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartFeatureLayerDataSource"}],title:"dataSource"}},additionalProperties:!1,required:["dataSource","series","type","version"],title:"WebGaugeChart"},CalculatedMinMaxBoundsPayload:{type:"object",properties:{isXAxis:{type:"boolean",title:"isXAxis"},minimum:{type:["null","number"],title:"minimum"},maximum:{type:["null","number"],title:"maximum"}},additionalProperties:!1,required:["isXAxis"],title:"CalculatedMinMaxBoundsPayload"},ChartDeletePayload:{type:"object",properties:{chartId:{type:"string",title:"chartId"}},additionalProperties:!1,required:["chartId"],title:"ChartDeletePayload"},IFeatureLayer:{description:"Feature layers can be created by referencing a layer from either a map service or a feature service or by specifying a feature collection object.\nUse a map service if you just want to retrieve geometries and attributes from the server and symbolize them yourself. Use a feature service if\nyou want to take advantage of symbols from the service's source map document. Also, use a feature service if you plan on doing editing with the\nfeature layer. Feature layers honor any feature templates configured in the source map document. Feature collection objects are used to create\na feature layer based on the supplied definition.",title:"IFeatureLayer",type:"object",properties:{capabilities:{description:"A comma-separated string listing which editing operations are allowed on an editable feature service.",type:"string",title:"capabilities"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},disablePopup:{description:"Indicates whether to allow a client to ignore popups defined by the service item.",enum:[!0],type:"boolean",title:"disablePopup"},featureCollection:{description:"A featureCollection object defining a layer of features whose geometry and attributes are either stored directly within the web map or with an item. Feature Collections can be created from CSVs, shapefiles, GPX, or map notes.",title:"featureCollection"},featureCollectionType:{description:"Indicates the type of features in the feature collection. If featureCollectionType is missing, it means the feature collection is a regular single-layer or multi-layer feature collection.",enum:["markup","notes","route"],type:"string",title:"featureCollectionType"},layerDefinition:{description:"A layerDefinition object defining the attribute schema and drawing information for the layer.",$ref:"#/definitions/ILayerDefinition",title:"layerDefinition"},layerType:{description:"String indicating the layer type.",type:"string",enum:["ArcGISFeatureLayer"],title:"layerType"},mode:{description:"0 is snapshot mode. 1 is on-demand mode. 2 is selection-only mode. Used with ArcGIS feature services and individual layers in ArcGIS map services.",enum:[0,1,2],type:"number",title:"mode"},popupInfo:{description:"A popupInfo object defining the content of popup windows when you click or query a feature.",$ref:"#/definitions/IPopupInfo",title:"popupInfo"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled.",type:"number",title:"refreshInterval"},showLabels:{description:"Labels will display if this property is set to true and the layer also has a labelingInfo property associated with it. This property can get stored in the web map config and in the item/data.",enum:[!0],type:"boolean",title:"showLabels"},visibleLayers:{description:"An array of sublayer ids that should appear visible. Used with feature layers that are based on feature collections.",type:"array",items:{type:"number"},title:"visibleLayers"},id:{description:"A unique identifying string for the layer.",title:"id"},name:{description:"Layer name",type:"string",title:"name"},itemId:{description:"Optional string containing the item ID of the service if it's registered on ArcGIS Online or your organization's portal.",type:"string",title:"itemId"},maxScale:{description:"Integer property used to determine the maximum scale at which the layer is displayed.",type:"number",title:"maxScale"},minScale:{description:"Integer property used to determine the minimum scale at which the layer is displayed.",type:"number",title:"minScale"},opacity:{description:"The degree of transparency applied to the layer on the client side, where 0 is full transparency and 1 is no transparency.",type:"number",title:"opacity"},showLegend:{description:"Boolean property indicating whether to display in the legend.",type:"boolean",title:"showLegend"},title:{description:"A user-friendly string title for the layer that can be used in a table of contents.",type:"string",title:"title"},type:{description:"Deprecated, use layerType instead.",type:"string",title:"type"},visibility:{description:"Boolean property determining whether the layer is initially visible in the web map.",type:"boolean",title:"visibility"},url:{description:"The URL to the layer. Not applicable to all layer types.",type:"string",title:"url"},timeAnimation:{description:"This property is applicable to layers that support time. If 'true', timeAnimation is enabled.",type:"boolean",title:"timeAnimation"}},additionalProperties:!1,required:["id","layerType"]},IDefinitionEditor:{description:"The definitionEditor stores interactive filters at the same level as layerDefinition.",title:"IDefinitionEditor",type:"object",properties:{inputs:{description:"An array of input objects.",type:"array",items:{$ref:"#/definitions/IDefinitionInput"},title:"inputs"},parameterizedExpression:{description:"A string value representing the where clause for the interactive filter.",type:"string",title:"parameterizedExpression"}},additionalProperties:!1},IDefinitionInput:{title:"IDefinitionInput",type:"object",properties:{hint:{description:"A string value representing a hint for the input.",type:"string",title:"hint"},parameters:{description:"An array of parameter objects.",type:"array",items:{$ref:"#/definitions/IDefinitionParameter"},title:"parameters"},prompt:{description:"A string value representing the prompt for the input.",type:"string",title:"prompt"}},additionalProperties:!1},IDefinitionParameter:{title:"IDefinitionParameter",type:"object",properties:{defaultValue:{description:"The default value that is automatically given if nothing is provided.",type:["string","number"],title:"defaultValue"},fieldName:{description:"A string value representing the name of the field to query.",type:"string",title:"fieldName"},parameterId:{description:"Number given to uniquely identify the specified parameter.",title:"parameterId"},type:{description:"The field type for the specified field parameter.",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"type"},utcValue:{description:"An integer value representing exact UNIX time used when defaultValue is a date string.",type:"number",title:"utcValue"}},additionalProperties:!1},ILayerDefinition:{description:'`ILayerDefinition` can also be imported from the following packages:\n\n```js\nimport { ILayerDefinition } from "@esri/arcgis-rest-service-admin";\nimport { ILayerDefinition } from "@esri/arcgis-rest-feature-layer";\n```',title:"ILayerDefinition",type:"object",properties:{allowGeometryUpdates:{description:"Boolean value indicating whether the geometry of the features in the layer can be edited.",type:"boolean",title:"allowGeometryUpdates"},capabilities:{description:"A comma separated list of supported capabilities, e.g. Query,Editing.",type:"string",title:"capabilities"},copyrightText:{description:"String value for the copyright text information for the layer.",type:"string",title:"copyrightText"},currentVersion:{description:"Numeric value indicating the server version of the layer.",type:"number",title:"currentVersion"},defaultVisibility:{description:"Boolean value indicating whether the layer's visibility is turned on.",type:"boolean",title:"defaultVisibility"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},definitionExpression:{description:"SQL-based definition expression string that narrows the data to be displayed in the layer.",type:"string",title:"definitionExpression"},description:{description:"String value of the layer as defined in the map service.",type:"string",title:"description"},displayField:{description:"A string value that summarizes the feature.",type:"string",title:"displayField"},drawingInfo:{description:"Contains drawing, labeling, and transparency information.",title:"drawingInfo"},extent:{description:"An object defining the rectangular area.",anyOf:[{$ref:"#/definitions/IExtent"},{type:"null"}],title:"extent"},editingInfo:{description:"An object defining the editing info (last edit date).",$ref:"#/definitions/IEditingInfo",title:"editingInfo"},featureReduction:{description:"Feature reductions declutter the screen by hiding features that would otherwise intersect with other features on screen.",title:"featureReduction"},fields:{description:"An array of field objects containing information about the attribute fields for the feature collection or layer.",type:"array",items:{$ref:"#/definitions/IField"},title:"fields"},geometryType:{description:"A string defining the type of geometry. Possible geometry types are: esriGeometryPoint, esriGeometryMultipoint, esriGeometryPolyline, esriGeometryPolygon, and esriGeometryEnvelope.",enum:["esriGeometryEnvelope","esriGeometryMultipoint","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"],type:"string",title:"geometryType"},globalIdField:{description:"The unique identifier for a feature or table row within a geodatabase.",type:"string",title:"globalIdField"},hasAttachments:{description:"Indicates whether attachments should be loaded for the layer.",type:"boolean",title:"hasAttachments"},hasStaticData:{description:"Boolean value indicating whether data changes. True if it does not.",type:"boolean",title:"hasStaticData"},htmlPopupType:{description:"String value indicating the HTML popup type.",enum:["esriServerHTMLPopupTypeAsHTMLText","esriServerHTMLPopupTypeAsURL","esriServerHTMLPopupTypeNone"],type:"string",title:"htmlPopupType"},id:{description:"The identifier assigned to the layer.",type:"number",title:"id"},isDataVersioned:{description:"Boolean value indicating whether the data is versioned.",type:"boolean",title:"isDataVersioned"},maxRecordCount:{description:"Numeric value indicating tbe maximum number of records that will be returned at once for a query.",type:"number",title:"maxRecordCount"},maxScale:{description:"Represents the maximum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"maxScale"},minScale:{description:"Represents the minimum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"minScale"},name:{description:"Contains a unique name for the layer that can be displayed in a legend.",type:"string",title:"name"},objectIdField:{description:"Indicates the name of the object ID field in the dataset.",type:"string",title:"objectIdField"},overrideSymbols:{description:"Dictates whether a client can support having an end user modify symbols on individual features.",type:"boolean",title:"overrideSymbols"},rangeInfos:{description:"Indicates range information",title:"rangeInfos"},source:{description:"An object indicating the layerDefinition's layer source.",title:"source"},spatialReference:{description:"An object containing the WKID or WKT identifying the spatial reference of the layer's geometry.",$ref:"#/definitions/ISpatialReference",title:"spatialReference"},supportedQueryFormats:{description:"String value indicating the output formats that are supported in a query.",type:"string",title:"supportedQueryFormats"},supportsAdvancedQueries:{description:"Boolean value indicating whether the layer supports orderByFields in a query operation.",type:"boolean",title:"supportsAdvancedQueries"},supportsAttachmentsByUploadId:{description:"Boolean value indicating whether the layer supports uploading attachments with the Uploads operation. This can then be used in the Add Attachment and Update Attachment operations.",type:"boolean",title:"supportsAttachmentsByUploadId"},supportsCalculate:{description:"Boolean value indicating whether the layer supports the Calculate REST operation when updating features.",type:"boolean",title:"supportsCalculate"},supportsRollbackOnFailureParameter:{description:"Boolean value indicating whether the layer supports rolling back edits made on a feature layer if some of the edits fail.",type:"boolean",title:"supportsRollbackOnFailureParameter"},supportsStatistics:{description:"Boolean value indicating whether feature layer query operations support statistical functions.",type:"boolean",title:"supportsStatistics"},supportsValidateSql:{description:"Boolean value indicating whether the validateSQL operation is supported across a feature service layer.",type:"boolean",title:"supportsValidateSql"},templates:{description:"A property of the layer definition when there are no types defined; otherwise, templates are defined as properties of the types.",type:"array",items:{$ref:"#/definitions/ITemplate"},title:"templates"},timeInfo:{description:"The time info metadata of the layer. May be set for feature layers inside a feature collection item.",title:"timeInfo"},type:{description:"Indicates whether the layerDefinition applies to a Feature Layer or a Table.",enum:["Feature Layer","Table"],type:"string",title:"type"},typeIdField:{description:"Contains the name of the field holding the type ID for the features.",type:"string",title:"typeIdField"},types:{description:"Contains information about an attribute field.",title:"types"},visibilityField:{description:"String value indicating the attribute field that is used to control the visibility of a feature.\nIf applicable, when rendering a feature the client should use this field to control visibility.\nThe field's values are 0 = do not display, 1 = display.",type:"string",title:"visibilityField"},relationships:{type:"array",items:{},title:"relationships"},editFieldsInfo:{type:"object",properties:{creationDateField:{type:"string",title:"creationDateField"},creatorField:{type:"string",title:"creatorField"},editDateField:{type:"string",title:"editDateField"},editorField:{type:"string",title:"editorField"}},additionalProperties:!1,title:"editFieldsInfo"},parentLayerId:{type:"number",title:"parentLayerId"},ownershipBasedAccessControlForFeatures:{type:"boolean",title:"ownershipBasedAccessControlForFeatures"},syncCanReturnChanges:{type:"boolean",title:"syncCanReturnChanges"},archivingInfo:{type:"object",properties:{supportsQueryWithHistoricMoment:{type:"boolean",title:"supportsQueryWithHistoricMoment"},startArchivingMoment:{type:"number",title:"startArchivingMoment"}},additionalProperties:!1,title:"archivingInfo"},supportsValidateSQL:{type:"boolean",title:"supportsValidateSQL"},advancedQueryCapabilities:{type:"object",properties:{supportsPagination:{type:"boolean",title:"supportsPagination"},supportsTrueCurve:{type:"boolean",title:"supportsTrueCurve"},supportsQueryWithDistance:{type:"boolean",title:"supportsQueryWithDistance"},supportsReturningQueryExtent:{type:"boolean",title:"supportsReturningQueryExtent"},supportsStatistics:{type:"boolean",title:"supportsStatistics"},supportsOrderBy:{type:"boolean",title:"supportsOrderBy"},supportsDistinct:{type:"boolean",title:"supportsDistinct"},supportsSqlExpression:{type:"boolean",title:"supportsSqlExpression"},supportsPercentileStatistics:{type:"boolean",title:"supportsPercentileStatistics"}},additionalProperties:!1,title:"advancedQueryCapabilities"},allowTrueCurvesUpdates:{type:"boolean",title:"allowTrueCurvesUpdates"},onlyAllowTrueCurveUpdatesByTrueCurveClients:{type:"boolean",title:"onlyAllowTrueCurveUpdatesByTrueCurveClients"},supportsApplyEditsWithGlobalIds:{type:"boolean",title:"supportsApplyEditsWithGlobalIds"},subtypeField:{type:"string",title:"subtypeField"},indexes:{type:"array",items:{},title:"indexes"},dateFieldsTimeReference:{type:"object",properties:{timeZone:{type:"string",title:"timeZone"},respectsDaylightSaving:{type:"boolean",title:"respectsDaylightSaving"}},additionalProperties:!1,title:"dateFieldsTimeReference"},useStandardizedQueries:{type:"boolean",title:"useStandardizedQueries"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"}},additionalProperties:!1},IExtent:{description:'Extents are used to define rectangles and bounding boxes.\n\n`IExtent` can also be imported from the following packages:\n\n```js\nimport { IExtent } from "@esri/arcgis-rest-geocoding";\nimport { IExtent } from "@esri/arcgis-rest-service-admin";\nimport { IExtent } from "@esri/arcgis-rest-feature-layer";\n```',title:"IExtent",type:"object",properties:{xmin:{type:"number",title:"xmin"},ymin:{type:"number",title:"ymin"},zmin:{type:"number",title:"zmin"},xmax:{type:"number",title:"xmax"},ymax:{type:"number",title:"ymax"},zmax:{type:"number",title:"zmax"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},additionalProperties:!1,required:["xmax","xmin","ymax","ymin"]},ISpatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',title:"ISpatialReference",type:"object",properties:{wkid:{type:"number",title:"wkid"},latestWkid:{type:"number",title:"latestWkid"},vcsWkid:{type:"number",title:"vcsWkid"},latestVcsWkid:{type:"number",title:"latestVcsWkid"},wkt:{type:"string",title:"wkt"},latestWkt:{type:"string",title:"latestWkt"}},additionalProperties:!1},IEditingInfo:{title:"IEditingInfo",type:"object",properties:{lastEditDate:{description:"date of last edit to the layer",type:"number",title:"lastEditDate"}},additionalProperties:!1},IField:{description:'Contains information about an attribute field.\n\n`IField` can also be imported from the following packages:\n\n```js\nimport { IField } from "@esri/arcgis-rest-feature-layer";\n```',title:"IField",type:"object",properties:{name:{description:"A string defining the field name.",type:"string",title:"name"},type:{$ref:"#/definitions/FieldType",description:"A string defining the field type.",title:"type"},alias:{description:"A string defining the field alias.",type:"string",title:"alias"},domain:{description:"The domain objects if applicable.",title:"domain"},editable:{description:"A Boolean defining whether this field is editable.",type:"boolean",title:"editable"},exactMatch:{description:"A Boolean defining whether or not the field is an exact match.",type:"boolean",title:"exactMatch"},length:{description:"A number defining how many characters are allowed in a string. field.",type:"number",title:"length"},nullable:{description:"A Boolean defining whether this field can have a null value.",type:"boolean",title:"nullable"},defaultValue:{description:"The value written in for new records by default.",title:"defaultValue"}},additionalProperties:!1,required:["name","type"]},FieldType:{description:"Field type.",title:"FieldType",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string"},ITemplate:{description:"Templates describe features that can be created in a layer. They are generally used with feature collections and editable web-based CSV layers.\nTemplates are not used with ArcGIS feature services as these already have templates defined in the service. They are also defined as properties\nof the layer definition when there are no defined types. Otherwise, templates are defined as properties of the types.",title:"ITemplate",type:"object",properties:{description:{description:"A string value containing a detailed description of the template.",title:"description"},drawingTool:{description:"An optional string that can define a client-side drawing tool to be used with this feature. For example, map notes used by the Online Map Viewer use this to represent the viewer's different drawing tools.",enum:["esriFeatureEditToolAutoCompletePolygon","esriFeatureEditToolCircle","esriFeatureEditToolDownArrow","esriFeatureEditToolEllipse","esriFeatureEditToolFreehand","esriFeatureEditToolLeftArrow","esriFeatureEditToolLine","esriFeatureEditToolNone","esriFeatureEditToolPoint","esriFeatureEditToolPolygon","esriFeatureEditToolRectangle","esriFeatureEditToolRightArrow","esriFeatureEditToolText","esriFeatureEditToolTriangle","esriFeatureEditToolUpArrow"],type:"string",title:"drawingTool"},name:{description:"A string containing a user-friendly name for the template.",type:"string",title:"name"},prototype:{description:"A feature object representing a prototypical feature for the template.",$ref:"#/definitions/IFeature",title:"prototype"}},additionalProperties:!1},IFeature:{description:'a spatial entity and its corresponding properties\n\n`IFeature` can also be imported from the following packages:\n\n```js\nimport { IFeature } from "@esri/arcgis-rest-feature-layer";\nimport { IFeature } from "@esri/arcgis-rest-routing";\n```',title:"IFeature",type:"object",properties:{geometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/IGeometry",title:"geometry"},attributes:{type:"object",additionalProperties:{},title:"attributes"},symbol:{$ref:"#/definitions/ISymbol",title:"symbol"}},additionalProperties:!1,required:["attributes"]},IGeometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',title:"IGeometry",type:"object",properties:{spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},additionalProperties:!1},ISymbol:{title:"ISymbol",type:"object",properties:{type:{$ref:"#/definitions/SymbolType",title:"type"},style:{type:"string",title:"style"}},additionalProperties:!1,required:["type"]},SymbolType:{title:"SymbolType",enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string"},IPopupInfo:{description:"Defines the look and feel of popup windows when a user clicks or queries a feature.",title:"IPopupInfo",type:"object",properties:{description:{description:"A string that appears in the body of the popup window as a description. It is also possible to specify the description as HTML-formatted content.",type:["null","string"],title:"description"},expressionInfos:{description:"List of Arcade expressions added to the pop-up.",type:"array",items:{$ref:"#/definitions/IPopupExpressionInfo"},title:"expressionInfos"},fieldInfos:{description:"Array of fieldInfo information properties. This information is provided by the service layer definition. When the description uses name/value pairs, the order of the array is how the fields display in the editable Map Viewer popup and the resulting popup. It is also possible to specify HTML-formatted content.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},layerOptions:{description:"Additional options that can be defined for the popup layer.",type:"object",properties:{showNoDataRecords:{description:"Indicates whether or not the NoData records should be displayed.",type:"boolean",title:"showNoDataRecords"}},additionalProperties:!1,required:["showNoDataRecords"],title:"layerOptions"},mediaInfos:{description:"Array of various mediaInfo to display. Can be of type image, piechart, barchart, columnchart, or linechart. The order given is the order in which is displays.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},popupElements:{description:"An array of popupElement objects that represent an ordered list of popup elements.",type:"array",items:{$ref:"#/definitions/IPopupElement"},title:"popupElements"},relatedRecordsInfo:{description:"Indicates whether to enable related records if they exist on a layer.",$ref:"#/definitions/IRelatedRecordsInfo",title:"relatedRecordsInfo"},showAttachments:{description:"Indicates whether attachments will be loaded for feature layers that have attachments.",type:"boolean",title:"showAttachments"},title:{description:"A string that appears at the top of the popup window as a title.",type:"string",title:"title"}},additionalProperties:!1},IPopupExpressionInfo:{description:"Arcade expression added to the pop-up.",title:"IPopupExpressionInfo",type:"object",properties:{expression:{description:"The Arcade expression.",type:"string",title:"expression"},name:{description:"Unique identifier for the expression.",type:"string",title:"name"},returnType:{description:"Return type of the Arcade expression, can be number or string. Defaults to string value. Number values are assumed to be double. This can be determined by the authoring client by executing the expression using a sample feature(s), although it can be corrected by the user. Knowing the returnType allows the authoring client to present fields in relevant contexts. For example, numeric fields in numeric contexts such as charts.",enum:["number","string"],type:"string",title:"returnType"},title:{description:"Title of the expression.",type:"string",title:"title"}},additionalProperties:!1},IFieldInfo:{description:"Defines how a field in the dataset participates (or does not participate) in a popup window.",title:"IFieldInfo",type:"object",properties:{fieldName:{description:"A string containing the field name as defined by the service. Anywhere that a fieldname is referenced as {field-name} in popupInfo, an Arcade expression can also be referenced as{expression/}`.",title:"fieldName"},format:{description:"A format object used with numerical or date fields to provide more detail about how the value should be displayed in a web map popup window.",$ref:"#/definitions/IFieldFormat",title:"format"},isEditable:{description:"A Boolean determining whether users can edit this field. Not applicable to Arcade expressions.",type:"boolean",title:"isEditable"},label:{description:"A string containing the field alias. This can be overridden by the web map author. Not applicable to Arcade expressions as title is used instead.",type:"string",title:"label"},stringFieldOption:{description:"A string determining what type of input box editors see when editing the field. Applies only to string fields. Not applicable to Arcade expressions.",enum:["richtext","textarea","textbox"],type:"string",title:"stringFieldOption"},tooltip:{description:"A string providing an editing hint for editors of the field. Not applicable to Arcade expressions.",type:"string",title:"tooltip"},visible:{description:"A Boolean determining whether the field is visible in the popup window.",type:"boolean",title:"visible"}},additionalProperties:!1},IFieldFormat:{description:"The format object can be used with numerical or date fields to provide more detail about how values should be displayed in popup windows.",title:"IFieldFormat",type:"object",properties:{dateFormat:{description:"A string used with date fields to specify how the date should appear in popup windows.",enum:["dayShortMonthYear","longDate","longMonthDayYear","longMonthYear","shortDate","shortDateLE","shortDateLELongTime","shortDateLELongTime24","shortDateLEShortTime","shortDateLEShortTime24","shortDateLongTime","shortDateLongTime24","shortDateShortTime","shortDateShortTime24","shortMonthYear","year"],type:"string",title:"dateFormat"},digitSeparator:{description:"A Boolean used with numerical fields. A value of true allows the number to have a digit (or thousands) separator when the value appears in popup windows.\nDepending on the locale, this separator is a decimal point or a comma. A value of false means that no separator will be used.",type:"boolean",title:"digitSeparator"},places:{description:"An integer used with numerical fields to specify the number of supported decimal places that should appear in popup windows. Any places beyond this value are rounded.",type:"number",title:"places"}},additionalProperties:!1},IMediaInfo:{description:"Defines an image or a chart to be displayed in a popup window.",title:"IMediaInfo",type:"object",properties:{caption:{description:"A string caption describing the media.",title:"caption"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled. If the property does not exist, it's equivalent to having a value of 0. Only applicable when type is set to image.",title:"refreshInterval"},title:{description:"A string title for the media.",type:["null","string"],title:"title"},type:{description:"A string defining the type of media.",enum:["barchart","columnchart","image","linechart","piechart"],type:"string",title:"type"},value:{description:"A value object containing information about how the image should be retrieved or how the chart should be constructed.",anyOf:[{$ref:"#/definitions/IMediaInfoValue"},{type:"null"}],title:"value"}},additionalProperties:!1},IMediaInfoValue:{description:"The value object contains information for popup windows about how images should be retrieved or charts constructed.",title:"IMediaInfoValue",type:"object",properties:{fields:{description:"Used with charts. An array of strings, with each string containing the name of a field to display in the chart.",type:"array",items:{type:"string"},title:"fields"},linkURL:{description:"Used with images. A string containing a URL to be launched in a browser when a user clicks the image.",type:"string",title:"linkURL"},normalizeField:{description:"Used with charts. An optional string containing the name of a field. The values of all fields in the chart will be normalized (divided) by the value of this field.",type:"string",title:"normalizeField"},sourceURL:{description:"Used with images. A string containing the URL to the image.",type:"string",title:"sourceURL"},tooltipField:{description:"String value indicating the tooltip for a chart specified from another field. This field is needed when related records are not sued. It is used for showing tooltips from another field in the same layer or related layer/table.",type:"string",title:"tooltipField"}},additionalProperties:!1},IPopupElement:{description:"Popup elements allow users to author popups, using multiple elements such as tabular views, string description, media (charts and images), and attachments of the attributes\nand control the order in which they appear. Specifically, popupElements do the following:\n1) provide the ability to explicitly add a field/ value table in addition to a description,\n2) allow adding multiple description elements, and\n3) allow a user to author and consume elements of a popup in the order of their choosing.",title:"IPopupElement",type:"object",properties:{displayType:{description:"This property applies to elements of type attachments. A string value indicating how to display the attachment.\nPossible values are, preview, and list. If list is specified, attachments show as links.",enum:["list","preview"],type:"string",title:"displayType"},fieldInfos:{description:"This property applies to elements of type fields. It is an array of popupInfo.fieldInfo objects representing a field/value pair displayed as a table within the popupElement.\nIf the fieldInfos property is not provided, the popupElement will display whatever is specified directly in the popupInfo.fieldInfos property.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},mediaInfos:{description:"This property applies to elements of type media. An array of popupInfo.mediaInfo objects representing an image or chart for display.\nIf no mediaInfos property is provided, the popupElement will display whatever is specified in the popupInfo.mediaInfo property.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},text:{description:"This property applies to elements of type text. This is string value indicating the text to be displayed within the popupElement.\nIf no text property is provided, the popupElement will display whatever is specified in the popupInfo.description property.",type:"string",title:"text"},type:{description:"String value indicating which elements to use.",enum:["attachments","fields","media","text"],type:"string",title:"type"}},additionalProperties:!1},IRelatedRecordsInfo:{description:"The sort in the popupInfo for the parent feature. This impacts the sorting order for the returned child records.",title:"IRelatedRecordsInfo",type:"object",properties:{orderByFields:{description:"Array of orderByFields objects indicating the field display order for the related records and whether they should be sorted in ascending 'asc' or descending 'desc' order.",type:"array",items:{$ref:"#/definitions/IOrderByField"},title:"orderByFields"},showRelatedRecords:{description:"Required boolean value indicating whether to display related records. If true, client should let the user navigate to the related records. Defaults to true if the layer participates in a relationship AND the related layer/table has already been added to the map (either as an operationalLayer or as a table).",type:"boolean",title:"showRelatedRecords"}},additionalProperties:!1,required:["showRelatedRecords"]},IOrderByField:{description:"Object indicating the field display order for the related records and whether they should be sorted in ascending or descending order.",title:"IOrderByField",type:"object",properties:{field:{description:"The attribute value of the field selected that will drive the sorting of related records.",type:"string",title:"field"},order:{description:"Set the ascending or descending sort order of the returned related records.",enum:["asc","desc"],type:"string",title:"order"}},additionalProperties:!1},ITextSymbol:{title:"ITextSymbol",type:"object",properties:{type:{type:"string",enum:["esriTS"],title:"type"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},backgroundColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"backgroundColor"},borderLineSize:{type:"number",title:"borderLineSize"},borderLineColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"borderLineColor"},haloSize:{type:"number",title:"haloSize"},haloColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"haloColor"},verticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"verticalAlignment"},horizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"horizontalAlignment"},rightToLeft:{type:"boolean",title:"rightToLeft"},kerning:{type:"boolean",title:"kerning"},font:{$ref:"#/definitions/IFont",title:"font"},text:{type:"string",title:"text"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"},style:{type:"string",title:"style"}},additionalProperties:!1,required:["type"]},IFont:{title:"IFont",type:"object",properties:{family:{type:"string",title:"family"},size:{type:"number",title:"size"},style:{enum:["italic","normal","oblique"],type:"string",title:"style"},weight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"weight"},decoration:{enum:["line-through","none","underline"],type:"string",title:"decoration"}},additionalProperties:!1},ISimpleLineSymbol:{title:"ISimpleLineSymbol",type:"object",properties:{type:{type:"string",enum:["esriSLS"],title:"type"},style:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},width:{type:"number",title:"width"}},additionalProperties:!1,required:["type"]},"Intl.NumberFormatOptions":{title:"Intl.NumberFormatOptions",type:"object",properties:{localeMatcher:{type:"string",title:"localeMatcher"},style:{type:"string",title:"style"},currency:{type:"string",title:"currency"},currencyDisplay:{type:"string",title:"currencyDisplay"},currencySign:{type:"string",title:"currencySign"},useGrouping:{type:"boolean",title:"useGrouping"},minimumIntegerDigits:{type:"number",title:"minimumIntegerDigits"},minimumFractionDigits:{type:"number",title:"minimumFractionDigits"},maximumFractionDigits:{type:"number",title:"maximumFractionDigits"},minimumSignificantDigits:{type:"number",title:"minimumSignificantDigits"},maximumSignificantDigits:{type:"number",title:"maximumSignificantDigits"},compactDisplay:{type:"string",title:"compactDisplay"},notation:{type:"string",title:"notation"},signDisplay:{type:"string",title:"signDisplay"},unit:{type:"string",title:"unit"},unitDisplay:{type:"string",title:"unitDisplay"}},additionalProperties:!1},"Intl.DateTimeFormatOptions":{title:"Intl.DateTimeFormatOptions",type:"object",properties:{localeMatcher:{type:"string",title:"localeMatcher"},weekday:{type:"string",title:"weekday"},era:{type:"string",title:"era"},year:{type:"string",title:"year"},month:{type:"string",title:"month"},day:{type:"string",title:"day"},hour:{type:"string",title:"hour"},minute:{type:"string",title:"minute"},second:{type:"string",title:"second"},timeZoneName:{type:"string",title:"timeZoneName"},formatMatcher:{type:"string",title:"formatMatcher"},hour12:{type:"boolean",title:"hour12"},timeZone:{type:"string",title:"timeZone"}},additionalProperties:!1},ISimpleFillSymbol:{title:"ISimpleFillSymbol",type:"object",properties:{type:{type:"string",enum:["esriSFS"],title:"type"},style:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"}},additionalProperties:!1,required:["type"]},IStatisticDefinition:{title:"IStatisticDefinition",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc).",enum:["avg","count","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},additionalProperties:!1,required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},additionalProperties:!1,required:["onStatisticField","outStatisticFieldName","statisticType"]},ISimpleMarkerSymbol:{title:"ISimpleMarkerSymbol",type:"object",properties:{type:{type:"string",enum:["esriSMS"],title:"type"},style:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},size:{type:"number",title:"size"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"}},additionalProperties:!1,required:["type"]}},$ref:"#/definitions/WebChart"};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;function Nc(e){var t={exports:{}};return e(t,t.exports),t.exports
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */}var Wc=Nc((function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,n=1;n<r;++n)t[n]=t[n].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function i(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function a(e){var r=t("[0-9]","[A-Fa-f]"),n=i(i("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+i("%[89A-Fa-f]"+r+"%"+r+r)+"|"+i("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=(i("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),i(i(n+"|"+t(l,a,"[\\:]"))+"*"),i(i("25[0-5]")+"|"+i("2[0-4][0-9]")+"|"+i("1[0-9][0-9]")+"|"+i("0?[1-9][0-9]")+"|0?0?[0-9]")),c=i(u+"\\."+u+"\\."+u+"\\."+u),h=i(r+"{1,4}"),d=i(i(h+"\\:"+h)+"|"+c),p=i(i(h+"\\:")+"{6}"+d),f=i("\\:\\:"+i(h+"\\:")+"{5}"+d),m=i(i(h)+"?\\:\\:"+i(h+"\\:")+"{4}"+d),y=i(i(i(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+i(h+"\\:")+"{3}"+d),g=i(i(i(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+i(h+"\\:")+"{2}"+d),v=i(i(i(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+d),b=i(i(i(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+d),x=i(i(i(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),S=i(i(i(h+"\\:")+"{0,6}"+h)+"?\\:\\:"),P=i([p,f,m,y,g,v,b,x,S].join("|")),_=i(i(l+"|"+n)+"+"),C=(i("[vV]"+r+"+\\."+t(l,a,"[\\:]")+"+"),i(i(n+"|"+t(l,a))+"*"),i(n+"|"+t(l,a,"[\\:\\@]")));return i(i(n+"|"+t(l,a,"[\\@]"))+"+"),i(i(C+"|"+t("[\\/\\?]",s))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,o),"g"),PCT_ENCODED:new RegExp(n,"g"),IPV4ADDRESS:new RegExp("^("+c+")$"),IPV6ADDRESS:new RegExp("^\\[?("+P+")"+i(i("\\%25|\\%(?!"+r+"{2})")+"("+_+")")+"?\\]?$")}}var o=a(!1),s=a(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=/^xn--/,h=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function y(e){throw new RangeError(p[e])}function g(e,t){var i=e.split("@"),r="";i.length>1&&(r=i[0]+"@",e=i[1]);var n=function(e,t){for(var i=[],r=e.length;r--;)i[r]=t(e[r]);return i}((e=e.replace(d,".")).split("."),t).join(".");return r+n}function v(e){for(var t=[],i=0,r=e.length;i<r;){var n=e.charCodeAt(i++);if(n>=55296&&n<=56319&&i<r){var a=e.charCodeAt(i++);56320==(64512&a)?t.push(((1023&n)<<10)+(1023&a)+65536):(t.push(n),i--)}else t.push(n)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,i){var r=0;for(e=i?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))},S=function(e){var t,i=[],r=e.length,n=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&y("not-basic"),i.push(e.charCodeAt(l));for(var c=s>0?s+1:0;c<r;){for(var h=n,d=1,p=36;;p+=36){c>=r&&y("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((u-n)/d))&&y("overflow"),n+=m*d;var g=p<=o?1:p>=o+26?26:p-o;if(m<g)break;var v=36-g;d>f(u/v)&&y("overflow"),d*=v}var b=i.length+1;o=x(n-h,b,0==h),f(n/b)>u-a&&y("overflow"),a+=f(n/b),n%=b,i.splice(n++,0,a)}return String.fromCodePoint.apply(String,i)},P=function(e){var t=[],i=(e=v(e)).length,r=128,n=0,a=72,o=!0,s=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;d<128&&t.push(m(d))}}catch(e){s=!0,l=e}finally{try{!o&&h.return&&h.return()}finally{if(s)throw l}}var p=t.length,g=p;for(p&&t.push("-");g<i;){var S=u,P=!0,_=!1,C=void 0;try{for(var w,I=e[Symbol.iterator]();!(P=(w=I.next()).done);P=!0){var A=w.value;A>=r&&A<S&&(S=A)}}catch(e){_=!0,C=e}finally{try{!P&&I.return&&I.return()}finally{if(_)throw C}}var T=g+1;S-r>f((u-n)/T)&&y("overflow"),n+=(S-r)*T,r=S;var O=!0,D=!1,k=void 0;try{for(var F,E=e[Symbol.iterator]();!(O=(F=E.next()).done);O=!0){var M=F.value;if(M<r&&++n>u&&y("overflow"),M==r){for(var j=n,L=36;;L+=36){var R=L<=a?1:L>=a+26?26:L-a;if(j<R)break;var V=j-R,B=36-R;t.push(m(b(R+V%B,0))),j=f(V/B)}t.push(m(b(j,0))),a=x(n,T,g==p),n=0,++g}}}catch(e){D=!0,k=e}finally{try{!O&&E.return&&E.return()}finally{if(D)throw k}}++n,++r}return t.join("")},_=function(e){return g(e,(function(e){return h.test(e)?"xn--"+P(e):e}))},C=function(e){return g(e,(function(e){return c.test(e)?S(e.slice(4).toLowerCase()):e}))},w={};function I(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",i=0,r=e.length;i<r;){var n=parseInt(e.substr(i+1,2),16);if(n<128)t+=String.fromCharCode(n),i+=3;else if(n>=194&&n<224){if(r-i>=6){var a=parseInt(e.substr(i+4,2),16);t+=String.fromCharCode((31&n)<<6|63&a)}else t+=e.substr(i,6);i+=6}else if(n>=224){if(r-i>=9){var o=parseInt(e.substr(i+4,2),16),s=parseInt(e.substr(i+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&s)}else t+=e.substr(i,9);i+=9}else t+=e.substr(i,3),i+=3}return t}function T(e,t){function i(e){var i=A(e);return i.match(t.UNRESERVED)?i:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,i).replace(t.NOT_USERINFO,I).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_HOST,I).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,i).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,I).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,i).replace(t.NOT_QUERY,I).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,i).replace(t.NOT_FRAGMENT,I).replace(t.PCT_ENCODED,n)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function D(e,t){var i=e.match(t.IPV4ADDRESS)||[],r=l(i,2)[1];return r?r.split(".").map(O).join("."):e}function k(e,t){var i=e.match(t.IPV6ADDRESS)||[],r=l(i,3),n=r[1],a=r[2];if(n){for(var o=n.toLowerCase().split("::").reverse(),s=l(o,2),u=s[0],c=s[1],h=c?c.split(":").map(O):[],d=u.split(":").map(O),p=t.IPV4ADDRESS.test(d[d.length-1]),f=p?7:8,m=d.length-f,y=Array(f),g=0;g<f;++g)y[g]=h[g]||d[m+g]||"";p&&(y[f-1]=D(y[f-1],t));var v=y.reduce((function(e,t,i){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===i?r.length++:e.push({index:i,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var x=y.slice(0,v.index),S=y.slice(v.index+v.length);b=x.join(":")+"::"+S.join(":")}else b=y.join(":");return a&&(b+="%"+a),b}return e}var F=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,E=void 0==="".match(/(){0}/)[1];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},r=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var n=e.match(F);if(n){E?(i.scheme=n[1],i.userinfo=n[3],i.host=n[4],i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=n[7],i.fragment=n[8],isNaN(i.port)&&(i.port=n[5])):(i.scheme=n[1]||void 0,i.userinfo=-1!==e.indexOf("@")?n[3]:void 0,i.host=-1!==e.indexOf("//")?n[4]:void 0,i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=-1!==e.indexOf("?")?n[7]:void 0,i.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),i.host&&(i.host=k(D(i.host,r),r)),void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||i.path||void 0!==i.query?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&(i.error=i.error||"URI is not a "+t.reference+" reference.");var a=w[(t.scheme||i.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)T(i,r);else{if(i.host&&(t.domainHost||a&&a.domainHost))try{i.host=_(i.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII via punycode: "+e}T(i,o)}a&&a.parse&&a.parse(i,t)}else i.error=i.error||"URI can not be parsed.";return i}function j(e,t){var i=!1!==t.iri?s:o,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(k(D(String(e.host),i),i).replace(i.IPV6ADDRESS,(function(e,t,i){return"["+t+(i?"%25"+i:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var L=/^\.\.?\//,R=/^\/\.(\/|$)/,V=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function N(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(R))e=e.replace(R,"/");else if(e.match(V))e=e.replace(V,"/"),t.pop();else if("."===e||".."===e)e="";else{var i=e.match(B);if(!i)throw new Error("Unexpected dot segment condition");var r=i[0];e=e.slice(r.length),t.push(r)}return t.join("")}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.iri?s:o,r=[],n=w[(t.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(i.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?C(e.host):_(e.host.replace(i.PCT_ENCODED,A).toLowerCase())}catch(i){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+i}T(e,i),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var a=j(e,t);if(void 0!==a&&("suffix"!==t.reference&&r.push("//"),r.push(a),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||n&&n.absolutePath||(l=N(l)),void 0===a&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function z(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],n={};return r||(e=M(W(e,i),i),t=M(W(t,i),i)),!(i=i||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=N(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=N(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=N(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=N(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function H(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,A)}var G={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},$={},q="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Y="[0-9A-Fa-f]",K=i(i("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+i("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+i("%"+Y+Y)),X=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),J=new RegExp(q,"g"),Q=new RegExp(K,"g"),Z=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),ee=new RegExp(t("[^]",q,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=ee;function ie(e){var t=A(e);return t.match(J)?t:e}var re={scheme:"mailto",parse:function(e,t){var i=e,r=i.to=i.path?i.path.split(","):[];if(i.path=void 0,i.query){for(var n=!1,a={},o=i.query.split("&"),s=0,l=o.length;s<l;++s){var u=o[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),h=0,d=c.length;h<d;++h)r.push(c[h]);break;case"subject":i.subject=H(u[1],t);break;case"body":i.body=H(u[1],t);break;default:n=!0,a[H(u[0],t)]=H(u[1],t)}}n&&(i.headers=a)}i.query=void 0;for(var p=0,f=r.length;p<f;++p){var m=r[p].split("@");if(m[0]=H(m[0]),t.unicodeSupport)m[1]=H(m[1],t).toLowerCase();else try{m[1]=_(H(m[1],t).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=m.join("@")}return i},serialize:function(e,t){var i,r=e,a=null!=(i=e.to)?i instanceof Array?i:"number"!=typeof i.length||i.split||i.setInterval||i.call?[i]:Array.prototype.slice.call(i):[];if(a){for(var o=0,s=a.length;o<s;++o){var l=String(a[o]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(Q,ie).replace(Q,n).replace(Z,I),h=l.slice(u+1);try{h=t.iri?C(h):_(H(h,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=c+"@"+h}r.path=a.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var p=[];for(var f in d)d[f]!==$[f]&&p.push(f.replace(Q,ie).replace(Q,n).replace(ee,I)+"="+d[f].replace(Q,ie).replace(Q,n).replace(te,I));return p.length&&(r.query=p.join("&")),r}},ne=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var i=e.path&&e.path.match(ne),r=e;if(i){var n=t.scheme||r.scheme||"urn",a=i[1].toLowerCase(),o=i[2],s=n+":"+(t.nid||a),l=w[s];r.nid=a,r.nss=o,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var i=t.scheme||e.scheme||"urn",r=e.nid,n=i+":"+(t.nid||r),a=w[n];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(r||t.nid)+":"+s,o}},oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var i=e;return i.uuid=i.nss,i.nss=void 0,t.tolerant||i.uuid&&i.uuid.match(oe)||(i.error=i.error||"UUID is not valid."),i},serialize:function(e,t){var i=e;return i.nss=(e.uuid||"").toLowerCase(),i}};w[G.scheme]=G,w[U.scheme]=U,w[re.scheme]=re,w[ae.scheme]=ae,w[se.scheme]=se,e.SCHEMES=w,e.pctEncChar=I,e.pctDecChars=A,e.parse=M,e.removeDotSegments=N,e.serialize=W,e.resolveComponents=z,e.resolve=function(e,t,i){var r=function(e,t){var i=e;if(t)for(var r in t)i[r]=t[r];return i}({scheme:"null"},i);return W(z(M(e,r),M(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=W(M(e,t),t):"object"===r(e)&&(e=M(W(e,t),t)),e},e.equal=function(e,t,i){return"string"==typeof e?e=W(M(e,i),i):"object"===r(e)&&(e=W(e,i)),"string"==typeof t?t=W(M(t,i),i):"object"===r(t)&&(t=W(t,i)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,I)},e.unescapeComponent=H,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),zc=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var r,n,a;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(n=r;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,a[n]))return!1;for(n=r;0!=n--;){var o=a[n];if(!e(t[o],i[o]))return!1}return!0}return t!=t&&i!=i},Hc={copy:function(e,t){for(var i in t=t||{},e)t[i]=e[i];return t},checkDataType:Gc,checkDataTypes:function(e,t,i){switch(e.length){case 1:return Gc(e[0],t,i,!0);default:var r="",n=$c(e);for(var a in n.array&&n.object&&(r=n.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)r+=(r?" && ":"")+Gc(a,t,i,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var i=[],r=0;r<t.length;r++){var n=t[r];(Uc[n]||"array"===e&&"array"===n)&&(i[i.length]=n)}if(i.length)return i}else{if(Uc[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:$c,getProperty:Kc,escapeQuotes:Xc,equal:zc,ucs2length:function(e){for(var t,i=0,r=e.length,n=0;n<r;)i++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<r&&56320==(64512&(t=e.charCodeAt(n)))&&n++;return i},varOccurences:function(e,t){t+="[^0-9]";var i=e.match(new RegExp(t,"g"));return i?i.length:0},varReplace:function(e,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),i+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var i in e)if(t[i])return!0},schemaHasRulesExcept:function(e,t,i){if("boolean"==typeof e)return!e&&"not"!=i;for(var r in e)if(r!=i&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var i in e)if(!t[i])return i},toQuotedString:Jc,getPathExpr:function(e,t,i,r){return eh(e,i?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,i){var r=Jc(i?"/"+th(t):Kc(t));return eh(e,r)},getData:function(e,t,i){var r,n,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!Qc.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,a="rootData"}else{if(!(o=e.match(Zc)))throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],"#"==(n=o[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return i[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!n)return a}for(var s=a,l=n.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(a+=Kc(ih(c)),s+=" && "+a)}return s},unescapeFragment:function(e){return ih(decodeURIComponent(e))},unescapeJsonPointer:ih,escapeFragment:function(e){return encodeURIComponent(th(e))},escapeJsonPointer:th};function Gc(e,t,i,r){var n=r?" !== ":" === ",a=r?" || ":" && ",o=r?"!":"",s=r?"":"!";switch(e){case"null":return t+n+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+a+"typeof "+t+n+'"object"'+a+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+a+s+"("+t+" % 1)"+a+t+n+t+(i?a+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+n+'"'+e+'"'+(i?a+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+n+'"'+e+'"'}}var Uc=$c(["string","number","integer","boolean","null"]);function $c(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=!0;return t}var qc=/^[a-z$_][a-z$_0-9]*$/i,Yc=/'|\\/g;function Kc(e){return"number"==typeof e?"["+e+"]":qc.test(e)?"."+e:"['"+Xc(e)+"']"}function Xc(e){return e.replace(Yc,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Jc(e){return"'"+Xc(e)+"'"}var Qc=/^\/(?:[^~]|~0|~1)*$/,Zc=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function eh(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function th(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function ih(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var rh=function(e){Hc.copy(e,this)};var nh=Nc((function(e){var t=e.exports=function(e,i,r){"function"==typeof i&&(r=i,i={}),function e(i,r,n,a,o,s,l,u,c,h){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in r(a,o,s,l,u,c,h),a){var p=a[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var f=0;f<p.length;f++)e(i,r,n,p[f],o+"/"+d+"/"+f,s,o,d,a,f)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(i,r,n,p[m],o+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,a,m)}else(d in t.keywords||i.allKeys&&!(d in t.skipKeywords))&&e(i,r,n,p,o+"/"+d,s,o,d,a)}n(a,o,s,l,u,c,h)}}(i,"function"==typeof(r=i.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),ah=oh;function oh(e,t,i){var r=this._refs[i];if("string"==typeof r){if(!this._refs[r])return oh.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[i])instanceof rh)return dh(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var n,a,o,s=sh.call(this,t,i);return s&&(n=s.schema,t=s.root,o=s.baseId),n instanceof rh?a=n.validate||e.call(this,n.schema,t,void 0,o):void 0!==n&&(a=dh(n,this._opts.inlineRefs)?n:e.call(this,n,t,void 0,o)),a}function sh(e,t){var i=Wc.parse(t),r=fh(i),n=ph(this._getId(e.schema));if(0===Object.keys(e.schema).length||r!==n){var a=yh(r),o=this._refs[a];if("string"==typeof o)return lh.call(this,e,o,i);if(o instanceof rh)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof rh))return;if(o.validate||this._compile(o),a==yh(t))return{schema:o,root:e,baseId:n};e=o}if(!e.schema)return;n=ph(this._getId(e.schema))}return ch.call(this,i,n,e.schema,e)}function lh(e,t,i){var r=sh.call(this,e,t);if(r){var n=r.schema,a=r.baseId;e=r.root;var o=this._getId(n);return o&&(a=gh(a,o)),ch.call(this,i,a,n,e)}}oh.normalizeId=yh,oh.fullPath=ph,oh.url=gh,oh.ids=function(e){var t=yh(this._getId(e)),i={"":t},r={"":ph(t,!1)},n={},a=this;return nh(e,{allKeys:!0},(function(e,t,o,s,l,u,c){if(""!==t){var h=a._getId(e),d=i[s],p=r[s]+"/"+l;if(void 0!==c&&(p+="/"+("number"==typeof c?c:Hc.escapeFragment(c))),"string"==typeof h){h=d=yh(d?Wc.resolve(d,h):h);var f=a._refs[h];if("string"==typeof f&&(f=a._refs[f]),f&&f.schema){if(!zc(e,f.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=yh(p))if("#"==h[0]){if(n[h]&&!zc(e,n[h]))throw new Error('id "'+h+'" resolves to more than one schema');n[h]=e}else a._refs[h]=p}i[t]=d,r[t]=p}})),n},oh.inlineRef=dh,oh.schema=sh;var uh=Hc.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function ch(e,t,i,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var n=e.fragment.split("/"),a=1;a<n.length;a++){var o=n[a];if(o){if(void 0===(i=i[o=Hc.unescapeFragment(o)]))break;var s;if(!uh[o]&&((s=this._getId(i))&&(t=gh(t,s)),i.$ref)){var l=gh(t,i.$ref),u=sh.call(this,r,l);u&&(i=u.schema,r=u.root,t=u.baseId)}}}return void 0!==i&&i!==r.schema?{schema:i,root:r,baseId:t}:void 0}}var hh=Hc.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function dh(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var i;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(i=t[r])&&!e(i))return!1}else for(var n in t){if("$ref"==n)return!1;if("object"==typeof(i=t[n])&&!e(i))return!1}return!0}(e):t?function e(t){var i,r=0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(i=t[n])&&(r+=e(i)),r==1/0)return 1/0}else for(var a in t){if("$ref"==a)return 1/0;if(hh[a])r++;else if("object"==typeof(i=t[a])&&(r+=e(i)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function ph(e,t){return!1!==t&&(e=yh(e)),fh(Wc.parse(e))}function fh(e){return Wc.serialize(e).split("#")[0]+"#"}var mh=/#\/?$/;function yh(e){return e?e.replace(mh,""):""}function gh(e,t){return t=yh(t),Wc.resolve(e,t)}var vh={Validation:xh((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:xh(bh)};function bh(e,t,i){this.message=i||bh.message(e,t),this.missingRef=ah.url(e,t),this.missingSchema=ah.normalizeId(ah.fullPath(this.missingRef))}function xh(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}bh.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var Sh=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i,r="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&(i=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},a={key:r,value:e[r]};return i(n,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,o;if(Array.isArray(t)){for(o="[",i=0;i<t.length;i++)i&&(o+=","),o+=e(t[i])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(n&&n(t));for(o="",i=0;i<l.length;i++){var u=l[i],c=e(t[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return a.splice(s,1),"{"+o+"}"}}(e)},Ph=function(e,t,i){var r="",n=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",n&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){var u=e.level,c=e.dataLevel,h=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,m="data"+(c||""),y="valid"+u;if(!1===e.schema){e.isTop?f=!0:r+=" var "+y+" = false; ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=n?" return data; ":" validate.errors = null; return true; ":r+=" var "+y+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var v=e.isTop;u=e.level=0,c=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((c=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),n&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}y="valid"+u,f=!e.opts.allErrors;var x="",S="",P=e.schema.type,_=Array.isArray(P);if(P&&e.opts.nullable&&!0===e.schema.nullable&&(_?-1==P.indexOf("null")&&(P=P.concat("null")):"null"!=P&&(P=[P,"null"],_=!0)),_&&1==P.length&&(P=P[0],_=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),P){if(e.opts.coerceTypes)var C=e.util.coerceToTypes(e.opts.coerceTypes,P);var w=e.RULES.types[P];if(C||_||!0===w||w&&!J(w)){d=e.schemaPath+".type",p=e.errSchemaPath+"/type",d=e.schemaPath+".type",p=e.errSchemaPath+"/type";var I=_?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[I](P,m,e.opts.strictNumbers,!0)+") { ",C){var A="dataType"+u,T="coerced"+u;r+=" var "+A+" = typeof "+m+"; var "+T+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+A+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+A+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+T+" = "+m+"; } "),r+=" if ("+T+" !== undefined) ; ";var O=C;if(O)for(var D,k=-1,F=O.length-1;k<F;)"string"==(D=O[k+=1])?r+=" else if ("+A+" == 'number' || "+A+" == 'boolean') "+T+" = '' + "+m+"; else if ("+m+" === null) "+T+" = ''; ":"number"==D||"integer"==D?(r+=" else if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==D&&(r+=" && !("+m+" % 1)"),r+=")) "+T+" = +"+m+"; "):"boolean"==D?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+T+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+T+" = true; ":"null"==D?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==D&&(r+=" else if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+T+" = ["+m+"]; ");r+=" else {   ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=_?""+P.join(","):""+P,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=_?""+P.join(","):""+P,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+T+" !== undefined) {  ";var E=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+T+"; ",c||(r+="if ("+E+" !== undefined)"),r+=" "+E+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+T+"; } "}else{(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=_?""+P.join(","):""+P,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=_?""+P.join(","):""+P,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!a)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(r+=" } if (errors === ",r+=v?"0":"errs_"+u,r+=") { ",S+="}");else{var M=e.RULES;if(M)for(var j=-1,L=M.length-1;j<L;)if(J(w=M[j+=1])){if(w.type&&(r+=" if ("+e.util.checkDataType(w.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==w.type&&e.schema.properties){h=e.schema.properties;var R=Object.keys(h);if(R)for(var V,B=-1,N=R.length-1;B<N;){if(void 0!==(H=h[V=R[B+=1]]).default){var W=m+e.util.getProperty(V);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+W+" === null || "+W+" === '' "),r+=" ) "+W+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(H.default)+" ":r+=" "+JSON.stringify(H.default)+" ",r+="; "}}}else if("array"==w.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){k=-1;for(var H,G=z.length-1;k<G;)if(void 0!==(H=z[k+=1]).default){W=m+"["+k+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+W+" === null || "+W+" === '' "),r+=" ) "+W+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(H.default)+" ":r+=" "+JSON.stringify(H.default)+" ",r+="; "}}}var U=w.rules;if(U)for(var $,q=-1,Y=U.length-1;q<Y;)if(Q($=U[q+=1])){var K=$.code(e,$.keyword,w.type);K&&(r+=" "+K+" ",f&&(x+="}"))}if(f&&(r+=" "+x+" ",x=""),w.type&&(r+=" } ",P&&P===w.type&&!C)){r+=" else { ";var X;d=e.schemaPath+".type",p=e.errSchemaPath+"/type";(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=_?""+P.join(","):""+P,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=_?""+P.join(","):""+P,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}f&&(r+=" if (errors === ",r+=v?"0":"errs_"+u,r+=") { ",S+="}")}}function J(e){for(var t=e.rules,i=0;i<t.length;i++)if(Q(t[i]))return!0}function Q(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var i=t.implements,r=0;r<i.length;r++)if(void 0!==e.schema[i[r]])return!0}(t)}return f&&(r+=" "+S+" "),v?(n?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+y+" = errors === errs_"+u+";",r},_h=Hc.ucs2length,Ch=vh.Validation,wh=function e(t,i,r,n){var a=this,o=this._opts,s=[void 0],l={},u=[],c={},h=[],d={},p=[];i=i||{schema:t,refVal:s,refs:l};var f=Ih.call(this,t,i,n),m=this._compilations[f.index];if(f.compiling)return m.callValidate=function e(){var t=m.validate,i=t.apply(this,arguments);return e.errors=t.errors,i};var y=this._formats,g=this.RULES;try{var v=x(t,i,r,n);m.validate=v;var b=m.callValidate;return b&&(b.schema=v.schema,b.errors=null,b.refs=v.refs,b.refVal=v.refVal,b.root=v.root,b.$async=v.$async,o.sourceCode&&(b.source=v.source)),v}finally{Ah.call(this,t,i,n)}function x(t,r,n,c){var d=!r||r&&r.schema==t;if(r.schema!=i.schema)return e.call(a,t,r,n,c);var f,m=!0===t.$async,v=Ph({isTop:!0,schema:t,isRoot:d,baseId:c,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:vh.MissingRef,RULES:g,validate:Ph,util:Hc,resolve:ah,resolveRef:S,usePattern:C,useDefault:w,useCustomRule:I,opts:o,formats:y,logger:a.logger,self:a});v=Eh(s,kh)+Eh(u,Oh)+Eh(h,Dh)+Eh(p,Fh)+v,o.processCode&&(v=o.processCode(v,t));try{f=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",v)(a,g,y,i,s,h,p,zc,_h,Ch),s[0]=f}catch(e){throw a.logger.error("Error compiling schema, function code:",v),e}return f.schema=t,f.errors=null,f.refs=l,f.refVal=s,f.root=d?f:r,m&&(f.$async=!0),!0===o.sourceCode&&(f.source={code:v,patterns:u,defaults:h}),f}function S(t,n,u){n=ah.url(t,n);var c,h,d=l[n];if(void 0!==d)return _(c=s[d],h="refVal["+d+"]");if(!u&&i.refs){var p=i.refs[n];if(void 0!==p)return _(c=i.refVal[p],h=P(n,c))}h=P(n);var f=ah.call(a,x,i,n);if(void 0===f){var m=r&&r[n];m&&(f=ah.inlineRef(m,o.inlineRefs)?m:e.call(a,m,i,r,t))}if(void 0!==f)return function(e,t){var i=l[e];s[i]=t}(n,f),_(f,h);!function(e){delete l[e]}(n)}function P(e,t){var i=s.length;return s[i]=t,l[e]=i,"refVal"+i}function _(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function C(e){var t=c[e];return void 0===t&&(t=c[e]=u.length,u[t]=e),"pattern"+t}function w(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return Hc.toQuotedString(e);case"object":if(null===e)return"null";var t=Sh(e),i=d[t];return void 0===i&&(i=d[t]=h.length,h[i]=e),"default"+i}}function I(e,t,i,r){if(!1!==a._opts.validateSchema){var n=e.definition.dependencies;if(n&&!n.every((function(e){return Object.prototype.hasOwnProperty.call(i,e)})))throw new Error("parent schema must have all required keywords: "+n.join(","));var s=e.definition.validateSchema;if(s)if(!s(t)){var l="keyword schema is invalid: "+a.errorsText(s.errors);if("log"!=a._opts.validateSchema)throw new Error(l);a.logger.error(l)}}var u,c=e.definition.compile,h=e.definition.inline,d=e.definition.macro;if(c)u=c.call(a,t,i,r);else if(d)u=d.call(a,t,i,r),!1!==o.validateSchema&&a.validateSchema(u,!0);else if(h)u=h.call(a,r,e.keyword,t,i);else if(!(u=e.definition.validate))return;if(void 0===u)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=p.length;return p[f]=u,{code:"customRule"+f,validate:u}}};function Ih(e,t,i){var r=Th.call(this,e,t,i);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:i},{index:r,compiling:!1})}function Ah(e,t,i){var r=Th.call(this,e,t,i);r>=0&&this._compilations.splice(r,1)}function Th(e,t,i){for(var r=0;r<this._compilations.length;r++){var n=this._compilations[r];if(n.schema==e&&n.root==t&&n.baseId==i)return r}return-1}function Oh(e,t){return"var pattern"+e+" = new RegExp("+Hc.toQuotedString(t[e])+");"}function Dh(e){return"var default"+e+" = defaults["+e+"];"}function kh(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function Fh(e){return"var customRule"+e+" = customRules["+e+"];"}function Eh(e,t){if(!e.length)return"";for(var i="",r=0;r<e.length;r++)i+=t(r,e);return i}var Mh=Nc((function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}})),jh=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Lh=[0,31,28,31,30,31,30,31,31,30,31,30,31],Rh=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Vh=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Bh=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Nh=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Wh=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,zh=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Hh=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Gh=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Uh=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,$h=qh;function qh(e){return e="full"==e?"full":"fast",Hc.copy(qh[e])}function Yh(e){var t=e.match(jh);if(!t)return!1;var i=+t[1],r=+t[2],n=+t[3];return r>=1&&r<=12&&n>=1&&n<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(i)?29:Lh[r])}function Kh(e,t){var i=e.match(Rh);if(!i)return!1;var r=i[1],n=i[2],a=i[3],o=i[5];return(r<=23&&n<=59&&a<=59||23==r&&59==n&&60==a)&&(!t||o)}qh.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Nh,url:Wh,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Vh,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Zh,uuid:zh,"json-pointer":Hh,"json-pointer-uri-fragment":Gh,"relative-json-pointer":Uh},qh.full={date:Yh,time:Kh,"date-time":function(e){var t=e.split(Xh);return 2==t.length&&Yh(t[0])&&Kh(t[1],!0)},uri:function(e){return Jh.test(e)&&Bh.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":Nh,url:Wh,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Vh,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Zh,uuid:zh,"json-pointer":Hh,"json-pointer-uri-fragment":Gh,"relative-json-pointer":Uh};var Xh=/t|\s/i;var Jh=/\/|:/;var Qh=/[^\\]\\Z/;function Zh(e){if(Qh.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var ed=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],y=e.opts.$data&&m&&m.$data,g=p?"<":">",v=p?">":"<",b=void 0;if(!d&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!y&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(y){var x=e.util.getData(m.$data,o,e.dataPathArr),S="exclusive"+a,P="exclType"+a,_="exclIsNumber"+a,C="' + "+(A="op"+a)+" + '";n+=" var schemaExcl"+a+" = "+x+"; ",n+=" var "+S+"; var "+P+" = typeof "+(x="schemaExcl"+a)+"; if ("+P+" != 'boolean' && "+P+" != 'undefined' && "+P+" != 'number') { ";var w;b=f;(w=w||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var I=n;n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" "+P+" == 'number' ? ( ("+S+" = "+r+" === undefined || "+x+" "+g+"= "+r+") ? "+h+" "+v+"= "+x+" : "+h+" "+v+" "+r+" ) : ( ("+S+" = "+x+" === true) ? "+h+" "+v+"= "+r+" : "+h+" "+v+" "+r+" ) || "+h+" !== "+h+") { var op"+a+" = "+S+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=f,u=e.errSchemaPath+"/"+f,r=x,d=y)}else{C=g;if((_="number"==typeof m)&&d){var A="'"+C+"'";n+=" if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+h+" "+v+"= "+m+" : "+h+" "+v+" "+r+" ) || "+h+" !== "+h+") { "}else{_&&void 0===s?(S=!0,b=f,u=e.errSchemaPath+"/"+f,r=m,v+="="):(_&&(r=Math[p?"min":"max"](m,s)),m===(!_||r)?(S=!0,b=f,u=e.errSchemaPath+"/"+f,v+="="):(S=!1,C+="="));A="'"+C+"'";n+=" if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" "+h+" "+v+" "+r+" || "+h+" !== "+h+") { "}}b=b||t,(w=w||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+A+", limit: "+r+", exclusive: "+S+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be "+C+" ",n+=d?"' + "+r:r+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";I=n;return n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},td=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" "+h+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxItems"==t?"more":"fewer",n+=" than ",n+=d?"' + "+r+" + '":""+s,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var m=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},id=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?n+=" "+h+".length ":n+=" ucs2length("+h+") ",n+=" "+p+" "+r+") { ";var f=t,m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be ",n+="maxLength"==t?"longer":"shorter",n+=" than ",n+=d?"' + "+r+" + '":""+s,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var y=n;return n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},rd=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" Object.keys("+h+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxProperties"==t?"more":"fewer",n+=" than ",n+=d?"' + "+r+" + '":""+s,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var m=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},nd={$ref:function(e,t,i){var r,n,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),d="valid"+o;if("#"==l||"#/"==l)e.isRoot?(r=e.async,n="validate"):(r=!0===e.root.schema.$async,n="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f),(v=v||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var m=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);e.logger.warn(f),c&&(a+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var g="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=l,a+=" "+e.validate(y).replace(/validate\.schema/g,p.code)+" ",c&&(a+=" if ("+g+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,n=p.code}if(n){var v;(v=v||[]).push(a),a="",e.opts.passContext?a+=" "+n+".call(this, ":a+=" "+n+"( ",a+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var b=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=v.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+d+"; "),a+=" try { await "+b+"; ",c&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+d+" = false; "),a+=" } ",c&&(a+=" if ("+d+") { ")}else a+=" if (!"+b+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a},allOf:function(e,t,i){var r=" ",n=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,h=l.baseId,d=!0,p=n;if(p)for(var f,m=-1,y=p.length-1;m<y;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(d=!1,l.schema=f,l.schemaPath=a+"["+m+"]",l.errSchemaPath=o+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=h,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=d?" if (true) { ":" "+u.slice(0,-1)+" "),r},anyOf:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var y=p.baseId;r+=" var "+d+" = errors; var "+h+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var b,x=-1,S=v.length-1;x<S;)b=v[x+=1],p.schema=b,p.schemaPath=s+"["+x+"]",p.errSchemaPath=l+"/"+x,r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",f+="}";e.compositeRule=p.compositeRule=g,r+=" "+f+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else u&&(r+=" if (true) { ");return r},$comment:function(e,t,i){var r=" ",n=e.schema[t],a=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(n));return!0===e.opts.$comment?r+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r},const:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),d||(r+=" var schema"+n+" = validate.schema"+s+";"),r+="var "+h+" = equal("+c+", schema"+n+"); if (!"+h+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var f=r;return r=p.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},contains:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+n,y=p.dataLevel=e.dataLevel+1,g="data"+y,v=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+h+";",b){var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var S=c+"["+m+"]";p.dataPathArr[y]=m;var P=e.validate(p);p.baseId=v,e.util.varOccurences(P,g)<2?r+=" "+e.util.varReplace(P,g,S)+" ":r+=" var "+g+" = "+S+"; "+P+" ",r+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=x,r+="  if (!"+f+") {"}else r+=" if ("+c+".length == 0) {";var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},dependencies:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e),p="";d.level++;var f="valid"+d.level,m={},y={},g=e.opts.ownProperties;for(S in o)if("__proto__"!=S){var v=o[S],b=Array.isArray(v)?y:m;b[S]=v}r+="var "+h+" = errors;";var x=e.errorPath;for(var S in r+="var missing"+n+";",y)if((b=y[S]).length){if(r+=" if ( "+c+e.util.getProperty(S)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),u){r+=" && ( ";var P=b;if(P)for(var _=-1,C=P.length-1;_<C;){D=P[_+=1],_&&(r+=" || "),r+=" ( ( "+(M=c+(E=e.util.getProperty(D)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(D)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:E)+") ) "}r+=")) {  ";var w="missing"+n,I="' + "+w+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,w,!0):x+" + "+w);var A=A||[];A.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+I+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;r=A.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var O=b;if(O)for(var D,k=-1,F=O.length-1;k<F;){D=O[k+=1];var E=e.util.getProperty(D),M=(I=e.util.escapeQuotes(D),c+E);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,D,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(D)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+I+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(p+="}",r+=" else { ")}e.errorPath=x;var j=d.baseId;for(var S in m){v=m[S];(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(r+=" "+f+" = true; if ( "+c+e.util.getProperty(S)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),r+=") { ",d.schema=v,d.schemaPath=s+e.util.getProperty(S),d.errSchemaPath=l+"/"+e.util.escapeFragment(S),r+="  "+e.validate(d)+" ",d.baseId=j,r+=" }  ",u&&(r+=" if ("+f+") { ",p+="}"))}return u&&(r+="   "+p+" if ("+h+" == errors) {"),r},enum:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="i"+n,f="schema"+n;d||(r+=" var "+f+" = validate.schema"+s+";"),r+="var "+h+";",d&&(r+=" if (schema"+n+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+n+")) "+h+" = false; else {"),r+=h+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+c+", "+f+"["+p+"])) { "+h+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var y=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},format:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var h,d=e.opts.$data&&o&&o.$data;d?(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",h="schema"+n):h=o;var p=e.opts.unknownFormats,f=Array.isArray(p);if(d){r+=" var "+(m="format"+n)+" = formats["+h+"]; var "+(y="isObject"+n)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+n)+" = "+y+" && "+m+".type || 'string'; if ("+y+") { ",e.async&&(r+=" var async"+n+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+h+" && !"+m+" ",f&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+g+" == '"+i+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+n+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m;if(!(m=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(f&&p.indexOf(o)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var y,g=(y="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(y){var v=!0===m.async;m=m.validate}if(g!=i)return u&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);y&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+h:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+h+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var S=r;return r=x.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},if:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,y=e.schema.else,g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),v=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all)),b=p.baseId;if(g||v){var x;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+d+" = errors; var "+h+" = true;  ";var S=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=S,g?(r+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+h+" = "+f+"; ",g&&v?r+=" var "+(x="ifClause"+n)+" = 'then'; ":x="'then'",r+=" } ",v&&(r+=" else { ")):r+=" if (!"+f+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+h+" = "+f+"; ",g&&v?r+=" var "+(x="ifClause"+n)+" = 'else'; ":x="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+x+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+x+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},items:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,y="i"+n,g=p.dataLevel=e.dataLevel+1,v="data"+g,b=e.baseId;if(r+="var "+d+" = errors;var "+h+";",Array.isArray(o)){var x=e.schema.additionalItems;if(!1===x){r+=" "+h+" = "+c+".length <= "+o.length+"; ";var S=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var P=P||[];P.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var _=r;r=P.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=S,u&&(f+="}",r+=" else { ")}var C=o;if(C)for(var w,I=-1,A=C.length-1;I<A;)if(w=C[I+=1],e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+I+") { ";var T=c+"["+I+"]";p.schema=w,p.schemaPath=s+"["+I+"]",p.errSchemaPath=l+"/"+I,p.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),p.dataPathArr[g]=I;var O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?r+=" "+e.util.varReplace(O,v,T)+" ":r+=" var "+v+" = "+T+"; "+O+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",f+="}")}if("object"==typeof x&&(e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all))){p.schema=x,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+y+" = "+o.length+"; "+y+" < "+c+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);T=c+"["+y+"]";p.dataPathArr[g]=y;O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?r+=" "+e.util.varReplace(O,v,T)+" ":r+=" var "+v+" = "+T+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",f+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+="  for (var "+y+" = 0; "+y+" < "+c+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);T=c+"["+y+"]";p.dataPathArr[g]=y;O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?r+=" "+e.util.varReplace(O,v,T)+" ":r+=" var "+v+" = "+T+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" }"}return u&&(r+=" "+f+" if ("+d+" == errors) {"),r},maximum:ed,minimum:ed,maxItems:td,minItems:td,maxLength:id,minLength:id,maxProperties:rd,minProperties:rd,multipleOf:function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");n+="var division"+a+";if (",d&&(n+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),n+=" (division"+a+" = "+h+" / "+r+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+a+" !== parseInt(division"+a+") ",n+=" ) ",d&&(n+="  )  "),n+=" ) {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be multiple of ",n+=d?"' + "+r:r+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var f=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},not:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+h+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(f=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,f&&(d.opts.allErrors=f),e.compositeRule=d.compositeRule=m,r+=" if ("+p+") {   ";var y=y||[];y.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;r=y.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r},oneOf:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,y=p.baseId,g="prevValid"+n,v="passingSchemas"+n;r+="var "+d+" = errors , "+g+" = false , "+h+" = false , "+v+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var x=o;if(x)for(var S,P=-1,_=x.length-1;P<_;)S=x[P+=1],(e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all))?(p.schema=S,p.schemaPath=s+"["+P+"]",p.errSchemaPath=l+"/"+P,r+="  "+e.validate(p)+" ",p.baseId=y):r+=" var "+m+" = true; ",P&&(r+=" if ("+m+" && "+g+") { "+h+" = false; "+v+" = ["+v+", "+P+"]; } else { ",f+="}"),r+=" if ("+m+") { "+h+" = "+g+" = true; "+v+" = "+P+"; }";return e.compositeRule=p.compositeRule=b,r+=f+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},pattern:function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),n+=" !"+(d?"(new RegExp("+r+"))":e.usePattern(s))+".test("+h+") ) {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",n+=d?""+r:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match pattern \"",n+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var f=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},properties:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e),p="";d.level++;var f="valid"+d.level,m="key"+n,y="idx"+n,g=d.dataLevel=e.dataLevel+1,v="data"+g,b="dataProperties"+n,x=Object.keys(o||{}).filter(E),S=e.schema.patternProperties||{},P=Object.keys(S).filter(E),_=e.schema.additionalProperties,C=x.length||P.length,w=!1===_,I="object"==typeof _&&Object.keys(_).length,A=e.opts.removeAdditional,T=w||I||A,O=e.opts.ownProperties,D=e.baseId,k=e.schema.required;if(k&&(!e.opts.$data||!k.$data)&&k.length<e.opts.loopRequired)var F=e.util.toHash(k);function E(e){return"__proto__"!==e}if(r+="var "+h+" = errors;var "+f+" = true;",O&&(r+=" var "+b+" = undefined;"),T){if(r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+m+" = "+b+"["+y+"]; ":" for (var "+m+" in "+c+") { ",C){if(r+=" var isAdditional"+n+" = !(false ",x.length)if(x.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var M=x;if(M)for(var j=-1,L=M.length-1;j<L;)K=M[j+=1],r+=" || "+m+" == "+e.util.toQuotedString(K)+" "}if(P.length){var R=P;if(R)for(var V=-1,B=R.length-1;V<B;)ae=R[V+=1],r+=" || "+e.usePattern(ae)+".test("+m+") "}r+=" ); if (isAdditional"+n+") { "}if("all"==A)r+=" delete "+c+"["+m+"]; ";else{var N=e.errorPath,W="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),w)if(A)r+=" delete "+c+"["+m+"]; ";else{r+=" "+f+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(ie=ie||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+W+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var H=r;r=ie.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(r+=" break; ")}else if(I)if("failing"==A){r+=" var "+h+" = errors;  ";var G=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=_,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var U=c+"["+m+"]";d.dataPathArr[g]=m;var $=e.validate(d);d.baseId=D,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,U)+" ":r+=" var "+v+" = "+U+"; "+$+" ",r+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=d.compositeRule=G}else{d.schema=_,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);U=c+"["+m+"]";d.dataPathArr[g]=m;$=e.validate(d);d.baseId=D,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,U)+" ":r+=" var "+v+" = "+U+"; "+$+" ",u&&(r+=" if (!"+f+") break; ")}e.errorPath=N}C&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+f+") { ",p+="}")}var q=e.opts.useDefaults&&!e.compositeRule;if(x.length){var Y=x;if(Y)for(var K,X=-1,J=Y.length-1;X<J;){var Q=o[K=Y[X+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){var Z=e.util.getProperty(K),ee=(U=c+Z,q&&void 0!==Q.default);d.schema=Q,d.schemaPath=s+Z,d.errSchemaPath=l+"/"+e.util.escapeFragment(K),d.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(K);$=e.validate(d);if(d.baseId=D,e.util.varOccurences($,v)<2){$=e.util.varReplace($,v,U);var te=U}else{te=v;r+=" var "+v+" = "+U+"; "}if(ee)r+=" "+$+" ";else{if(F&&F[K]){r+=" if ( "+te+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(K)+"') "),r+=") { "+f+" = false; ";N=e.errorPath,z=l;var ie,re=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,K,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(ie=ie||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";H=r;r=ie.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=N,r+=" } else { "}else u?(r+=" if ( "+te+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(K)+"') "),r+=") { "+f+" = true; } else { "):(r+=" if ("+te+" !== undefined ",O&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(K)+"') "),r+=" ) { ");r+=" "+$+" } "}}u&&(r+=" if ("+f+") { ",p+="}")}}if(P.length){var ne=P;if(ne)for(var ae,oe=-1,se=ne.length-1;oe<se;){Q=S[ae=ne[oe+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){d.schema=Q,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+m+" = "+b+"["+y+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ae)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);U=c+"["+m+"]";d.dataPathArr[g]=m;$=e.validate(d);d.baseId=D,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,U)+" ":r+=" var "+v+" = "+U+"; "+$+" ",u&&(r+=" if (!"+f+") break; "),r+=" } ",u&&(r+=" else "+f+" = true; "),r+=" }  ",u&&(r+=" if ("+f+") { ",p+="}")}}}return u&&(r+=" "+p+" if ("+h+" == errors) {"),r},propertyNames:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(r+="var "+h+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l;var f="key"+n,m="idx"+n,y="i"+n,g="' + "+f+" + '",v="data"+(d.dataLevel=e.dataLevel+1),b="dataProperties"+n,x=e.opts.ownProperties,S=e.baseId;x&&(r+=" var "+b+" = undefined; "),r+=x?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+f+" = "+b+"["+m+"]; ":" for (var "+f+" in "+c+") { ",r+=" var startErrs"+n+" = errors; ";var P=f,_=e.compositeRule;e.compositeRule=d.compositeRule=!0;var C=e.validate(d);d.baseId=S,e.util.varOccurences(C,v)<2?r+=" "+e.util.varReplace(C,v,P)+" ":r+=" var "+v+" = "+P+"; "+C+" ",e.compositeRule=d.compositeRule=_,r+=" if (!"+p+") { for (var "+y+"=startErrs"+n+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+="  if ("+h+" == errors) {"),r},required:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="schema"+n;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=o;if(m)for(var y,g=-1,v=m.length-1;g<v;){y=m[g+=1];var b=e.schema.properties[y];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(f[f.length]=y)}}else f=o;if(d||f.length){var x=e.errorPath,S=d||f.length>=e.opts.loopRequired,P=e.opts.ownProperties;if(u)if(r+=" var missing"+n+"; ",S){d||(r+=" var "+p+" = validate.schema"+s+"; ");var _="' + "+(O="schema"+n+"["+(I="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,O,e.opts.jsonPointers)),r+=" var "+h+" = true; ",d&&(r+=" if (schema"+n+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+n+")) "+h+" = false; else {"),r+=" for (var "+I+" = 0; "+I+" < "+p+".length; "+I+"++) { "+h+" = "+c+"["+p+"["+I+"]] !== undefined ",P&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+p+"["+I+"]) "),r+="; if (!"+h+") break; } ",d&&(r+="  }  "),r+="  if (!"+h+") {   ",(T=T||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;r=T.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var w=f;if(w)for(var I=-1,A=w.length-1;I<A;){k=w[I+=1],I&&(r+=" || "),r+=" ( ( "+(j=c+(M=e.util.getProperty(k)))+" === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(k)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?k:M)+") ) "}r+=") {  ";var T;_="' + "+(O="missing"+n)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,O,!0):x+" + "+O),(T=T||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";C=r;r=T.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(S){d||(r+=" var "+p+" = validate.schema"+s+"; ");var O;_="' + "+(O="schema"+n+"["+(I="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,O,e.opts.jsonPointers)),d&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+I+" = 0; "+I+" < "+p+".length; "+I+"++) { if ("+c+"["+p+"["+I+"]] === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+p+"["+I+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var D=f;if(D)for(var k,F=-1,E=D.length-1;F<E;){k=D[F+=1];var M=e.util.getProperty(k),j=(_=e.util.escapeQuotes(k),c+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,k,e.opts.jsonPointers)),r+=" if ( "+j+" === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(k)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else u&&(r+=" if (true) {");return r},uniqueItems:function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(n+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),n+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var y="checkDataType"+(m?"s":"");n+=" if ("+e.util[y](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(n+=" if (typeof item == 'string') item = '\"' + item; "),n+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",p&&(n+="  }  "),n+=" if (!"+d+") {   ";var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",n+=p?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var v=n;n=g.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},validate:Ph},ad=Hc.toHash,od=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],sd=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));var r,n=t[i].split("/"),a=e;for(r=1;r<n.length;r++)a=a[n[r]];for(r=0;r<od.length;r++){var o=od[r],s=a[o];s&&(a[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},ld=vh.MissingRef,ud=function e(t,i,r){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof i&&(r=i,i=void 0);var a=o(t).then((function(){var e=n._addSchema(t,void 0,i);return e.validate||function e(t){try{return n._compile(t)}catch(e){if(e instanceof ld)return r(e);throw e}function r(r){var a=r.missingSchema;if(u(a))throw new Error("Schema "+a+" is loaded but "+r.missingRef+" cannot be resolved");var s=n._loadingSchemas[a];return s||(s=n._loadingSchemas[a]=n._opts.loadSchema(a)).then(l,l),s.then((function(e){if(!u(a))return o(e).then((function(){u(a)||n.addSchema(e,a,void 0,i)}))})).then((function(){return e(t)}));function l(){delete n._loadingSchemas[a]}function u(e){return n._refs[e]||n._schemas[e]}}}(e)}));r&&a.then((function(e){r(null,e)}),r);return a;function o(t){var i=t.$schema;return i&&!n.getSchema(i)?e.call(n,{$ref:i},!0):Promise.resolve()}};var cd=function(e,t,i){var r,n,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,f="errs__"+o,m=e.opts.$data&&l&&l.$data;m?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=l;var y,g,v,b,x,S="definition"+o,P=this.definition,_="";if(m&&P.$data){x="keywordValidate"+o;var C=P.validateSchema;a+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+x+" = "+S+".validate;"}else{if(!(b=e.useCustomRule(this,l,e.schema,e)))return;n="validate.schema"+u,x=b.code,y=P.compile,g=P.inline,v=P.macro}var w=x+".errors",I="i"+o,A="ruleErr"+o,T=P.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(g||v||(a+=w+" = null;"),a+="var "+f+" = errors;var "+p+";",m&&P.$data&&(_+="}",a+=" if ("+n+" === undefined) { "+p+" = true; } else { ",C&&(_+="}",a+=" "+p+" = "+S+".validateSchema("+n+"); if ("+p+") { ")),g)P.statements?a+=" "+b.validate+" ":a+=" "+p+" = "+b.validate+"; ";else if(v){var O=e.util.copy(e);_="";O.level++;var D="valid"+O.level;O.schema=b.validate,O.schemaPath="";var k=e.compositeRule;e.compositeRule=O.compositeRule=!0;var F=e.validate(O).replace(/validate\.schema/g,x);e.compositeRule=O.compositeRule=k,a+=" "+F}else{(L=L||[]).push(a),a="",a+="  "+x+".call( ",e.opts.passContext?a+="this":a+="self",y||!1===P.schema?a+=" , "+d+" ":a+=" , "+n+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var E=s?"data"+(s-1||""):"parentData",M=s?e.dataPathArr[s]:"parentDataProperty",j=a+=" , "+E+" , "+M+" , rootData )  ";a=L.pop(),!1===P.errors?(a+=" "+p+" = ",T&&(a+="await "),a+=j+"; "):a+=T?" var "+(w="customErrors"+o)+" = null; try { "+p+" = await "+j+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+w+" = e.errors; else throw e; } ":" "+w+" = null; "+p+" = "+j+"; "}if(P.modifying&&(a+=" if ("+E+") "+d+" = "+E+"["+M+"];"),a+=""+_,P.valid)h&&(a+=" if (true) { ");else{var L;a+=" if ( ",void 0===P.valid?(a+=" !",a+=v?""+D:""+p):a+=" "+!P.valid+" ",a+=") { ",r=this.keyword,(L=L||[]).push(a),a="",(L=L||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var R=a;a=L.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+R+"]); ":a+=" validate.errors = ["+R+"]; return false; ":a+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var V=a;a=L.pop(),g?P.errors?"full"!=P.errors&&(a+="  for (var "+I+"="+f+"; "+I+"<errors; "+I+"++) { var "+A+" = vErrors["+I+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+n+"; "+A+".data = "+d+"; "),a+=" } "):!1===P.errors?a+=" "+V+" ":(a+=" if ("+f+" == errors) { "+V+" } else {  for (var "+I+"="+f+"; "+I+"<errors; "+I+"++) { var "+A+" = vErrors["+I+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+n+"; "+A+".data = "+d+"; "),a+=" } } "):v?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===P.errors?a+=" "+V+" ":(a+=" if (Array.isArray("+w+")) { if (vErrors === null) vErrors = "+w+"; else vErrors = vErrors.concat("+w+"); errors = vErrors.length;  for (var "+I+"="+f+"; "+I+"<errors; "+I+"++) { var "+A+" = vErrors["+I+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+A+".schema = "+n+"; "+A+".data = "+d+"; "),a+=" } } else { "+V+" } "),a+=" } ",h&&(a+=" else { ")}return a};var hd={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},dd={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:hd.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:hd.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},pd=/^[a-z_$][a-z0-9_$-]*$/i,fd=function(e,t){var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!pd.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var r=t.type;if(Array.isArray(r))for(var n=0;n<r.length;n++)o(e,r[n],t);else o(e,r,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function o(e,t,r){for(var n,a=0;a<i.length;a++){var o=i[a];if(o.type==t){n=o;break}}n||(n={type:t,rules:[]},i.push(n));var s={keyword:e,definition:r,custom:!0,code:cd,implements:r.implements};n.rules.push(s),i.custom[e]=s}return i.keywords[e]=i.all[e]=!0,this},md=function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},yd=function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var i=0;i<t.length;i++)for(var r=t[i].rules,n=0;n<r.length;n++)if(r[n].keyword==e){r.splice(n,1);break}return this},gd=function e(t,i){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(dd,!0);if(r(t))return!0;if(e.errors=r.errors,i)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1};var vd={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},bd=_d;_d.prototype.validate=function(e,t){var i;if("string"==typeof e){if(!(i=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);i=r.validate||this._compile(r)}var n=i(t);!0!==i.$async&&(this.errors=i.errors);return n},_d.prototype.compile=function(e,t){var i=this._addSchema(e,void 0,t);return i.validate||this._compile(i)},_d.prototype.addSchema=function(e,t,i,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,i,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return Od(this,t=ah.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,i,r,!0),this},_d.prototype.addMetaSchema=function(e,t,i){return this.addSchema(e,t,i,!0),this},_d.prototype.validateSchema=function(e,t){var i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(xd)?xd:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(i,e);if(!r&&t){var n="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return r},_d.prototype.getSchema=function(e){var t=Cd(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var i=ah.schema.call(e,{schema:{}},t);if(i){var r=i.schema,n=i.root,a=i.baseId,o=wh.call(e,r,n,void 0,a);return e._fragments[t]=new rh({ref:t,fragment:!0,schema:r,root:n,baseId:a,validate:o}),o}}(this,e)}},_d.prototype.removeSchema=function(e){if(e instanceof RegExp)return wd(this,this._schemas,e),wd(this,this._refs,e),this;switch(typeof e){case"undefined":return wd(this,this._schemas),wd(this,this._refs),this._cache.clear(),this;case"string":var t=Cd(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var i=this._opts.serialize,r=i?i(e):e;this._cache.del(r);var n=this._getId(e);n&&(n=ah.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},_d.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},_d.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var i=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,n="",a=0;a<e.length;a++){var o=e[a];o&&(n+=r+o.dataPath+" "+o.message+i)}return n.slice(0,-i.length)},_d.prototype._addSchema=function(e,t,i,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var n=this._opts.serialize,a=n?n(e):e,o=this._cache.get(a);if(o)return o;r=r||!1!==this._opts.addUsedSchema;var s=ah.normalizeId(this._getId(e));s&&r&&Od(this,s);var l,u=!1!==this._opts.validateSchema&&!t;u&&!(l=s&&s==ah.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=ah.ids.call(this,e),h=new rh({id:s,schema:e,localRefs:c,cacheKey:a,meta:i});"#"!=s[0]&&r&&(this._refs[s]=h);this._cache.put(a,h),u&&l&&this.validateSchema(e,!0);return h},_d.prototype._compile=function(e,t){if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,!0===e.schema.$async&&(n.$async=!0),n;var i,r;e.compiling=!0,e.meta&&(i=this._opts,this._opts=this._metaOpts);try{r=wh.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=i)}return e.validate=r,e.refs=r.refs,e.refVal=r.refVal,e.root=r.root,r;function n(){var t=e.validate,i=t.apply(this,arguments);return n.errors=t.errors,i}},_d.prototype.compileAsync=ud,_d.prototype.addKeyword=fd,_d.prototype.getKeyword=md,_d.prototype.removeKeyword=yd,_d.prototype.validateKeyword=gd,_d.ValidationError=vh.Validation,_d.MissingRefError=vh.MissingRef,_d.$dataMetaSchema=sd;var xd="http://json-schema.org/draft-07/schema",Sd=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Pd=["/properties"];function _d(e){if(!(this instanceof _d))return new _d(e);var t,i;e=this._opts=Hc.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:Dd,warn:Dd,error:Dd};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=$h(e.format),this._cache=e.cache||new Mh,this._loadingSchemas={},this._compilations=[],this.RULES=((t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}]).all=ad(i=["type","$comment"]),t.types=ad(["number","integer","string","array","object","boolean","null"]),t.forEach((function(e){e.rules=e.rules.map((function(e){var r;if("object"==typeof e){var n=Object.keys(e)[0];r=e[n],e=n,r.forEach((function(e){i.push(e),t.all[e]=!0}))}return i.push(e),t.all[e]={keyword:e,code:nd[e],implements:r}})),t.all.$comment={keyword:"$comment",code:nd.$comment},e.type&&(t.types[e.type]=e)})),t.keywords=ad(i.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t),this._getId=function(e){switch(e.schemaId){case"auto":return Td;case"id":return Id;default:return Ad}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=Sh),this._metaOpts=function(e){for(var t=Hc.copy(e._opts),i=0;i<Sd.length;i++)delete t[Sd[i]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var i=e._opts.formats[t];e.addFormat(t,i)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var i=e._opts.keywords[t];e.addKeyword(t,i)}}(this),function(e){var t;e._opts.$data&&(t=vd,e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var i=hd;e._opts.$data&&(i=sd(i,Pd));e.addMetaSchema(i,xd,!0),e._refs["http://json-schema.org/schema"]=xd}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var i in t)e.addSchema(t[i],i)}(this)}function Cd(e,t){return t=ah.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function wd(e,t,i){for(var r in t){var n=t[r];n.meta||i&&!i.test(r)||(e._cache.del(n.cacheKey),delete t[r])}}function Id(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Ad(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Td(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function Od(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function Dd(){}const kd="nonNumericAggregation",Fd="duplicateSeriesId",Ed="required",Md="minLength",jd="minItems",Ld="maxItems",Rd="pattern",Vd="additionalProperties",Bd="enum",Nd="anyOf",Wd="badData",zd="histogramEmptyField",Hd="barElementExceedsLimit",Gd="negativeValueInSqrtCalculation",Ud="negativeValueInLogCalculation";function $d(e){const t=e.lastIndexOf("/");return-1!==t?e.slice(t+1):e}const qd=function(){const e=new bd({allErrors:!0});return(t,i)=>qa(this,void 0,void 0,(function*(){let r=Bc;var n,a;i===lo&&(n=Bc,a="WebGaugeChart",r=Object.assign(Object.assign({},n),{$ref:"#/definitions/"+a}));const o=e.compile(r);o(t);let s=[];return null!==o.errors&&void 0!==o.errors&&(s=yield function(e){return qa(this,void 0,void 0,(function*(){const t=yield Mc();return e.map(e=>{let i=e;const r="."===e.dataPath[0]?e.dataPath.substring(1):e.dataPath;switch(e.keyword){case Ed:i=Object.assign(Object.assign({},e),{message:Qu(t.requiredProperty,{dataPath:r,missingProperty:e.params.missingProperty})});break;case Md:i=Object.assign(Object.assign({},e),{message:Qu(t.minLength,{dataPath:r,limit:e.params.limit.toString()})});break;case jd:i=Object.assign(Object.assign({},e),{message:Qu(t.minItems,{dataPath:r,limit:e.params.limit.toString()})});break;case Ld:i=Object.assign(Object.assign({},e),{message:Qu(t.maxItems,{dataPath:r,limit:e.params.limit.toString()})});break;case Rd:"\\w+"===e.params.pattern&&(i=Object.assign(Object.assign({},e),{message:Qu(t.whiteSpacePattern,{dataPath:r}),params:{}}));break;case Vd:i=Object.assign(Object.assign({},e),{message:Qu(t.additionalProperty,{dataPath:r,additionalProperty:e.params.additionalProperty})});break;case Bd:i=Object.assign(Object.assign({},e),{message:Qu(t.enumValues,{dataPath:r,allowedValues:e.params.allowedValues.join(", ")})});break;case Nd:{let n=[];"#/properties/series/items/anyOf"===e.schemaPath?n=Bc.definitions.WebChart.properties.series.items.anyOf.map(e=>$d(e.$ref)):"#/properties/dataSource/anyOf"===e.schemaPath&&(n=Bc.definitions.WebChart.properties.dataSource.anyOf.map(e=>$d(e.$ref))),i=Object.assign(Object.assign({},e),{params:n,message:Qu(t.anyOfValues,{dataPath:r,schemaOptions:n.join(", ")})});break}}return i})}))}(o.errors)),s}))}();function Yd(e,t){return qa(this,void 0,void 0,(function*(){let i=[];if(e.dataSource.type===co&&void 0!==t){const r=yield function(e,t){var i;return qa(this,void 0,void 0,(function*(){const r=yc(yield mc(t)),n=[],a=yield Mc();for(let t=0;t<e.length;t+=1){const o=null===(i=e[t].query)||void 0===i?void 0:i.outStatistics;if(void 0!==o)for(let e=0;e<o.length;e+=1){const i=o[e],s=r.get(i.onStatisticField);if(void 0!==s&&!1===vc(s)&&i.statisticType!==eo){const r=`series[${t}].query.outStatistics[${e}]`;n.push({keyword:kd,message:Qu(a.nonNumericAggregation,{dataPath:r}),dataPath:r,params:{fieldName:i.onStatisticField,fieldType:s.type,aggregationRequested:i.statisticType}})}}}return n}))}(e.series,t);i=i.concat(r)}return i=i.concat(yield function(e){return qa(this,void 0,void 0,(function*(){const t=[],i=yield Mc();if(void 0!==e&&e.series.length>1){const r=new Set;let n=0;e.series.forEach((e,a)=>{if(r.add(e.id),r.size===n){const r=`series[${a}].id`;t.push({keyword:Fd,message:Qu(i.duplicateSeriesID,{dataPath:r,seriesID:e.id,seriesName:e.name}),dataPath:r,params:{seriesId:e.id,seriesName:e.name}})}else n+=1})}return t}))}(e)),i}))}function Kd(e,t){return qa(this,void 0,void 0,(function*(){let i=[];if((null==e?void 0:e.dataSource.type)===co&&void 0!==t){const e=yield function(e){var t,i,r;return qa(this,void 0,void 0,(function*(){let n;const a=yield Mc(),o=yield fc(e);try{yield o.load()}catch(e){const s=null!==(t=o.url)&&void 0!==t?t:"",l=null!==(r=null===(i=o.portalItem)||void 0===i?void 0:i.id)&&void 0!==r?r:"";n={keyword:Dc,message:Qu(a.layerLoadFailure,{url:s,portalItemId:l}),params:{url:s,portalItemId:l}}}return n}))}(t);void 0!==e&&(i=i.concat(e))}return i}))}function Xd(e,t){var i,r,n,a,o;const s=Tu(e,5);if(void 0!==s){if(void 0===s.version&&(s.version="1.0.0"),void 0!==t)if(void 0===s.dataSource)s.dataSource=t;else if((null===(i=s.dataSource)||void 0===i?void 0:i.type)===co&&void 0===(null===(n=null===(r=s.dataSource)||void 0===r?void 0:r.featureLayer)||void 0===n?void 0:n.id)&&void 0!==t.featureLayer){const{featureLayer:e}=t;let i;void 0!==(null===(o=null===(a=e.featureCollection)||void 0===a?void 0:a.layers)||void 0===o?void 0:o[0])&&(i=e.featureCollection.layers[0]);const r={id:e.id,layerType:"ArcGISFeatureLayer",itemId:e.itemId};if(void 0!==i){const{layerDefinition:t}=e.featureCollection.layers[0];r.featureCollection={layers:[{featureSet:i,layerDefinition:t}]}}else r.url=e.url,r.layerDefinition=e.layerDefinition;s.dataSource.featureLayer=r}!1===Mu(s.axes)&&(s.axes=s.axes.map((e,t)=>{var i,r,n,a,o;const l=e;return delete l.calculateAutomaticMaximum,delete l.calculateAutomaticMinimum,(null===(i=s.series)||void 0===i?void 0:i[0].type)===uo&&0===t&&(null===(r=l.valueFormat)||void 0===r?void 0:r.type)===so&&(l.valueFormat={type:oo,characterLimit:11}),void 0!==(null===(o=null===(a=null===(n=l.title)||void 0===n?void 0:n.content)||void 0===a?void 0:a.font)||void 0===o?void 0:o.style)&&(l.title.content.font.style=l.title.content.font.style.toLowerCase()),l})),!1===Mu(s.series)&&(s.series=s.series.map(e=>{var t,i,r;const n=e;return void 0===e.id&&(n.id="Series "+Date.now()),oc(s.series)===uo&&"median"===(null===(r=null===(i=null===(t=n.query)||void 0===t?void 0:t.outStatistics)||void 0===i?void 0:i[0])||void 0===r?void 0:r.statisticType)&&(n.query.outStatistics[0].statisticType=to),n})),void 0!==s.legend&&!1===Number.isFinite(s.legend.maxHeight)&&(s.legend.maxHeight=NaN)}return s}var Jd=function(e){function t(){var t=e.call(this)||this;t.className="Grip";var i=new pr;t.layout="absolute",t.padding(10,10,10,10),t.margin(3,3,3,3),t.background.fillOpacity=.3,t.background.cornerRadius(10,10,10,10);var r=new mn;r.element=t.paper.add("path");var n=Bn({x:-6,y:0});return n+=Nn({x:6,y:0}),n+=Bn({x:-8,y:-6}),n+=Nn({x:0,y:-12}),n+=Nn({x:8,y:-6}),n+=Bn({x:-8,y:6}),n+=Nn({x:0,y:12}),n+=Nn({x:8,y:6}),r.path=n,r.strokeWidth=2,r.fillOpacity=0,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=i.getFor("text"),r.strokeOpacity=.7,r.align="center",r.valign="middle",t.icon=r,t.label.dispose(),t.label=void 0,t.position="right",t.autoHideDelay=3e3,t.events.on("shown",(function(e){t._autoHideTimeout&&t._autoHideTimeout.dispose(),t.autoHideDelay&&(t._autoHideTimeout=t.setTimeout((function(){t.hide()}),t.autoHideDelay))})),t.events.on("down",(function(e){t._autoHideTimeout&&t._autoHideTimeout.dispose()})),t.events.on("out",(function(e){t.autoHideDelay&&(t._autoHideTimeout=t.setTimeout((function(){t.hide()}),t.autoHideDelay))})),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=m(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=m(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=m(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=m(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=m(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),t}(Fn);lt.registeredClasses.Grip=Jd;var Qd=function(e){function t(){var t=e.call(this)||this;return t.className="ChartDataItem",t.applyTheme(),t}return s(t,e),t}(Tn),Zd=function(e){function t(){var i=e.call(this)||this;if(i._legend=new Ie,i.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");i.className="Chart";var r=new Dn;i.titles=new ft(r),i._disposers.push(new ht(i.titles)),i._disposers.push(r),i.width=m(100),i.height=m(100),i.layout="vertical";var n=i.createChild(gn);n.shouldClone=!1,n.layout="vertical",n.width=m(100),n.height=m(100),i.chartAndLegendContainer=n;var a=n.createChild(gn);return a.shouldClone=!1,a.width=m(100),a.height=m(100),i.chartContainer=a,i.showOnInit=!0,i._disposers.push(i._legend),i.titles.events.on("inserted",(function(e){i.processTitle(e),i.updateReaderTitleReferences()}),i,!1),i.titles.events.on("removed",(function(e){i.updateReaderTitleReferences()}),i,!1),i.role="region",i.defaultState.transitionDuration=1,i.applyTheme(),i}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},t.prototype.draw=function(){this.fixLayout(),e.prototype.draw.call(this)},t.prototype.fixLayout=function(){var e=this.legend;if(e){var t=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,e.x=void 0,e.y=void 0,e.position){case"left":t.layout="horizontal",e.toBack();break;case"right":t.layout="horizontal",e.toFront();break;case"top":t.layout="vertical",e.toBack();break;case"bottom":t.layout="vertical",e.toFront()}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var t=e.newValue;return t.parent=this,t.toBack(),t.shouldClone=!1,t.align="center",t.uidAttr(),t},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];Xe(this.titles.iterator(),(function(t){e.push(t.uid)})),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var t=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",(function(e){"position"==e.property&&t.fixLayout()}),void 0,!1)),e.addDisposer(new Ce((function(){t.legend=void 0})))):this._legend.reset(),this.feedLegend())},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),e.prototype.dispose.call(this)},t.prototype.processConfig=function(t){t&&_(t.legend)&&!_(t.legend.type)&&(t.legend.type="Legend"),e.prototype.processConfig.call(this,t)},t.prototype.copyFrom=function(t){this.titles.copyFrom(t.titles),this.chartContainer.copyFrom(t.chartContainer),t.legend&&(this.legend=t.legend.clone(),this.legend.removeChildren()),e.prototype.copyFrom.call(this,t)},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var t=this.tooltipContainer.createChild(Jd);t.align="right",t.valign="middle",t.hide(0),t.events.on("down",(function(t){t.touch&&(e.interactionsEnabled=!1)})),t.events.on("up",(function(t){e.interactionsEnabled=!0})),this.events.on("down",(function(e){e.touch&&t.show()})),this._dragGrip=t}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),t}(On);lt.registeredClasses.Chart=Zd,In.push({relevant:An.widthXS,state:function(e,t){if(e instanceof Zd){var i=e.states.create(t);return e.pixelPaddingLeft>10&&(i.properties.paddingLeft=10),e.pixelPaddingRight>10&&(i.properties.paddingRight=10),i}return null}}),In.push({relevant:An.heightXS,state:function(e,t){if(e instanceof Zd){var i=e.states.create(t);return e.pixelPaddingTop>10&&(i.properties.paddingTop=10),e.pixelPaddingBottom>10&&(i.properties.paddingBottom=10),i}return null}}),In.push({relevant:An.widthXXS,state:function(e,t){if(e instanceof Zd){var i=e.states.create(t);return i.properties.paddingLeft=0,i.properties.paddingRight=0,i}return null}}),In.push({relevant:An.heightXXS,state:function(e,t){if(e instanceof Zd){var i=e.states.create(t);return i.properties.paddingTop=0,i.properties.paddingBottom=0,i}return null}});var ep=function(e){function t(){var t=e.call(this)||this;return t.className="Bullet",t.isMeasured=!1,t.tooltipX=0,t.tooltipY=0,t.layout="none",t.applyOnClones=!0,t.copyToLegendMarker=!0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.Bullet=ep,In.push({relevant:An.isXS,state:function(e,t){if(e instanceof ep){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var tp=function(e){function t(){var t=e.call(this)||this;return t.childrenCreated=!1,t.className="LegendDataItem",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this._label=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new Ce((function(){_(e.component)&&e.component.labels.removeValue(t)})))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var t=this.component.valueLabels.create();this._valueLabel=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new Ce((function(){_(e.component)&&e.component.valueLabels.removeValue(t)})))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var t=this.component,i=t.itemContainers.create();i.parent=t,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",(function(e){t.toggleDataItem(e.target.dataItem)}),void 0,!1),i.focusable&&(i.events.on("hit",(function(e){t.focusedItem=void 0}),void 0,!1),i.events.on("focus",(function(e){t.focusedItem=e.target.dataItem}),void 0,!1),i.events.on("blur",(function(e){t.focusedItem=void 0}),void 0,!1)),this._disposers.push(new Ce((function(){_(e.component)&&e.component.itemContainers.removeValue(i)}))),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var r=this.dataContext;if((r instanceof Tn||r instanceof mn)&&!r.isDisposed()){var n=function(e){i.readerChecked=e.visible,i.events.disableType("toggled"),i.isActive=!e.visible,i.events.enableType("toggled")};r.addDisposer(new Ce((function(){e.component&&e.component.dataItems.remove(e)}))),r instanceof mn?(i.addDisposer(r.events.on("visibilitychanged",n,void 0,!1)),i.addDisposer(r.events.on("hidden",(function(e){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")}),void 0,!1)),i.addDisposer(r.events.on("shown",(function(e){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")}),void 0,!1))):i.addDisposer(r.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var t=this.component.markers.create();this._marker=t,t.parent=this.itemContainer,this.addSprite(t),this._disposers.push(t),this._disposers.push(new Ce((function(){_(e.component)&&e.component.markers.removeValue(t)})))}return this._marker},enumerable:!0,configurable:!0}),t}(Tn),ip=function(){this.createMarker=!0},rp=function(e){function t(){var t=e.call(this)||this;t.className="Legend",t.layout="grid",t.setPropertyValue("useDefaultMarker",!1),t.setPropertyValue("scrollable",!1),t.setPropertyValue("contentAlign","center");var i=new gn;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=Yr.pointer,i.background.fillOpacity=0,t.itemContainers=new ft(i),t._disposers.push(new ht(t.itemContainers)),t._disposers.push(t.itemContainers.template),t._disposers.push(kr().body.events.on("keyup",(function(e){if(br.isKey(e.event,"enter")&&t.focusedItem){var i=t.focusedItem,r=i.itemContainer;r.togglable?t.toggleDataItem(i):r.clickable&&r.events.isEnabled("hit")&&(r.dispatchImmediately("hit",{event:e}),t.focusedItem=i)}}),t));var r=new pr,n=new gn;n.width=23,n.height=23,n.interactionsEnabled=!1,n.applyOnClones=!0,n.setStateOnChildren=!0,n.background.fillOpacity=0,n.background.strokeOpacity=0,n.propertyFields.fill="fill",n.valign="middle";var a=r.getFor("disabledBackground");n.events.on("childadded",(function(e){var t=e.newValue.states.create("active");t.properties.stroke=a,t.properties.fill=a})),t.markers=new ft(n),t._disposers.push(new ht(t.markers)),t._disposers.push(t.markers.template);var o=n.createChild(kn);o.width=m(100),o.height=m(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var s=new Dn;s.text="{name}",s.margin(0,5,0,5),s.valign="middle",s.applyOnClones=!0,s.states.create("active").properties.fill=r.getFor("disabledBackground"),t.labels=new ft(s),t._disposers.push(new ht(t.labels)),t._disposers.push(t.labels.template),s.interactionsEnabled=!1,s.truncate=!0,s.fullWords=!1;var l=new Dn;return l.margin(0,5,0,0),l.valign="middle",l.width=50,l.align="right",l.textAlign="end",l.applyOnClones=!0,l.states.create("active").properties.fill=r.getFor("disabledBackground"),l.interactionsEnabled=!1,t.valueLabels=new ft(l),t._disposers.push(new ht(t.valueLabels)),t._disposers.push(t.valueLabels.template),t.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,t.role="group",t.events.on("layoutvalidated",t.handleScrollbar,t,!1),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},t.prototype.createDataItem=function(){return new tp},t.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),e.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(t){e.prototype.validateDataElement.call(this,t);var i=t.itemContainer,r=t.marker;t.label;var n=t.valueLabel;i.readerChecked=t.dataContext.visible,t.dataContext.legendDataItem=t;var a=t.label.maxWidth;t.label.width instanceof f||(t.label.width=void 0),a>0&&(t.label.maxWidth=a),"right"==n.align&&(n.width=void 0);var o=t.dataContext.legendSettings,s=t.dataContext;!s.createLegendMarker||this.useDefaultMarker&&s instanceof mn?this.markers.template.propertyFields.fill=void 0:t.childrenCreated||(s.createLegendMarker(r),t.childrenCreated=!0),s.updateLegendValue&&s.updateLegendValue(),s.component&&s.component.updateLegendValue&&s.component.updateLegendValue(s),n.invalid&&n.validate(),""==n.text||null==n.text?n.__disabled=!0:n.__disabled=!1,!o||null==o.itemValueText&&null==o.valueText||(n.__disabled=!1);var l=t.dataContext.visible;void 0===l&&(l=!0),l=b(l),t.dataContext.visible=l,i.events.disableType("toggled"),i.isActive=!l,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},t.prototype.afterDraw=function(){var t=this,i=this.getPropertyValue("maxWidth"),r=0;this.labels.each((function(e){e.invalid&&(e.maxWidth=void 0,e.validate()),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>r&&(r=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)}));var n=0;this.valueLabels.each((function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>n&&(n=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)}));var a=0;this.markers.each((function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>a&&(a=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)}));var o,s=this.itemContainers.template,l=s.pixelMarginRight+s.pixelMarginLeft,u=r+n+a;T(i)?((i-=l)>u&&(i=u),o=i-a-n):o=r,this.labels.each((function(e){("right"==t.valueLabels.template.align||e.measuredWidth>o)&&(e.width instanceof f||(e.width=Math.min(e.maxWidth,o-e.pixelMarginLeft-e.pixelMarginRight)))})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(e){e.width=n-e.pixelMarginRight-e.pixelMarginLeft})),e.prototype.afterDraw.call(this)},t.prototype.handleScrollbar=function(){var e=this.scrollbar;this.scrollable&&e&&(e.height=this.measuredHeight,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>this.measuredHeight?(e.visible=!0,e.thumb.height=e.height*this.measuredHeight/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+ +e.pixelMarginRight):e.visible=!1,this.updateMasks())},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&("left"==e||"right"==e?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",T(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=m(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var t=this.createChild(na);this.scrollbar=t,t.isMeasured=!1,t.orientation="vertical",t.endGrip.__disabled=!0,t.startGrip.__disabled=!0,t.visible=!1,t.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(t.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var t=e.shift.y,i=this.scrollbar;if(i){var r=t/1e3*this.measuredHeight/this.contentHeight,n=i.end-i.start;t>0?(i.start=z(0,i.start-r),i.end=i.start+n):(i.end=H(1,i.end-r),i.start=i.end-n)}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each((function(t){t.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.measuredHeight,t.maskRectangle={x:0,y:-t.dy,width:e.measuredWidth,height:e.measuredHeight}}))},t.prototype.toggleDataItem=function(e){var t=e.dataContext;!t.visible||t.isHiding||t instanceof mn&&t.isHidden?(e.color=e.colorOrig,e.itemContainer.isActive=!1,!0===t.hidden&&(t.hidden=!1),t.show?t.show():t.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,t.hide?t.hide():t.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=(new pr).getFor("disabledBackground"))},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,t){e.valueLabel.invalidate(),e.label.invalidate()},t}(On);lt.registeredClasses.Legend=rp,In.push({relevant:An.widthXS,state:function(e,t){if(e instanceof rp&&("left"==e.position||"right"==e.position)){var i=e.states.create(t);return i.properties.position="bottom",i}return null}}),In.push({relevant:An.heightXS,state:function(e,t){if(e instanceof rp&&("top"==e.position||"bottom"==e.position)){var i=e.states.create(t);return i.properties.position="right",i}return null}}),In.push({relevant:An.isXS,state:function(e,t){if(e instanceof rp){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var np=function(e){function t(){var t=e.call(this)||this;return t.className="SeriesDataItem",t.values.value={},t.values.value={},t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new at,this._disposers.push(new nt(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),t}(Tn),ap=function(e){function t(){var i=e.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new ip,i._tmin=new at,i._tmax=new at,i._smin=new at,i._smax=new at,i.dataItemsByAxis=new at,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.usePercentHack=!0,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new pt,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(gn),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(mn),i._disposers.push(i.mainContainer);var r=i.mainContainer.createChild(gn);return i._shouldBeReady.push(r),r.shouldClone=!1,r.layout="none",r.virtualParent=i,i._disposers.push(r),i.bulletsContainer=r,i.tooltip=new ua,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=Oi,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return s(t,e),t.prototype.applyTheme=function(){e.prototype.applyTheme.call(this)},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},t.prototype.createDataItem=function(){return new np},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var t=this,i=e.newValue;i.isTemplate=!0,this.events.once("datavalidated",(function(e){t.itemsFocusable()&&(i.focusable=!0)})),this.invalidate()},t.prototype.removeBullet=function(e){var t=e.oldValue;this.dataItems.each((function(e){var i=e.bullets.getKey(t.uid);i&&i.dispose()})),this.invalidate()},t.prototype.validateDataItems=function(){e.prototype.validateDataItems.call(this),this.processValues(!1)},t.prototype.getFirstValue=function(e,t){for(var i=t;i>=0;i--){var r=this.dataItems.getIndex(i).getActualWorkingValue(e);if(T(r))return r}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var t=0;t<this.dataItems.length;t++){var i=this.dataItems.getIndex(t).values[e].value;if(T(i))return i}return null},t.prototype.rangeChangeUpdate=function(){e.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},t.prototype.processValues=function(e){var t=this;if(!this.simplifiedProcessing){var i=this.dataItems,r={},n={},a={},o={},s={},l={},u={},c={},h={},d={},p=z(0,this.startIndex);p=H(p,this.dataItems.length);var f=H(this.endIndex,this.dataItems.length);if(T(p)||(p=0),T(f)||(f=this.dataItems.length),p>0){var m=i.getIndex(p-1);ze(m.values,(function(e,t){var i=m.getActualWorkingValue(e);T(i)&&(c[e]=i)}))}for(var y=function(e){var f=i.getIndex(e);ze(f.values,(function(e,i){var m=f.getActualWorkingValue(e);if(T(m)){T(r[e])||(r[e]=0),r[e]++,T(n[e])||(n[e]=0),n[e]+=m,T(a[e])||(a[e]=0),a[e]+=Math.abs(m),T(l[e])||(l[e]=m),u[e]=m,T(o[e])?o[e]>m&&(o[e]=m):o[e]=m,T(s[e])?s[e]<m&&(s[e]=m):s[e]=m,T(h[e])||(h[e]=t.getFirstValue(e,p)),T(d[e])||(d[e]=t.getAbsoluteFirstValue(e)),f.setCalculatedValue(e,m-h[e],"change"),f.setCalculatedValue(e,(m-h[e])/h[e]*100,"changePercent"),f.setCalculatedValue(e,m-d[e],"startChange"),f.setCalculatedValue(e,(m-d[e])/d[e]*100,"startChangePercent");var y=c[e];T(y)||(y=m),f.setCalculatedValue(e,m-y,"previousChange"),f.setCalculatedValue(e,(m-y)/y*100,"previousChangePercent"),c[e]=m}}))},g=p;g<f;g++)y(g);if(this.calculatePercent){var v=function(e){var r=i.getIndex(e);ze(r.values,(function(e){var i=a[e],n=r.getActualWorkingValue(e);if(T(n))if(i>0){t.usePercentHack&&n==i&&(i=r.values[e].value);var o=n/i*100;r.setCalculatedValue(e,o,"percent")}else r.setCalculatedValue(e,0,"percent")}))};for(g=p;g<f;g++)v(g)}if(p>0){var b=i.getIndex(p-1);ze(b.values,(function(e){var t=b.values[e].value;b.setCalculatedValue(e,t-l[e],"change"),b.setCalculatedValue(e,(t-l[e])/l[e]*100,"changePercent")}))}var x=this.dataItem;ze(x.values,(function(e){x.setCalculatedValue(e,n[e],"sum"),x.setCalculatedValue(e,a[e],"absoluteSum"),x.setCalculatedValue(e,n[e]/r[e],"average"),x.setCalculatedValue(e,l[e],"open"),x.setCalculatedValue(e,u[e],"close"),x.setCalculatedValue(e,o[e],"low"),x.setCalculatedValue(e,s[e],"high"),x.setCalculatedValue(e,r[e],"count")}))}},t.prototype.validate=function(){Pi()&&this.filters.clear(),Xe(this.axisRanges.iterator(),(function(e){e.validate()})),e.prototype.validate.call(this);var t=this.bulletsContainer;if(t.fill=this.fill,t.stroke=this.stroke,t.x=this.pixelX,t.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){(r=this.dataItems.getIndex(i))&&r.bullets.each((function(e,t){t.__disabled=!0}))}for(i=this.dataItems.length-1;i>this.endIndex;i--){var r;(r=this.dataItems.getIndex(i))&&r.bullets.each((function(e,t){t.__disabled=!0}))}}else this.bulletsContainer.children.each((function(e){e.__disabled=!0}));this.updateTooltipBounds()},t.prototype.updateTooltipBounds=function(){if(this.topParent){var e={x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight};this.tooltip.setBounds(e)}},t.prototype.shouldCreateBullet=function(e,t){return!0},t.prototype.validateDataElement=function(t){var i=this;e.prototype.validateDataElement.call(this,t),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(e){var r=t.bullets.getKey(e.uid);if(i.shouldCreateBullet(t,e)){if(!r){var n=e.propertyFields.disabled,a=t.dataContext;n&&a&&!1===a[n]?(e.applyOnClones=!1,e.disabled=!1,r=e.clone(),e.disabled=!0,e.applyOnClones=!0):r=e.clone(),r.shouldClone=!1,t.addSprite(r),i.visible&&!i.isHiding||r.hide(0)}var o=r.dataItem;if(o!=t){o&&o.bullets.setKey(e.uid,void 0);var s=i.itemReaderText;r instanceof ep&&(s||(s="{"+r.xField+"}: {"+r.yField+"}"),r.isDynamic&&(t.events.on("workingvaluechanged",r.deepInvalidate,r,!1),i.dataItem.events.on("workingvaluechanged",r.deepInvalidate,r,!1)),r.deepInvalidate()),r.focusable&&(r.events.on("focus",(function(e){r.readerTitle=i.populateString(s,r.dataItem)}),void 0,!1),r.events.on("blur",(function(e){r.readerTitle=""}),void 0,!1)),r.hoverable&&(r.events.on("over",(function(e){r.readerTitle=i.populateString(s,r.dataItem)}),void 0,!1),r.events.on("out",(function(e){r.readerTitle=""}),void 0,!1))}r.parent=i.bulletsContainer,t.bullets.setKey(e.uid,r),r.maxWidth=t.itemWidth,r.maxHeight=t.itemHeight,r.__disabled=!1,i.positionBullet(r)}else r&&(r.__disabled=!0)}))):this.bulletsContainer.visible=!1},t.prototype.handleDataItemWorkingValueChange=function(e,t){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(gn),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var t=e.newValue;t&&(t.contents.parent=this.rangesContainer,t.isRange=!0,t.events.on("valuechanged",this.invalidateDataItems,this,!1))},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,t){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new ft(new ep),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new ht(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var t=this.legendDataItem;t&&(t.component.invalidate(),t.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=Zt(this.tooltipText):this.tooltipHTML&&(e=Zt(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,t){if(this.legendDataItem){var i=this.legendSettings,r=this.legendDataItem,n=r.label,a=r.valueLabel;e&&!e.isDisposed()||t?(a&&(i.itemValueText&&(a.text=i.itemValueText),a.dataItem=e),n&&(i.itemLabelText&&(n.text=i.itemLabelText),n.dataItem=e)):(n&&((i.labelText||null!=i.itemLabelText)&&(n.text=i.labelText),n.dataItem=this.dataItem),a&&((i.valueText||null!=i.itemValueText)&&(a.text=i.valueText),a.dataItem=this.dataItem))}},t.prototype.copyFrom=function(t){this.bullets.copyFrom(t.bullets),this.bulletsContainer.copyFrom(t.bulletsContainer),this.calculatePercent=t.calculatePercent,this.usePercentHack=t.usePercentHack,this.simplifiedProcessing=t.simplifiedProcessing,e.prototype.copyFrom.call(this,t)},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(e)},t.prototype.applyFilters=function(){var t=this;e.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),Xe(this.filters.iterator(),(function(e){t.bulletsContainer.filters.push(e.clone())}))},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new pt,this._heatRules.events.on("inserted",(function(t){var i=t.newValue,r=i.target;if(r){var n=i.dataField;_(n)||(n="value");var a=e.dataItem,o=i.property,s=x(i.minValue),l=x(i.maxValue);T(s)||T(l)||e.dataItem.events.on("calculatedvaluechanged",(function(t){t.property==n&&Xe(e.dataItems.iterator(),(function(e){var t=!1;de(e.sprites,(function(e){if(e.clonedFrom==r){var i=e;i[o]=i[o],t=!0}})),t||de(e.sprites,(function(e){e instanceof gn&&Xe(e.children.iterator(),(function(e){if(e.className==r.className){var t=e;t[o]=t[o]}else e instanceof gn&&e.deepInvalidate()}))}))}))})),e.dataItems.template.events.on("workingvaluechanged",(function(e){if(e.property==n){var t=e.target,i=!1;de(t.sprites,(function(e){if(e.clonedFrom==r){var t=e;t[o]=t[o],i=!0}})),i||de(t.sprites,(function(e){e instanceof gn&&Xe(e.children.iterator(),(function(e){if(e.className==r.className){var t=e;t[o]=t[o]}else e instanceof gn&&e.deepInvalidate()}))}))}})),r.adapter.add(o,(function(e,t,r){var o=x(i.minValue),s=x(i.maxValue),l=i.min,u=i.max;if(t instanceof mn){var c=t.propertyFields[r];if(c&&t.dataItem){var h=t.dataItem.dataContext;if(h&&_(h[c]))return e}}var d=t.dataItem;if((T(o)||(o=a.values[n].low),T(s)||(s=a.values[n].high),d)&&d.values[n]){var p=d.getActualWorkingValue(n);if(_(l)&&_(u)&&T(o)&&T(s)&&T(p)){var f=void 0;if(f=i.logarithmic?(Math.log(p)*Math.LOG10E-Math.log(o)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(o)*Math.LOG10E):(p-o)/(s-o),!T(p)||T(f)&&Math.abs(f)!=1/0||(f=.5),T(l))return l+(u-l)*f;if(l instanceof kt)return new kt(At(l.rgb,u.rgb,f))}}return e}))}}))),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){var i;if(t){if(_(t.bullets)&&D(t.bullets))for(var r=0,n=t.bullets.length;r<n;r++){var a=t.bullets[r];_(a.type)||(a.type="Bullet")}_(t.heatRules)&&D(t.heatRules)&&(i=t.heatRules,delete t.heatRules)}if(e.prototype.processConfig.call(this,t),i){for(r=0,n=i.length;r<n;r++){var o=i[r],s=this;if(_(o.target)&&A(o.target))if(this.map.hasKey(o.target))s=this.map.getKey(o.target);else for(var l=o.target.split("."),u=0;u<l.length;u++)if(s instanceof pt){var c=s.getIndex(x(l[u]));s=c||s[l[u]]}else{var h=l[u].match(/^(.*)\[([0-9]+)\]/);s=h?s[h[1]]instanceof pt?s[h[1]].getIndex(x(h[2])):s[h[1]][x(h[2])]:s[l[u]]}o.target=s,_(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),_(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}e.prototype.processConfig.call(this,{heatRules:i})}},t.prototype.configOrder=function(t,i){return t==i?0:"heatRules"==t?1:"heatRules"==i?-1:e.prototype.configOrder.call(this,t,i)},t.prototype.setVisibility=function(t){e.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t},t}(On);lt.registeredClasses.Series=ap,lt.registeredClasses.SeriesDataItem=np;var op=function(e){function t(){var t=e.call(this)||this;return t.className="SerialChartDataItem",t.applyTheme(),t}return s(t,e),t}(Qd),sp=function(e){function t(){var t=e.call(this)||this;t.className="SerialChart",t.colors=new Na,t._usesData=!1;var i=t.chartContainer.createChild(gn);i.shouldClone=!1,i.width=m(100),i.height=m(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,t.seriesContainer=i;var r=t.chartContainer.createChild(gn);return r.shouldClone=!1,r.width=m(100),r.height=m(100),r.isMeasured=!1,r.zIndex=3,r.layout="none",t.bulletsContainer=r,t.applyTheme(),t}return s(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new ft(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new ht(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),this.dataUsers.each((function(e){e.invalidateDataItems()})),t.autoDispose?t.dispose():(t.parent=void 0,t.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var r=this.legend.dataItems,n=r.length-1;n>=0;n--){var a=r.getIndex(n);a&&a.dataContext==t&&i.dataItems.remove(a)}for(n=i.data.length-1;n>=0;n--){var o=i.data[n];o&&o==t&&fe(i.data,o)}}},t.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new Ce((function(){t.dataUsers.removeValue(i)}))),this.handleSeriesAdded2(i),this.handleLegendSeriesAdded(i))},t.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},t.prototype.handleSeriesAdded2=function(e){var t=this;this.dataInvalid||this._disposers.push(lt.events.once("exitframe",(function(){e.data&&0!=e.data.length||(e.data=t.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.events.once("datavalidated",(function(){e.data==t.data&&(e._data=[])})))})))},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];Xe(this.series.iterator(),(function(e){e.hiddenInLegend||t.push(e)})),e.dataFields.name="name",e.data=t}},t.prototype.createSeries=function(){return new ap},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.series.copyFrom(t.series)},t.prototype.appear=function(){e.prototype.appear.call(this),this.series.each((function(e){e.showOnInit&&e.inited&&e.appear()}))},t}(Zd);lt.registeredClasses.SerialChart=sp;var lp=function(e){function t(){var t=e.call(this)||this;t._axis=new Ie,t.dataItems=new pt,t.className="AxisBreak",t.breakSize=.01,t.marginLeft=-5,t.marginRight=-5,t.marginTop=-5,t.marginBottom=-5;var i=new pr,r=new Sa;r.fill=i.getFor("background"),r.stroke=Ft(),r.fillOpacity=.9,r.zIndex=0,t._fillShape=r;var n=new Sa;n.fill=Ft(),n.stroke=i.getFor("grid"),n.strokeOpacity=.3,n.zIndex=1,t._startLine=n;var a=new Sa;return a.fill=Ft(),a.stroke=Ft("#000000"),a.strokeOpacity=.3,a.zIndex=2,t._endLine=a,t._disposers.push(t._axis),t.applyTheme(),t}return s(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var t=e.axisBreaks.template;this.startLine.copyFrom(t.startLine),this.endLine.copyFrom(t.endLine),this.fillShape.copyFrom(t.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){(e.prototype.draw.call(this),this.axis)&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.AxisBreak=lp;var up,cp=function(e){function t(){var t=e.call(this)||this;return t.className="AxisDataItem",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.grid).disabled)return;t=i.clone()}else{if((i=e.renderer.grid.template).disabled)return;t=e.renderer.grid.create(),this._disposers.push(new Ce((function(){e.renderer.grid.removeValue(t)})))}this.grid=t,t.shouldClone=!1,this._disposers.push(t),t.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(fe(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(fe(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.tick).disabled)return;t=i.clone()}else{if((i=e.renderer.ticks.template).disabled)return;t=e.renderer.ticks.create(),this._disposers.push(new Ce((function(){e.renderer.ticks.removeValue(t)})))}this.tick=t,t.axis=this.component,t.shouldClone=!1,this._disposers.push(t)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(fe(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(fe(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.label).disabled)return;t=i.clone()}else{if((i=e.renderer.labels.template).disabled)return;t=e.renderer.labels.create(),this._disposers.push(new Ce((function(){e.renderer.labels.removeValue(t)})))}this._disposers.push(t),this.label=t,t.shouldClone=!1,t.axis=this.component,t.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(fe(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(fe(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;t=i.clone()}else{if((i=e.renderer.axisFills.template).disabled)return;t=e.renderer.axisFills.create(),this._disposers.push(new Ce((function(){e.renderer.axisFills.removeValue(t)})))}this.axisFill=t,t.shouldClone=!1,this._disposers.push(t)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(fe(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(fe(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new gn;this.addSprite(e),e.isMeasured=!1,this._contents=e;var t=this.component;if(t){var i=t.renderer.createFill(this.component);i.disabled=!1,i.axis=t,this.addSprite(i),this._mask=i,e.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},t.prototype.hasProperty=function(t){return"component"==t||e.prototype.hasProperty.call(this,t)},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.text=t.text,t.bullet&&(this.bullet=t.bullet.clone()),this.minPosition=t.minPosition,this.maxPosition=t.maxPosition},t.prototype.setVisibility=function(t,i){e.prototype.setVisibility.call(this,t,i),this._contents&&(this._contents.visible=t)},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(fe(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),t}(Tn);!function(e){e[e.Start=0]="Start",e[e.Middle=.5]="Middle",e[e.End=1]="End"}(up||(up={}));var hp=function(e){function t(){var i=e.call(this)||this;if(i._gridCount=10,i._series=new pt,i.autoDispose=!0,i._axisItemCount=0,i.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0,i.zoomable=!0;var r=new pr;i.title=new Dn,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new tt(i.dataItems,(function(){return i.dataItems.create()})),i._dataItemsIterator.createNewItems=!0;var n=new ua;i._disposers.push(n),n.label.padding(5,10,5,10),n.background.pointerLength=5,n.fitPointerToBounds=!0,n.background.filters.clear(),n.virtualParent=i;var a=n.background;return a.cornerRadius=0,a.fill=r.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,n.label.fill=r.getFor("alternativeText"),i.tooltip=n,i.readerHidden=!0,i.events.on("rangechangestarted",(function(){i.series.each((function(e){e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0)}),void 0,!1),i.events.on("rangechangeended",(function(){i.series.each((function(e){e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1)}),void 0,!1),i.applyTheme(),i}return s(t,e),t.prototype.fillRule=function(e,t){T(t)||(t=e.index),t/2==Math.round(t/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new cp},t.prototype.invalidateLayout=function(){e.prototype.invalidateLayout.call(this),Xe(this.series.iterator(),(function(e){e.invalidateLayout()}))},t.prototype.invalidateSeries=function(){Xe(this.series.iterator(),(function(e){e.invalidate()}))},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),e.prototype.validateLayout.call(this),this.updateGridCount();var t=this.renderer;t&&(t.updateAxisLine(),t.updateTooltip(),t.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var t=this.renderer,i=e.tick;i&&(i.above?i.parent=t.bulletsContainer:i.parent=t.gridContainer),e.label&&(e.label.parent=t);var r=e.axisFill;r&&(r.above?r.parent=t.bulletsContainer:r.parent=t.gridContainer);var n=e.grid;n&&(n.above?n.parent=t.bulletsContainer:n.parent=t.gridContainer),e.bullet&&(e.bullet.parent=t.bulletsContainer)},t.prototype.validate=function(){e.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},t.prototype.validateAxisRanges=function(){var e=this;Xe(this.axisRanges.iterator(),(function(t){e.appendDataItem(t),e.validateDataElement(t),t.grid&&t.grid.validate(),t.tick&&t.tick.validate(),t.axisFill&&t.axisFill.validate(),t.label&&t.label.validate()}))},t.prototype.validateBreaks=function(){this._axisBreaks&&Xe(this._axisBreaks.iterator(),(function(e){e.invalidate()}))},t.prototype.processBreak=function(e){var t=e.newValue;t.parent=this.renderer.breakContainer,t.axis=this},t.prototype.registerSeries=function(e){var t=this;return this.series.moveValue(e),new we([new Ce((function(){t.series.removeValue(e)})),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var t=this.renderer.labels.create();this._disposers.push(t),t.dataItem=this.dataItems.template.clone(),t.text="L",t.parent=this.renderer,t.shouldClone=!1,t.fillOpacity=0,t.opacity=0,t.strokeOpacity=0,t.interactionsEnabled=!1,t.validate(),this.ghostLabel=t,this.events.on("beforedatavalidated",(function(){t.text="L"}),void 0,!1)}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,t){return this.renderer.getPositionRangePath(e,t)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,t){return this.renderer?this.renderer.getPositionRangePath(e,t):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(t){e.prototype.hideTooltip.call(this,t),this._tooltipPosition=void 0},t.prototype.showTooltipAtPosition=function(e,t){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(t||(e=this.toAxisPosition(e)),!T(e)||e<this.start||e>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var r=this.renderer;i.parent||(i.parent=this.tooltipContainer);var n=r.tooltipLocation,a=this.getCellStartPosition(e),o=this.getCellEndPosition(e);if("fixed"==this.tooltipPosition&&(e=a+(o-a)*n),e=V(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var s=r.tooltipLocation2,l=r.positionToPoint(a,s),u=r.positionToPoint(o,s);this.currentItemStartPoint=l,this.currentItemEndPoint=u,r.fullWidthTooltip&&(i.width=u.x-l.x,i.height=u.y-l.y);var c=ci(r.positionToPoint(e,s),this.renderer.line);i.text=this.getTooltipText(e),i.text&&(i.delayedPointTo(c),i.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0)}},t.prototype.toAxisPosition=function(e){if(null!=(e=this.renderer.toAxisPosition(e)))return e*=this.end-this.start,e=this.renderer.inversed?this.end-e:this.start+e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e-=this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,t){var i=this._tooltip;i&&(i.fixDoc=!1,i.pointerOrientation=e,i.setBounds(di(t,this.renderer.line)))},t.prototype.roundPosition=function(e,t,i){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new ft(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new ht(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var t=e.newValue;t.component=this,t.isRange=!0},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new vt(this.createAxisBreak(),(function(e,t){return bt(e.adjustedStartValue,t.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new ht(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new lp},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new pt),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,t){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,t=this._dataItemsIterator;t.createNewItems=!1,Xe(t.iterator(),(function(t){e.validateDataElement(t),t.__disabled=!0})),t.clear(),t.createNewItems=!0},t.prototype.getSeriesDataItem=function(e,t,i){},t.prototype.getAngle=function(e,t,i,r,n){},t.prototype.getX=function(e,t,i,r,n){},t.prototype.getPositionX=function(e,t,i,r,n){},t.prototype.getY=function(e,t,i,r,n){},t.prototype.getPositionY=function(e,t,i,r,n){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,t){var i=t-e;if(T(i))return this._axisBreaks&&Ke(this._axisBreaks.iterator(),(function(r){var n,a,o,s,l,u,c,h,d=r.adjustedStartValue,p=r.adjustedEndValue;if(T(d)&&T(p)){if(d>t)return!1;if(p>=e&&T(d)&&T(p)){var f=r.breakSize,m=(a={start:e,end:t},o=C((n={start:d,end:p}).start),s=C(a.start),l=C(n.end),u=C(a.end),c=Math.max(o,s),(h=Math.min(l,u))<c?void 0:{start:c,end:h});m&&(i-=(m.end-m.start)*(1-f))}return!0}})),i},t.prototype.isInBreak=function(e){if(this._axisBreaks)return t=this._axisBreaks.iterator(),i=function(t){return e>=t.adjustedStartValue&&e<=t.adjustedEndValue},t((function(e){return!i(e)||(r=e,!1)})),r;var t,i,r},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var t=this._axisBreaks;if(t.length>0){de(Ye(t.iterator()),(function(t){var i=H(t.startValue,t.endValue),r=z(t.startValue,t.endValue);t.adjustedStartValue=i,t.adjustedEndValue=r,e._axisBreaks.update(t)}));var i=t.first,r=Math.min(i.startValue,i.endValue);Xe(t.iterator(),(function(e){var t=e.adjustedStartValue,i=e.adjustedEndValue;t<r&&(t=r,i<r&&(i=r)),e.adjustedStartValue=t,e.adjustedEndValue=i}))}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(100*e)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var t=this.axisRanges.create();return t.component=this,t.axisFill=this.renderer.axisFills.template.clone(),t.axisFill.disabled=!1,t.axisFill.fillOpacity=0,t.grid=this.renderer.grid.template.clone(),t.grid.disabled=!0,t.tick=this.renderer.ticks.template.clone(),t.tick.disabled=!0,t.label=this.renderer.labels.template.clone(),t.label.disabled=!0,t.addDisposer(new Ce((function(){e.axisRanges.removeValue(t)}))),e.axisRanges.push(t),t},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.renderer?this.renderer.copyFrom(t.renderer):t.renderer&&(this.renderer=t.renderer.clone(),this._disposers.push(this.renderer)),t.title&&(this.title?this.title.copyFrom(t.title):(this.title=t.title.clone(),this.title.parent=this),this._disposers.push(this.title))},t.prototype.resetIterators=function(){this._dataItemsIterator.reset()},t.prototype.processConfig=function(t){if(t&&_(t.axisRanges)&&D(t.axisRanges))for(var i=0,r=t.axisRanges.length;i<r;i++){var n=t.axisRanges[i];_(n.series)&&A(n.series)&&this.map.hasKey(n.series)&&(t.axisRanges[i]=this.createSeriesRange(this.map.getKey(n.series)),delete n.series,t.axisRanges[i].config=n)}e.prototype.processConfig.call(this,t)},t.prototype.configOrder=function(t,i){return t==i?0:"title"==t?1:"title"==i||"component"==t?-1:"component"==i?1:e.prototype.configOrder.call(this,t,i)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.renderer&&(this.renderer.gridContainer.disabled=t),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),t}(On);lt.registeredClasses.Axis=hp,lt.registeredClasses.AxisDataItem=cp,In.push({relevant:An.maybeXS,state:function(e,t){if(e instanceof hp&&e.tooltip){var i=e.states.create(t);return i.properties.cursorTooltipEnabled=!1,i}return null}});var dp=function(e){function t(){var t=e.call(this)||this;t.className="AxisLine",t.element=t.paper.add("path");var i=new pr;return t.stroke=i.getFor("grid"),t.strokeOpacity=.15,t.pixelPerfect=!0,t.fill=Ft(),t.applyTheme(),t.interactionsEnabled=!1,t}return s(t,e),t}(mn);lt.registeredClasses.AxisLine=dp;var pp=function(e){function t(t){var i=e.call(this)||this;i.axis=t,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var r=new pr;return i.fill=r.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return s(t,e),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t.prototype.draw=function(){e.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&T(this.startPosition)&&T(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return!!this.setPropertyValue("path",e)&&(this.element.attr({d:e}),!0)},Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.AxisFill=pp;var fp=function(e){function t(){var t=e.call(this)||this;t.className="Grid",t.element=t.paper.add("path"),t.location=.5,t.isMeasured=!1,t.above=!1;var i=new pr;return t.stroke=i.getFor("grid"),t.pixelPerfect=!0,t.strokeOpacity=.15,t.fill=Ft(),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(mn);lt.registeredClasses.Grid=fp,In.push({relevant:An.maybeXS,state:function(e,t){if(e instanceof fp){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var mp=function(e){function t(){var t=e.call(this)||this;return t.className="AxisLabel",t.isMeasured=!1,t.padding(10,10,10,10),t.location=.5,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(Dn);lt.registeredClasses.AxisLabel=mp;var yp=function(e){function t(){var t=e.call(this)||this;t.className="Tick";var i=new pr;return t.fillOpacity=0,t.length=6,t.strokeOpacity=.2,t.stroke=i.getFor("grid"),t.isMeasured=!1,t.nonScalingStroke=!0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),t}(mn);lt.registeredClasses.Tick=yp;var gp=function(e){function t(){var t=e.call(this)||this;return t.className="AxisTick",t.element=t.paper.add("path"),t.location=.5,t.above=!1,t.isMeasured=!1,t.pixelPerfect=!0,t.strokeOpacity=0,t.length=5,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(yp);lt.registeredClasses.AxisTick=gp;var vp=function(e){function t(){var t=e.call(this)||this;t._chart=new Ie,t.className="AxisRenderer",t.minGridDistance=50,t.inside=!1,t.inversed=!1,t.tooltipLocation=.5,t.fullWidthTooltip=!1,t.cellStartLocation=0,t.cellEndLocation=1,t.minLabelPosition=0,t.maxLabelPosition=1,t.shouldClone=!1;var i=t.createChild(gn);i.shouldClone=!1,i.layout="none",i.virtualParent=t,i.width=m(100),i.height=m(100),t.gridContainer=i,i.events.on("maxsizechanged",(function(){t.inited&&t.invalidateAxisItems()}),t,!1);var r=t.createChild(gn);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=m(100),r.height=m(100),t.breakContainer=r;var n=t.createChild(gn);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=m(100),n.height=m(100),t.bulletsContainer=n,t.line=t.createChild(dp),t.line.shouldClone=!1,t.line.strokeOpacity=0;var a=t.createChild(fp);a.shouldClone=!1,t.baseGrid=a;var o=t._disposers;return o.push(a),o.push(t.line),o.push(i),o.push(r),o.push(n),o.push(t._chart),t.ticks.template.disabled=!0,t.axisFills.template.disabled=!0,t.axisFills.template.interactionsEnabled=!1,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},t.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},t.prototype.updateTooltip=function(){},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.positionItem=function(e,t){e&&e.moveTo(t)},t.prototype.positionToPoint=function(e,t){return{x:0,y:0}},t.prototype.positionToAngle=function(e){return 0},t.prototype.positionToCoordinate=function(e){var t=this.axis,i=t.axisFullLength;return t.renderer.inversed?(t.end-e)*i:(e-t.start)*i},t.prototype.updateGridContainer=function(){},t.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},t.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},t.prototype.coordinateToPosition=function(e,t){var i=this.axis,r=i.axisFullLength;return L(i.renderer.inversed?i.end-e/r:e/r+i.start,5)},t.prototype.pointToPosition=function(e){return 0},t.prototype.getPositionRangePath=function(e,t){return""},t.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},t.prototype.updateGridElement=function(e,t,i){},t.prototype.updateTickElement=function(e,t,i){},t.prototype.updateBullet=function(e,t,i){},t.prototype.updateLabelElement=function(e,t,i,r){},t.prototype.updateFillElement=function(e,t,i){e.startPosition=t,e.endPosition=i},t.prototype.updateAxisLine=function(){},t.prototype.updateBaseGridElement=function(){},t.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(t.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t.prototype.toggleVisibility=function(e,t,i,r){var n=this.axis,a=e.dataItem;a&&a instanceof cp&&(T(a.minPosition)&&(i=a.minPosition),T(a.maxPosition)&&(r=a.maxPosition));var o=n.start+(n.end-n.start)*(i-1e-4),s=n.start+(n.end-n.start)*(r+1e-4);e.disabled||(e.__disabled=t<o||t>s)},t.prototype.createBreakSprites=function(e){},Object.defineProperty(t.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new ft(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ht(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),t.prototype.createFill=function(e){return new pp(e)},Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new ft(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ht(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),t.prototype.createGrid=function(){return new fp},Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new ft(e),this._disposers.push(new ht(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),t.prototype.createTick=function(){return new gp},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new ft(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new ht(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createLabel=function(){return new mp},Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.grid.template.copyFrom(t.grid.template),this.ticks.template.copyFrom(t.ticks.template),this.labels.template.copyFrom(t.labels.template),this.axisFills.template.copyFrom(t.axisFills.template),this.line.copyFrom(t.line),this.baseGrid.copyFrom(t.baseGrid)},t.prototype.toAxisPosition=function(e){return e},t.prototype.setVisibility=function(t){e.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t},t}(gn);lt.registeredClasses.AxisRenderer=vp;var bp=function(e){function t(){var t=e.call(this)||this;return t.className="AxisBullet",t.location=.5,t.isMeasured=!1,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(gn);lt.registeredClasses.AxisBullet=bp;var xp=function(e){function t(){var t=e.call(this)||this;return t.className="AxisRendererY",t.minGridDistance=40,t.opposite=!1,t.height=m(100),t.labels.template.verticalCenter="middle",t.applyTheme(),t}return s(t,e),t.prototype.setAxis=function(t){e.prototype.setAxis.call(this,t),t.layout="horizontal"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.y=e.pixelY,t.height=e.axisLength}},t.prototype.toAxisPosition=function(e){var t=this.axis;if(t){var i=1-e,r=t.relativePositionSprite,n=t.pixelY;if(r?n=hi({x:0,y:this.pixelY},this.parent,r).y:r=t.parent,r)return 1-(i-n/r.innerHeight)/(t.axisLength/r.innerHeight)}return e},t.prototype.processRenderer=function(){e.prototype.processRenderer.call(this);var t=this.axis;if(t){var i=t.title;i.valign="middle",t.height instanceof f||(t.height=m(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},t.prototype.updateTooltip=function(){if(this.axis){var e=0,t=2e3,i=this.axisLength;this.opposite?this.inside&&(e=-2e3,t=2e3):this.inside||(e=-2e3,t=2e3),this.axis.updateTooltip("horizontal",{x:e,y:0,width:t,height:i})}},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){return{x:0,y:this.positionToCoordinate(e)}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},t.prototype.coordinateToPosition=function(e,t){var i=this.axis,r=i.axisFullLength;return L(i.renderer.inversed?1-i.start-e/r:e/r+(1-i.end),5)},t.prototype.getPositionRangePath=function(e,t){var i=V(this.positionToCoordinate(e),0,this.axisLength),r=V(this.positionToCoordinate(t),0,this.axisLength),n=Math.abs(r-i),a=this.getWidth();return qn({x:0,y:Math.min(i,r),width:a,height:n},!0)},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);e.path=Bn({x:0,y:0})+Nn({x:this.getWidth(),y:0}),this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t),n=e.length;try{this.axis.title.measuredWidth}catch(e){}r.x=hi({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?n*=e.inside?-1:1:n*=e.inside?1:-1,e.path=Bn({x:0,y:0})+Nn({x:n,y:0}),this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateAxisLine=function(){this.line.path=Bn({x:0,y:0})+Nn({x:0,y:this.axisLength})},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.axis,i=this.getWidth(),r=this.axisLength,n=t.basePoint.y,a=this.baseGrid;if(n<-.2||n>r+.2)a.hide(0);else{var o=hi({x:0,y:0},this.gridContainer,a.parent).x;a.path=Bn({x:0,y:0})+Nn({x:i,y:0}),a.moveTo({x:o,y:n}),a.show(0)}},t.prototype.updateLabelElement=function(e,t,i,r){_(r)||(r=e.location),t+=(i-t)*r,e.isMeasured=!e.inside;var n,a=this.positionToPoint(t),o=0,s=this.gridContainer.maxWidth;this.opposite?(e.inside?(n="right","left"==e.align&&(o=-s,n="left"),"center"==e.align&&(o=-s/2,n="middle")):n="left",a.x=0+o):(e.inside?(n="left","right"==e.align&&(o=s,n="right"),"center"==e.align&&(o=s/2,n="middle")):n="right",a.x=this.measuredWidth+o),0==e.rotation&&(e.horizontalCenter=n),this.positionItem(e,a),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBreakElement=function(t){e.prototype.updateBreakElement.call(this,t);var i=t.startLine,r=t.endLine,n=t.fillShape,a=t.startPoint,o=t.endPoint,s=t.pixelMarginLeft,l=this.getWidth()-t.pixelMarginLeft-t.pixelMarginRight;a.y=V(a.y,-1,this.axisLength+1),o.y=V(o.y,-1,this.axisLength+1),a.y==o.y&&(a.y<0||a.y>this.axisLength)?t.fillShape.__disabled=!0:t.fillShape.__disabled=!1;var u=Math.abs(l-s);i.x=s,i.height=0,i.width=u,r.x=s,r.height=0,r.width=u,n.width=u,n.height=Math.abs(o.y-a.y),n.x=s,n.y=o.y},t.prototype.createBreakSprites=function(e){e.startLine=new Sa,e.endLine=new Sa;var t=new Pa;t.setWavedSides(!0,!1,!0,!1),e.fillShape=t},t.prototype.positionToCoordinate=function(e){var t=this.axis,i=t.axisFullLength;return t.renderer.inversed?(e-t.start)*i:(t.end-e)*i},t.prototype.updateBullet=function(e,t,i){var r=.5;e instanceof bp&&(r=e.location),t+=(i-t)*r;var n=this.positionToPoint(t);n.x=hi({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},t}(vp);lt.registeredClasses.AxisRendererY=xp,In.push({relevant:An.widthS,state:function(e,t){if(e instanceof xp){var i=e.states.create(t);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),In.push({relevant:An.widthXS,state:function(e,t){if(e instanceof xp){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var Sp=function(e){function t(){var t=e.call(this)||this;return t.className="ValueAxisBreak",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),t}(lp);lt.registeredClasses.ValueAxisBreak=Sp;var Pp=function(e){function t(){var t=e.call(this)||this;return t.className="ValueAxisDataItem",t.values.value={},t.values.endValue={},t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),t}(cp),_p=function(e){function t(){var t=e.call(this)||this;return t._stepDecimalPlaces=0,t._prevStepDecimalPlaces=0,t._adjustLabelPrecision=!0,t._baseValue=0,t._adjustedStart=0,t._adjustedEnd=1,t._extremesChanged=!1,t._deltaMinMax=1,t._dsc=!1,t.calculateTotals=!1,t.className="ValueAxis",t.axisFieldName="value",t.setPropertyValue("maxZoomFactor",1e3),t.setPropertyValue("extraMin",0),t.setPropertyValue("extraMax",0),t.setPropertyValue("strictMinMax",!1),t.setPropertyValue("maxPrecision",Number.MAX_VALUE),t.setPropertyValue("adjustLabelPrecision",!0),t.setPropertyValue("extraTooltipPrecision",0),t.keepSelection=!1,t.includeRangesInMinMax=!1,t.applyTheme(),t}return s(t,e),t.prototype.fillRule=function(e){var t=e.value,i=e.component;e.axisFill.disabled||(L(t/i.step/2,5)==Math.round(t/i.step/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Pp},t.prototype.createAxisBreak=function(){return new Sp},t.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},t.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),t=e.startIndex;if(e.dataItems.length>0){t>0&&t--;var i=e.endIndex;i<e.dataItems.length&&i++;for(var r=function(e){var t={},i={};n.series.each((function(r){if(!r.excludeFromTotal){var n=r.dataItems.getIndex(e);n&&ze(n.values,(function(e){var r=n.values[e].workingValue;T(r)&&(T(t[e])?t[e]+=Math.abs(r):t[e]=Math.abs(r),T(i[e])?i[e]+=r:i[e]=r)}))}})),n.series.each((function(r){if(!r.excludeFromTotal){var n=r.dataItems.getIndex(e);n&&ze(n.values,(function(e){var r=n.values[e].workingValue;T(r)&&(n.setCalculatedValue(e,t[e],"total"),n.setCalculatedValue(e,100*r/t[e],"totalPercent"),n.setCalculatedValue(e,i[e],"sum"))}))}}))},n=this,a=t;a<i;++a)r(a)}}},t.prototype.validate=function(){this.axisLength<=0||(e.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},t.prototype.calculateZoom=function(){if(T(this.min)&&T(this.max)){var e=this.positionToValue(this.start),t=this.positionToValue(this.end),i=this.adjustDifference(e,t),r=this.adjustMinMax(e,t,i,this._gridCount,!0),n=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(r.step);this._stepDecimalPlaces=n,e=L(e,n),t=L(t,n);var a=(r=this.adjustMinMax(e,t,i,this._gridCount,!0)).step;if(this.syncWithAxis){var o=this.getCache(e+"-"+t);T(o)&&(a=o)}else e=r.min,t=r.max;(this._minZoomed!=e||this._maxZoomed!=t||this._step!=a||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=t,this._step=a,this.dispatchImmediately("selectionextremeschanged"))}},t.prototype.fixSmallStep=function(e){return 1+e==1?(e*=2,this.fixSmallStep(e)):e},t.prototype.validateAxisElements=function(){var e=this;if(T(this.max)&&T(this.min)){var t=this.minZoomed-2*this._step;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(t=Math.floor(this.minZoomed/this._step)*this._step)&&(t=this.minZoomed);else t=Math.floor(t/this._step)*this._step;var i=this._maxZoomed+this._step;this.resetIterators();var r=this._dataItemsIterator;if(0==this._step)return;this._step=this.fixSmallStep(this._step);var n=0,a=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;t<=i;){if(!this.isInBreak(t)){var o=r.find((function(e){return e.value===t}));o.__disabled&&(o.__disabled=!1),this.appendDataItem(o),o.axisBreak=void 0,(o.value!=t||a)&&(o.value=t,o.text=this.formatLabel(t),o.label&&o.label.invalid&&o.label.validate(),o.value>=this.min&&o.value<=this.max&&o.label&&("Y"==this.axisLetter&&o.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&o.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=o.label.currentText,this.ghostLabel.validate())),this.validateDataElement(o)}n++;var s=t;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E+n):t+=this._step;else t+=this._step;var l=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(l<1){var u=Math.round(Math.abs(Math.log(Math.abs(l))*Math.LOG10E))+2;if(u=Math.min(13,u),s==(t=R(t,u))){t=i;break}}}var c=this._axisBreaks;if(c){var h=this.renderer;Xe(c.iterator(),(function(t){if(t.breakSize>0&&$(t.startPoint,t.endPoint)>h.minGridDistance)for(var i=t.adjustedMin;i<=t.adjustedMax;){if(i>=t.adjustedStartValue&&i<=t.adjustedEndValue){var n=r.find((function(e){return e.value===i}));n.__disabled&&(n.__disabled=!1),e.appendDataItem(n),n.axisBreak=t,n.value!=i&&(n.value=i,n.text=e.formatLabel(i),n.label&&n.label.invalid&&n.label.validate()),e.validateDataElement(n)}i+=t.adjustedStep}}))}}},t.prototype.validateDataElement=function(t){e.prototype.validateDataElement.call(this,t),t.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,r=t.value,n=t.endValue,a=this.valueToPosition(r);t.position=a;var o=a,s=this.valueToPosition(r+this._step);T(n)&&(s=o=this.valueToPosition(n)),t.point=i.positionToPoint(a);var l=t.tick;l&&!l.disabled&&i.updateTickElement(l,a,o);var u=t.grid;u&&!u.disabled&&i.updateGridElement(u,a,o);var c=t.label;c&&!c.disabled&&i.updateLabelElement(c,a,o);var h=t.axisFill;h&&!h.disabled&&(i.updateFillElement(h,a,s),t.isRange||this.fillRule(t)),t.bullet&&i.updateBullet(t.bullet,a,o);var d=t.mask;d&&i.updateFillElement(d,a,s)},t.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&0!=e?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(t.prototype,"basePoint",{get:function(){var e=this.baseValue,t=this.valueToPosition(e);return this.renderer.positionToPoint(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),t.prototype.anyToPosition=function(e){return this.valueToPosition(e)},t.prototype.valueToPoint=function(e){var t=this.valueToPosition(e),i=this.renderer.positionToPoint(t),r=this.renderer.positionToAngle(t);return{x:i.x,y:i.y,angle:r}},t.prototype.anyToPoint=function(e){return this.valueToPoint(e)},t.prototype.valueToPosition=function(e){if(T(e)){var t=this.min,i=this.max;if(T(t)&&T(i)){var r=this._difference,n=this._axisBreaks;n&&n.length>0&&Ke(n.iterator(),(function(r){var n=r.adjustedStartValue,a=r.adjustedEndValue;if(T(n)&&T(a)){if(e<n)return!1;if(G({start:n,end:a},{start:t,end:i})){n=Math.max(n,t),a=Math.min(a,i);var o=r.breakSize;e>a?t+=(a-n)*(1-o):e<n||(e=n+(e-n)*o)}}return!0}));var a=void 0;if(this.logarithmic){var o=this.treatZeroAs;T(o)&&e<=o&&(e=o),a=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}else a=(e-t)/r;return a}}return 0},t.prototype.invalidateLabels=function(){e.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(e){e.value=void 0})),this.invalidate())},t.prototype.positionToValue=function(e){var t=this.min,i=this.max;if(T(t)&&T(i)){var r=i-t,n=null,a=this._axisBreaks;return a&&a.length>0&&Ke(a.iterator(),(function(a){var o=a.startPosition,s=a.endPosition,l=a.adjustedStartValue,u=a.adjustedEndValue;if(T(l)&&T(u)){if(l>i)return!1;if(G({start:l,end:u},{start:t,end:i})){l=z(l,t),u=H(u,i);var c=a.breakSize;if(r-=(u-l)*(1-c),e>s)t+=(u-l)*(1-c);else if(!(e<o))return n=l+(e-o)/(s-o)*(u-l),!1}return!0}})),T(n)||(n=this.logarithmic?Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):e*r+t),n}},t.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},t.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},t.prototype.pointToPosition=function(e){return this.renderer instanceof xp?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},t.prototype.animateMinMax=function(e,t){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing)},t.prototype.getMinMax=function(){var e=this;this.updateGridCount();var t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(T(this._minDefined)&&T(this._maxDefined)||(this.series.each((function(r){if(!r.ignoreMinMax){var n=r.min(e);T(n)&&n<t&&(t=n);var a=r.max(e);T(a)&&a>i&&(i=a)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(e){if(!e.ignoreMinMax){var r=H(e.value,e.endValue),n=z(e.value,e.endValue);(r<t||!T(t))&&(t=r),(n>i||!T(i))&&(i=n)}}))),this.logarithmic){var r=this.treatZeroAs;T(r)&&t<=0&&(t=r),t<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(0==t&&0==i&&(i=.9,t=-.9),T(this._minDefined)&&(t=this._minDefined),T(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(i=this._adapterO.apply("max",i)),T(t)&&T(i)){this._minReal=t,this._maxReal=i,t==Number.POSITIVE_INFINITY&&(t=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var n=this.adjustDifference(t,i);if(t=this.fixMin(t),(i=this.fixMax(i))-t<=1/Math.pow(10,15)){if(i-t!=0)this._deltaMinMax=(i-t)/2;else{var a=Math.log(Math.abs(i))*Math.LOG10E,o=Math.pow(10,Math.floor(a));o/=10,this._deltaMinMax=o}t-=this._deltaMinMax,i+=this._deltaMinMax}t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax;var s=this.strictMinMax;T(this._maxDefined)&&(s=!0);var l=this.adjustMinMax(t,i,n,this._gridCount,s);if(t=l.min,n=(i=l.max)-t,l=this.adjustMinMax(t,i,i-t,this._gridCount,!0),t=l.min,i=l.max,this.strictMinMax&&(t=T(this._minDefined)?this._minDefined:this._minReal,(i=T(this._maxDefined)?this._maxDefined:this._maxReal)-t<=1e-8&&(t-=this._deltaMinMax,i+=this._deltaMinMax),t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=l.step,T(t)||T(i)||(this.start=0,this.end=1,this.renderer.labels.each((function(e){e.dataItem.text=""}))),(this._minAdjusted!=t||this._maxAdjusted!=i)&&T(t)&&T(i)){var u=this._minMaxAnimation;if(this._extremesChanged&&T(this._minAdjusted)&&T(this._maxAdjusted)&&this.inited){if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==t)return;this._finalMin=t,this._finalMax=i,(u=this.animateMinMax(t,i))&&!u.isFinished()?(u.events.on("animationprogress",this.validateDataItems,this),u.events.on("animationended",(function(){e.series.each((function(e){e.validate()})),e.validateDataItems(),e.handleSelectionExtremesChange()})),this._minMaxAnimation=u):this.series.each((function(e){e.invalidate()})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==t)return;this._minAdjusted=t,this._maxAdjusted=i,this._finalMin=t,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(t,i)}},t.prototype.fixMin=function(e){return e},t.prototype.fixMax=function(e){return e},t.prototype.adjustMinMax=function(e,t,i,r,n){r<=1&&(r=1),r=Math.round(r);var a=e,o=t;0===i&&(i=Math.abs(t));var s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),u=l/=10;n&&(u=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),t==-1/0&&(t=10),this.strictMinMax?(e=this._minDefined>0?this._minDefined:e,this._maxDefined>0&&(t=t)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),t=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E)))):(n?(e=Math.floor(e/l)*l,t=Math.ceil(t/l)*l):(e=Math.ceil(e/l)*l-u,t=Math.floor(t/l)*l+u),e<0&&a>=0&&(e=0),t>0&&o<=0&&(t=0)),s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),l/=10;var c=Math.ceil(i/r/l)*l,h=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),d=Math.ceil(c/h);d>5?d=10:d<=5&&d>2&&(d=5),c=Math.ceil(c/(h*d))*h*d,this.maxPrecision<Number.MAX_VALUE&&c!=R(c,this.maxPrecision)&&(c=R(c,this.maxPrecision));var p=0;if(h<1&&(c=L(c,p=Math.round(Math.abs(Math.log(Math.abs(h))*Math.LOG10E))+1)),!this.logarithmic){var f=Math.floor(e/c);e=L(c*f,p);var m=void 0;(m=n?Math.floor(t/c):Math.ceil(t/c))==f&&m++,(t=L(c*m,p))<o&&(t+=c),e>a&&(e-=c)}return{min:e,max:t,step:c}},Object.defineProperty(t.prototype,"min",{get:function(){var e=this._minAdjusted;return T(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){var e=this._maxAdjusted;return T(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.registerSeries=function(t){return new we([e.prototype.registerSeries.call(this,t),t.events.on("extremeschanged",this.handleExtremesChange,this,!1),t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",t.invalidate,t,!1)])},t.prototype.handleSelectionExtremesChange=function(){var e,t,i=this,r=!0;if(Xe(this.series.iterator(),(function(n){if(!n.ignoreMinMax&&!n.isHidden&&!n.outOfRange){n.visible&&!n.isHiding&&(r=!1);var a=n.selectionMin(i),o=n.selectionMax(i);T(a)&&(!T(e)||a<e)&&(e=a),T(o)&&(!T(t)||o>t)&&(t=o)}})),this.includeRangesInMinMax&&this.axisRanges.each((function(i){if(!i.ignoreMinMax){var r=H(i.value,i.endValue),n=z(i.value,i.endValue);r<e&&(e=r),n>t&&(t=n)}})),T(this._minDefined)?e=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(e=this._minReal),T(this._maxDefined)?t=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(t=this._maxReal),e==t){e-=this._deltaMinMax,t+=this._deltaMinMax;var n=this.adjustMinMax(e,t,0,this._gridCount,this.strictMinMax);e=n.min,t=n.max}var a=this.adjustDifference(e,t),o=this.adjustMinMax(e,t,a,this._gridCount);e=o.min,t=o.max,e-=(t-e)*this.extraMin,t+=(t-e)*this.extraMax,e=V(e,this.min,this.max),t=V(t,this.min,this.max),a=this.adjustDifference(e,t),o=this.adjustMinMax(e,t,a,this._gridCount,!0),e=o.min,t=o.max,this.strictMinMax&&(e=z(e,this._minDefined),t=H(t,this._maxDefined));var s=o.step;this.syncWithAxis&&(o=this.syncAxes(e,t,s),e=o.min,t=o.max,this.invalidate()),s=o.step,this._difference=this.adjustDifference(this.min,this.max);var l=this.valueToPosition(e),u=this.valueToPosition(t);r&&!this.syncWithAxis&&(l=0,u=1);var c=0;this.syncWithAxis?(c=5,this.setCache(e+"-"+t,s)):(this._step==s&&this._minZoomed==e&&this._maxZoomed==t||(this._dsc=!0),this._step=s,this._minZoomed=e,this._maxZoomed=t),this.keepSelection||this.zoom({start:l,end:u},!1,!1,c)},Object.defineProperty(t.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each((function(e){e.invalidateDataItems()})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.handleExtremesChange=function(){var e=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){this.dataItems.each((function(t){t.label&&t.label.pixelWidth>0&&(e.ghostLabel.text=t.label.currentText)}))}},t.prototype.getX=function(e,t,i,r,n){return this.renderer.positionToPoint(this.getPositionX(e,t,i,r,n)).x},t.prototype.getPositionX=function(e,t,i,r,n){var a=e.getWorkingValue(t);_(r)||(r="valueX");var o=e.getValue(r,"stack");T(a)||(a=this.baseValue,this.logarithmic&&o>0&&(a=0));var s=this.valueToPosition(a+o);return n&&(s=V(s,n.start,n.end)),s},t.prototype.getY=function(e,t,i,r,n){return this.renderer.positionToPoint(this.getPositionY(e,t,i,r,n)).y},t.prototype.getPositionY=function(e,t,i,r,n){var a=e.getWorkingValue(t);_(r)||(r="valueY");var o=e.getValue(r,"stack");T(a)||(a=this.baseValue,this.logarithmic&&o>0&&(a=0));var s=this.valueToPosition(a+o);return n&&(s=V(s,n.start,n.end)),s},t.prototype.getAngle=function(e,t,i,r,n){var a=e.getWorkingValue(t),o=e.getValue(r,"stack");T(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return n&&(s=V(s,n.start,n.end)),this.positionToAngle(s)},t.prototype.getAnyRangePath=function(e,t,i){var r=this.valueToPosition(e),n=this.valueToPosition(t);return this.getPositionRangePath(r,n)},t.prototype.getTooltipText=function(e){var t=L(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(t);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},t.prototype.zoomToValues=function(e,t,i,r){var n=(e-this.min)/(this.max-this.min),a=(t-this.min)/(this.max-this.min);this.zoom({start:n,end:a},i,r)},Object.defineProperty(t.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:z(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:H(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),t.prototype.fixAxisBreaks=function(){var t=this;e.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(e){var i=e.adjustedStartValue,r=e.adjustedEndValue,n=r-i,a=Math.ceil(n*e.breakSize)*t._gridCount/(t.max-t.min),o=t.adjustMinMax(i,r,n,a,!0);e.adjustedStep=o.step,e.adjustedMin=o.min,e.adjustedMax=o.max})),this._difference=this.adjustDifference(this.min,this.max)},t.prototype.getPositionLabel=function(e){var t=this.positionToValue(e);return this.numberFormatter.format(t)},t.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.min=t.min,this.max=t.max,this.calculateTotals=t.calculateTotals,this._baseValue=t.baseValue},Object.defineProperty(t.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var t=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){t.clearCache(),t._disposers.push(lt.events.once("exitframe",(function(){t.handleSelectionExtremesChange()})))}),this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),t.prototype.syncAxes=function(e,t,i){var r=this.syncWithAxis;if(r){T(e)||(e=this.min),T(t)||(t=this.max),T(i)||(i=this._step);var n=Math.round((r.maxZoomed-r.minZoomed)/r.step),a=Math.round((t-e)/i);if(T(n)&&T(a))for(var o=!1,s=0,l=.01*(t-e),u=e,c=t,h=i;1!=o;)if(o=this.checkSync(u,c,h,n),++s>1e3&&(o=!0),o)e=u,t=c,i=h;else{s/3==Math.round(s/3)?(u=e-l*s,e>=0&&u<0&&(u=0)):(c=t+l*s)<=0&&c>0&&(c=0);var d=this.adjustMinMax(u,c,c-u,this._gridCount,!0);u=d.min,c=d.max,h=d.step}}return{min:e,max:t,step:i}},t.prototype.checkSync=function(e,t,i,r){for(var n=(t-e)/i,a=1;a<r;a++)if(L(n/a,1)==r||n*a==r)return!0;return!1},t.prototype.processConfig=function(t){t&&_(t.syncWithAxis)&&A(t.syncWithAxis)&&(this.map.hasKey(t.syncWithAxis)?t.syncWithAxis=this.map.getKey(t.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+t.syncWithAxis+'" found for `syncWithAxis`'),delete t.xAxis)),e.prototype.processConfig.call(this,t)},t}(hp);lt.registeredClasses.ValueAxis=_p,lt.registeredClasses.ValueAxisDataItem=Pp;var Cp=function(e){function t(){var t=e.call(this)||this;return t.className="DateAxisBreak",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Sp);lt.registeredClasses.DateAxisBreak=Cp;var wp=function(e){function t(){var t=e.call(this)||this;return t.className="DateAxisDataItem",t.applyTheme(),t.values.date={},t.values.endDate={},t}return s(t,e),Object.defineProperty(t.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),t}(Pp),Ip=function(e){function t(){var t=e.call(this)||this;return t._gapBreaks=!1,t.gridIntervals=new pt,t.groupIntervals=new pt,t.dateFormats=new at,t.periodChangeDateFormats=new at,t._baseIntervalReal={timeUnit:"day",count:1},t._prevSeriesTime={},t._minDifference={},t._firstWeekDay=1,t.groupMin={},t.groupMax={},t.className="DateAxis",t.setPropertyValue("markUnitChange",!0),t.snapTooltip=!0,t.tooltipPosition="pointer",t.setPropertyValue("groupData",!1),t.groupCount=200,t.events.on("parentset",t.getDFFormatter,t,!1),t.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),t.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),t.axisFieldName="date",t.applyTheme(),t}return s(t,e),t.prototype.fillRule=function(e){var t=e.value,i=e.component,r=i._gridInterval,n=Pr(r.timeUnit,r.count);Math.round((t-i.min)/n)/2==Math.round(Math.round((t-i.min)/n)/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},t.prototype.createDataItem=function(){return new wp},t.prototype.createAxisBreak=function(){return new Cp},t.prototype.validateDataItems=function(){var t=this.start,i=this.end,r=this.baseDuration,n=(this.max-this.min)/r;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),e.prototype.validateDataItems.call(this);var a=Pr(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/a),this._deltaMinMax=this.baseDuration/2,t+=(i-t)*(1-n/((this.max-this.min)/r)),this.zoom({start:t,end:i},!1,!0)},t.prototype.handleSelectionExtremesChange=function(){},t.prototype.calculateZoom=function(){var t=this;e.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),r=!1;if(this.groupData&&_(i)){var n=this.mainBaseInterval,a=i+(this.startLocation+(1-this.endLocation))*this.baseDuration,o=void 0;this.groupInterval?o=l({},this.groupInterval):Pr((o=this.chooseInterval(0,a,this.groupCount,this.groupIntervals)).timeUnit,o.count)<Pr(n.timeUnit,n.count)&&(o=l({},n)),this._groupInterval=o;var s=o.timeUnit+o.count;this._currentDataSetId!=s&&(this._currentDataSetId=s,this.dispatch("groupperiodchanged")),this.series.each((function(e){e.baseAxis==t&&e.setDataSet(t._currentDataSetId)&&(r=!0)}))}var u=this.chooseInterval(0,i,this._gridCount);Pr(u.timeUnit,u.count)<this.baseDuration&&(u=l({},this.baseInterval)),this._gridInterval=u,this._nextGridUnit=Sr(u.timeUnit),this._intervalDuration=Pr(u.timeUnit,u.count),this._gridDate=Ar(new Date(this.minZoomed-Pr(u.timeUnit,u.count)),u.timeUnit,u.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),Xe(this.series.iterator(),(function(e){if(e.baseAxis==t){var i=e.getAxisField(t),n=Ar(new Date(t._minZoomed+.05*t.baseDuration),t.baseInterval.timeUnit,t.baseInterval.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone).getTime(),a=n.toString(),o=e.dataItemsByAxis.getKey(t.uid).getKey(a+e.currentDataSetId),s=0;0!=t.start&&(s=o?(o=t.findFirst(o,n,i)).index:e.dataItems.findClosestIndex(t._minZoomed,(function(e){return e[i]}),"left"));var l=t.baseInterval,u=Ir(Ar(new Date(t._maxZoomed),l.timeUnit,l.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone),l.timeUnit,l.count,t._df.utc).getTime(),c=u.toString(),h=e.dataItemsByAxis.getKey(t.uid).getKey(c+e.currentDataSetId),d=e.dataItems.length;1!=t.end&&(h?d=h.index:(u-=1,d=e.dataItems.findClosestIndex(u,(function(e){return e[i]}),"right"),d++)),e.max(t)<n?(e.startIndex=e.dataItems.length,e.endIndex=e.dataItems.length,e.outOfRange=!0):e.min(t)>u?(e.startIndex=0,e.endIndex=0,e.outOfRange=!0):(e.outOfRange=!1,e.startIndex=s,e.endIndex=d),!r&&e.dataRangeInvalid&&e.validateDataRange()}}))},t.prototype.findFirst=function(e,t,i){var r=e.index;if(r>0){var n=e.component.dataItems.getIndex(r-1),a=n[i];return!a||a.getTime()<t?e:this.findFirst(n,t,i)}return e},t.prototype.validateData=function(){e.prototype.validateData.call(this),T(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(t.prototype,"minDifference",{get:function(){var e=this,t=Number.MAX_VALUE;return this.series.each((function(i){t>e._minDifference[i.uid]&&(t=e._minDifference[i.uid])})),t!=Number.MAX_VALUE&&0!=t||(t=Pr("day")),t},enumerable:!0,configurable:!0}),t.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},t.prototype.postProcessSeriesDataItems=function(e){var t=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each((function(e){t.seriesGroupUpdate(e)})),this.addEmptyUnitsBreaks()},t.prototype.seriesGroupUpdate=function(e){var t=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each((function(e){t.postProcessSeriesDataItem(e)})),this.groupData&&this.groupSeriesData(e))},t.prototype.groupSeriesData=function(e){var t=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var i=[],r=this.mainBaseInterval,n=Pr(r.timeUnit,r.count);this.groupIntervals.each((function(e){var r=Pr(e.timeUnit,e.count);(r>n&&r<t.max-t.min||t.groupInterval)&&i.push(e)})),e._dataSets&&(e._dataSets.each((function(e,t){t.each((function(e){e.dispose()})),t.clear()})),e._dataSets.clear()),e.dataGrouped=!0,de(i,(function(i){var r="date"+t.axisLetter,n=i.timeUnit+i.count,a=new gt(e.mainDataSet.template.clone());e.dataSets.setKey(n,a);var o,s,l=e.mainDataSet,u=Number.NEGATIVE_INFINITY,c=0,h=[];ze(e.dataFields,(function(e,t){var i=e;i!=r&&-1==i.indexOf("Show")&&h.push(i)})),l.each((function(n){var l=n.getDate(r);if(l){var d=l.getTime(),p=(s=Ar(new Date(d),i.timeUnit,i.count,t._df.firstDayOfWeek,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone)).getTime();u<p?(o&&e._adapterO&&de(h,(function(t){o.values[t].value=e._adapterO.apply("groupDataItem",{dataItem:o,interval:i,dataField:t,date:s,value:o.values[t].value}).value,o.values[t].workingValue=o.values[t].value})),(o=a.create()).dataContext={},o.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),o.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),o.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),o.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),o.component=e,o.setDate(r,s),o._index=c,c++,de(h,(function(t){var r=n.values[t];if(r){var a=r.value;e._adapterO&&(a=e._adapterO.apply("groupValue",{dataItem:n,interval:i,dataField:t,date:s,value:a}).value);var l=o.values[t];T(a)?(l.value=a,l.workingValue=a,l.open=a,l.close=a,l.low=a,l.high=a,l.sum=a,l.average=a,l.count=1):l.count=0}})),t.postProcessSeriesDataItem(o,i),ze(e.propertyFields,(function(e,t){var i=e,r=n.properties[e];_(r)&&(o.hasProperties=!0,o.setProperty(i,r))})),o.groupDataItems=[n],u=p):o&&(de(h,(function(t){var r=e.groupFields[t],a=n.values[t];if(a){var l=a.value;if(e._adapterO&&(l=e._adapterO.apply("groupValue",{dataItem:n,interval:i,dataField:t,date:s,value:l}).value),T(l)){var u=o.values[t];T(u.open)||(u.open=l),u.close=l,(u.low>l||!T(u.low))&&(u.low=l),(u.high<l||!T(u.high))&&(u.high=l),T(u.sum)?u.sum+=l:u.sum=l,u.count++,u.average=u.sum/u.count,T(u[r])&&(u.value=u[r],u.workingValue=u.value)}}})),Lt(n.properties,o.properties),ze(e.propertyFields,(function(e,t){var i=e,r=n.properties[e];_(r)&&(o.hasProperties=!0,o.setProperty(i,r))})),o.groupDataItems.push(n))}o&&Lt(n.dataContext,o.dataContext)})),o&&e._adapterO&&de(h,(function(t){o.values[t].value=e._adapterO.apply("groupDataItem",{dataItem:o,interval:i,dataField:t,date:s,value:o.values[t].value}).value,o.values[t].workingValue=o.values[t].value}))})),this.calculateZoom()}},t.prototype.getDFFormatter=function(){this._df=this.dateFormatter},t.prototype.postProcessSeriesDataItem=function(e,t){var i=this,r="";t?r=t.timeUnit+t.count:t=this.mainBaseInterval;var n=e.component.dataItemsByAxis.getKey(this.uid);ze(e.dates,(function(a){var o=e.getDate(a).getTime(),s=Ar(new Date(o),t.timeUnit,t.count,i._firstWeekDay,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone).getTime(),l=Ir(new Date(s),t.timeUnit,t.count,i._df.utc);e.setCalculatedValue(a,s,"open"),e.setCalculatedValue(a,l.getTime(),"close"),n.setKey(s+r,e)}))},t.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&T(this.min)&&T(this.max)){var t=this.baseInterval.timeUnit,i=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var r=Ar(new Date(this.min),t,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),n=void 0,a=function(){Ir(r,t,i,o._df.utc);var a=r.getTime(),s=a.toString();et(o.series.iterator(),(function(t){return!!t.dataItemsByAxis.getKey(e.uid).getKey(s+t.currentDataSetId)}))?n&&(n.endDate=new Date(a-1),n=void 0):n||((n=o.axisBreaks.create()).startDate=new Date(a),o._gapBreaks=!0)},o=this;r.getTime()<this.max-this.baseDuration;)a()}},t.prototype.fixAxisBreaks=function(){var t=this;e.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(e){var i=Math.ceil(t._gridCount*(Math.min(t.end,e.endPosition)-Math.max(t.start,e.startPosition))/(t.end-t.start));e.gridInterval=t.chooseInterval(0,e.adjustedEndValue-e.adjustedStartValue,i);var r=Ar(new Date(e.adjustedStartValue),e.gridInterval.timeUnit,e.gridInterval.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone);r.getTime()>e.startDate.getTime()&&Ir(r,e.gridInterval.timeUnit,e.gridInterval.count,t._df.utc),e.gridDate=r}))},t.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},t.prototype.getGridDate=function(e,t){var i=this._gridInterval.timeUnit,r=this._gridInterval.count;Ar(e,i,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var n=e.getTime(),a=Cr(e),o=Ir(a,i,t,this._df.utc).getTime(),s=this.isInBreak(o);s&&s.endDate&&(Ar(a=new Date(s.endDate.getTime()),i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),a.getTime()<s.endDate.getTime()&&Ir(a,i,r,this._df.utc),o=a.getTime());var l=this.adjustDifference(n,o);return Math.round(l/Pr(i))<r?this.getGridDate(e,t+r):a},t.prototype.getBreaklessDate=function(e,t,i){var r=new Date(e.endValue);Ar(r,t,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Ir(r,t,i,this._df.utc);var n=r.getTime();return(e=this.isInBreak(n))?this.getBreaklessDate(e,t,i):r},t.prototype.validateAxisElements=function(){var e=this;if(T(this.max)&&T(this.min)){this.calculateZoom();var t=this._gridDate.getTime(),i=this._gridInterval.timeUnit,r=this._gridInterval.count,n=Cr(this._gridDate),a=this._dataItemsIterator;this.resetIterators();for(var o=function(){var e=s.getGridDate(Cr(n),r);t=e.getTime();var o=Cr(e);o=Ir(o,i,r,s._df.utc);var l=s.dateFormats.getKey(i);s.markUnitChange&&n&&wr(e,n,s._nextGridUnit,s._df.utc)&&"year"!==i&&(l=s.periodChangeDateFormats.getKey(i));var u=s._df.format(e,l),c=a.find((function(e){return e.text===u}));c.__disabled&&(c.__disabled=!1),s.appendDataItem(c),c.axisBreak=void 0,c.date=e,c.endDate=o,c.text=u,s.validateDataElement(c),n=e},s=this;t<=this._maxZoomed;)o();var l=this.renderer;this._axisBreaks&&Xe(this._axisBreaks.iterator(),(function(t){if(t.breakSize>0){var i=t.gridInterval.timeUnit,r=t.gridInterval.count;if($(t.startPoint,t.endPoint)>4*l.minGridDistance)for(var n,o=t.gridDate.getTime(),s=0,u=function(){var l=Cr(t.gridDate);if(o=Ir(l,i,r*s,e._df.utc).getTime(),s++,o>t.adjustedStartValue&&o<t.adjustedEndValue){var u=Cr(l);u=Ir(u,i,r,e._df.utc);var c=e.dateFormats.getKey(i);e.markUnitChange&&n&&wr(l,n,e._nextGridUnit,e._df.utc)&&"year"!==i&&(c=e.periodChangeDateFormats.getKey(i));var h=e._df.format(l,c),d=a.find((function(e){return e.text===h}));d.__disabled&&(d.__disabled=!1),e.appendDataItem(d),d.axisBreak=t,t.dataItems.moveValue(d),d.date=l,d.endDate=u,d.text=h,n=l,e.validateDataElement(d)}};o<=t.adjustedMax;)u()}}))}},t.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,T(this.max)&&T(this.min)){var t=this.renderer,i=e.value,r=e.endValue;T(r)||(r=i);var n=this.valueToPosition(i),a=this.valueToPosition(r),o=a;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(a=n+(a-n)/(this._gridInterval.count/this.baseInterval.count)),e.position=n;var s=e.tick;s&&!s.disabled&&t.updateTickElement(s,n,a);var l=e.grid;l&&!l.disabled&&t.updateGridElement(l,n,a);var u=e.axisFill;u&&!u.disabled&&(t.updateFillElement(u,n,o),e.isRange||this.fillRule(e));var c=e.mask;c&&t.updateFillElement(c,n,a),e.bullet&&t.updateBullet(e.bullet,n,a);var h=e.label;if(h&&!h.disabled){var d=h.location;0==d&&(d=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||e.isRange?0:.5),t.updateLabelElement(h,n,a,d)}}},Object.defineProperty(t.prototype,"baseDuration",{get:function(){return Pr(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),t.prototype.adjustMinMax=function(e,t){return{min:e,max:t,step:this.baseDuration}},t.prototype.fixMin=function(e){var t=this.baseInterval,i=Ar(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return i+(Ir(new Date(i),t.timeUnit,t.count,this._df.utc).getTime()-i)*this.startLocation},t.prototype.fixMax=function(e){var t=this.baseInterval,i=Ar(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return i+(Ir(new Date(i),t.timeUnit,t.count,this._df.utc).getTime()-i)*this.endLocation},t.prototype.chooseInterval=function(e,t,i,r){r||(r=this.gridIntervals);var n=r.getIndex(e),a=Pr(n.timeUnit,n.count),o=r.length-1;if(e>=o)return l({},r.getIndex(o));var s=Math.ceil(t/a);return t<a&&e>0?l({},r.getIndex(e-1)):s<=i?l({},r.getIndex(e)):e+1<r.length?this.chooseInterval(e+1,t,i,r):l({},r.getIndex(e))},t.prototype.formatLabel=function(e){return this._df.format(e)},t.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},t.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},t.prototype.dateToPoint=function(e){var t=this.dateToPosition(e),i=this.renderer.positionToPoint(t),r=this.renderer.positionToAngle(t);return{x:i.x,y:i.y,angle:r}},t.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},t.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},t.prototype.getPositionX=function(e,t,i,r,n){var a=this.getTimeByLocation(e,t,i);T(a)||(a=this.baseValue);var o=this.valueToPosition(a);return n&&(o=V(o,n.start,n.end)),o},t.prototype.getPositionY=function(e,t,i,r,n){var a=this.getTimeByLocation(e,t,i),o=e.getValue("valueX","stack");T(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return n&&(s=V(s,n.start,n.end)),s},t.prototype.getAngle=function(e,t,i,r,n){var a=this.getTimeByLocation(e,t,i),o=e.getValue(r,"stack");T(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return n&&(s=V(s,n.start,n.end)),this.positionToAngle(s)},t.prototype.getTimeByLocation=function(e,t,i){if(_(t)){T(i)||T(i=e.workingLocations[t])||(i=0);var r=e.values[t].open,n=e.values[t].close,a=e.values[t].workingValue,o=e.values[t].value-a;return n-=o,T(r-=o)&&T(n)?r+(n-r)*i:void 0}},t.prototype.processSeriesDataItem=function(e,t){var i,r=e.component,n=e["date"+t];if(T(this.timezoneOffset)?(n.setTime(n.getTime()+6e4*(n.getTimezoneOffset()-this.timezoneOffset)),e.setValue("date"+t,n.getTime(),0)):_(this.timezone)&&(n=Tr(n,this.timezone),e.setValue("date"+t,n.getTime(),0),e["date"+t]=n),n){i=n.getTime();var a,o=e["openDate"+t],s=this._prevSeriesTime[r.uid];if(o&&(a=o.getTime()),T(a)){var l=Math.abs(i-a);this._minDifference[r.uid]>l&&(this._minDifference[r.uid]=l)}var u=i-s;u>0&&this._minDifference[r.uid]>u&&(this._minDifference[r.uid]=u),this._prevSeriesTime[r.uid]=i,r._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)}},t.prototype.updateAxisBySeries=function(){e.prototype.updateAxisBySeries.call(this);var t=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Pr("day",27)&&"week"==t.timeUnit&&(t.timeUnit="month",t.count=1),"month"==t.timeUnit&&(this.minDifference>=Pr("day",58)&&1==t.count&&(t.count=2),this.minDifference>=Pr("day",87)&&2==t.count&&(t.count=3),this.minDifference>=Pr("day",174)&&5==t.count&&(t.count=6)),this.minDifference>=Pr("hour",23)&&"hour"==t.timeUnit&&(t.timeUnit="day",t.count=1),this.minDifference>=Pr("week",1)-Pr("hour",1)&&"day"==t.timeUnit&&(t.timeUnit="week",t.count=1),this.minDifference>=Pr("year",1)-Pr("day",1.01)&&"month"==t.timeUnit&&(t.timeUnit="year",t.count=1),this._baseIntervalReal=t,this._mainBaseInterval=t},Object.defineProperty(t.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,T(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var t=this.axisBreaks.template;t.startLine.disabled=!0,t.endLine.disabled=!0,t.fillShape.disabled=!0,t.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var t,i=this.positionToDate(e);if(i=Ar(i,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=i,_(this.tooltipDateFormat))t=this._df.format(i,this.tooltipDateFormat);else{var r=this.dateFormats.getKey(this.baseInterval.timeUnit);t=r?this._df.format(i,r):this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",t):t},t.prototype.roundPosition=function(e,t,i){var r=this.baseInterval,n=r.timeUnit,a=r.count,o=this.positionToDate(e);if(Ar(o,n,a,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),t>0&&Ir(o,n,t*a,this._df.utc),i>0&&i<1&&o.setTime(o.getTime()+this.baseDuration*i),this.isInBreak(o.getTime()))for(;o.getTime()<this.max&&(Ir(o,n,a,this._df.utc),this.isInBreak(o.getTime())););return this.dateToPosition(o)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getSeriesDataItem=function(e,t,i){var r=this.positionToValue(t),n=r-("Y"==this.axisLetter?e.dataItems.template.locations.dateY:e.dataItems.template.locations.dateX)*this.baseDuration,a=Ar(new Date(r),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o=Ar(new Date(r+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);o.getTime()>a.getTime()&&Math.abs(o.getTime()-n)<Math.abs(n-a.getTime())&&(a=o);var s,l=e.dataItemsByAxis.getKey(this.uid).getKey(a.getTime()+e.currentDataSetId);!l&&i&&(s="Y"==this.axisLetter?"dateY":"dateX",l=e.dataItems.getIndex(e.dataItems.findClosestIndex(a.getTime(),(function(e){return e[s]?e[s].getTime():-1/0}),"any")));return l},t.prototype.getPositionLabel=function(e){var t=this.positionToDate(e);return this._df.format(t,this.getCurrentLabelFormat())},t.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},t.prototype.initRenderer=function(){e.prototype.initRenderer.call(this);var t=this.renderer;t&&(t.ticks.template.location=0,t.grid.template.location=0,t.labels.template.location=0,t.baseGrid.disabled=!0)},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.animateMinMax=function(e,t){var i=this,r=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing);return r.events.on("animationprogress",(function(){i.dispatch("extremeschanged")})),r},t.prototype.handleExtremesChange=function(){if(e.prototype.handleExtremesChange.call(this),this.groupData){var t=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[t]=this._finalMin,this.groupMax[t]=this._finalMax}},t.prototype.zoomToDates=function(e,t,i,r,n){e=this._df.parse(e),t=this._df.parse(t),this.zoomToValues(e.getTime(),t.getTime(),i,r,n)},t.prototype.zoomToValues=function(e,t,i,r,n){var a=this;if(this.groupData){var o=this.adjustDifference(e,t),s=!1;t==this.max&&(s=!0);var u=!1;if(e==this.min&&(u=!0),_(o)){var c=this.mainBaseInterval,h=this.chooseInterval(0,o,this.groupCount,this.groupIntervals);(h.timeUnit==c.timeUnit&&h.count<c.count||Pr(h.timeUnit,1)<Pr(c.timeUnit,1))&&(h=l({},c));var d=h.timeUnit+h.count,p=this.groupMin[d],f=this.groupMax[d];T(p)&&T(f)||(p=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,this.series.each((function(e){var t=e.min(a),i=e.max(a);if(e._dataSets){var r=e._dataSets.getKey(h.timeUnit+h.count);if(r){var n=r.getIndex(0),o=r.getIndex(r.length-1);n&&(e.xAxis==a?t=n.dateX.getTime():e.yAxis==a&&(t=n.dateY.getTime())),o&&(e.xAxis==a?i=o.dateX.getTime():e.yAxis==a&&(i=o.dateY.getTime()))}}i=Ar(Ir(new Date(i),h.timeUnit,1,a._df.utc),h.timeUnit,1,a._df.firstDayOfWeek,a._df.utc,void 0,a._df.timezoneMinutes,a._df.timezone).getTime(),t<p&&(p=t),i>f&&(f=i)})),this.groupMin[d]=p,this.groupMax[d]=f),e=V(e,p,f),t=V(t,p,f),n&&(s&&(e=V(e=t-o,p,f)),u&&(t=V(t=e+o,p,f)));m=(e-p)/(f-p),y=(t-p)/(f-p);this.zoom({start:m,end:y},i,r)}}else{var m=(e-this.min)/(this.max-this.min),y=(t-this.min)/(this.max-this.min);this.zoom({start:m,end:y},i,r)}},t.prototype.asIs=function(t){return"baseInterval"==t||e.prototype.asIs.call(this,t)},t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),this.dateFormats=t.dateFormats,this.periodChangeDateFormats=t.periodChangeDateFormats,this.groupIntervals.clear(),t.groupIntervals.each((function(e){i.groupIntervals.push(l({},e))})),this.gridIntervals.clear(),t.gridIntervals.each((function(e){i.gridIntervals.push(l({},e))})),t._baseInterval&&(this.baseInterval=t._baseInterval)},t.prototype.showTooltipAtPosition=function(t,i){var r=this;if(i||(t=this.toAxisPosition(t)),this.snapTooltip){var n,a=this.positionToDate(t).getTime();if(this.series.each((function(e){if(e.baseAxis==r){var i=r.getSeriesDataItem(e,t,!0);if(i){var o=void 0;e.xAxis==r&&(o=i.dateX),e.yAxis==r&&(o=i.dateY),n?Math.abs(n.getTime()-a)>Math.abs(o.getTime()-a)&&(n=o):n=o}}})),n){var o=n.getTime();n=Ar(new Date(o),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o=n.getTime();var s=this.renderer.tooltipLocation;0==s&&(s=1e-4),n=new Date(n.getTime()+this.baseDuration*s),t=this.dateToPosition(n),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each((function(e){var t=e.dataItemsByAxis.getKey(r.uid).getKey(o+e.currentDataSetId),i=e.showTooltipAtDataItem(t);i?r.chart._seriesPoints.push({series:e,point:i}):(e.tooltipText||e.tooltipHTML)&&e.hideTooltip()}))}}e.prototype.showTooltipAtPosition.call(this,t,!0)},Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var t=this;this.setPropertyValue("groupData",e)&&(this.series.each((function(i){i.setDataSet(""),e&&!i.dataGrouped&&i.inited&&(i._baseInterval[t.uid]=t.mainBaseInterval,t.groupSeriesData(i))})),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),t.prototype.makeGap=function(e,t){var i=e.component;if(e&&t&&!i.connect&&T(i.autoGapCount)&&i.baseAxis==this){var r=e.dates["date"+this.axisLetter],n=t.dates["date"+this.axisLetter];if(r&&n)if(r.getTime()-n.getTime()>i.autoGapCount*this.baseDuration)return!0}return!1},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),t}(_p);lt.registeredClasses.DateAxis=Ip,lt.registeredClasses.DateAxisDataItem=wp;var Ap=function(e){function t(){var t=e.call(this)||this;return t.className="AxisRendererX",t.minGridDistance=120,t.opposite=!1,t.rotation=0,t.width=m(100),t.labels.template.horizontalCenter="middle",t.applyTheme(),t}return s(t,e),t.prototype.setAxis=function(t){e.prototype.setAxis.call(this,t),t.layout="vertical"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.x=e.pixelX,t.width=e.axisLength}},t.prototype.processRenderer=function(){e.prototype.processRenderer.call(this);var t=this.axis;if(t){t.width instanceof f||(t.width=m(100)),this.line;var i=t.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},t.prototype.updateTooltip=function(){if(this.axis){var e=this.line.pixelX,t=this.line.pixelY,i=this.axisLength,r=1e3;this.opposite?this.inside||(t=-1e3,r=1e3):this.inside&&(t=-1e3,r=1e3),this.axis.updateTooltip("vertical",{x:e,y:t,width:i,height:r})}},t.prototype.updateLabelElement=function(e,t,i,r){_(r)||(r=e.location),t+=(i-t)*r;var n=this.positionToPoint(t);e.isMeasured=!e.inside;var a,o=0,s=this.gridContainer.maxHeight;this.opposite?(e.inside?(a="top","bottom"==e.valign&&(o=s,a="bottom"),"middle"==e.valign&&(o=s/2,a="middle")):a="bottom",n.y=o):(e.inside?(a="bottom","top"==e.valign&&(o=-s,a="top"),"middle"==e.valign&&(o=-s/2,a="middle")):a="top",n.y+=o),0==e.rotation&&(e.verticalCenter=a),this.positionItem(e,n),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){return{x:this.positionToCoordinate(e),y:0}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},t.prototype.getPositionRangePath=function(e,t){var i=V(this.positionToCoordinate(e),0,this.axisLength),r=V(this.positionToCoordinate(t),0,this.axisLength),n=Math.abs(r-i),a=this.getHeight();return qn({x:Math.min(i,r),y:0,width:n,height:a},!0)},t.prototype.updateBreakElement=function(t){e.prototype.updateBreakElement.call(this,t);var i=t.startLine,r=t.endLine,n=t.fillShape,a=t.startPoint,o=t.endPoint,s=t.pixelMarginLeft,l=this.getHeight()-t.pixelMarginTop-t.pixelMarginBottom;a.x=V(a.x,-1,this.axisLength+1),o.x=V(o.x,-1,this.axisLength+1),a.x==o.x&&(a.x<0||a.x>this.axisLength)?t.fillShape.__disabled=!0:t.fillShape.__disabled=!1,i.y=s,i.width=0,i.height=l,r.y=s,r.width=0,r.height=l,n.height=l,n.width=Math.abs(o.x-a.x),n.y=s,n.x=a.x},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);e.path=Bn({x:0,y:0})+Nn({x:0,y:this.getHeight()}),this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t),n=e.length;r.y=hi({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?n*=e.inside?1:-1:n*=e.inside?-1:1,e.path=Bn({x:0,y:0})+Nn({x:0,y:n}),this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateAxisLine=function(){this.line.path=Bn({x:0,y:0})+Nn({x:this.axisLength,y:0})},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.axis,i=this.getHeight(),r=this.axisLength,n=this.baseGrid,a=t.basePoint.x;if(a<-.2||a>r+.2)n.hide(0);else{var o=hi({x:0,y:0},this.gridContainer,n.parent).y;n.path=Bn({x:0,y:0})+Nn({x:0,y:i}),n.moveTo({x:a,y:o}),n.show(0)}},t.prototype.createBreakSprites=function(e){e.startLine=new Sa,e.endLine=new Sa;var t=new Pa;t.setWavedSides(!1,!0,!1,!0),e.fillShape=t},t.prototype.toAxisPosition=function(e){var t=e,i=this.axis;if(i){var r=i.relativePositionSprite,n=i.pixelX;if(r?n=hi({x:this.pixelX,y:0},this.parent,r).x:r=i.parent,r)return(t-n/r.innerWidth)/(i.axisLength/r.innerWidth)}return e},t.prototype.updateBullet=function(e,t,i){var r=.5;e instanceof bp&&(r=e.location),t+=(i-t)*r;var n=this.positionToPoint(t);n.y=hi({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},t}(vp);lt.registeredClasses.AxisRendererX=Ap,In.push({relevant:An.heightXS,state:function(e,t){if(e instanceof Ap){var i=e.states.create(t);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),In.push({relevant:An.heightXXS,state:function(e,t){if(e instanceof Ap){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var Tp=function(e){function t(){var t=e.call(this)||this;return t.className="CategoryAxisBreak",t.properties.startLocation=.5,t.properties.endLocation=.5,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(lp);lt.registeredClasses.CategoryAxisBreak=Tp;var Op=function(e){function t(){var t=e.call(this)||this;return t.seriesDataItems={},t.className="CategoryAxisDataItem",t.text="{category}",t.locations.category=0,t.locations.endCategory=1,t.deltaPosition=0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var t=this.properties.category;this.setProperty("category",e),_(t)&&t!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(cp),Dp=function(e){function t(){var t=e.call(this)||this;t.dataItemsByCategory=new at,t.className="CategoryAxis",t.axisFieldName="category",t._lastDataItem=t.createDataItem(),t._lastDataItem.component=t,t._disposers.push(t._lastDataItem),t.applyTheme();var i=t.dataItemsByCategory;return t.addDisposer(t.mainDataSet.events.on("removed",(function(e){i.removeKey(e.oldValue.category)}))),t}return s(t,e),t.prototype.createDataItem=function(){return new Op},t.prototype.createAxisBreak=function(){return new Tp},t.prototype.processSeriesDataItem=function(t,i){e.prototype.processSeriesDataItem.call(this,t,i);var r=t["category"+this.axisLetter];if(_(r)){var n=this.dataItemsByCategory.getKey(r);if(n){var a=t.component.uid,o=n.seriesDataItems[a];o||(o=[],n.seriesDataItems[a]=o),o.push(t)}}else t.component.dataItems.remove(t)},t.prototype.validateDataRange=function(){var i=this;e.prototype.validateDataRange.call(this),Xe(this._series.iterator(),(function(e){if(e.xAxis instanceof t&&e.yAxis instanceof t)e.invalidateDataRange();else{var r=i.positionToIndex(i.start),n=i.positionToIndex(i.end);n>=i.dataItems.length&&n--;for(var a=e.uid,o=void 0,s=void 0,l=r;l<=n;l++){var u=i.dataItems.getIndex(l);if(u){var c=u.seriesDataItems[a];if(c)for(var h=0;h<c.length;h++){var d=c[h];if(d){var p=d.index;(!T(o)||p<o)&&(o=p),(!T(s)||p>s)&&(s=p)}}}}T(o)?e.startIndex=o:e.start=i.start,T(s)?e.endIndex=s+1:e.end=i.end,i._axisBreaks&&i._axisBreaks.length>0&&e.invalidateDataRange()}}))},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this);var i=this.dataItems.length,r=V(Math.floor(this.start*i-1),0,i),n=V(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var a=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),o=Math.min(this.dataItems.length,Math.ceil((n-r)/a));if(this._startIndex=Math.floor(r/o)*o,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=o,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),r=z(0,this._startIndex-this._frequency),n=H(this.dataItems.length,this._endIndex+this._frequency);for(var s=0,l=0;l<r;l++){(c=this.dataItems.getIndex(l)).__disabled=!0}l=n;for(var u=this.dataItems.length;l<u;l++){(c=this.dataItems.getIndex(l)).__disabled=!0}for(l=r;l<n;l++)if(l<this.dataItems.length){var c=this.dataItems.getIndex(l);if(l/this._frequency==Math.round(l/this._frequency))this.isInBreak(l)||(this.appendDataItem(c),this.validateDataElement(c,s)),s++;else c.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,s+1,this.dataItems.length),this._axisBreaks)this._axisBreaks.each((function(e){var i=e.adjustedStartValue,r=e.adjustedEndValue;if(G({start:i,end:r},{start:t._startIndex,end:t._endIndex})){for(var n=i;n<=r;n++){(s=t.dataItems.getIndex(n)).__disabled=!0}var a=V(Math.ceil(t._frequency/e.breakSize),1,r-i),o=0;if(e.breakSize>0)for(n=i;n<=r;n+=a){var s;(s=t.dataItems.getIndex(n)).__disabled=!1,t.appendDataItem(s),t.validateDataElement(s,o),o++}}}));this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},t.prototype.validateDataElement=function(t,i,r){e.prototype.validateDataElement.call(this,t),t.itemIndex=this._axisItemCount,this._axisItemCount++;var n=this.renderer;T(r)||(r=this.categoryToIndex(t.category));var a=this.categoryToIndex(t.endCategory);T(a)||(a=r);var o,s,l,u=this.indexToPosition(r,t.locations.category),c=this.indexToPosition(a,t.locations.endCategory);t.position=u,t.isRange&&(o=a,s=this.indexToPosition(r,t.locations.category),l=this.indexToPosition(o,t.locations.endCategory)),t.point=n.positionToPoint(u);var h=t.tick;h&&!h.disabled&&n.updateTickElement(h,u,c);var d=t.grid;d&&!d.disabled&&n.updateGridElement(d,u,c);var p=t.label;p&&!p.disabled&&(t.isRange&&null!=p.text||(t.text=t.text),n.updateLabelElement(p,u,c),(n instanceof xp&&t.label.measuredWidth>this.ghostLabel.measuredWidth||n instanceof Ap&&t.label.measuredHeight>this.ghostLabel.measuredHeight)&&(t.label.html?this.ghostLabel.html=t.label.currentText:this.ghostLabel.text=t.label.currentText));var f=t.axisFill;f&&!f.disabled&&(t.isRange||(o=r+this._frequency,s=this.indexToPosition(r,f.location),l=this.indexToPosition(o,f.location)),n.updateFillElement(f,s,l),t.isRange||this.fillRule(t,i)),t.bullet&&n.updateBullet(t.bullet,u,c);var m=t.mask;m&&n.updateFillElement(m,s,l)},t.prototype.disposeData=function(){this.dataItemsByCategory.clear(),e.prototype.disposeData.call(this)},t.prototype.processDataItem=function(t,i){t&&(e.prototype.processDataItem.call(this,t,i),_(t.category)&&this.dataItemsByCategory.setKey(t.category,t))},t.prototype.getDataItem=function(e){var t=e[this.dataFields.category];if(_(t)){var i=this.dataItemsByCategory.getKey(t);return i||this.dataItems.create()}},t.prototype.indexToPosition=function(e,t){T(t)||(t=.5);var i=this.startIndex,r=this.endIndex,n=this.adjustDifference(i,r),a=this.startLocation;(n-=a,n-=1-this.endLocation,this._axisBreaks)&&Ke(this._axisBreaks.iterator(),(function(t){var n=t.adjustedStartValue,a=t.adjustedEndValue;if(e<i||!T(n)||!T(a))return!1;if(G({start:n,end:a},{start:i,end:r})){n=Math.max(i,n),a=Math.min(r,a);var o=t.breakSize;e>a?i+=(a-n)*(1-o):e<n||(e=n+(e-n)*o)}return!0}));var o=0,s=this.dataItems.getIndex(e);return s&&(o=s.deltaPosition),L(o+(e+t-a-i)/n,5)},t.prototype.categoryToPosition=function(e,t){var i=this.categoryToIndex(e);return this.indexToPosition(i,t)},t.prototype.categoryToPoint=function(e,t){var i=this.categoryToPosition(e,t),r=this.renderer.positionToPoint(i),n=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:n}},t.prototype.anyToPoint=function(e,t){return this.categoryToPoint(e,t)},t.prototype.anyToPosition=function(e,t){return this.categoryToPosition(e,t)},t.prototype.categoryToIndex=function(e){if(_(e)){var t=this.dataItemsByCategory.getKey(e);if(t)return t.index}},t.prototype.zoomToCategories=function(e,t){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1)},t.prototype.getAnyRangePath=function(e,t,i,r){var n=this.categoryToPosition(e,i),a=this.categoryToPosition(t,r);return this.getPositionRangePath(n,a)},t.prototype.roundPosition=function(e,t){var i=this.positionToIndex(e);return this.indexToPosition(i,t)},t.prototype.getFirstSeriesDataItem=function(e,t){for(var i=0;i<e.dataItems.length;i++){var r=e.dataItems.getIndex(i);if(e.xAxis==this&&r.categoryX==t)return r;if(e.yAxis==this&&r.categoryY==t)return r}},t.prototype.getLastSeriesDataItem=function(e,t){for(var i=e.dataItems.length-1;i>=0;i--){var r=e.dataItems.getIndex(i);if(e.xAxis==this&&r.categoryX==t)return r;if(e.yAxis==this&&r.categoryY==t)return r}},t.prototype.getSeriesDataItemByCategory=function(e,t){var i,r=this;return t.dataItems.each((function(n){t.xAxis==r?n.categoryX==e&&(i=n):t.yAxis==r&&n.categoryY==e&&(i=n)})),i},t.prototype.getSeriesDataItem=function(e,t,i){var r=this;if(T(t)){var n=this.positionToIndex(t);n>=this.dataItems.length&&n--;var a=this.dataItems.getIndex(n);if(a){var o,s=a.category,l=e.dataItems.getIndex(n);if(l){if(e.xAxis==this&&l.categoryX==s)return l;if(e.yAxis==this&&l.categoryY==s)return l}return e.dataItems.each((function(t){e.xAxis==r&&t.categoryX==s&&(o||(o=t),Math.abs(n-o.index)>Math.abs(n-t.index)&&(o=t)),e.yAxis==r&&t.categoryY==s&&(o||(o=t),Math.abs(n-o.index)>Math.abs(n-t.index)&&(o=t))})),o}}},t.prototype.getX=function(e,t,i,r,n){var a=this.getPositionX(e,t,i,r,n);return y(a)?this.basePoint.x:this.renderer.positionToPoint(a).x},t.prototype.getPositionX=function(e,t,i,r,n){var a;return _(t)&&(a=this.categoryToPosition(e.categories[t],i)),n&&(a=V(a,n.start,n.end)),a},t.prototype.getY=function(e,t,i,r,n){var a=this.getPositionY(e,t,i,r,n);return y(a)?this.basePoint.y:this.renderer.positionToPoint(a).y},t.prototype.getPositionY=function(e,t,i,r,n){var a;return _(t)&&(a=this.categoryToPosition(e.categories[t],i)),n&&(a=V(a,n.start,n.end)),a},t.prototype.getAngle=function(e,t,i,r,n){var a=this.categoryToPosition(e.categories[t],i);return n&&(a=V(a,n.start,n.end)),this.positionToAngle(a)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getTooltipText=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return this.tooltipDataItem=t,this.tooltip.dataItem=t,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",t.category):t.category},t.prototype.positionToIndex=function(e){(e=L(e,10))<0&&(e=0),e>1&&(e=1);var t=this.startIndex,i=this.endIndex,r=i-t-this.startLocation-(1-this.endLocation);e+=1/r*this.startLocation;var n=null;this._axisBreaks&&Ke(this._axisBreaks.iterator(),(function(a){var o=a.startPosition,s=a.endPosition,l=a.adjustedStartValue,u=a.adjustedEndValue;l=z(l,t),u=H(u,i);var c=a.breakSize;if(r-=(u-l)*(1-c),e>s)t+=(u-l)*(1-c);else if(!(e<o)){var h=(e-o)/(s-o);return n=l+Math.round(h*(u-l)),!1}return!0}));return T(n)||(n=Math.floor(e*r+t)),n>=this.dataItems.length&&(n=this.dataItems.length-1),n},t.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},t.prototype.getPositionLabel=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return t.category},Object.defineProperty(t.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),t.prototype.initRenderer=function(){e.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){t&&_(t.sortBySeries)&&A(t.sortBySeries)&&(this.map.hasKey(t.sortBySeries)?t.sortBySeries=this.map.getKey(t.sortBySeries):(this.addDelayedMap("sortBySeries",t.sortBySeries),delete t.sortBySeries)),e.prototype.processConfig.call(this,t)},t}(hp);lt.registeredClasses.CategoryAxis=Dp,lt.registeredClasses.CategoryAxisDataItem=Op;var kp=function(e){function t(){var t=e.call(this)||this;return t.className="XYSeriesDataItem",t.values.customValue={},t.values.valueX={stack:0},t.values.valueY={stack:0},t.values.openValueX={},t.values.openValueY={},t.values.dateX={},t.values.dateY={},t.values.openDateX={},t.values.openDateY={},t.setLocation("dateX",.5,0),t.setLocation("dateY",.5,0),t.setLocation("categoryX",.5,0),t.setLocation("categoryY",.5,0),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),t.prototype.getMin=function(e,t,i){var r,n=this;return T(i)||(i=0),de(e,(function(e){var a;a=t?n.getWorkingValue(e):n.getValue(e),((a+=i)<r||!T(r))&&(r=a)})),r},t.prototype.getMax=function(e,t,i){var r,n=this;return T(i)||(i=0),de(e,(function(e){var a;a=t?n.getWorkingValue(e):n.getValue(e),((a+=i)>r||!T(r))&&(r=a)})),r},t}(np),Fp=function(e){function t(){var t=e.call(this)||this;return t.groupFields={},t._xAxis=new Ie,t._yAxis=new Ie,t._xValueFields=[],t._yValueFields=[],t._baseInterval={},t.dataGrouped=!1,t.usesShowFields=!1,t._dataSetChanged=!1,t._maxxX=1e5,t._maxxY=1e5,t._propertiesChanged=!1,t.outOfRange=!1,t.className="XYSeries",t.isMeasured=!1,t.groupFields.valueX="close",t.groupFields.valueY="close",t.groupFields.customValue="close",t.groupFields.openValueX="open",t.groupFields.openValueY="open",t.cursorTooltipEnabled=!0,t.cursorHoverEnabled=!0,t.excludeFromTotal=!1,t.mainContainer.mask=new mn,t.mainContainer.mask.setElement(t.paper.add("path")),t.stacked=!1,t.snapTooltip=!1,t._showBullets=!1,t.tooltip.pointerOrientation="horizontal",t.properties.stackToNegative=!0,t.hideTooltipWhileZooming=!0,t.setPropertyValue("maskBullets",!0),t.tooltip.events.on("hidden",(function(){t.returnBulletDefaultState()}),void 0,!1),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.observe(fn,(function(){t.inited&&(t._propertiesChanged=!0,t.legendDataItem&&(t.legendDataItem.childrenCreated=!1),t.chart&&t.chart.legend&&t.chart.legend.invalidateDataItems(),t.invalidate())}),void 0,!1),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},t.prototype.createDataItem=function(){return new kp},t.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},t.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},t.prototype.validateData=function(){this._baseInterval={};var t=this.dataFields;if(t.valueYShow||t.openValueXShow||t.openValueXShow||t.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),e.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!_(this.dataFields[this._xField])||!_(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},t.prototype.processDataItem=function(t,i){try{e.prototype.processDataItem.call(this,t,i),this.xAxis.processSeriesDataItem(t,"X"),this.yAxis.processSeriesDataItem(t,"Y"),this.setInitialWorkingValues(t)}catch(e){this._chart&&this._chart.raiseCriticalError(e)}},t.prototype.updateDataItem=function(t){e.prototype.updateDataItem.call(this,t),this.xAxis.processSeriesDataItem(t,"X"),this.yAxis.processSeriesDataItem(t,"Y")},t.prototype.setInitialWorkingValues=function(e){},t.prototype.disposeData=function(){e.prototype.disposeData.call(this);var t=this.xAxis,i=this.yAxis;if(t){var r=this.dataItemsByAxis.getKey(t.uid);r&&r.clear(),t instanceof Dp&&this.clearCatAxis(t)}if(i){var n=this.dataItemsByAxis.getKey(i.uid);n&&n.clear(),i instanceof Dp&&this.clearCatAxis(i)}},t.prototype.clearCatAxis=function(e){var t=this.uid;e.dataItems.each((function(e){e.seriesDataItems[t]&&(e.seriesDataItems[t]=[])}))},t.prototype.defineFields=function(){var e=this.xAxis,t=this.yAxis;if(e&&t){var i=e.axisFieldName,r=i+"X",n="open"+zt(i)+"X",a=t.axisFieldName,o=a+"Y",s="open"+zt(a)+"Y";this._xField=r,this._yField=o,this.dataFields[n]&&(this._xOpenField=n),this.dataFields[s]&&(this._yOpenField=s),this.dataFields[s]||this.baseAxis!=t||(this._yOpenField=o),this.dataFields[n]||this.baseAxis!=e||(this._xOpenField=r),this.stacked&&this.baseAxis==e&&(this._xOpenField=r),this.stacked&&this.baseAxis==t&&(this._yOpenField=o),e instanceof Dp&&t instanceof Dp&&(this._yOpenField||(this._yOpenField=o)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(t,this._yValueFields,this._yField),this.addValueField(t,this._yValueFields,this._yOpenField)}},t.prototype.addValueField=function(e,t,i){e instanceof _p&&_(this.dataFields[i])&&-1==t.indexOf(i)&&t.push(i)},t.prototype.setCategoryAxisField=function(e,t){_(this.dataFields[e])||(this.dataFields[e]=t.dataFields.category)},t.prototype.setDateAxisField=function(e,t){_(this.dataFields[e])||(this.dataFields[e]=t.dataFields.date)},t.prototype.afterDraw=function(){e.prototype.afterDraw.call(this),this.createMask()},t.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();Xe(this.axisRanges.iterator(),(function(t){t.axisFill.fillPath&&(t.axisFill.validate(),e+=t.axisFill.fillPath)})),this.mainContainer.mask.path=e}},t.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?qn({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},t.prototype.getAxisField=function(e){return e==this.xAxis?this.xField:e==this.yAxis?this.yField:void 0},t.prototype.validateDataItems=function(){var t=this.chart;t&&(this._maxxX=z(1e5,2*t.plotContainer.maxWidth),this._maxxY=z(1e5,2*t.plotContainer.maxHeight));var i=this.xAxis,r=this.yAxis;i&&r&&(i.updateAxisBySeries(),r.updateAxisBySeries()),e.prototype.validateDataItems.call(this),i&&r&&(i.postProcessSeriesDataItems(this),r.postProcessSeriesDataItems(this))},t.prototype.validateDataRange=function(){var t=this.xAxis,i=this.yAxis;t&&i&&(t.dataRangeInvalid&&t.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),e.prototype.validateDataRange.call(this)},t.prototype.validate=function(){var t=this.xAxis,i=this.yAxis;if(t&&i){t.invalid&&t.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=t.pixelX,this._showBullets=!0;var r=this.minBulletDistance;T(r)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<r&&(this._showBullets=!1)}if(this.updateTooltip(),!(t instanceof Ip&&t.groupData&&!this.dataGrouped||i instanceof Ip&&i.groupData&&!this.dataGrouped)){e.prototype.validate.call(this);var n=this.chart,a=this.maskBullets;n&&a&&"XYChart"==n.className&&("vertical"!=n.leftAxesContainer.layout&&"vertical"!=n.rightAxesContainer.layout||(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),"horizontal"!=n.topAxesContainer.layout&&"horizontal"!=n.bottomAxesContainer.layout||(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(t.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setXAxis=function(e){var t=this._xAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._xAxis.dispose(),t.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new at),this.invalidateData())},Object.defineProperty(t.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setYAxis=function(e){var t=this._yAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._yAxis.dispose(),t.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof jp&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new at),this.invalidateData())},Object.defineProperty(t.prototype,"baseAxis",{get:function(){var e=this.xAxis,t=this.yAxis;return!this._baseAxis&&e&&t&&(t instanceof Ip&&(this._baseAxis=t),e instanceof Ip&&(this._baseAxis=e),t instanceof Dp&&(this._baseAxis=t),e instanceof Dp&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.addData=function(t,i,r){e.prototype.addData.call(this,t,i,r),this.scrollbarSeries&&this.scrollbarSeries.addData(t,i,!0)},t.prototype.setData=function(t){e.prototype.setData.call(this,t),this.scrollbarSeries&&this.scrollbarSeries.setData(t)},t.prototype.setDataSet=function(t){var i=e.prototype.setDataSet.call(this,t);if(i){this._dataSetChanged=!0;var r=this.dataItems;if(this.resetExtremes(),r&&r.length>0){var n=this.xAxis,a=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),n instanceof Ip&&n==this.baseAxis&&(this._tmin.setKey(n.uid,r.getIndex(0).dateX.getTime()),this._tmax.setKey(n.uid,r.getIndex(r.length-1).dateX.getTime()),this.dispatch("extremeschanged")),a instanceof Ip&&a==this.baseAxis&&(this._tmin.setKey(a.uid,r.getIndex(0).dateY.getTime()),this._tmax.setKey(a.uid,r.getIndex(r.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return i},t.prototype.processValues=function(t){e.prototype.processValues.call(this,t);var i=this.xAxis,r=this.yAxis;if(i&&r){var n=this.dataItems,a=1/0,o=-1/0,s=1/0,l=-1/0,u=this.startIndex,c=this.endIndex,h=u,d=c;t||(u=0,c=this.dataItems.length);for(var p=u;p<c;p++){var f=n.getIndex(p);this.getStackValue(f,t);var m=f.getValue("valueX","stack"),y=f.getValue("valueY","stack");a=H(f.getMin(this._xValueFields,t,m),a),s=H(f.getMin(this._yValueFields,t,y),s),o=z(f.getMax(this._xValueFields,t,m),o),l=z(f.getMax(this._yValueFields,t,y),l),this.stacked&&(this.baseAxis==i&&(y<s&&(s=y),y>l&&(l=y)),this.baseAxis==r&&(m<a&&(a=m),m>o&&(o=m)))}i.processSeriesDataItems(),r.processSeriesDataItems();var g=i.uid,v=r.uid;if(this.xAxis instanceof _p&&(a==1/0||o==-1/0))return this._smin.setKey(g,void 0),this._smax.setKey(g,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof _p&&(s==1/0||l==-1/0))return this._smin.setKey(v,void 0),this._smax.setKey(v,void 0),void this.dispatchImmediately("selectionextremeschanged");if(!t&&(this._tmin.getKey(g)!=a||this._tmax.getKey(g)!=o||this._tmin.getKey(v)!=s||this._tmax.getKey(v)!=l)){this._tmin.setKey(g,a),this._tmax.setKey(g,o),this._tmin.setKey(v,s),this._tmax.setKey(v,l);var b=this.stackedSeries;b&&(b.isDisposed()?this.stackedSeries=void 0:b.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(u!=h||c!=d){a=1/0,o=-1/0,s=1/0,l=-1/0;for(p=h;p<d;p++){f=n.getIndex(p);this.getStackValue(f,t);m=f.getValue("valueX","stack"),y=f.getValue("valueY","stack");a=H(f.getMin(this._xValueFields,t,m),a),s=H(f.getMin(this._yValueFields,t,y),s),o=z(f.getMax(this._xValueFields,t,m),o),l=z(f.getMax(this._yValueFields,t,y),l),this.stacked&&(this.baseAxis==i&&(y<s&&(s=y),y>l&&(l=y)),this.baseAxis==r&&(m<a&&(a=m),m>o&&(o=m)))}}if(this.xAxis instanceof _p&&(a==1/0||o==-1/0))return this._smin.setKey(g,void 0),this._smax.setKey(g,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof _p&&(s==1/0||l==-1/0))return this._smin.setKey(v,void 0),this._smax.setKey(v,void 0),void this.dispatchImmediately("selectionextremeschanged");if((this._smin.getKey(g)!=a||this._smax.getKey(g)!=o||this._smin.getKey(v)!=s||this._smax.getKey(v)!=l)&&(this._smin.setKey(g,a),this._smax.setKey(g,o),this._smin.setKey(v,s),this._smax.setKey(v,l),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var x,S,P=!1;if(r instanceof _p&&!(r instanceof Ip))(!T(x=this._tmin.getKey(v))||(this.usesShowFields||this._dataSetChanged||i instanceof Ip&&i.groupData&&this.isShowing)&&s<x||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(v,s),P=!0),(!T(S=this._tmax.getKey(v))||(this.usesShowFields||this._dataSetChanged||i instanceof Ip&&i.groupData&&this.isShowing)&&l>S||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(v,l),P=!0);if(i instanceof _p&&!(i instanceof Ip))(!T(x=this._tmin.getKey(g))||(this.usesShowFields||this._dataSetChanged||r instanceof Ip&&r.groupData&&this.isShowing)&&a<x||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(g,a),P=!0),(!T(S=this._tmax.getKey(g))||(this.usesShowFields||this._dataSetChanged||r instanceof Ip&&r.groupData&&this.isShowing)&&o>S||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(g,o),P=!0);P&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!t&&this.stacked&&this.processValues(!0)}},t.prototype.hideTooltip=function(t){e.prototype.hideTooltip.call(this,t),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},t.prototype.showTooltipAtPosition=function(e,t){var i;if(this.visible&&!this.isHiding&&!this.isShowing){var r=this._xAxis.get(),n=this._yAxis.get();r==this.baseAxis&&(i=r.getSeriesDataItem(this,r.toAxisPosition(e),this.snapTooltip)),n==this.baseAxis&&(i=n.getSeriesDataItem(this,n.toAxisPosition(t),this.snapTooltip));var a=this.showTooltipAtDataItem(i);if(a)return a;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},t.prototype.getAdjustedXLocation=function(e,t,i){return e.locations[t]},t.prototype.getAdjustedYLocation=function(e,t,i){return e.locations[t]},t.prototype.showTooltipAtDataItem=function(e){var t,i,r=this.chart.cursor;if(r&&r.hideSeriesTooltipsOnSelection&&r.selection.visible&&r.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var n=this.tooltipXField,a=this.tooltipYField;if(_(e[n])&&_(e[a])){var o=this.getPoint(e,n,a,this.getAdjustedXLocation(e,n),this.getAdjustedYLocation(e,a));if(o&&("XYChart"!=this.chart.className||!(o.y<-1||o.y>this.yAxis.pixelHeight+1||o.x<-1||o.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=o.x,this.tooltipY=o.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var s=h(e.sprites),l=s.next();!l.done;l=s.next()){var u=l.value;!u.parent.visible||u.isHidden||u.__disabled||u.disabled||u.isHiding||(u.interactions.isRealHover||(u.dispatchImmediately("over"),u.interactions.isRealHover=!0),u.isHover=!0)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return this.showTooltip()?ci({x:o.x,y:o.y},this):void 0}}}}else this.updateLegendValue(e,!0)},t.prototype.returnBulletDefaultState=function(e){var t,i;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var r=h(this._prevTooltipDataItem.sprites),n=r.next();!n.done;n=r.next()){var a=n.value;if(a.isDisposed())this._prevTooltipDataItem=void 0;else{var o=a.interactions.isRealHover;a.isHover=!1,o&&a.dispatchImmediately("out")}}}catch(e){t={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},t.prototype.shouldCreateBullet=function(e,t){var i=t.xField;_(i)||(i=this.xField);var r=t.yField;if(_(r)||(r=this.yField),this.xAxis instanceof _p&&!e.hasValue([i])||this.yAxis instanceof _p&&!e.hasValue([r]))return!1;if(t.disabled){var n=t.propertyFields.disabled,a=e.dataContext;return!(!a||!1!==a[n])}return!0},t.prototype.updateTooltip=function(){this.hideTooltipWhileZooming||!this.tooltip||this.tooltip.isHidden||this.isHiding||this.isHidden||!this.tooltipDataItem||this.showTooltipAtDataItem(this.tooltipDataItem)},t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem,r=t.xField;_(r)||(r=this.xField);var n=t.yField;_(n)||(n=this.yField);var a=this.xAxis,o=this.yAxis;if(a instanceof _p&&!i.hasValue([r])||o instanceof _p&&!i.hasValue([n]))t.visible=!1;else{var s=this.getBulletLocationX(t,r),l=this.getBulletLocationY(t,n);if(this.getPoint(i,r,n,s,l)){var u=this.xOpenField,c=this.yOpenField,h=void 0,d=void 0;if(a instanceof Ip){T(s)||(s=0);var p=void 0,f=i.getWorkingValue(r);if(u?p=i.getWorkingValue(u):a==this.baseAxis&&(p=a.baseValue),T(p)||(p=f),(p+=S=i.getValue("valueX","stack"))==(f+=S)){var m=a.baseInterval,y=a.dateFormatter;p=Ar(new Date(p),m.timeUnit,m.count,y.firstDayOfWeek,y.utc,void 0,y.timezoneMinutes).getTime(),f=Ir(new Date(p),m.timeUnit,m.count,y.utc).getTime()}var g=void 0;g=a==this.baseAxis?p+(f-p)*s:p+(f-p)*(1-s),h=a.valueToPosition(g)}else if(a instanceof _p){T(s)||(s=0);p=void 0,f=i.getWorkingValue(r);p=u?i.getWorkingValue(u):a.baseValue;g=(p+=S=i.getValue("valueX","stack"))+((f+=S)-p)*(1-s);h=a.valueToPosition(g)}else if(a instanceof Dp){var v=this.getAdjustedXLocation(i,r,t.locationX),b=this.getAdjustedXLocation(i,u,t.locationX);h=a.categoryToPosition(i[r],v);var x=void 0;u&&(x=a.categoryToPosition(i[u],b)),T(x)||(x=1),h=x+(h-x)*s}if(o instanceof Ip){T(l)||(l=0);p=void 0,f=i.getWorkingValue(n);if(c?p=i.getWorkingValue(c):o==this.baseAxis&&(p=o.baseValue),T(p)||(p=f),(p+=S=i.getValue("valueY","stack"))==(f+=S)){m=o.baseInterval,y=o.dateFormatter;p=Ar(new Date(p),m.timeUnit,m.count,y.firstDayOfWeek,y.utc,void 0,y.timezoneMinutes).getTime(),f=Ir(new Date(p),m.timeUnit,m.count,y.utc).getTime()}g=void 0;g=o==this.baseAxis?p+(f-p)*l:p+(f-p)*(1-l),d=o.valueToPosition(g)}else if(o instanceof _p){T(l)||(l=0);var S;p=void 0,f=i.getWorkingValue(n);p=c?i.getWorkingValue(c):o.baseValue;g=(p+=S=i.getValue("valueY","stack"))+((f+=S)-p)*(1-l);d=o.valueToPosition(g)}else if(o instanceof Dp){d=o.categoryToPosition(i[n],l);var P=this.getAdjustedYLocation(i,n,t.locationY),C=this.getAdjustedYLocation(i,c,t.locationY);d=o.categoryToPosition(i[n],P);var w=void 0;c&&(w=o.categoryToPosition(i[c],C)),T(w)||(w=1),d=w+(d-w)*l}t.visible=!0,this.positionBulletReal(t,h,d)}else t.visible=!1}},t.prototype.positionBulletReal=function(e,t,i){e.x=this.xAxis.renderer.positionToPoint(t,i).x,e.y=this.yAxis.renderer.positionToPoint(i,t).y},t.prototype.getBulletLocationX=function(e,t){var i=e.locationX,r=e.dataItem;return T(i)||(i=r.workingLocations[t]),i},t.prototype.getBulletLocationY=function(e,t){var i=e.locationY,r=e.dataItem;return T(i)||(i=r.workingLocations[t]),i},t.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each((function(t){t.baseAxis==e.baseAxis&&(t.stackedSeries=void 0,t.invalidateDataItems(),t.invalidateProcessedData())}))},Object.defineProperty(t.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var t,i=this.xAxis,r=this.yAxis;if(!e)i!=this.baseAxis&&i instanceof _p&&(t=this.xField),r!=this.baseAxis&&r instanceof _p&&(t=this.yField),t&&this.dataItems.each((function(e){e.setCalculatedValue(t,0,"stack")}))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),t.prototype.show=function(t){var i,r=this;this.appeared&&this.xAxis instanceof Ip&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof Ip&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)),this.xAxis instanceof _p&&this.xAxis!=this.baseAxis&&(i=this._xValueFields),this.yAxis instanceof _p&&this.yAxis!=this.baseAxis&&(i=this._yValueFields);var n,a=this.startIndex,o=this.endIndex,s=0,l=this.defaultState.transitionDuration;T(t)&&(l=t),Xe(Ze(this.dataItems.iterator()),(function(e){var t=e[0],u=e[1],c=l;(t<r.startIndex-10||t>r.endIndex+10)&&(c=0,s=0),r.sequencedInterpolation&&c>0&&(s=r.sequencedInterpolationDelay*t+l*(t-a)/(o-a)),n=u.show(c,s,i)})),this.dataSets.each((function(e,t){t!=r.dataItems&&t.each((function(e){e.events.disable(),e.show(0,0,i),e.events.enable()}))})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(e){e.events.disable(),e.show(0,0,i),e.events.enable()}));var u=e.prototype.show.call(this,t);return n&&!n.isFinished()&&(u=n),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),u},t.prototype.hide=function(t){var i,r,n=this,a=this.xAxis;a instanceof _p&&a!=this.baseAxis&&(i=this._xValueFields,r=this.stacked||a.minZoomed<a.baseValue&&a.maxZoomed>a.baseValue||this.stackedSeries?a.baseValue:a.min);var o=this.yAxis;o instanceof _p&&o!=this.baseAxis&&(i=this._yValueFields,r=this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?o.baseValue:o.min);var s=this.startIndex,l=this.endIndex,u=this.hiddenState.transitionDuration;T(t)&&(u=t);var c,h=0;Xe(Ze(this.dataItems.iterator()),(function(e){var t=e[0],a=e[1],o=u;(t<n.startIndex-10||t>n.endIndex+10)&&(o=0),0==o?a.hide(0,0,r,i):(n.sequencedInterpolation&&o>0&&(h=n.sequencedInterpolationDelay*t+u*(t-s)/(l-s)),c=a.hide(o,h,r,i))})),this.dataSets.each((function(e,t){t!=n.dataItems&&t.each((function(e){e.events.disable(),e.hide(0,0,r,i),e.events.enable()}))})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(e){e.events.disable(),e.hide(0,0,r,i),e.events.enable()}));var d=e.prototype.hide.call(this,u);return d&&!d.isFinished()&&d.delay(h),c&&!c.isFinished()&&(d=c),this.validateDataElements(),d},t.prototype.handleDataItemWorkingValueChange=function(t,i){e.prototype.handleDataItemWorkingValueChange.call(this,t,i),Xe(this.baseAxis.series.iterator(),(function(e){(e.stacked||e.stackedSeries)&&e.invalidateProcessedData()}))},t.prototype.getStackValue=function(e,t){var i=this,r=this.xAxis,n=this.yAxis;if(this.stacked&&r&&n){var a,o=this.chart,s=o.series.indexOf(this);r!=this.baseAxis&&r instanceof _p&&(a=this.xField),n!=this.baseAxis&&n instanceof _p&&(a=this.yField),a&&(e.setCalculatedValue(a,0,"stack"),Ke(o.series.range(0,s).backwards().iterator(),(function(o){if(o.xAxis==r&&o.yAxis==n&&o.className==i.className){o.stackedSeries=i;var s=o.dataItems.getIndex(e.index);if(s&&s.hasValue(i._xValueFields)&&s.hasValue(i._yValueFields)){var l=e.getValue(a),u=void 0,c=s.getValue(a)+s.getValue(a,"stack");if(u=t?s.getWorkingValue(a)+s.getValue(a,"stack"):s.getValue(a)+s.getValue(a,"stack"),!i.stackToNegative)return e.setCalculatedValue(a,u,"stack"),!1;if(l>=0&&c>=0||l<0&&c<0)return e.setCalculatedValue(a,u,"stack"),!1}else if(!o.stacked)return!1}return!0})))}},Object.defineProperty(t.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),t.prototype.min=function(e){return this._tmin.getKey(e.uid)},t.prototype.max=function(e){return this._tmax.getKey(e.uid)},t.prototype.selectionMin=function(e){return this._smin.getKey(e.uid)},t.prototype.selectionMax=function(e){return this._smax.getKey(e.uid)},t.prototype.processConfig=function(t){if(t){if(_(t.baseAxis)&&A(t.baseAxis)&&(this.map.hasKey(t.baseAxis)?t.baseAxis=this.map.getKey(t.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.baseAxis+'" found for `baseAxis`.'),delete t.baseAxis)),_(t.xAxis)&&A(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.xAxis+'" found for `xAxis`.'),delete t.xAxis)),_(t.yAxis)&&A(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.yAxis+'" found for `yAxis`.'),delete t.yAxis)),_(t.axisRanges)&&D(t.axisRanges))for(var i=0,r=t.axisRanges.length;i<r;i++){var n=t.axisRanges[i];_(n.type)||(n.type="AxisDataItem"),_(n.axis)&&A(n.axis)&&this.map.hasKey(n.axis)?n.component=this.map.getKey(n.axis):_(n.component)&&A(n.component)&&this.map.hasKey(n.component)&&(n.component=this.map.getKey(n.component))}_(t.dataFields)&&O(t.dataFields)||this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}e.prototype.processConfig.call(this,t)},t.prototype.getPoint=function(e,t,i,r,n,a,o){if(this.xAxis&&this.yAxis){var s=this.xAxis.getX(e,t,r),l=this.yAxis.getY(e,i,n);return{x:s=V(s,-this._maxxX,this._maxxX),y:l=V(l,-this._maxxY,this._maxxY)}}},t.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";ze(this.dataFields,(function(t,i){e+="{"+t+"} "})),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var t=this.chart;t&&(this.bulletsContainer.parent=e?t.bulletsContainer:t.axisBulletsContainer)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){this.groupFields=Lt(t.groupFields,{}),e.prototype.copyFrom.call(this,t)},t.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),e.prototype.dispose.call(this)},t}(ap);lt.registeredClasses.XYSeries=Fp,lt.registeredClasses.XYSeriesDataItem=kp;var Ep=function(e){function t(){var t=e.call(this)||this;t._chart=new Ie,t.className="XYChartScrollbar";var i=new pr;t.padding(0,0,0,0);var r=t.createChild(jp);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,t._scrollbarChart=r,!Pi()){var n=new Ra;n.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(n)}t._disposers.push(t._scrollbarChart),t.minHeight=60,t.minWidth=60;var a=t.createChild(mn);a.shouldClone=!1,a.setElement(t.paper.add("path")),a.fill=i.getFor("background"),a.fillOpacity=.8,a.interactionsEnabled=!1,a.isMeasured=!1,a.toBack(),t._unselectedOverlay=a,t._disposers.push(t._unselectedOverlay),r.toBack(),t.background.cornerRadius(0,0,0,0);var o=t.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=i.getFor("background");var s=o.states.getKey("hover");s&&(s.properties.fillOpacity=.2);var l=o.states.getKey("down");return l&&(l.properties.fillOpacity=.4),t._disposers.push(t._chart),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new pt,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;if(i.xAxis&&i.yAxis){var r=this.scrollbarChart;r.zoomOutButton.disabled=!0,this.chart=i.chart,r.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,r.language.locale=this.chart.language.locale;var n=!0,a=!0;Xe(this.series.iterator(),(function(e){e!=i&&(e.xAxis==i.xAxis&&t.scrollbarChart.xAxes.length>0&&(n=!1),e.yAxis==i.yAxis&&t.scrollbarChart.yAxes.length>0&&(a=!1))})),i.events.on("beforedisposed",(function(){t.series.removeValue(i)}));var o=new pr,s=i.clone();if(Bi.queue&&this.addDisposer(this.chart.events.on("removedfromqueue",(function(){r.invalidateData()}))),Pi()&&(s.stroke=Ft("#aaaaaa"),s.fill=s.stroke,s.propertyFields.fill=void 0,s.propertyFields.stroke=void 0),i.scrollbarSeries=s,n){var l=i.xAxis.clone();if(r.xAxes.moveValue(l),l.title.disabled=!0,l.rangeChangeDuration=0,(d=l.renderer).ticks.template.disabled=!0,d.inside=!0,d.labels.template.inside=!0,d.line.strokeOpacity=0,d.minLabelPosition=.02,d.maxLabelPosition=.98,d.line.disabled=!0,d.axisFills.template.disabled=!0,d.baseGrid.disabled=!0,d.grid.template.strokeOpacity=.05,d.minWidth=void 0,d.minHeight=void 0,d.padding(0,0,0,0),d.chart=r,d.margin(0,0,0,0),l.width=m(100),d.labels.template.fillOpacity=.5,l.maxZoomCount=void 0,l.minZoomCount=void 0,l instanceof Ip){var u=l,c=i.xAxis;u.groupCount=5*c.groupCount,u.min=void 0,u.max=void 0,this._disposers.push(u.clonedFrom.events.on("extremeschanged",(function(){T(u.clonedFrom.minDefined)&&(u.min=u.clonedFrom.minDefined),T(u.clonedFrom.maxDefined)&&(u.max=u.clonedFrom.maxDefined)}),void 0,!1))}else if(l instanceof _p){var h=l;h.min=void 0,h.max=void 0,T(h.clonedFrom.minDefined)||(h.min=void 0),T(h.clonedFrom.maxDefined)||(h.max=void 0),this._disposers.push(h.clonedFrom.events.on("extremeschanged",(function(){T(h.clonedFrom.minDefined)&&(h.min=h.clonedFrom.min),T(h.clonedFrom.maxDefined)&&(h.max=h.clonedFrom.max)}),void 0,!1))}s.xAxis=l}else this.scrollbarChart.xAxes.each((function(e){e.clonedFrom==i.xAxis&&(s.xAxis=e)}));if(a){var d,p=i.yAxis.clone();if(r.yAxes.moveValue(p),p.title.disabled=!0,p.rangeChangeDuration=0,(d=p.renderer).ticks.template.disabled=!0,d.inside=!0,d.labels.template.inside=!0,d.line.strokeOpacity=0,d.minLabelPosition=.02,d.maxLabelPosition=.98,d.line.disabled=!0,d.axisFills.template.disabled=!0,d.grid.template.stroke=o.getFor("background"),d.baseGrid.disabled=!0,d.grid.template.strokeOpacity=.05,d.minWidth=void 0,d.minHeight=void 0,d.chart=r,d.padding(0,0,0,0),d.margin(0,0,0,0),p.height=m(100),d.labels.template.fillOpacity=.5,s.yAxis=p,p.maxZoomCount=void 0,p.minZoomCount=void 0,p instanceof Ip){var f=p;f.min=void 0,f.max=void 0;c=i.yAxis;p.groupCount=5*c.groupCount,this._disposers.push(f.clonedFrom.events.on("extremeschanged",(function(){T(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),T(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined)})))}else if(p instanceof _p){var y=p;y.min=void 0,y.max=void 0,T(y.clonedFrom.minDefined)||(y.min=void 0),T(y.clonedFrom.maxDefined)||(y.max=void 0),this._disposers.push(y.clonedFrom.events.on("extremeschanged",(function(){T(y.clonedFrom.minDefined)&&(y.min=y.clonedFrom.minDefined),T(y.clonedFrom.maxDefined)&&(y.max=y.clonedFrom.maxDefined)})))}}else this.scrollbarChart.yAxes.each((function(e){e.clonedFrom==i.yAxis&&(s.yAxis=e)}));s.rangeChangeDuration=0,s.interpolationDuration=0,s.defaultState.transitionDuration=0,s.showOnInit=!1,this._disposers.push(s.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(i.events.on("datavalidated",(function(){s.data!=i.data&&(s.data=i.data)}),void 0,!1)),s.defaultState.properties.visible=!0,r.series.push(s),this.updateByOrientation()}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(Xe(this._scrollbarChart.xAxes.iterator(),(function(t){var i=t.renderer;"vertical"==e.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance)})),Xe(this._scrollbarChart.yAxes.iterator(),(function(t){var i=t.renderer;"horizontal"==e.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance)})))},t.prototype.handleSeriesRemoved=function(e){var t=e.oldValue,i=this.scrollbarChart;i.series.each((function(e){e&&e.clonedFrom==t&&i.series.removeValue(e)})),0==i.series.length&&(i.xAxes.clear(),i.yAxes.clear());try{t.events.off("validated",this.zoomOutAxes,this)}catch(e){}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;Xe(e.xAxes.iterator(),(function(e){e.zoom({start:0,end:1},!0,!0)})),Xe(e.yAxes.iterator(),(function(e){e.zoom({start:0,end:1},!0,!0)}))},t.prototype.updateThumb=function(){if(e.prototype.updateThumb.call(this),this._unselectedOverlay){var t=this.thumb,i=t.pixelX||0,r=t.pixelY||0,n=t.pixelWidth||0,a=t.pixelHeight||0,o="";"horizontal"==this.orientation?(o=qn({x:-1,y:0,width:i,height:a}),o+=qn({x:i+n,y:0,width:(this.pixelWidth||0)-i-n,height:a})):(o=qn({x:0,y:0,width:n,height:r}),o+=qn({x:0,y:r+a,width:n,height:(this.pixelHeight||0)-r-a})),this._unselectedOverlay.path=o}},t.prototype.processConfig=function(t){if(t&&_(t.series)&&D(t.series))for(var i=0,r=t.series.length;i<r;i++){var n=t.series[i];if(_(n)&&A(n)){if(!this.map.hasKey(n))throw Error("XYChartScrollbar error: Series with id `"+n+"` does not exist.");t.series[i]=this.map.getKey(n)}}e.prototype.processConfig.call(this,t)},t}(na);lt.registeredClasses.XYChartScrollbar=Ep;var Mp=function(e){function t(){var t=e.call(this)||this;return t.className="XYChartDataItem",t.applyTheme(),t}return s(t,e),t}(op),jp=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=Ap,t._axisRendererY=xp,t._seriesPoints=[],t.className="XYChart",t.maskBullets=!0,t.arrangeTooltips=!0;var i=t.chartContainer;i.layout="vertical",t.padding(15,15,15,15);var r=i.createChild(gn);r.shouldClone=!1,r.layout="vertical",r.width=m(100),r.zIndex=1,t.topAxesContainer=r;var n=i.createChild(gn);n.shouldClone=!1,n.layout="horizontal",n.width=m(100),n.height=m(100),n.zIndex=0,t.yAxesAndPlotContainer=n;var a=i.createChild(gn);a.shouldClone=!1,a.width=m(100),a.layout="vertical",a.zIndex=1,t.bottomAxesContainer=a;var o=n.createChild(gn);o.shouldClone=!1,o.layout="horizontal",o.height=m(100),o.contentAlign="right",o.events.on("transformed",t.updateXAxesMargins,t,!1),o.zIndex=1,t.leftAxesContainer=o;var s=n.createChild(gn);s.shouldClone=!1,s.height=m(100),s.width=m(100),s.background.fillOpacity=0,t.plotContainer=s,t.mouseWheelBehavior="none",t._cursorContainer=s;var l=n.createChild(gn);l.shouldClone=!1,l.layout="horizontal",l.height=m(100),l.zIndex=1,l.events.on("transformed",t.updateXAxesMargins,t,!1),t.rightAxesContainer=l,t.seriesContainer.parent=s,t.bulletsContainer.parent=s;var u=s.createChild(_a);u.shouldClone=!1,u.align="right",u.valign="top",u.zIndex=Number.MAX_SAFE_INTEGER,u.marginTop=5,u.marginRight=5,u.hide(0),t.zoomOutButton=u;var c=t.plotContainer.createChild(gn);return c.shouldClone=!1,c.width=m(100),c.height=m(100),c.isMeasured=!1,c.zIndex=4,c.layout="none",t.axisBulletsContainer=c,t._bulletMask=t.plotContainer,t.events.on("beforedatavalidated",(function(){t.series.each((function(e){e.dataGrouped=!1,e._baseInterval={}}))}),t,!1),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,_(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},t.prototype.draw=function(){e.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},t.prototype.updatePlotElements=function(){Xe(this.series.iterator(),(function(e){e.invalidate()}))},t.prototype.validateData=function(){0==this._parseDataFrom&&(Xe(this.xAxes.iterator(),(function(e){e.dataChangeUpdate()})),Xe(this.yAxes.iterator(),(function(e){e.dataChangeUpdate()})),Xe(this.series.iterator(),(function(e){e.dataChangeUpdate()}))),e.prototype.validateData.call(this)},t.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,t=this.rightAxesContainer.measuredWidth,i=this.bottomAxesContainer;i.paddingLeft==e&&i.paddingRight==t||(i.paddingLeft=e,i.paddingRight=t);var r=this.topAxesContainer;r.paddingLeft==e&&r.paddingRight==t||(r.paddingLeft=e,r.paddingRight=t)},t.prototype.reinit=function(){e.prototype.reinit.call(this),this.series.each((function(e){e.appeared=!1}))},t.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},t.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},t.prototype.processXAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererX,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),t.axisLetter="X",t.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),t.dataProvider=this,this.updateXAxis(t.renderer),this.processAxis(t)},t.prototype.processYAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererY,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),t.axisLetter="Y",t.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),t.dataProvider=this,this.updateYAxis(t.renderer),this.processAxis(t)},t.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},t.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;Ke(this.xAxes.iterator(),(function(t){if(t.toggleZoomOutButton)if(t.maxZoomCount>0){var i=t.maxZoomFactor/t.maxZoomCount;if(L(t.end-t.start,3)<1/i)return e=!0,!1}else if(L(t.start,3)>0||L(t.end,3)<1)return e=!0,!1;return!0})),Ke(this.yAxes.iterator(),(function(t){if(t.toggleZoomOutButton){if(t.maxZoomCount>0){var i=t.maxZoomFactor/t.maxZoomCount;if(L(t.end-t.start,3)<1/i)return e=!0,!1}else if(L(t.start,3)>0||L(t.end,3)<1)return e=!0,!1;return!0}})),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},t.prototype.seriesAppeared=function(){var e=!1;return Xe(this.series.iterator(),(function(t){if(!t.appeared)return e=!1,!1})),e},t.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},t.prototype.updateScrollbar=function(e,t){e&&(e.skipRangeEvents(),e.start=t.start,e.end=t.end)},t.prototype.getCommonAxisRange=function(e){var t,i;return e.each((function(e){if(!e.zoomable||e instanceof _p&&e.syncWithAxis);else{var r=e.start,n=e.end;e.renderer.inversed&&(r=1-e.end,n=1-e.start),(!T(t)||r<t)&&(t=r),(!T(i)||n>i)&&(i=n)}})),{start:t,end:i}},t.prototype.updateXAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.topAxesContainer,t.toFront()):(t.parent=this.bottomAxesContainer,t.toBack()),t.renderer&&t.renderer.processRenderer()},t.prototype.updateYAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.rightAxesContainer,t.toBack()):(t.parent=this.leftAxesContainer,t.toFront()),t.renderer&&t.renderer.processRenderer()},t.prototype.processAxis=function(e){var t=this;e instanceof Dp&&this._dataUsers.moveValue(e);var i=e.renderer;i.gridContainer.parent=this.plotContainer,i.gridContainer.toBack(),i.breakContainer.parent=this.plotContainer,i.breakContainer.toFront(),i.breakContainer.zIndex=10,e.addDisposer(new Ce((function(){t.dataUsers.removeValue(e)}))),i.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",(function(){var r=hi({x:0,y:0},e,t.axisBulletsContainer);e.renderer instanceof xp&&(i.bulletsContainer.y=r.y),e.renderer instanceof Ap&&(i.bulletsContainer.x=r.x)}),void 0,!1)),this.plotContainer.events.on("maxsizechanged",(function(){t.inited&&(e.invalidateDataItems(),t.updateSeriesMasks())}),e,!1)},t.prototype.updateSeriesMasks=function(){Pi()&&this.series.each((function(e){var t=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=t}))},t.prototype.handleSeriesRemoved=function(t){var i=t.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each((function(e){e.resetExtremes()}))),e.prototype.handleSeriesRemoved.call(this,t)},Object.defineProperty(t.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new pt,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ht(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),t.prototype.handleAxisRemoval=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),t.autoDispose&&t.dispose()},Object.defineProperty(t.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new pt,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new ht(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(t){try{e.prototype.handleSeriesAdded.call(this,t);var i=t.newValue;0!=this.xAxes.length&&0!=this.yAxes.length||(lt.removeFromInvalidComponents(i),i.dataInvalid=!1),i.xAxis,i.yAxis,i.maskBullets=i.maskBullets,null==i.fill&&(this.patterns?(_(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),_(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof kt&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),_(i.stroke)||(i.stroke=i.fill)}catch(e){this.raiseCriticalError(e)}},Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),t.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var t=this.cursor.xPosition,i=this.cursor.yPosition;this.showSeriesTooltip({x:t,y:i});var r=[],n=e.snapToSeries;if(n&&!e.downPoint){n instanceof Fp&&(n=[n]);var a=[];de(n,(function(e){if(!e.isHidden&&!e.isHiding){var n=e.xAxis,o=e.yAxis;n instanceof _p&&!(n instanceof Ip)&&o instanceof _p&&!(o instanceof Ip)?(e.dataItems.each((function(e){a.push(e)})),me(r,e.yAxis),me(r,e.xAxis)):(e.baseAxis==e.xAxis&&(me(r,e.yAxis),a.push(n.getSeriesDataItem(e,n.toAxisPosition(t),!0))),e.baseAxis==e.yAxis&&(me(r,e.xAxis),a.push(o.getSeriesDataItem(e,o.toAxisPosition(i),!0))))}}));var o=this.getClosest(a,t,i);o&&(this.series.each((function(e){var t=o.component;e!=t&&(e.hideTooltip(),e.xAxis!=t.xAxis&&e.xAxis.hideTooltip(),e.yAxis!=t.yAxis&&e.yAxis.hideTooltip())})),o.component.showTooltipAtDataItem(o),e.handleSnap(o.component))}this._seriesPoints=[],this._cursorXPosition!=t&&this.showAxisTooltip(this.xAxes,t,r),this._cursorYPosition!=i&&this.showAxisTooltip(this.yAxes,i,r),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},t.prototype.getClosest=function(e,t,i){var r,n=1/0;return pe(e,(function(e){if(e){var a=e.component.xAxis,o=e.component.yAxis,s=a.positionToCoordinate(a.toGlobalPosition(a.toAxisPosition(t))),l=o.positionToCoordinate(o.toGlobalPosition(o.toAxisPosition(i))),u=e.component.xField,c=e.component.yField;if(a instanceof _p&&!T(e.getValue(u)))return!0;if(o instanceof _p&&!T(e.getValue(c)))return!0;var h=a.positionToCoordinate(a.toGlobalPosition(a.getPositionX(e,u,e.locations[u],"valueX"))),d=o.positionToCoordinate(o.toGlobalPosition(o.getPositionY(e,c,e.locations[c],"valueY"))),p=Math.sqrt(Math.pow(s-h,2)+Math.pow(l-d,2));return p<n&&(n=p,r=e),!0}})),r},t.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},t.prototype.updateSeriesLegend=function(){Xe(this.series.iterator(),(function(e){e.updateLegendValue()}))},t.prototype.hideObjectTooltip=function(e){Xe(e.iterator(),(function(e){e.cursorTooltipEnabled&&e.hideTooltip(0)}))},t.prototype.showSeriesTooltip=function(e){var t=this;if(e){var i=[];this.series.each((function(r){if(r.xAxis instanceof Ip&&r.xAxis.snapTooltip||r.yAxis instanceof Ip&&r.yAxis.snapTooltip);else{var n=r.showTooltipAtPosition(e.x,e.y);n&&(r.tooltip.setBounds(di({x:0,y:0,width:t.pixelWidth,height:t.pixelHeight},t)),i.push({series:r,point:n}))}})),this.arrangeTooltips&&this.sortSeriesTooltips(i)}else this.series.each((function(e){e.hideTooltip()}))},t.prototype.sortSeriesTooltips=function(e){if(e.length>0){var t=this.cursor;if(t&&T(t.maxTooltipDistance)){var i,r,n=ci({x:t.point.x,y:t.point.y},t),a=1/0;de(e,(function(e){var t=e.series,o=e.point;if(o){var s={x:o.x,y:o.y},l=Math.abs($(s,n));l<a&&(r=s,a=l,i=t)}}));var o=[];i&&(de(e,(function(e){if(Math.abs($(e.point,r))<=Math.abs(t.maxTooltipDistance))o.push({series:e.series,point:e.point});else{var i=e.series.tooltipDataItem;i&&de(i.sprites,(function(e){e.isHover=!1,e.handleOutReal()})),e.series.hideTooltip(0)}})),t.maxTooltipDistance<0&&(o.length>0&&de(o,(function(e){i!=e.series&&e.series.hideTooltip(0)})),o=[{series:i,point:r}])),e=o}var s=ci({x:-.5,y:-.5},this.plotContainer),l=ci({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),u=0,c=[];de(e,(function(e){var t=e.point;t&&le(t,{x:s.x,y:s.y,width:l.x-s.x,height:l.y-s.y})&&(c.push({point:t,series:e.series}),u+=t.y)})),e=c;var h=this.series.getIndex(0),d=!1;h&&h.yAxis&&h.yAxis.renderer.inversed&&(d=!0),d?e.sort((function(e,t){return bt(e.point.y,t.point.y)})):(e.sort((function(e,t){return bt(t.point.y,e.point.y)})),e.reverse());var p=u/e.length,f=fi({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var m=s.y,y=l.y;yi({x:0,y:m},this);var g=!1;if(p>m+(y-m)/2)for(var v=y,b=e.length-1;b>=0;b--){var x=(C=e[b].series).tooltip,S=e[b].point.y;if(x.setBounds({x:0,y:-f,width:this.pixelWidth,height:v+f}),x.invalid&&x.validate(),x.toBack(),(v=ci({x:0,y:x.label.pixelY-x.pixelY+S-x.pixelMarginTop},x).y)<-f){g=!0;break}}if(p<=m+(y-m)/2||g)for(var P=m,_=(b=0,e.length);b<_;b++){var C=e[b].series;S=e[b].point.y;(x=C.tooltip).setBounds({x:0,y:P,width:this.pixelWidth,height:y}),x.invalid&&x.validate(),x.toBack(),P=ci({x:0,y:x.label.pixelY+x.label.measuredHeight-x.pixelY+S+x.pixelMarginBottom},x).y}}}},t.prototype.showAxisTooltip=function(e,t,i){var r=this;Xe(e.iterator(),(function(e){i&&-1!=i.indexOf(e)||(r.dataItems.length>0||e.dataItems.length>0)&&e.showTooltipAtPosition(t)}))},t.prototype.getUpdatedRange=function(e,t){if(e){var i,r;e.renderer.inversed?(U(t),i=1-e.end,r=1-e.start):(i=e.start,r=e.end);var n=r-i;return{start:i+t.start*n,end:i+t.end*n}}},t.prototype.handleCursorZoomEnd=function(e){var t=this.cursor,i=t.behavior;if("zoomX"==i||"zoomXY"==i){var r=t.xRange;r&&this.xAxes.length>0&&((r=this.getUpdatedRange(this.xAxes.getIndex(0),r)).priority="start",this.zoomAxes(this.xAxes,r))}if("zoomY"==i||"zoomXY"==i){var n=t.yRange;n&&this.yAxes.length>0&&((n=this.getUpdatedRange(this.yAxes.getIndex(0),n)).priority="start",this.zoomAxes(this.yAxes,n))}this.handleHideCursor()},t.prototype.handleCursorPanStart=function(e){var t=this.xAxes.getIndex(0);t&&(this._panStartXRange={start:t.start,end:t.end},t.renderer.inversed&&(this._panStartXRange=U(this._panStartXRange)));var i=this.yAxes.getIndex(0);i&&(this._panStartYRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartYRange=U(this._panStartYRange)))},t.prototype.handleCursorPanEnd=function(e){var t=this.cursor.behavior;if(this._panEndXRange&&("panX"==t||"panXY"==t)){var i=this._panEndXRange,r=this._panStartXRange,n=0;i.start<0&&(n=i.start),r.end>1?i.end>r.end&&(n=i.end-r.end):i.end>1&&(n=i.end-1),this.zoomAxes(this.xAxes,{start:i.start-n,end:i.end-n},!1,!0),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&("panY"==t||"panXY"==t)){n=0;(i=this._panEndYRange).start<0&&(n=i.start),i.end>1&&(n=i.end-1),this.zoomAxes(this.yAxes,{start:i.start-n,end:i.end-n},!1,!0),this._panEndYRange=void 0,this._panStartYRange=void 0}},t.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},t.prototype.handleCursorPanning=function(e){var t=this.cursor,i=t.behavior,r=t.maxPanOut;if(this._panStartXRange&&("panX"==i||"panXY"==i)){var n=this._panStartXRange,a=t.xRange,o=this.getCommonAxisRange(this.xAxes),s=n.end-n.start,l=a.start*(o.end-o.start),u=Math.max(-r,l+n.start),c=Math.min(l+n.end,1+r);u<=0&&(c=u+s),c>=1&&(u=c-s);var h={start:u,end:c};this._panEndXRange=h,this.zoomAxes(this.xAxes,h,!1,!1,t.maxPanOut)}if(this._panStartYRange&&("panY"==i||"panXY"==i)){n=this._panStartYRange,a=t.yRange,o=this.getCommonAxisRange(this.yAxes),s=n.end-n.start,l=a.start*(o.end-o.start),u=Math.max(-r,l+n.start),c=Math.min(l+n.end,1+r);u<=0&&(c=u+s),c>=1&&(u=c-s);h={start:u,end:c};this._panEndYRange=h,this.zoomAxes(this.yAxes,h,!1,!1,t.maxPanOut)}this.handleHideCursor()},t.prototype.handleYAxisSet=function(e){},t.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(t.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var t=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),e.adapter.add("positionValue",(function(e){var i=t.xAxes.getIndex(0);return i&&(e.value=i.getPositionLabel(i.renderer.inversed?1-e.position:e.position)),e})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var t=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),e.adapter.add("positionValue",(function(e){var i=t.yAxes.getIndex(0);return i&&(e.value=i.getPositionLabel(e.position)),e})))},enumerable:!0,configurable:!0}),t.prototype.handleXScrollbarChange=function(e){if(this.inited){var t=e.target,i=t.range;0==i.start&&(i.priority="start"),1==i.end&&(i.priority="end"),i=this.zoomAxes(this.xAxes,i),t.fixRange(i)}},t.prototype.handleYScrollbarChange=function(e){if(this.inited){var t=e.target,i=t.range;1==i.end&&(i.priority="end"),0==i.start&&(i.priority="start"),i=this.zoomAxes(this.yAxes,i),t.fixRange(i)}},t.prototype.zoomAxes=function(e,t,i,r,n,a){var o={start:0,end:1};return this.showSeriesTooltip(),this.dataInvalid||Xe(e.iterator(),(function(e){if(a&&1/(t.end-t.start)>=e.maxZoomFactor);else if(e.zoomable){if(e.renderer.inversed&&(t=U(t)),e.hideTooltip(0),r)if(e instanceof Dp){var s=e.getCellEndPosition(0)-e.getCellStartPosition(0);t.start=e.roundPosition(t.start+s/2-e.startLocation*s,e.startLocation),t.end=e.roundPosition(t.end-s/2+(1-e.endLocation)*s,e.endLocation)}else t.start=e.roundPosition(t.start+1e-4,0,e.startLocation),t.end=e.roundPosition(t.end+1e-4,0,e.endLocation);var l=e.zoom(t,i,i,n);e.renderer.inversed&&(l=U(l)),o=l}})),o},Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=e?this._bulletMask:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var t=this.plotContainer,i=ui(pi(e.point,this.htmlContainer,this.svgContainer.cssScale),t),r=e.shift.y;this.handleWheelReal(r,this.mouseWheelBehavior,i)},t.prototype.handleHorizontalWheel=function(e){var t=this.plotContainer,i=ui(pi(e.point,this.htmlContainer,this.svgContainer.cssScale),t);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,i)},t.prototype.handleWheelReal=function(e,t,i){if(0!=e){var r=this.plotContainer,n=this.getCommonAxisRange(this.xAxes),a=this.getCommonAxisRange(this.yAxes);if("panX"==t||"panXY"==t){var o=n.end-n.start,s=Math.max(-0,n.start+.1*e/100*(n.end-n.start)),l=Math.min(n.end+.1*e/100*(n.end-n.start),1);s<=0&&(l=s+o),l>=1&&(s=l-o),this.zoomAxes(this.xAxes,{start:s,end:l})}if("panY"==t||"panXY"==t){e*=-1;var u=a.end-a.start,c=Math.max(-0,a.start+.1*e/100*(a.end-a.start)),h=Math.min(a.end+.1*e/100*(a.end-a.start),1);c<=0&&(h=c+u),h>=1&&(c=h-u),this.zoomAxes(this.yAxes,{start:c,end:h})}if("zoomX"==t||"zoomXY"==t){var d=i.x/r.maxWidth,p=this.xAxes.getIndex(0).toAxisPosition(d);s=Math.max(-0,n.start-.1*(n.end-n.start)*e/100*d);s=Math.min(s,p);l=Math.min(n.end+.1*(n.end-n.start)*e/100*(1-d),1);l=Math.max(l,p),this.zoomAxes(this.xAxes,{start:s,end:l},void 0,void 0,void 0,!0)}if("zoomY"==t||"zoomXY"==t){var f=i.y/r.maxHeight,m=this.yAxes.getIndex(0).toAxisPosition(f);c=Math.max(-0,a.start-.1*(a.end-a.start)*e/100*(1-f));c=Math.min(c,m);h=Math.min(a.end+.1*e/100*f*(a.end-a.start),1);h=Math.max(h,m),this.zoomAxes(this.yAxes,{start:c,end:h},void 0,void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),t.prototype.dataSourceDateFields=function(t){var i=this;return t=e.prototype.dataSourceDateFields.call(this,t),Xe(this.series.iterator(),(function(e){t=i.populateDataSourceFields(t,e.dataFields,["dateX","dateY","openDateX","openDateY"])})),t},t.prototype.dataSourceNumberFields=function(t){var i=this;return t=e.prototype.dataSourceDateFields.call(this,t),Xe(this.series.iterator(),(function(e){t=i.populateDataSourceFields(t,e.dataFields,["valueX","valueY","openValueX","openValueY"])})),t},t.prototype.processConfig=function(t){if(t){var i=[],r=[];if(_(t.xAxes)&&D(t.xAxes))for(var n=0,a=t.xAxes.length;n<a;n++){if(!t.xAxes[n].type)throw Error("[XYChart error] No type set for xAxes["+n+"].");if(_(t.xAxes[n].axisRanges)){for(var o=0,s=t.xAxes[n].axisRanges.length;o<s;o++){_((u=t.xAxes[n].axisRanges[o]).date)&&A(u.date)&&(u.date=this.dateFormatter.parse(u.date)),_(u.endDate)&&A(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}i.push({axisRanges:t.xAxes[n].axisRanges,index:n}),delete t.xAxes[n].axisRanges}}if(_(t.yAxes)&&D(t.yAxes))for(n=0,a=t.yAxes.length;n<a;n++){if(!t.yAxes[n].type)throw Error("[XYChart error] No type set for yAxes["+n+"].");if(_(t.yAxes[n].axisRanges)){o=0;for(var l=t.yAxes[n].axisRanges.length;o<l;o++){var u;_((u=t.yAxes[n].axisRanges[o]).date)&&A(u.date)&&(u.date=this.dateFormatter.parse(u.date)),_(u.endDate)&&A(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}r.push({axisRanges:t.yAxes[n].axisRanges,index:n}),delete t.yAxes[n].axisRanges}}if(_(t.series)&&D(t.series))for(n=0,a=t.series.length;n<a;n++)t.series[n].type=t.series[n].type||"LineSeries";if(_(t.cursor)&&!_(t.cursor.type)&&(t.cursor.type="XYCursor"),_(t.scrollbarX)&&!_(t.scrollbarX.type)&&(t.scrollbarX.type="Scrollbar"),_(t.scrollbarY)&&!_(t.scrollbarY.type)&&(t.scrollbarY.type="Scrollbar"),e.prototype.processConfig.call(this,t),r.length)for(n=0,a=r.length;n<a;n++)this.yAxes.getIndex(r[n].index).config={axisRanges:r[n].axisRanges};if(i.length)for(n=0,a=i.length;n<a;n++)this.xAxes.getIndex(i[n].index).config={axisRanges:i[n].axisRanges}}},t.prototype.configOrder=function(t,i){return t==i?0:"scrollbarX"==t?1:"scrollbarX"==i?-1:"scrollbarY"==t?1:"scrollbarY"==i?-1:"cursor"==t?1:"cursor"==i?-1:"series"==t?1:"series"==i?-1:e.prototype.configOrder.call(this,t,i)},t.prototype.createSeries=function(){return new Fp},Object.defineProperty(t.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var t=this;this._zoomOutButton=e,e&&e.events.on("hit",(function(){t.zoomAxes(t.xAxes,{start:0,end:1}),t.zoomAxes(t.yAxes,{start:0,end:1})}),void 0,!1)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;t.xAxes.each((function(e){var t=i.xAxes.push(e.clone());t.chart=i,t.renderer.chart=i})),t.yAxes.each((function(e){var t=i.yAxes.push(e.clone());t.renderer.chart=i,t.chart=i})),e.prototype.copyFrom.call(this,t),t.cursor&&(this.cursor=t.cursor.clone()),t.scrollbarX&&(this.scrollbarX=t.scrollbarX.clone()),t.scrollbarY&&(this.scrollbarY=t.scrollbarY.clone())},t.prototype.disposeData=function(){e.prototype.disposeData.call(this);var t=this.scrollbarX;t&&t instanceof Ep&&t.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof Ep&&i.scrollbarChart.disposeData(),this.xAxes.each((function(e){e instanceof Dp&&e.disposeData()})),this.yAxes.each((function(e){e instanceof Dp&&e.disposeData()}))},t.prototype.addData=function(t,i){this.scrollbarX instanceof Ep&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof Ep&&this.addScrollbarData(this.scrollbarY,i),e.prototype.addData.call(this,t,i)},t.prototype.addScrollbarData=function(e,t){var i=e.scrollbarChart;i._parseDataFrom=i.data.length,i.invalidateData()},t.prototype.removeScrollbarData=function(e,t){var i=e.scrollbarChart;if(T(t)){for(;t>0;){var r=this.dataItems.getIndex(0);r&&i.dataItems.remove(r),i.dataUsers.each((function(e){var t=e.dataItems.getIndex(0);t&&e.dataItems.remove(t)})),i._parseDataFrom--,t--}i.invalidateData()}},t.prototype.removeData=function(t){this.scrollbarX instanceof Ep&&this.removeScrollbarData(this.scrollbarX,t),this.scrollbarY instanceof Ep&&this.removeScrollbarData(this.scrollbarY,t),e.prototype.removeData.call(this,t)},t.prototype.setTapToActivate=function(t){e.prototype.setTapToActivate.call(this,t),this.cursor&&(this.cursor.interactions.isTouchProtected=t,this.plotContainer.interactions.isTouchProtected=t)},t.prototype.handleTapToActivate=function(){e.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},t.prototype.handleTapToActivateDeactivation=function(){e.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},t}(sp);lt.registeredClasses.XYChart=jp,In.push({relevant:An.maybeXS,state:function(e,t){if(e instanceof jp&&e.scrollbarX){var i=e.states.create(t);return e.scrollbarX.states.create(t).properties.disabled=!0,i}return null}}),In.push({relevant:An.maybeXS,state:function(e,t){if(e instanceof jp&&e.scrollbarY){var i=e.states.create(t);return e.scrollbarY.states.create(t).properties.disabled=!0,i}return null}});var Lp=function(e){function t(){var t=e.call(this)||this;t.className="LineSeriesSegment",t.isMeasured=!1,t.interactionsEnabled=!1,t.layout="none";var i=t.createChild(mn);t.fillSprite=i,i.shouldClone=!1,i.setElement(t.paper.add("path")),i.isMeasured=!1,t._disposers.push(i);var r=t.createChild(mn);return t.strokeSprite=r,r.shouldClone=!1,r.fill=Ft(),r.setElement(t.paper.add("path")),r.isMeasured=!1,t._disposers.push(r),t}return s(t,e),t.prototype.drawSegment=function(e,t,i,r){if(!this.disabled)if(e.length>0&&t.length>0&&T(e[0].x)&&T(e[0].y)){var n=Bn({x:e[0].x-.2,y:e[0].y-.2})+Bn(e[0]),a=this.series;"bezier"==a.smoothing?n+=new da(i,r).smooth(e):"monotoneX"==a.smoothing?n+=new va({closed:!1}).smooth(e):"monotoneY"==a.smoothing&&(n+=new ba({closed:!1}).smooth(e)),0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=n),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&T(t[0].x)&&T(t[0].y)&&(n+=Nn(t[0]),"bezier"==a.smoothing?n+=new da(i,r).smooth(t):"monotoneX"==a.smoothing?n+=new va({closed:!1}).smooth(t):"monotoneY"==a.smoothing&&(n+=new ba({closed:!1}).smooth(t)),n+=Nn(e[0]),n+=" Z",this.fillSprite.path=n)}else this.fillSprite.path="",this.strokeSprite.path=""},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t);var i=this.strokeSprite;Ue(t,i.properties,fn),i.events.copyFrom(t.strokeSprite.events),i.fillOpacity=0;var r=this.fillSprite;Ue(t,r.properties,fn),r.events.copyFrom(t.fillSprite.events),r.strokeOpacity=0},t}(gn);lt.registeredClasses.LineSeriesSegment=Lp;var Rp=function(e){function t(){var t=e.call(this)||this;return t.className="DurationAxisDataItem",t.applyTheme(),t}return s(t,e),t}(Pp),Vp=function(e){function t(){var t=e.call(this)||this;return t._baseUnit="second",t.className="DurationAxis",t.setPropertyValue("maxZoomFactor",1e6),t.applyTheme(),t}return s(t,e),t.prototype.formatLabel=function(e,t){return this.durationFormatter.format(e,t||this.axisDurationFormat)},t.prototype.adjustMinMax=function(t,i,r,n,a){var o,s,l,u,c=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==c||"second"==c||"minute"==c||"hour"==c){n<=1&&(n=1),n=Math.round(n);var d=t,p=i;0===r&&(r=Math.abs(i));var f,m=[60,30,20,15,10,2,1],y=1;"hour"==c&&(m=[24,12,6,4,2,1]);try{for(var g=h(m),v=g.next();!v.done;v=g.next()){var b=v.value;if(r/b>n){y=b;break}}}catch(e){o={error:e}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}var x=Math.ceil((i-t)/y/n),S=Math.log(Math.abs(x))*Math.LOG10E,P=Math.pow(10,Math.floor(S))/10;f=y*(x=(u=x/P,m.reduce((function(e,t){return Math.abs(t-u)<Math.abs(e-u)?t:e})))*P),this.durationFormatter.getValueUnit(f,this.baseUnit),t=Math.floor(t/f)*f,i=Math.ceil(i/f)*f,a&&((t-=f)<0&&d>=0&&(t=0),(i+=f)>0&&p<=0&&(i=0)),l={min:t,max:i,step:f}}else l=e.prototype.adjustMinMax.call(this,t,i,r,n,a);return this.axisDurationFormat=this.durationFormatter.getFormat(l.step,l.max,this.baseUnit),l},Object.defineProperty(t.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var t=L(this.positionToValue(e),this._stepDecimalPlaces),i=this.formatLabel(t,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.baseUnit=t.baseUnit},t}(_p);lt.registeredClasses.DurationAxis=Vp,lt.registeredClasses.DurationAxisDataItem=Rp;var Bp=function(e){function t(){var t=e.call(this)||this;return t.className="LineSeriesDataItem",t}return s(t,e),t}(kp),Np=function(e){function t(){var t=e.call(this)||this;return t.minDistance=.5,t.segments=new ft(t.createSegment()),t.segments.template.applyOnClones=!0,t._disposers.push(new ht(t.segments)),t._disposers.push(t.segments.template),t._segmentsIterator=new tt(t.segments,(function(){return t.segments.create()})),t._segmentsIterator.createNewItems=!0,t.className="LineSeries",t.strokeOpacity=1,t.fillOpacity=0,t.connect=!0,t.tensionX=1,t.tensionY=1,t.autoGapCount=1.1,t.smoothing="bezier",t.segmentsContainer=t.mainContainer.createChild(gn),t.segmentsContainer.isMeasured=!1,t.bulletsContainer.toFront(),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},t.prototype.createSegment=function(){return new Lp},t.prototype.createDataItem=function(){return new Bp},t.prototype.setInitialWorkingValues=function(e){var t=this._yAxis.get(),i=this._xAxis.get();if(this.appeared&&this.visible){var r=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==i&&t instanceof _p){var n=t.minZoomed;if(r&&(n=r.values.valueY.workingValue),e.setWorkingValue("valueY",n,0),e.setWorkingValue("valueY",e.values.valueY.value),i instanceof Ip)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(i instanceof Vp&&r){var a=e.valueX;e.setWorkingValue("valueX",r.valueX,0),e.setWorkingValue("valueX",a)}}if(this.baseAxis==t&&i instanceof _p){var o=i.minZoomed;if(r&&(o=r.values.valueX.workingValue),e.setWorkingValue("valueX",o,0),e.setWorkingValue("valueX",e.values.valueX.value),t instanceof Ip)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(t instanceof Vp&&r){a=e.valueY;e.setWorkingValue("valueY",r.valueY,0),e.setWorkingValue("valueY",a)}}}else this.baseAxis==i&&t instanceof _p&&(i instanceof Ip&&e.setWorkingLocation("dateX",e.locations.dateX),i instanceof Dp&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==t&&i instanceof _p&&(t instanceof Ip&&e.setWorkingLocation("dateY",e.locations.dateY),t instanceof Dp&&e.setWorkingLocation("categoryY",e.locations.categoryY))},t.prototype.updateLegendValue=function(t,i){e.prototype.updateLegendValue.call(this,t,i),t&&t.segment&&(this.tooltipColorSource=t.segment)},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),Xe(this.axisRanges.iterator(),(function(e){t.openSegmentWrapper(t._adjustedStartIndex,e)})),Xe(this._segmentsIterator.iterator(),(function(e){e.__disabled=!0})))},t.prototype.sliceData=function(){for(var e=this.startIndex,t=this.endIndex,i=this.startIndex-1;i>=0;i--){if((n=this.dataItems.getIndex(i))&&n.hasValue(this._xValueFields)&&n.hasValue(this._yValueFields)){e=i;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);i=this.endIndex;for(var r=this.dataItems.length;i<r;i++){var n;if((n=this.dataItems.getIndex(i))&&n.hasValue(this._xValueFields)&&n.hasValue(this._yValueFields)){t=i+1;break}}this._workingStartIndex=e,this._workingEndIndex=t},t.prototype.findAdjustedIndex=function(e,t){var i=this,r=this.propertyFields,n=e;return de(t,(function(t){if(_(r[t]))for(var a=n;a>=0;a--){var o=i.dataItems.getIndex(a);if(o&&_(o.properties[t])){e>a&&(e=a);break}}})),e},t.prototype.openSegmentWrapper=function(e,t){var i={index:e,axisRange:t};do{i=this.openSegment(i.index,i.axisRange)}while(i)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,t){var i=!1,r=[];e=Math.min(e,this.dataItems.length);var n,a=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o=!1,s=this.getSegment();s.strokeDasharray=void 0,s.__disabled=!1,t?(s.parent=t.contents,Ue(t.contents,s,fn)):(Ue(this,s,fn),s.filters.clear(),s.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var l=this.connect,u=!1,c=e;c<a;c++){var h=this.dataItems.getIndex(c);if(h.segment=s,h.hasProperties&&(c==e?this.updateSegmentProperties(h.properties,s):o=this.updateSegmentProperties(h.properties,s,!0)),h.hasValue(this._xValueFields)&&h.hasValue(this._yValueFields))this.addPoints(r,h,this.xField,this.yField),u=!0;else{if(c==e)continue;if(!l&&u){n=c;break}}if(n=c,this.baseAxis instanceof Ip){var d=this.dataItems.getIndex(c+1);if(d&&this.baseAxis.makeGap(d,h)){i=!0;break}}if(o)break}return this.closeSegment(s,r,e,n,t,i)},t.prototype.addPoints=function(e,t,i,r,n){var a=this.getPoint(t,i,r,t.workingLocations[i],t.workingLocations[r]);n||(t.point=a),e.push(a)},t.prototype.closeSegment=function(e,t,i,r,n,a){var o=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var s=r;s>=i;s--){var l=this.dataItems.getIndex(s);l.hasValue(this._xValueFields)&&l.hasValue(this._yValueFields)&&this.addPoints(o,l,this.xOpenField,this.yOpenField,!0)}else{var u=this.baseAxis,c=t.length,h=this.xAxis,d=this.yAxis;c>0&&(u==h?(o.push({x:t[c-1].x,y:d.basePoint.y}),o.push({x:t[0].x,y:d.basePoint.y})):(o.push({x:h.basePoint.x,y:t[c-1].y}),o.push({x:h.basePoint.x,y:t[0].y})))}return this.drawSegment(e,t,o),a&&r++,r<this._workingEndIndex-1?{index:r,axisRange:n}:null},t.prototype.drawSegment=function(e,t,i){e.drawSegment(t,i,this.tensionX,this.tensionY)},t.prototype.updateSegmentProperties=function(e,t,i){var r=!1;return ze(e,(function(e,n){if(_(n)){var a=t[e],o=void 0;a&&(o=a.toString?a.toString():a);var s=void 0;n&&(s=n.toString?n.toString():n),a==n||null!=o&&null!=s&&o==s||(i||(t[e]=n),r=!0)}})),r},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var t=this,i=e.pixelWidth,r=e.pixelHeight;e.disposeChildren();var n=e.createChild(Ln);if(n.shouldClone=!1,Ue(this,n,fn),n.x2=i,n.y=r/2,n.y2=1e-5,n.visible=!0,this.fillOpacity>0){var a=e.createChild(yn);Ue(this,a,fn),a.width=i,a.height=r,a.y=0,a.strokeOpacity=0,a.visible=!0,n.y=0}var o=e.dataItem;o.color=this.stroke,o.colorOrig=this.fill,Ke(this.bullets.iterator(),(function(n){if(n instanceof ep&&!n.copyToLegendMarker)return!1;var a=!1;if(n instanceof gn&&Xe(n.children.iterator(),(function(e){if(e instanceof Dn)return a=!0,!0})),!a){var o=n.clone();return o.parent=e,o.isMeasured=!0,o.tooltipText=void 0,o.x=i/2,t.fillOpacity>0?o.y=0:o.y=r/2,o.visible=!0,_(o.fill)||(o.fill=t.fill),_(o.stroke)||(o.stroke=t.stroke),!1}}))},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),t}(Fp);lt.registeredClasses.LineSeries=Np,lt.registeredClasses.LineSeriesDataItem=Bp;var Wp=function(e){function t(){var t=e.call(this)||this;return t.className="RadarSeriesDataItem",t.setLocation("dateX",0,0),t.setLocation("dateY",0,0),t.setLocation("categoryX",0,0),t.setLocation("categoryY",0,0),t.applyTheme(),t}return s(t,e),t}(Bp),zp=function(e){function t(){var t=e.call(this)||this;return t.className="RadarSeries",t.connectEnds=!0,t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this)},t.prototype.createDataItem=function(){return new Wp},t.prototype.getPoint=function(e,t,i,r,n,a,o){a||(a="valueX"),o||(o="valueY");var s=$({x:this.yAxis.getX(e,i,n,o),y:this.yAxis.getY(e,i,n,o)});0==s&&(s=1e-5);var l=this.xAxis.getAngle(e,t,r,a),u=this.chart.startAngle,c=this.chart.endAngle;return l<u||l>c?void 0:{x:s*W(l),y:s*B(l)}},t.prototype.addPoints=function(e,t,i,r,n){var a=this.getPoint(t,i,r,t.locations[i],t.locations[r]);a&&e.push(a)},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return Gn(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(t,i,r){var n=this.yAxis.renderer;this.connectEnds&&360==Math.abs(n.endAngle-n.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),r.length>0&&r.unshift(r[r.length-1])),e.prototype.drawSegment.call(this,t,i,r)},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,t,i){var r=this.xAxis,n=this.yAxis;(t<r.start||t>r.end||i<n.start||i>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i))},t.prototype.setXAxis=function(t){e.prototype.setXAxis.call(this,t),this.updateRendererRefs()},t.prototype.setYAxis=function(t){e.prototype.setYAxis.call(this,t),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t},t}(Np);lt.registeredClasses.RadarSeries=zp,lt.registeredClasses.RadarSeriesDataItem=Wp;var Hp=function(e){function t(t){var i=e.call(this,t)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=m(100),i.applyTheme(),i}return s(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var t=this.axis.renderer;this.fillPath=t.getPositionRangePath(this.startPosition,this.endPosition,this.radius,_(this.innerRadius)?this.innerRadius:t.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(pp);lt.registeredClasses.AxisFillCircular=Hp;var Gp=function(e){function t(){var t=e.call(this)||this;return t.className="GridCircular",t.pixelPerfect=!1,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t}(fp);lt.registeredClasses.GridCircular=Gp;var Up=function(e){function t(){var t=e.call(this)||this;return t.fdx=0,t.fdy=0,t.className="AxisLabelCircular",t.padding(0,0,0,0),t.location=.5,t.locationOnPath=.5,t.radius=0,t.isMeasured=!1,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!_(e)){this.rotation=void 0;var t=this.dataItem;t&&t.component&&t.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),t.prototype.pixelRadius=function(e){var t=1;return this.inside&&(t=-1),Nt(this.radius,e)*t},t.prototype.pixelRadiusY=function(e,t){var i=1;this.inside&&(i=-1);var r=this.radius;return T(r)?Nt(r*=t/e,e)*i:Nt(r,t)*i},t.prototype.fixPosition=function(e,t,i,r,n){T(i)||(i=t),T(r)||(r=0),T(n)||(n=0);var a={x:t*W(e),y:i*B(e)};this.invalid&&this.validate();var o=!1,s=this.radius;(s instanceof f&&s.value<0||s<0)&&(o=!0);var l=this.relativeRotation,u=this.pixelRadius(t);if(this.bent){var c={x:(t+u)*W(e+180),y:(i+u*i/t)*B(e+180)};return this.path=Bn(c)+Hn(e+180,360,t+u,i+u*i/t),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(T(l)){this.horizontalCenter="none",this.verticalCenter="none",e=ae(e,-180,180);var h=this.bbox.width,d=this.bbox.height,p=this.pixelPaddingBottom,m=this.pixelPaddingTop,y=this.pixelPaddingLeft,g=this.pixelPaddingRight;e>90||e<-90?-90==l&&(l=90,h=0):(-90==l&&(d=-d),90==l&&(l=-90,h=-y-g,d=-d-m-p)),this.rotation=l+e+90;var v=B(l)/2,b=W(l)/2,x=this.rotation;this.dx=d*v*B(x)-h*b*W(x),this.dy=-d*v*W(x)-h*b*B(x),this.inside?e>90||e<-90?u-=(p+m)*W(l)+(y+g)*B(l):u+=(p+this.bbox.height+m)*W(l)+(y+g+this.bbox.width)*B(l):u+=(d+p+m)*W(l)+(h+y+g)*B(l),a.x+=W(e)*u,a.y+=B(e)*u*i/t}else this.horizontalCenter="middle",this.verticalCenter="middle",o?(this.dx=0,this.dy=0,a.x=(t+u)*W(e),a.y=(i+u*i/t)*B(e)):(this.dy=this._measuredHeight/2*B(e),this.dx=this._measuredWidth/2*W(e),a.x+=W(e)*u,a.y+=B(e)*u*i/t);a.x+=r,a.y+=n,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(a)},t}(mp);lt.registeredClasses.AxisLabelCircular=Up;var $p=function(e){function t(){var t=e.call(this)||this;return t.pixelRadiusReal=0,t.layout="none",t.className="AxisRendererCircular",t.isMeasured=!1,t.startAngle=-90,t.endAngle=270,t.useChartAngles=!0,t.radius=m(100),t.isMeasured=!1,t.grid.template.location=0,t.labels.template.location=0,t.labels.template.radius=15,t.ticks.template.location=0,t.ticks.template.pixelPerfect=!1,t.tooltipLocation=0,t.line.strokeOpacity=0,t.applyTheme(),t}return s(t,e),t.prototype.setAxis=function(t){var i=this;e.prototype.setAxis.call(this,t),t.isMeasured=!1;var r=t.tooltip;r.adapter.add("dx",(function(e,t){var r=ui({x:t.pixelX,y:t.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(r.y,r.x))-r.x})),r.adapter.add("dy",(function(e,t){var r=ui({x:t.pixelX,y:t.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(r.y,r.x))-r.y}))},t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Wt(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e){if(_(t)){if(t instanceof f&&e){var i=e.mr,r=t.value;t=m(100*(r=Math.max(i*r,i-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/i))}}else(t=e.innerRadius)instanceof f&&e&&(t=m(t.value*e.innerRadiusModifyer*100));return t}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Wt(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){T(t)||(t=1);var i=this.positionToCoordinate(e),r=this.startAngle+(this.endAngle-this.startAngle)*i/this.axisLength,n=this.pixelRadius,a=this.pixelInnerRadius;if(this.axisRendererY){var o=V(this.axisRendererY.positionToCoordinate(t),0,1/0);return{x:o*W(r),y:o*B(r)}}return{x:W(r)*a+(n-a)*W(r)*t,y:B(r)*a+(n-a)*B(r)*t}},t.prototype.positionToAngle=function(e){var t=this.axis,i=(this.endAngle-this.startAngle)/(t.end-t.start);return L(t.renderer.inversed?this.startAngle+(t.end-e)*i:this.startAngle+(e-t.start)*i,3)},t.prototype.angleToPosition=function(e){var t=this.axis,i=(this.endAngle-this.startAngle)/(t.end-t.start);return L(t.renderer.inversed?t.end-(e-this.startAngle)/i:(e-this.startAngle)/i+t.start,5)},t.prototype.updateAxisLine=function(){var e=this.pixelRadius,t=this.startAngle,i=H(360,this.endAngle-t);this.line.path=Bn({x:e*W(t),y:e*B(t)})+Hn(t,i,e,e)},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);if(T(r.x)&&T(r.y)&&e.element){var n=M*Math.atan2(r.y,r.x),a=Wt(_(e.radius)?e.radius:m(100),this.pixelRadius),o=Wt(e.innerRadius,this.pixelRadius);e.zIndex=0;var s=Wt(T(o)?o:this.innerRadius,this.pixelRadiusReal,!0);T(s)||(s=0),e.path=Bn({x:s*W(n),y:s*B(n)})+Nn({x:a*W(n),y:a*B(n)})}this.toggleVisibility(e,t,0,1)},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);if(e.element){var n=this.pixelRadius,a=M*Math.atan2(r.y,r.x),o=e.length;e.inside&&(o=-o),e.zIndex=1,e.path=Bn({x:n*W(a),y:n*B(a)})+Nn({x:(n+o)*W(a),y:(n+o)*B(a)})}this.toggleVisibility(e,t,0,1)},t.prototype.updateBullet=function(e,t,i){var r=.5;e instanceof bp&&(r=e.location),t+=(i-t)*r;var n=this.positionToPoint(t),a=this.pixelRadius,o=M*Math.atan2(n.y,n.x);n={x:a*W(o),y:a*B(o)},this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},t.prototype.updateLabelElement=function(e,t,i,r){_(r)||(r=e.location),t+=(i-t)*r,e.fixPosition(this.positionToAngle(t),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,t,i,r,n){var a="";if(T(e)&&T(t)){_(i)||(i=this.radius),e=z(e,this.axis.start),(t=H(t,this.axis.end))<e&&(t=e);var o=Wt(i,this.pixelRadius),s=Wt(r,this.pixelRadius,!0),l=this.positionToAngle(e);a=Gn(l,this.positionToAngle(t)-l,o,s,o,n)}return a},t.prototype.createGrid=function(){return new Gp},t.prototype.createFill=function(e){return new Hp(e)},t.prototype.createLabel=function(){return new Up},t.prototype.pointToPosition=function(e){var t=ae(X(e),this.startAngle,this.endAngle);return this.coordinateToPosition((t-this.startAngle)/360*this.axisLength)},t}(vp);lt.registeredClasses.AxisRendererCircular=$p;var qp=function(e){function t(){var t=e.call(this)||this;return t._chart=new Ie,t.pixelRadiusReal=0,t.className="AxisRendererRadial",t.isMeasured=!1,t.startAngle=-90,t.endAngle=270,t.minGridDistance=30,t.gridType="circles",t.axisAngle=-90,t.isMeasured=!1,t.layout="none",t.radius=m(100),t.line.strokeOpacity=0,t.labels.template.horizontalCenter="middle",t._disposers.push(t._chart),t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Wt(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e)if(_(t)){if(t instanceof f&&e){var i=e.mr,r=t.value;t=m(100*(r=Math.max(i*r,i-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/i))}}else(t=e.innerRadius)instanceof f&&e&&(t=m(t.value*e.innerRadiusModifyer*100));return t},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Wt(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){var i=V(this.positionToCoordinate(e),0,1/0);return{x:i*W(this.axisAngle),y:i*B(this.axisAngle)}},t.prototype.updateAxisLine=function(){this.line.path=Bn({x:this.pixelInnerRadius*W(this.axisAngle),y:this.pixelInnerRadius*B(this.axisAngle)})+Nn({x:this.pixelRadius*W(this.axisAngle),y:this.pixelRadius*B(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var t=90;this.opposite?this.inside||(t=-90):this.inside&&(t=-90),e.rotation=t},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var r,n=$(this.positionToPoint(t)),a=this.startAngle,o=this.endAngle,s=this.chart;if(T(n)&&e.element&&s){var l=s.xAxes.getIndex(0),u=0,c=s.series.getIndex(0);if(c&&(u=c.dataItems.length),"polygons"==this.gridType&&u>0&&c&&l&&l instanceof Dp){var h=l.renderer.grid.template.location,d=l.getAngle(c.dataItems.getIndex(0),"categoryX",h);r=Bn({x:n*W(d),y:n*B(d)});for(var p=1;p<u;p++)r+=Nn({x:n*W(d=l.getAngle(c.dataItems.getIndex(p),"categoryX",h)),y:n*B(d)});r+=Nn({x:n*W(d=l.getAngle(c.dataItems.getIndex(u-1),"categoryX",l.renderer.cellEndLocation)),y:n*B(d)})}else r=Bn({x:n*W(a),y:n*B(a)})+Hn(a,o-a,n,n);e.path=r}this.toggleVisibility(e,t,0,1)},t.prototype.updateLabelElement=function(e,t,i,r){_(r)||(r=e.location),t+=(i-t)*r;var n=this.positionToPoint(t);this.positionItem(e,n),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBaseGridElement=function(){},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",ne(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Dp?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,t){var i,r=this.pixelInnerRadius,n=this.axisLength+r,a=V(this.positionToCoordinate(e),r,n),o=V(this.positionToCoordinate(t),r,n),s=this.startAngle,l=this.endAngle-s,u=this.chart,c=u.xAxes.getIndex(0),h=u.series.getIndex(0),d=0;if(h&&(d=h.dataItems.length),"polygons"==this.gridType&&d>0&&h&&c&&c instanceof Dp){var p=c.renderer.grid.template.location,f=c.getAngle(h.dataItems.getIndex(0),"categoryX",p);i=Bn({x:o*W(f),y:o*B(f)});for(var m=1;m<d;m++)i+=Nn({x:o*W(f=c.getAngle(h.dataItems.getIndex(m),"categoryX",p)),y:o*B(f)});i+=Nn({x:o*W(f=c.getAngle(h.dataItems.getIndex(d-1),"categoryX",c.renderer.cellEndLocation)),y:o*B(f)}),i+=Bn({x:a*W(f),y:a*B(f)});for(m=d-1;m>=0;m--)i+=Nn({x:a*W(f=c.getAngle(h.dataItems.getIndex(m),"categoryX",p)),y:a*B(f)})}else i=Gn(s,l,o,a);return i},t.prototype.updateBreakElement=function(e){var t=e.startLine,i=e.endLine,r=e.fillShape,n=e.startPoint,a=e.endPoint;t.radius=Math.abs(n.y),i.radius=Math.abs(a.y),r.radius=Math.abs(a.y),r.innerRadius=Math.abs(n.y)},t.prototype.createBreakSprites=function(e){e.startLine=new xa,e.endLine=new xa,e.fillShape=new xa},t.prototype.updateTooltip=function(){if(this.axis){var e=this.axisAngle;e<0&&(e+=360);var t="vertical";(e>45&&e<135||e>225&&e<315)&&(t="horizontal"),this.axis.updateTooltip(t,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);if(e.element){var n=ne(this.axisAngle+90);n/90!=Math.round(n/90)?e.pixelPerfect=!1:e.pixelPerfect=!0;var a=-e.length;e.inside&&(a*=-1),e.path=Bn({x:0,y:0})+Nn({x:a*W(n),y:a*B(n)})}this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateBullet=function(e,t,i){var r=.5;e instanceof bp&&(r=e.location),t+=(i-t)*r;var n=this.positionToPoint(t);this.positionItem(e,n),this.toggleVisibility(e,t,0,1)},t.prototype.positionToCoordinate=function(e){var t=this.axis,i=t.axisFullLength,r=this.pixelInnerRadius;return L(t.renderer.inversed?(t.end-e)*i+r:(e-t.start)*i+r,1)},t.prototype.pointToPosition=function(e){var t=$(e)-this.pixelInnerRadius;return this.coordinateToPosition(t)},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t}(xp);lt.registeredClasses.AxisRendererRadial=qp;var Yp=function(e){function t(){var t=e.call(this)||this;return t.className="RadarChartDataItem",t.applyTheme(),t}return s(t,e),t}(Mp),Kp=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=$p,t._axisRendererY=qp,t.innerRadiusModifyer=1,t.mr=1,t.className="RadarChart",t.startAngle=-90,t.endAngle=270,t.radius=m(80),t.innerRadius=0;var i=t.plotContainer.createChild(gn);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",t.seriesContainer.parent=i,t.radarContainer=i,t.bulletsContainer.parent=i,t.axisBulletsContainer=i,t._cursorContainer=i,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t._bulletMask=i.createChild(En),t._bulletMask.shouldClone=!1,t._bulletMask.element=t.paper.add("path"),t._bulletMask.opacity=0,t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},t.prototype.processAxis=function(t){e.prototype.processAxis.call(this,t);var i=t.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,t.parent=this.radarContainer,i.toBack()},t.prototype.handleXAxisRangeChange=function(){e.prototype.handleXAxisRangeChange.call(this),Xe(this.yAxes.iterator(),(function(e){e.invalidate()}))},t.prototype.handleYAxisRangeChange=function(){e.prototype.handleYAxisRangeChange.call(this),Xe(this.xAxes.iterator(),(function(e){e.invalidate()}))},t.prototype.processConfig=function(t){if(t&&(_(t.cursor)&&!_(t.cursor.type)&&(t.cursor.type="RadarCursor"),_(t.series)&&D(t.series)))for(var i=0,r=t.series.length;i<r;i++)t.series[i].type=t.series[i].type||"RadarSeries";e.prototype.processConfig.call(this,t)},t.prototype.beforeDraw=function(){e.prototype.beforeDraw.call(this);var t=this.plotContainer,i=oe(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},n=t.innerWidth/i.width,a=t.innerHeight/i.height,o=this.innerRadius;if(o instanceof f){var s=o.value,l=Math.min(n,a);this.mr=l,s=Math.max(l*s,l-Math.min(t.innerHeight,t.innerWidth))/l,r=oe(this.startAngle,this.endAngle,s),this.innerRadiusModifyer=s/o.value,o=m(100*s)}i=Q([i,r]);var u=Math.min(t.innerWidth/i.width,t.innerHeight/i.height),c=2*Wt(this.radius,u)||0,h=c/2,d=this.startAngle,p=this.endAngle;this._pixelInnerRadius=Wt(o,h),this._bulletMask.path=Gn(d,p-d,h,this._pixelInnerRadius),Xe(this.xAxes.iterator(),(function(e){e.renderer.useChartAngles&&(e.renderer.startAngle=d,e.renderer.endAngle=p),e.width=c,e.height=c,e.renderer.pixelRadiusReal=h})),Xe(this.yAxes.iterator(),(function(e){e.renderer.startAngle=d,e.renderer.endAngle=p,e.width=c,e.height=c,e.renderer.pixelRadiusReal=h}));var y=this.cursor;y&&(y.width=c,y.height=c,y.startAngle=d,y.endAngle=p),this.radarContainer.definedBBox={x:h*i.x,y:h*i.y,width:h*i.width,height:h*i.height},this.radarContainer.validatePosition()},t.prototype.createSeries=function(){return new zp},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer()},t.prototype.updateYAxis=function(e){e&&e.processRenderer()},t}(jp);lt.registeredClasses.RadarChart=Kp;var Xp=function(e){function t(){var t=e.call(this)||this;t._axis=new Ie,t.className="ClockHand";var i=new pr;t.fill=i.getFor("alternativeBackground"),t.stroke=t.fill;var r=new En;r.radius=5,t.pin=r,t.isMeasured=!1,t.startWidth=5,t.endWidth=1,t.width=m(100),t.height=m(100),t.radius=m(100),t.innerRadius=m(0);var n=new ca;return t.hand=n,t._disposers.push(t._axis),t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.hand;t.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(t.height=i,t.leftSide=m(this.startWidth/i*100),t.rightSide=m(this.endWidth/i*100),this.axis){var r=this.axis.renderer,n=Wt(this.innerRadius,r.pixelRadius),a=Wt(this.radius,r.pixelRadius);t.x=n,t.y=-i/2,t.width=a-n}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,t,i){if(this._value=e,null!=e&&(T(t)||(t=0),this.axis)){var r=this.axis.renderer.positionToAngle(this.axis.anyToPosition(e)),n=this.rotation;"clockWise"==this.rotationDirection&&r<n&&(this.rotation=n-360),"counterClockWise"==this.rotationDirection&&r>n&&(this.rotation=n+360),this.animate({property:"rotation",to:r},t,i)}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new we([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var t=e.chart;t&&(this.rotation=t.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value},t.prototype.processConfig=function(t){t&&_(t.axis)&&A(t.axis)&&this.map.hasKey(t.axis)&&(t.axis=this.map.getKey(t.axis)),e.prototype.processConfig.call(this,t)},t}(gn);lt.registeredClasses.ClockHand=Xp;!function(e){function t(){var t=e.call(this)||this;return t.className="GaugeChartDataItem",t.applyTheme(),t}s(t,e)}(Yp);var Jp=function(e){function t(){var t=e.call(this)||this;return t.className="GaugeChart",t.startAngle=180,t.endAngle=360,t.hands=new ft(new Xp),t.hands.events.on("inserted",t.processHand,t,!1),t._disposers.push(new ht(t.hands)),t._disposers.push(t.hands.template),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},t.prototype.processHand=function(e){var t=e.newValue;t.axis||(t.axis=this.xAxes.getIndex(0))},t.prototype.configOrder=function(t,i){return t==i?0:"hands"==t?1:"hands"==i?-1:e.prototype.configOrder.call(this,t,i)},t}(Kp);lt.registeredClasses.GaugeChart=Jp;var Qp=function(e){function t(){var t=e.call(this)||this;return t.className="PercentSeriesDataItem",t.applyTheme(),t}return s(t,e),t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(t,i,r,n){return n||(n=["value"]),e.prototype.hide.call(this,t,i,0,n)},t.prototype.setVisibility=function(t,i){i||(t?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),e.prototype.setVisibility.call(this,t,i)},t.prototype.show=function(t,i,r){return r||(r=["value"]),e.prototype.show.call(this,t,i,r)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var t=this.component.ticks.create();this._tick=t,this.addSprite(t),this._disposers.push(t),t.parent=this.component.ticksContainer,this._disposers.push(new Ce((function(){e.component&&e.component.ticks.removeValue(t)}))),t.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this.addSprite(t),this._label=t,this._disposers.push(t),t.parent=this.component.labelsContainer,this._disposers.push(new Ce((function(){e.component&&e.component.labels.removeValue(t)}))),t.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var t=this.component,i=t.slices.create();this.addSprite(i),this._slice=i,this._disposers.push(i),i.parent=t.slicesContainer,this._disposers.push(new Ce((function(){t.slices.removeValue(i)}))),i.visible=this.visible,t.itemsFocusable()?(_(this.component.role)||(this.component.role="menu"),_(i.role)||(i.role="menuitem"),i.focusable=!0):(_(this.component.role)||(this.component.role="list"),_(i.role)||(i.role="listitem"),i.focusable=!1),i.focusable&&(i.events.on("focus",(function(r){i.readerTitle=t.populateString(t.itemReaderText,e)}),void 0,!1),i.events.on("blur",(function(e){i.readerTitle=""}),void 0,!1)),i.hoverable&&(i.events.on("over",(function(r){i.readerTitle=t.populateString(t.itemReaderText,e)}),void 0,!1),i.events.on("out",(function(e){i.readerTitle=""}),void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),t}(np),Zp=function(e){function t(){var t=e.call(this)||this;t.className="PercentSeries",t._addAllDataItems=!1,t.colors=new Na,t.colors.step=1,t.isMeasured=!0,t.calculatePercent=!0;var i=t.createChild(gn);i.shouldClone=!1,i.isMeasured=!1,t.slicesContainer=i;var r=t.createChild(gn);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",t.ticksContainer=r;var n=t.createChild(gn);return n.shouldClone=!1,n.isMeasured=!1,n.layout="none",t.labelsContainer=n,t.alignLabels=!1,t.bulletsContainer.toFront(),t.skipFocusThreshold=50,t.defaultState.transitionEasing=Ti,t.itemReaderText="{category}: {value.percent.formatNumber('#.#')}%",t.applyTheme(),t}return s(t,e),t.prototype.createSlice=function(){return new mn},t.prototype.createTick=function(){return new yp},t.prototype.createLabel=function(){return new Dn},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new ft(e),this._disposers.push(new ht(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new ft(e),this._disposers.push(new ht(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new ft(e),this._disposers.push(new ht(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new Qp},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0')}%",e.isMeasured=!1,e.padding(5,5,5,5)},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),e.prototype.validateDataItems.call(this)},t.prototype.validateDataElement=function(t){var i=t.slice;i&&(null==i.fill?this.patterns?(_(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),_(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof kt&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==i.stroke&&(i.stroke=i.fill)),e.prototype.validateDataElement.call(this,t),i&&t.bullets.each((function(e,t){null==t.fill&&(t.fill=i.fill),null==t.stroke&&(t.stroke=i.stroke)})),this.updateLegendValue(t)},t.prototype.validateData=function(){e.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},t.prototype.arrangeLabels=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t].label;if(r){r.invalid&&r.validate();var n=r.measuredHeight;r.visible||(n=0),r.pixelY-n/2<-this.maxHeight/2&&(r.y=-this.maxHeight/2+n/2);var a=this.getNextLabel(t+1,e),o=r.pixelY+n;a&&a.y<o&&(a.y=o)}}},t.prototype.arrangeLabels2=function(e){for(var t=this.maxHeight/2,i=e.length-1;i>=0;i--){var r=e[i].label;if(r){r.invalid&&r.validate();var n=r.measuredHeight;r.visible||(n=0),i==e.length-1&&(t+=n/2),r.pixelY+n>t&&(r.y=t-n,t=r.y)}}},t.prototype.getNextLabel=function(e,t){if(t.length>=e){var i=t[e];if(i)return i.label&&i.visible?i.label:this.getNextLabel(e+1,t)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,t){Xe(e.children.iterator(),(function(i){var r=t.slice;i.defaultState.properties.fill=r.fill,i.defaultState.properties.stroke=r.stroke,i.defaultState.properties.fillOpacity=r.fillOpacity,i.defaultState.properties.strokeOpacity=r.strokeOpacity,i.fill=r.fill,i.stroke=r.stroke,i.fillOpacity=r.fillOpacity,i.strokeOpacity=r.strokeOpacity,null==i.fill&&(i.__disabled=!0);var n=e.dataItem;n.color=r.fill,n.colorOrig=r.fill,i.addDisposer(r.events.on("propertychanged",(function(e){"fill"==e.property&&(i.__disabled=!1,i.isActive||(i.fill=r.fill),i.defaultState.properties.fill=r.fill,n.color=r.fill,n.colorOrig=r.fill),"stroke"==e.property&&(i.isActive||(i.stroke=r.stroke),i.defaultState.properties.stroke=r.stroke)}),void 0,!1))}))},t.prototype.handleSliceScale=function(e){var t=this;Xe(e.target.dataItem.bullets.iterator(),(function(e){var i=e[1];t.positionBullet(i)}))},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.slices.template.copyFrom(t.slices.template),this.labels.template.copyFrom(t.labels.template),this.ticks.template.copyFrom(t.ticks.template),this.colors=t.colors.clone()},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var t=e.legendDataItem,i=e.legendSettings;t&&i&&i&&(i.labelText&&(t.label.text=i.labelText),i.itemLabelText&&(t.label.text=i.itemLabelText),i.valueText&&(t.valueLabel.text=i.valueText),i.itemValueText&&(t.valueLabel.text=i.itemValueText))}},t}(ap);lt.registeredClasses.PercentSeries=Zp,lt.registeredClasses.PercentSeriesDataItem=Qp,In.push({relevant:An.maybeXS,state:function(e,t){if(e instanceof Zp){var i=e.states.create(t);return e.labels.template.states.create(t).properties.disabled=!0,e.ticks.template.states.create(t).properties.disabled=!0,i}return null}});var ef=function(e){function t(){var t=e.call(this)||this;return t.className="PercentChartDataItem",t.applyTheme(),t}return s(t,e),t}(op),tf=function(e){function t(){var t=e.call(this)||this;return t.className="PercentChart",t.align="none",t.valign="none",t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.applyTheme(),t}return s(t,e),t.prototype.validateData=function(){e.prototype.validateData.call(this),this.feedLegend()},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];Xe(this.series.iterator(),(function(e){e.hiddenInLegend||Xe(e.dataItems.iterator(),(function(i){i.hiddenInLegend||(t.push(i),i.legendSettings||(i.legendSettings=e.legendSettings))}))})),e.data=t,e.dataFields.name="category"}},t.prototype.createSeries=function(){return new Zp},t.prototype.setLegend=function(t){e.prototype.setLegend.call(this,t),t&&(t.labels.template.text="{category}",t.valueLabels.template.text="{value.percent.formatNumber('#.0')}%",t.itemContainers.template.events.on("over",(function(e){var t=e.target.dataItem.dataContext;if(t.visible&&!t.isHiding){var i=t.slice;i.dispatchImmediately("over"),i.isHover=!0,i.interactions.isRealHover=!0}})),t.itemContainers.template.events.on("out",(function(e){var t=e.target.dataItem.dataContext.slice;t.dispatchImmediately("out"),t.isHover=!1})))},t}(sp);lt.registeredClasses.PercentChart=tf,lt.registeredClasses.PercentChartDataItem=ef;var rf=function(e){function t(){var t=e.call(this)||this;return t._label=new Ie,t._slice=new Ie,t.className="PieTick",t.element=t.paper.add("polyline"),t._disposers.push(t._label),t._disposers.push(t._slice),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.slice,i=this.label,r=t.dataItem.component;if(t&&t.radius>0&&i&&i.text){var n=t.dx+t.slice.dx+t.pixelX+t.ix*t.radius*t.scale,a=t.dy+t.slice.dy+t.pixelY+t.iy*t.radiusY*t.scale,o=void 0,s=void 0,l=void 0,u=void 0;if(r.alignLabels)o=i.pixelX-this.length,s=i.pixelY,l=i.pixelX,u=s,"right"==i.horizontalCenter&&(l=(o+=2*this.length)-this.length);else{var c=i.pixelRadius(t.radius);l=o=n+c*t.ix,u=s=a+c*t.iy}this.element.attr({points:[n,a,o,s,l,u]})}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new we([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),t}(yp);lt.registeredClasses.PieTick=rf;var nf=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeriesDataItem",t.values.radiusValue={},t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,r,n){return e.prototype.hide.call(this,t,i,0,["value","radiusValue"])},t.prototype.show=function(t,i,r){return e.prototype.show.call(this,t,i,["value","radiusValue"])},t}(Qp),af=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries",t.alignLabels=!0,t.layout="none",t.labels.template.radius=m(5),t.addDisposer(t.labels.template.events.on("enabled",t.invalidate,t,!1)),t.applyTheme(),t}return s(t,e),t.prototype.createSlice=function(){return new Zn},t.prototype.createTick=function(){return new rf},t.prototype.createLabel=function(){return new Up},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},t.prototype.createDataItem=function(){return new nf},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",e.states.create("hover").properties.scale=1.05,e.defaultState.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",(function(e){e.target.hideTooltip(),e.target.interactions.lastHitPointer&&e.target.interactions.lastHitPointer.touch&&!e.target.isActive&&(e.target.isHover=!1)})),e.states.create("active").properties.shiftRadius=.1},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=oe(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var t=this.startIndex;t<this.endIndex;t++){var i=this.dataItems.getIndex(t).values.radiusValue.percent;i>this._maxRadiusPercent&&(this._maxRadiusPercent=i)}e.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort((function(e,t){var i=(e.slice.middleAngle+360)%360,r=(t.slice.middleAngle+360)%360;return i>270&&(i-=360),r>270&&(r-=360),i<r?-1:i>r?1:0})),this._leftItems.sort((function(e,t){var i=(e.slice.middleAngle+360)%360,r=(t.slice.middleAngle+360)%360;return i<r?1:i>r?-1:0})),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},t.prototype.validateDataElement=function(t){if(this.pixelRadius>0){!this.ignoreZeroValues||0!=t.value&&null!=t.value?t.__disabled=!1:t.__disabled=!0;var i=t.slice;if(i.radius=this.pixelRadius,T(t.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*t.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof f||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(t.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=t.label,n=t.tick;n.slice=i,n.label=r;var a=(i.middleAngle+360)%360,o=void 0;if(this.alignLabels){var s=r.pixelRadius(i.radius),l=n.length+s;r.dx=0,r.dy=0,r.verticalCenter="middle";var u=this._arcRect;a>270||a<=90?(l+=(u.width+u.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(t)):(l-=u.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(t),l*=-1);var c=i.radius+n.length+s;o={x:l,y:i.iy*c},r.moveTo(o)}else{var h=i.depth;T(h)||(h=0),r.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-h)}}this._currentStartAngle+=i.arc,e.prototype.validateDataElement.call(this,t)}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return T(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",ne(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return T(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice,r=t.locationX;T(r)||(r=.5);var n=t.locationY;T(n)||(n=1);var a=i.startAngle+i.arc*r;t.x=n*i.radius*W(a),t.y=n*i.radiusY*B(a)},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var t=e.target,i=t.dataItem;if(i){var r=i.label;r&&(r.dx=r.fdx+t.dx+t.pixelX,r.dy=r.fdy+t.dy+t.pixelY)}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?oe(e.startAngle,e.endAngle,this.pixelRadius):oe(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(Zp);lt.registeredClasses.PieSeries=af,lt.registeredClasses.PieSeriesDataItem=nf;var of=function(e){function t(){var t=e.call(this)||this;return t.className="PieChartDataItem",t.applyTheme(),t}return s(t,e),t}(ef),sf=function(e){function t(){var t=e.call(this)||this;t.className="PieChart",t.innerRadius=0,t.radius=m(80),t.align="none",t.valign="none",t.startAngle=-90,t.endAngle=270;var i=t.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.chartContainer.events.on("maxsizechanged",t.updateRadius,t,!1),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.updateRadius()},t.prototype.handleSeriesAdded=function(t){e.prototype.handleSeriesAdded.call(this,t),this._chartPixelRadius=void 0,this.updateSeriesAngles()},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each((function(t){t._startAngleInternal=e.startAngle,t._endAngleInternal=e.endAngle}))},t.prototype.updateRadius=function(){var e=this.chartContainer,t=oe(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},r=this.innerRadius;r instanceof f&&(i=oe(this.startAngle,this.endAngle,r.value)),t=Q([t,i]);var n=Math.min(e.innerWidth/t.width,e.innerHeight/t.height);T(n)||(n=0);var a=Wt(this.radius,n),o=Wt(this.innerRadius,n),s=(a-o)/this.series.length;a==this._chartPixelRadius&&o==this._chartPixelInnerRadius||(this._chartPixelRadius=a,this._chartPixelInnerRadius=o,Xe(Ze(this.series.iterator()),(function(e){var t=e[0],i=e[1],r=o+Wt(i.radius,a-o),n=o+Wt(i.innerRadius,a-o);T(r)||(r=o+s*(t+1)),T(n)||(n=o+s*t),i.pixelRadius=r,i.pixelInnerRadius=n})),this.seriesContainer.definedBBox={x:a*t.x,y:a*t.y,width:a*t.width,height:a*t.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new af},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),t}(tf);lt.registeredClasses.PieChart=sf,lt.registeredClasses.PieChartDataItem=of;var lf=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries3DDataItem",t.values.depthValue={},t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),t}(nf),uf=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries3D",t.applyTheme(),t}return s(t,e),t.prototype.createDataItem=function(){return new lf},t.prototype.createSlice=function(){return new ka},t.prototype.validateDataElement=function(t){var i=t.slice,r=this.depth;T(r)||(r=this.chart.depth);var n=t.values.depthValue.percent;T(n)||(n=100),i.depth=n*r/100;var a=this.angle;T(a)||(a=this.chart.angle),i.angle=a,e.prototype.validateDataElement.call(this,t)},t.prototype.validate=function(){e.prototype.validate.call(this);for(var t=this._workingStartIndex;t<this._workingEndIndex;t++){var i=this.dataItems.getIndex(t).slice,r=i.startAngle;r>=-90&&r<90?i.toFront():r>=90&&i.toBack()}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice;t.y=t.pixelY-i.depth},t}(af);lt.registeredClasses.PieSeries3D=uf,lt.registeredClasses.PieSeries3DDataItem=lf;!function(e){function t(){var t=e.call(this)||this;return t.className="PieChart3DDataItem",t.applyTheme(),t}s(t,e)}(of);var cf=function(e){function t(){var t=e.call(this)||this;return t.className="PieChart3D",t.depth=20,t.angle=10,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=V(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new uf},t}(sf);lt.registeredClasses.PieChart3D=cf;var hf=function(e){function t(){var t=e.call(this)||this;return t.className="SlicedChartDataItem",t.applyTheme(),t}return s(t,e),t}(ef),df=function(e){function t(){var t=e.call(this)||this;return t.className="SlicedChart",t.seriesContainer.layout="horizontal",t.padding(15,15,15,15),t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},t.prototype.validate=function(){e.prototype.validate.call(this)},t}(tf);lt.registeredClasses.SlicedChart=df,lt.registeredClasses.SlicedChartDataItem=hf;var pf=function(e){function t(){var t=e.call(this)||this;return t.legendSettings=new ip,t.className="FlowDiagramNode",t.isMeasured=!1,new pr,t.draggable=!0,t.inert=!0,t.setStateOnChildren=!0,t.events.on("positionchanged",t.invalidateLinks,t,!1),t.events.on("sizechanged",t.invalidateLinks,t,!1),t}return s(t,e),t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},t.prototype.show=function(t){var i=e.prototype.show.call(this,t);return this.outgoingDataItems.each((function(e){(!e.toNode||e.toNode&&!e.toNode.isHidden)&&e.setWorkingValue("value",e.getValue("value"),t)})),this.incomingDataItems.each((function(e){(!e.fromNode||e.fromNode&&!e.fromNode.isHidden)&&e.setWorkingValue("value",e.getValue("value"),t)})),i},t.prototype.hide=function(t){var i=e.prototype.hide.call(this,t);return this.outgoingDataItems.each((function(e){e.setWorkingValue("value",0,t)})),this.incomingDataItems.each((function(e){e.setWorkingValue("value",0,t)})),i},t.prototype.validate=function(){this.isDisposed()||(e.prototype.validate.call(this),this.invalidateLinks())},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each((function(t){var i=t.link;if("fromNode"==i.colorMode&&(i.fill=i.dataItem.fromNode.color),"gradient"==i.colorMode){i.fill=i.gradient,i.stroke=i.gradient;var r=i.gradient.stops.getIndex(0);r&&(r.color=e.color,i.gradient.validate())}})),this.incomingDataItems.each((function(t){var i=t.link;if("toNode"==i.colorMode&&(i.fill=i.dataItem.toNode.color),"gradient"==i.colorMode){i.fill=i.gradient,i.stroke=i.gradient;var r=i.gradient.stops.getIndex(1);r&&(r.color=e.color,i.gradient.validate())}}))},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var t=new pt;t.events.on("inserted",(function(){"name"==e.chart.sortBy?e._incomingSorted=Je(e._incomingDataItems.iterator(),(function(e,t){return it(e.fromName,t.fromName)})):"value"==e.chart.sortBy?e._incomingSorted=Je(e._incomingDataItems.iterator(),(function(e,t){return xt(bt(e.value,t.value))})):e._incomingSorted=e._incomingDataItems.iterator()}),void 0,!1),this._incomingDataItems=t}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var t=new pt;t.events.on("inserted",(function(){"name"==e.chart.sortBy?e._outgoingSorted=Je(e._outgoingDataItems.iterator(),(function(e,t){return it(e.fromName,t.fromName)})):"value"==e.chart.sortBy?e._outgoingSorted=Je(e._outgoingDataItems.iterator(),(function(e,t){return xt(bt(e.value,t.value))})):e._outgoingSorted=e._outgoingDataItems.iterator()}),void 0,!1),this._outgoingDataItems=t}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r=e.createChild(kn);r.shouldClone=!1,Ue(this,r,fn),r.stroke=this.fill,r.copyFrom(this),r.padding(0,0,0,0),r.width=t,r.height=i;var n=e.dataItem;n.color=r.fill,n.colorOrig=r.fill},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.FlowDiagramNode=pf;var ff=function(e){function t(){var t=e.call(this)||this;t.className="FlowDiagramLink";var i=new pr;return t.maskBullets=!1,t.colorMode="fromNode",t.layout="none",t.isMeasured=!1,t.startAngle=0,t.endAngle=0,t.strokeOpacity=0,t.verticalCenter="none",t.horizontalCenter="none",t.tooltipText="{fromName}{toName}:{value.value}",t.tooltipLocation=.5,t.link=t.createChild(mn),t.link.shouldClone=!1,t.link.setElement(t.paper.add("path")),t.link.isMeasured=!1,t.fillOpacity=.2,t.fill=i.getFor("alternativeBackground"),t.applyTheme(),t}return s(t,e),t.prototype.positionBullets=function(){var e=this;Xe(this.bullets.iterator(),(function(t){t.parent=e.bulletsContainer,t.maxWidth=e.maxWidth,t.maxHeight=e.maxHeight,e.positionBullet(t)}))},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(gn);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(mn);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var t=e.locationX;T(t)||(t=e.locationY),T(t)||(t=.5);var i=this.middleLine.positionToPoint(t);e.moveTo(i);var r,n=e.propertyFields.rotation;e.dataItem&&(r=e.dataItem.dataContext[n]);T(r)||(r=i.angle),e.rotation=r},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if("gradient"==e){var t=this.fill;this.gradient.stops.clear(),t instanceof kt&&(this.gradient.addColor(t),this.gradient.addColor(t)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){e.prototype.setFill.call(this,t);var i=this._gradient;i&&t instanceof kt&&(i.stops.clear(),i.addColor(t),i.addColor(t))},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new ft(new ep),this._disposers.push(new ht(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",(function(t){t.newValue.events.on("propertychanged",(function(t){"locationX"!=t.property&&"locationY"!=t.property||e.positionBullet(t.target)}),void 0,!1)}),void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.bullets.copyFrom(t.bullets);var i=this.middleLine;i&&(i instanceof Ln&&t.middleLine instanceof Ln&&i.copyFrom(t.middleLine),i instanceof Yn&&t.middleLine instanceof Yn&&i.copyFrom(t.middleLine)),this.link.copyFrom(t.link)},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new Ur),this._gradient},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.FlowDiagramLink=ff;var mf=function(e){function t(){var t=e.call(this)||this;return t.className="FlowDiagramDataItem",t.values.value={},t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",Et(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var t=this.component.links.create();this._link=t,this.addSprite(t),this._disposers.push(new Ce((function(){e.component&&e.component.links.removeValue(t)})))}return this._link},enumerable:!0,configurable:!0}),t}(Qd),yf=function(e){function t(){var t=e.call(this)||this;t.colors=new Na,t.className="FlowDiagram",t.nodePadding=20,t.sortBy="none",t.sequencedInterpolation=!0,t.colors.step=2,t.minNodeSize=.02;var i=t.chartContainer.createChild(gn);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,t.linksContainer=i;var r=t.chartContainer.createChild(gn);return r.shouldClone=!1,r.layout="none",r.isMeasured=!1,t.nodesContainer=r,t.dataItem=t.createDataItem(),t.dataItem.component=t,t.applyTheme(),t}return s(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.dataItem.dispose()},t.prototype.validateData=function(){var t=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),e.prototype.validateData.call(this);var i,r,n=0,a=0;Xe(this.dataItems.iterator(),(function(e){var o=e.fromName;o&&((s=t.nodes.getKey(o))||((s=t.nodes.create(o)).name=o,s.chart=t,s.dataItem=e),e.fromNode=s,e.fromNode.outgoingDataItems.push(e));var s,l=e.toName;l&&((s=t.nodes.getKey(l))||((s=t.nodes.create(l)).name=l,s.chart=t,s.dataItem=e),e.toNode=s,e.toNode.incomingDataItems.push(e));if(!e.fromNode){var u=new Aa;u.opacities=[0,1],e.link.strokeModifier=u}if(!e.toNode){var c=new Aa;c.opacities=[1,0],e.link.strokeModifier=c}var h=e.value;T(h)&&(n+=h,a++,(i>h||!T(i))&&(i=h),(r<h||!T(r))&&(r=h))}));var o="value";this.dataItem.setCalculatedValue(o,r,"high"),this.dataItem.setCalculatedValue(o,i,"low"),this.dataItem.setCalculatedValue(o,n,"sum"),this.dataItem.setCalculatedValue(o,n/a,"average"),this.dataItem.setCalculatedValue(o,a,"count"),Xe(this.nodes.iterator(),(function(e){var i=e[1];i.fill instanceof kt&&(i.color=i.fill),null==i.color&&(i.color=t.colors.next()),null!=i.dataItem.color&&(i.color=i.dataItem.color),i.dataItem.visible||i.hide(0),t.getNodeValue(i)})),this.sortNodes(),this.feedLegend()},t.prototype.handleDataItemWorkingValueChange=function(e,t){this.invalidate()},t.prototype.sortNodes=function(){"name"==this.sortBy?this._sorted=this.nodes.sortedIterator():"value"==this.sortBy?this._sorted=Je(this.nodes.iterator(),(function(e,t){return xt(bt(e[1].total,t[1].total))})):this._sorted=this.nodes.iterator()},t.prototype.getNodeValue=function(e){var t=0,i=0;Xe(e.incomingDataItems.iterator(),(function(e){var i=e.getWorkingValue("value");T(i)&&(t+=i)})),Xe(e.outgoingDataItems.iterator(),(function(e){var t=e.getWorkingValue("value");T(t)&&(i+=t)})),e.total=t+i,e.totalIncoming=t,e.totalOutgoing=i},t.prototype.changeSorting=function(){this.sortNodes()},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},t.prototype.createDataItem=function(){return new mf},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",(function(e){e.target.handleHit(e)})),this._nodes=new ot(e),this._disposers.push(new nt(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new pf;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new ft(this.createLink()),this._disposers.push(new ht(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new ff;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];this.nodes.each((function(e,i){t.push(i)})),e.data=t,e.dataFields.name="name"}},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.nodes.clear()},t}(Zd);lt.registeredClasses.FlowDiagram=yf;var gf=function(e){function t(){var t=e.call(this)||this;t.className="LabelBullet";var i=t.createChild(Dn);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=Ft(),i.strokeOpacity=0,i.fill=(new pr).getFor("text"),t.events.on("maxsizechanged",t.handleMaxSize,t,!1),t.label=i,t.applyTheme(),t}return s(t,e),t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label)},t}(ep);lt.registeredClasses.LabelBullet=gf;var vf=function(e){function t(){var t=e.call(this)||this;t.nextInCoord=0,t.nextOutCoord=0,t.className="SankeyNode",t.width=10,t.height=10;var i=t.createChild(gf);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),t.nameLabel=i;var r=t.createChild(gf);r.shouldClone=!1,r.label.hideOversized=!1,r.locationX=.5,r.locationY=.5,r.width=150,r.height=150,r.label.horizontalCenter="middle",t.valueLabel=r;var n=t.hiddenState;return n.properties.fill=(new pr).getFor("disabledBackground"),n.properties.opacity=.5,n.properties.visible=!0,t.background.hiddenState.copyFrom(n),t}return s(t,e),t.prototype.invalidateLinks=function(){var t=this;e.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var r=i.orientation;this._incomingSorted&&Xe(this._incomingSorted,(function(e){var n=e.link,a=e.getWorkingValue("value");if(T(a)){n.parent=t.chart.linksContainer;var o=void 0,s=void 0,l=void 0;if("horizontal"==r?(o=t.pixelX+t.dx,s=t.nextInCoord+t.pixelY+t.dy,l=0):(s=t.pixelY+t.dy,o=t.nextInCoord+t.pixelX+t.dx,l=90),n.endX=o,n.endY=s,n.startAngle=l,n.endAngle=l,n.gradient.rotation=l,n.linkWidth=a*i.valueHeight,!e.fromNode){"horizontal"==r?(n.maxWidth=200,n.startX=t.pixelX+t.dx-n.maxWidth,n.startY=n.endY):(n.maxHeight=200,n.startX=n.endX,n.startY=t.pixelY+t.dy-n.maxHeight),n.gradient,n.fill=e.toNode.color;var u=n.gradient.stops.getIndex(0);u&&("gradient"==n.colorMode&&(u.color=t.color),u.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}t.nextInCoord+=n.linkWidth}})),this._outgoingSorted&&Xe(this._outgoingSorted,(function(e){var i=e.link;i.parent=t.chart.linksContainer;var n=e.getWorkingValue("value");if(T(n)){var a=void 0,o=void 0,s=void 0;if("horizontal"==r?(s=0,a=t.pixelX+t.pixelWidth+t.dx-1,o=t.nextOutCoord+t.pixelY+t.dy):(s=90,a=t.nextOutCoord+t.pixelX+t.dx,o=t.pixelY+t.pixelHeight+t.dy-1),i.startX=a,i.startY=o,i.startAngle=s,i.endAngle=s,i.gradient.rotation=s,i.linkWidth=n*t.chart.valueHeight,!e.toNode){"horizontal"==r?(i.maxWidth=200,i.endX=t.pixelX+i.maxWidth+t.dx,i.endY=i.startY):(i.maxHeight=200,i.endX=i.startX,i.endY=t.pixelY+i.maxHeight+t.dy),i.opacity=t.opacity;var l=i.gradient.stops.getIndex(1);l&&("gradient"==i.colorMode&&(l.color=t.color),l.opacity=0,i.fill=i.gradient,i.stroke=i.gradient,i.gradient.validate())}t.nextOutCoord+=i.linkWidth}}))}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.nameLabel.copyFrom(t.nameLabel),this.valueLabel.copyFrom(t.valueLabel)},t}(pf);lt.registeredClasses.SankeyNode=vf;var bf=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyLink",new pr,t.tension=.8,t.controlPointDistance=.2,t.startAngle=0,t.endAngle=0,t.linkWidth=0,t.startX=0,t.endX=0,t.startY=0,t.endY=0,t.middleLine=t.createChild(Qn),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return s(t,e),t.prototype.makeBackwards=function(){null!=this.states.getKey("backwards")&&this.setState("backwards")},t.prototype.validate=function(){var t,i,r,n;if(e.prototype.validate.call(this),!this.isTemplate){var a=this.startX,o=this.startY,s=this.endX,l=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var u=this.dataItem.component;u&&("horizontal"==u.orientation?s<a&&(a=(t=d([s,a],2))[0],s=t[1],o=(i=d([l,o],2))[0],l=i[1],this.makeBackwards()):l<o&&(o=(r=d([l,o],2))[0],l=r[1],a=(n=d([s,a],2))[0],s=n[1],this.makeBackwards()))}T(s)||(s=a),T(l)||(l=o);var c=this.startAngle,h=this.endAngle,p=this.linkWidth,f="",m=a,y=o,g=s,v=l,b=a+p*B(c),x=s+p*B(h),S=o+p*W(c),P=l+p*W(h),_=a+p/2*B(c),C=s+p/2*B(h),w=o+p/2*W(c),I=l+p/2*W(h);this.zIndex=this.zIndex||this.dataItem.index;var A=this.tension+(1-this.tension)*B(c),O=this.tension+(1-this.tension)*W(c);if(this.middleLine.tensionX=A,this.middleLine.tensionY=O,T(p)&&T(a)&&T(s)&&T(o)&&T(l)){L(m,3)==L(g,3)&&(g+=.01),L(y,3)==L(v,3)&&(v+=.01),L(b,3)==L(x,3)&&(x+=.01),L(S,3)==L(P,3)&&(P+=.01);var D=Math.min(b,x,m,g),k=Math.min(S,P,y,v),F=Math.max(b,x,m,g),E=Math.max(S,P,y,v);this._bbox={x:D,y:k,width:F-D,height:E-k};var M=this.controlPointDistance,j=m+(g-m)*M*W(c),R=y+(v-y)*M*B(c),V=g-(g-m)*M*W(h),z=v-(v-y)*M*B(h),H=_+(C-_)*M*W(c),G=w+(I-w)*M*B(c),U=C-(C-_)*M*W(h),$=I-(I-w)*M*B(h),q=X({x:j,y:R},{x:V,y:z}),Y=(p/W(q)-p)/N(q)*W(c),K=(p/B(q)-p)*N(q)*B(c),J=-Y/2+b+(x-b)*M*W(c),Q=-K/2+S+(P-S)*M*B(c),Z=-Y/2+x-(x-b)*M*W(h),ee=-K/2+P-(P-S)*M*B(h);this.middleLine.segments=[[{x:_,y:w},{x:H,y:G},{x:U,y:$},{x:C,y:I}]],j+=Y/2,R+=K/2,V+=Y/2,z+=K/2,f+=Bn({x:m,y:y}),f+=new da(A,O).smooth([{x:m,y:y},{x:j,y:R},{x:V,y:z},{x:g,y:v}]),f+=Nn({x:x,y:P}),f+=new da(A,O).smooth([{x:x,y:P},{x:Z,y:ee},{x:J,y:Q},{x:b,y:S}]),f+=" Z"}this.link.path=f,this.maskBullets&&(this.bulletsMask.path=f,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(t.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),t}(ff);lt.registeredClasses.SankeyLink=bf;var xf=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyDiagramDataItem",t.applyTheme(),t}return s(t,e),t}(mf),Sf=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyDiagram",t.orientation="horizontal",t.nodeAlign="middle",t.nodesContainer.width=m(100),t.nodesContainer.height=m(100),t.linksContainer.width=m(100),t.linksContainer.height=m(100),t.applyTheme(),t}return s(t,e),t.prototype.validateData=function(){var t=this;this._valueHeight=void 0,e.prototype.validateData.call(this),this._levelCount=0,this.nodes.each((function(e,t){t.level=void 0})),this.nodes.each((function(e,i){i.level=t.getNodeLevel(i,0),t._levelCount=z(t._levelCount,i.level)}))},t.prototype.getNodeLevel=function(e,t){var i=this,r=[t];return Xe(e.incomingDataItems.iterator(),(function(e){e.fromNode&&(T(e.fromNode.level)?r.push(e.fromNode.level+1):(i._counter=0,i.checkLoop(e.fromNode),i._counter<i.dataItems.length&&r.push(i.getNodeLevel(e.fromNode,t+1))))})),Math.max.apply(Math,p(r))},t.prototype.checkLoop=function(e){var t=this;this._counter++,this._counter>this.dataItems.length||Xe(e.incomingDataItems.iterator(),(function(e){t.checkLoop(e.fromNode)}))},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var t,i,r,n=this.dataItem.values.value.sum;Xe(this._sorted,(function(t){var i=t[1];e.getNodeValue(i)})),this.nodes.each((function(t,i){var r=i.level,a=Math.max(i.totalIncoming,i.totalOutgoing);a/n<e.minNodeSize&&(a=n*e.minNodeSize),T(e._levelSum[r])?e._levelSum[r]+=a:e._levelSum[r]=a,T(e._levelNodesCount[r])?e._levelNodesCount[r]++:e._levelNodesCount[r]=1})),t="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,ze(this._levelSum,(function(n,a){var o=a,s=e._levelNodesCount[n],l=(t-(s-1)*e.nodePadding)/o;l==1/0&&(l=0),(r>l||!T(r))&&(r=l,e.maxSum=o,i=x(n))})),this._maxSumLevel=i;var a=this._levelNodesCount[this._maxSumLevel],o=(t-(a-1)*this.nodePadding)/this.maxSum;if(o==1/0&&(o=0),T(this.valueHeight)){var s=void 0;try{s=this._heightAnimation.animationOptions[0].to}catch(e){}if(s!=o){var l=this.interpolationDuration;try{l=this.nodes.template.states.getKey("active").transitionDuration}catch(e){}this._heightAnimation=new $i(this,{property:"valueHeight",from:this.valueHeight,to:o},l,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=o},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this),this.calculateValueHeight();var i,r=this.nodesContainer,n={},a=this._levelNodesCount[this._maxSumLevel],o=this.dataItem.values.value.sum;i="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,Xe(this._sorted,(function(e){var s,l,u,c=e[1],h=c.level,d=0,p=t._levelNodesCount[h];switch(t.nodeAlign){case"bottom":d=(t.maxSum-t._levelSum[h])*t.valueHeight-(p-a)*t.nodePadding;break;case"middle":d=(t.maxSum-t._levelSum[h])*t.valueHeight/2-(p-a)*t.nodePadding/2}if(0==t.maxSum)switch(t.nodeAlign){case"bottom":d=i-p*(t.minNodeSize*i+t.nodePadding);break;case"middle":d=i/2-p/2*(t.minNodeSize*i+t.nodePadding)}c.parent=r;var f=Math.max(c.totalIncoming,c.totalOutgoing);if(f/o<t.minNodeSize&&(f=o*t.minNodeSize),"horizontal"==t.orientation){l=(s=(t.innerWidth-c.pixelWidth)/t._levelCount)*c.level,u=n[h]||d;var m=f*t.valueHeight;0==o&&0==m&&(m=t.minNodeSize*i),c.height=m,c.minX=l,c.maxX=l,n[h]=u+m+t.nodePadding}else{s=(t.innerHeight-c.pixelHeight)/t._levelCount,l=n[h]||d,u=s*c.level;var y=f*t.valueHeight;0==o&&0==y&&(y=t.minNodeSize*i),c.width=y,c.minY=u,c.maxY=u,n[h]=l+y+t.nodePadding}c.x=l,c.y=u}))},t.prototype.showReal=function(t){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var r=this.nodesContainer,n=0;Xe(this.links.iterator(),(function(e){e.hide(0)})),Xe(this._sorted,(function(e){var t,a=e[1];"horizontal"==i.orientation?(a.dx=-(r.pixelWidth-a.pixelWidth)/Math.max(i._levelCount,1),t="dx"):(a.dy=-(r.pixelHeight-a.pixelHeight)/Math.max(i._levelCount,1),t="dy");var o=0,s=i.interpolationDuration;i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*n+s*n/function(e){var t=0;return e((function(e){return++t,!0})),t}(i.nodes.iterator())),a.opacity=0,a.invalidateLinks(),a.animate([{property:"opacity",from:0,to:1},{property:t,to:0}],i.interpolationDuration,i.interpolationEasing).delay(o),Xe(a.outgoingDataItems.iterator(),(function(e){var t=e.link.show(i.interpolationDuration);t&&!t.isFinished()&&t.delay(o)})),Xe(a.incomingDataItems.iterator(),(function(e){if(!e.fromNode){var t=e.link.show(i.interpolationDuration);t&&!t.isFinished()&&t.delay(o)}})),n++}))}return e.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var t={};Xe(this._sorted,(function(i){var r,n,a=i[1],o=a.level,s=(e.maxSum-e._levelSum[o])*e.valueHeight/2;"horizontal"==e.orientation?(r="y",n=a.pixelHeight):(r="x",n=a.pixelWidth),a.animate({property:r,to:t[o]||s},e.interpolationDuration,e.interpolationEasing),t[o]=(t[o]||s)+n+e.nodePadding,a.invalidateLinks()}))},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},t.prototype.createDataItem=function(){return new xf},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.nodes.template.nameLabel;"vertical"==e?(this.nodes.template.width=void 0,t.label.horizontalCenter="middle",t.locationX=.5):(this.nodes.template.height=void 0,t.label.horizontalCenter="left",t.locationX=1)},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new vf;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new bf;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},t}(yf);lt.registeredClasses.SankeyDiagram=Sf;var Pf=function(e){function t(){var t=e.call(this)||this;t.className="ChordNode";var i=t.createChild(Up);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,t.label=i,t.layout="none",t.events.on("positionchanged",t.updateRotation,t,!1),t.isMeasured=!1,t.slice=t.createChild(Zn),t.slice.isMeasured=!1;var r=t.hiddenState;return r.properties.fill=(new pr).getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,t.setStateOnChildren=!1,t.slice.hiddenState.properties.visible=!0,t.adapter.add("tooltipX",(function(e,t){return t.slice.ix*(t.slice.radius-(t.slice.radius-t.slice.pixelInnerRadius)/2)})),t.adapter.add("tooltipY",(function(e,t){return t.slice.iy*(t.slice.radius-(t.slice.radius-t.slice.pixelInnerRadius)/2)})),t}return s(t,e),t.prototype.invalidateLinks=function(){var t=this;e.prototype.invalidateLinks.call(this);var i=this.label,r=this.slice,n=this.chart;if(n&&r){var a=this.total,o=r.arc,s=r.startAngle;this.children.each((function(e){if(e instanceof ep){var t=e.locationX;T(t)||(t=.5);var i=e.locationY;T(i)||(i=1);var n=s+o*t,a=i*r.radius;e.x=a*W(n),e.y=a*B(n)}}));var l=s+o*i.location,u=s+(1-a/this.adjustedTotal)*o*.5;y(u)&&(u=s),i.fixPosition(l,r.radius),this.nextAngle=u,this._outgoingSorted&&Xe(this._outgoingSorted,(function(e){var i=e.link;i.parent=t.chart.linksContainer;var a=e.getWorkingValue("value");if(T(a)){if(n.nonRibbon){var l=i.percentWidth;T(l)||(l=5),l/=100,i.startAngle=s+o/2-o/2*l,i.arc=o*l}else i.arc=a*n.valueAngle,i.startAngle=t.nextAngle,t.nextAngle+=i.arc;e.toNode||(i.endAngle=i.startAngle),i.radius=r.pixelInnerRadius}})),this._incomingSorted&&Xe(this._incomingSorted,(function(e){var i=e.link;if(i.radius=r.pixelInnerRadius,n.nonRibbon){var a=i.percentWidth;T(a)||(a=5),a/=100,i.endAngle=s+o/2-o/2*a,i.arc=o*a}else{i.endAngle=t.nextAngle;var l=e.getWorkingValue("value");T(l)&&(i.arc=l*n.valueAngle,t.nextAngle+=i.arc)}e.fromNode||(i.startAngle=i.endAngle)}))}},t.prototype.updateRotation=function(){var e=this.slice,t=this.trueStartAngle+e.arc/2,i=e.radius,r=i*W(t),n=i*B(t),a=X({x:r+this.pixelX,y:n+this.pixelY});e.startAngle=this.trueStartAngle+(a-t),this.dx=-this.pixelX,this.dy=-this.pixelY},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label),this.slice.copyFrom(t.slice)},t}(pf);lt.registeredClasses.ChordNode=Pf;var _f=function(e){function t(){var t=e.call(this)||this;return t.className="QuadraticCurve",t.element=t.paper.add("path"),t.pixelPerfect=!1,t.fill=Ft(),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){if(T(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2},i={x:this.cpx,y:this.cpy},r=Bn(e)+Wn(t,i);this.path=r}},Object.defineProperty(t.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},i={x:this.cpx,y:this.cpy},r={x:this.x2,y:this.y2},n=Z(t,r,i,e),a=Z(t,r,i,e+.001);return{x:n.x,y:n.y,angle:X(n,a)}},t}(Ln),Cf=function(e){function t(){var t=e.call(this)||this;return t.className="ChordLink",t.middleLine=t.createChild(_f),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){if(e.prototype.validate.call(this),!this.isTemplate){var t=this.startAngle,i=this.endAngle,r=this.arc,n=this.radius,a=this.dataItem.fromNode,o=this.dataItem.toNode,s=0,l=0;a&&(s=a.pixelX+a.dx,l=a.pixelY+a.dy);var u=0,c=0;if(o&&(u=o.pixelX+o.dx,c=o.pixelY+o.dy),n>0){var h=n*W(t)+s,d=n*B(t)+l,p=n*W(i)+u,f=n*B(i)+c,m={x:0,y:0},y=Bn({x:h,y:d});y+=Hn(t,r,n),y+=Wn({x:p,y:f},m),y+=Hn(i,r,n),y+=Wn({x:h,y:d},m),this.link.path=r>0?y:"",this.maskBullets&&(this.bulletsMask.path=y,this.bulletsContainer.mask=this.bulletsMask);var g=t+r/2,v=i+r/2,b=this.middleLine;b.x1=n*W(g)+s,b.y1=n*B(g)+l,b.x2=n*W(v)+u,b.y2=n*B(v)+c,b.cpx=0,b.cpy=0,b.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),t}(ff);lt.registeredClasses.ChordLink=Cf;var wf=function(e){function t(){var t=e.call(this)||this;return t.className="ChordDiagramDataItem",t.applyTheme(),t}return s(t,e),t}(mf),If=function(e){function t(){var t=e.call(this)||this;t.valueAngle=0,t.className="ChordDiagram",t.startAngle=-90,t.endAngle=270,t.radius=m(80),t.innerRadius=-15,t.nodePadding=5;var i=t.chartContainer.createChild(gn);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",t.chordContainer=i,t.nodesContainer.parent=i,t.linksContainer.parent=i,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t.applyTheme(),t}return s(t,e),t.prototype.validate=function(){var t=this,i=this.chartContainer,r=this.endAngle,n=this.startAngle+this.nodePadding/2,a=oe(this.startAngle,this.endAngle,1);a=Q([a,{x:0,y:0,width:0,height:0}]);var o=Math.min(i.innerWidth/a.width,i.innerHeight/a.height);T(o)||(o=0);var s=Wt(this.radius,o),l=Wt(this.innerRadius,s,!0),u=this.dataItem.values.value.sum,c=0,h=0;Xe(this._sorted,(function(e){var i=e[1];t.getNodeValue(i),c++;var r=i.total;i.total/u<t.minNodeSize&&(r=u*t.minNodeSize),h+=r})),this.valueAngle=(r-this.startAngle-this.nodePadding*c)/h,Xe(this._sorted,(function(e){var i=e[1],a=i.slice;a.radius=s,a.innerRadius=l;var o,h=i.total;i.total/u<t.minNodeSize&&(h=u*t.minNodeSize),i.adjustedTotal=h,o=t.nonRibbon?(r-t.startAngle)/c-t.nodePadding:t.valueAngle*h,a.arc=o,a.startAngle=n,i.trueStartAngle=n,i.parent=t.nodesContainer,i.validate(),n+=o+t.nodePadding})),this.chordContainer.definedBBox={x:s*a.x,y:s*a.y,width:s*a.width,height:s*a.height},this.chordContainer.invalidateLayout(),e.prototype.validate.call(this)},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},t.prototype.createDataItem=function(){return new wf},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Pf;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new Cf;return this._disposers.push(e),e},t}(yf);lt.registeredClasses.ChordDiagram=If;var Af=function(e){function t(){var t=e.call(this)||this;return t.className="Column",t.width=m(80),t.height=m(80),t.events.disableType("transformed"),t.applyOnClones=!0,t.strokeOpacity=1,t.layout="none",t.createAssets(),t.events.on("childadded",t.handleKidAdded,t,!1),t}return s(t,e),t.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},t.prototype.createAssets=function(){this.column=this.createChild(kn),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.column;t&&(t.width=H(this.pixelWidth,this.maxWidth),t.height=H(this.pixelHeight,this.maxHeight),t.invalid&&t.validate())},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.column&&this.column.copyFrom(t.column)},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:H(this.pixelWidth,this.maxWidth),height:H(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.Column=Af;var Tf=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeriesDataItem",t.locations.dateX=.5,t.locations.dateY=.5,t.locations.categoryX=.5,t.locations.categoryY=.5,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),t.prototype.setColumn=function(e){var t=this;if(this._column&&e!=this._column&&fe(this.sprites,this._column),this._column=e,e){var i=e.dataItem;i&&i!=this&&(i.column=void 0),this.addSprite(e),this._disposers.push(new Ce((function(){t.component&&t.component.columns.removeValue(e)})))}},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new at),this._rangesColumns},enumerable:!0,configurable:!0}),t}(kp),Of=function(e){function t(){var t=e.call(this)||this;t._startLocation=0,t._endLocation=1,t.className="ColumnSeries",t.width=m(100),t.height=m(100),t.strokeOpacity=0,t.fillOpacity=1,t.clustered=!0;var i=t.mainContainer.createChild(gn);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t._columnsContainer=i,t.columns.template.pixelPerfect=!1,t.tooltipColorSource=t.columns.template,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},t.prototype.createDataItem=function(){return new Tf},t.prototype.validate=function(){var i=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var r,n=this.chart.series,a=0,o=0,s=[];Xe(n.iterator(),(function(e){var r;e instanceof t&&(i.baseAxis==e.baseAxis&&(r=i.baseAxis==i.xAxis?i.chart.yAxes.indexOf(e.yAxis):i.chart.xAxes.indexOf(e.xAxis),s.push({series:e,axis:r})))})),s.sort((function(e,t){return e.axis-t.axis})),de(s,(function(e){var n=e.series;n instanceof t&&((!n.stacked&&n.clustered||r!=e.axis&&n.clustered)&&a++,n==i&&(o=a-1)),r=e.axis})),this.clustered||(o=0,a=1);var l=this.baseAxis.renderer,u=l.cellStartLocation,c=l.cellEndLocation;this._startLocation=u+o/a*(c-u),this._endLocation=u+(o+1)/a*(c-u);var h=this.xAxis,d=this.yAxis;h instanceof Dp&&d instanceof _p&&h.sortBySeries==this&&this.sortCategoryAxis(h,"valueY"),d instanceof Dp&&h instanceof _p&&d.sortBySeries==this&&this.sortCategoryAxis(d,"valueX")}e.prototype.validate.call(this);for(var p=0;p<this.startIndex;p++){var f=this.dataItems.getIndex(p);this.disableUnusedColumns(f)}for(p=this.dataItems.length-1;p>this.endIndex;p--){f=this.dataItems.getIndex(p);this.disableUnusedColumns(f)}this._propertiesChanged=!1},t.prototype.sortCategoryAxis=function(e,t){var i=this;this.dataItems.values.sort((function(e,i){return i.values[t].workingValue-e.values[t].workingValue}));var r=0;this.dataItems.each((function(e){e._index=r,r++})),e.dataItems.each((function(e){var t=e.component,r=t.categoryToPosition(e.category)-e.deltaPosition,n=t.getSeriesDataItemByCategory(e.category,i);if(n){var a=i.dataItems.indexOf(n);e._index=a;var o=L((a+.5)/i.dataItems.length-r,3);e.deltaAnimation&&!e.deltaAnimation.isDisposed()&&e.deltaAnimation.animationOptions[0].to==o||o!=L(e.deltaPosition,3)&&(e.deltaAnimation&&e.deltaAnimation.stop(),e.deltaAnimation=e.animate({property:"deltaPosition",from:-o,to:0},t.interpolationDuration,t.interpolationEasing),i._disposers.push(e.deltaAnimation))}})),e.dataItems.values.sort((function(e,t){return e.index-t.index}))},t.prototype.validateDataElement=function(t){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(t),e.prototype.validateDataElement.call(this,t))},t.prototype.getStartLocation=function(e){var t=this._startLocation;return this.baseAxis==this.xAxis?t+=e.locations[this.xOpenField]-.5:t+=e.locations[this.yOpenField]-.5,t},t.prototype.getEndLocation=function(e){var t=this._endLocation;return this.baseAxis==this.xAxis?t+=e.locations[this.xField]-.5:t+=e.locations[this.yField]-.5,t},t.prototype.validateDataElementReal=function(e){var t,i,r,n,a=this,o=this.getStartLocation(e),s=this.getEndLocation(e),l=this.xField,u=this.xOpenField,c=this.yField,h=this.yOpenField,d=this.columns.template,p=d.percentWidth,m=d.percentHeight,g=d.pixelWidth,v=d.pixelHeight,b=d.maxWidth,x=d.maxHeight,S=d.pixelPaddingLeft,P=d.pixelPaddingRight,C=d.pixelPaddingTop,w=d.pixelPaddingBottom,I=!1,A=e.width;_(A)&&(T(A)&&(g=A),A instanceof f&&(p=100*A.value));var O=e.height;if(_(O)&&(T(O)&&(v=O),O instanceof f&&(m=100*O.value)),this.xAxis instanceof Dp&&this.yAxis instanceof Dp){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;if(o=0,s=1,!y(p))o+=E=L((s-o)*(1-p/100)/2,5),s-=E;if(t=this.xAxis.getX(e,u,o),i=this.xAxis.getX(e,l,s),y(p))t+=E=(i-t-g)/2,i-=E;if(!y(b)&&b<Math.abs(i-t))t+=E=(i-t-b)/2,i-=E;if(o=0,s=1,!y(m))o+=E=L((1-m/100)/2,5),s-=E;if(r=this.yAxis.getY(e,h,o),n=this.yAxis.getY(e,c,s),y(m))n+=E=(n-r-v)/2,r-=E;if(!y(x)&&x<Math.abs(n-r))n+=E=(n-r-x)/2,r-=E;i=this.fixHorizontalCoordinate(i),t=this.fixHorizontalCoordinate(t),r=this.fixVerticalCoordinate(r),n=this.fixVerticalCoordinate(n)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;if(!y(p))o+=E=L((s-o)*(1-p/100)/2,5),s-=E;if(t=this.xAxis.getX(e,u,o),i=this.xAxis.getX(e,l,s),y(p))t+=E=(i-t-g)/2,i-=E;if(!y(b)&&b<Math.abs(i-t))t+=E=(i-t-b)/2,i-=E;var D=e.locations[h],k=e.locations[c];this.yAxis instanceof _p&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(D=0,k=0),n=this.yAxis.getY(e,h,D),r=this.yAxis.getY(e,c,k);var F=Math.ceil(this.yAxis.axisLength);(r<0&&n<0||r>F&&n>F)&&(I=!0),r=this.fixVerticalCoordinate(r),n=this.fixVerticalCoordinate(n),Math.abs(i-t)-S-P==0&&(I=!0)}else{if(!e.hasValue(this._xValueFields))return;var E;if(!y(m))o+=E=L((s-o)*(1-m/100)/2,5),s-=E;if(r=this.yAxis.getY(e,h,o),n=this.yAxis.getY(e,c,s),y(m))n-=E=(n-r-v)/2,r+=E;if(!y(x)&&x<Math.abs(n-r))n-=E=(n-r-x)/2,r+=E;var M=e.locations[l],j=e.locations[u];this.xAxis instanceof _p&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(M=0,j=0),i=this.xAxis.getX(e,l,M),t=this.xAxis.getX(e,u,j);F=Math.ceil(this.xAxis.axisLength);(i<0&&t<0||i>F&&t>F)&&(I=!0),i=this.fixHorizontalCoordinate(i),t=this.fixHorizontalCoordinate(t),Math.abs(r-n)-C-w==0&&(I=!0)}var R,V=Math.abs(i-t),B=Math.abs(n-r),N=Math.min(t,i),W=Math.min(r,n);I?this.disableUnusedColumns(e):(e.column?(R=e.column,this._propertiesChanged&&(Ue(this,R,fn),Ue(this.columns.template,R,fn),de(fn,(function(e){R[e]=R[e]})))):(Ue(this,R=this.columns.create(),fn),Ue(this.columns.template,R,fn),e.addSprite(R),e.column=R,R.paper=this.paper,this.itemsFocusable()?(_(this.role)||(this.role="menu"),_(R.role)||(R.role="menuitem"),R.focusable=!0):(_(this.role)||(this.role="list"),_(R.role)||(R.role="listitem"),R.focusable=!1),R.focusable&&(R.events.on("focus",(function(t){R.readerTitle=a.populateString(a.itemReaderText,e)}),void 0,!1),R.events.on("blur",(function(e){R.readerTitle=""}),void 0,!1)),R.hoverable&&(R.events.on("over",(function(t){R.readerTitle=a.populateString(a.itemReaderText,e)}),void 0,!1),R.events.on("out",(function(e){R.readerTitle=""}),void 0,!1)),R.parent=this.columnsContainer,R.virtualParent=this),R.width=V,R.height=B,R.x=N,R.y=W,R.realX=t,R.realY=r,R.realWidth=i-t,R.realHeight=n-r,this.setColumnStates(R),R.invalid&&R.validate(),R.__disabled=!1,Xe(this.axisRanges.iterator(),(function(t){var i=e.rangesColumns.getKey(t.uid);i||(i=a.columns.create(),Ue(t.contents,i,fn),e.addSprite(i),e.rangesColumns.setKey(t.uid,i),i.paper=a.paper),i.parent=t.contents,i.width=V,i.height=B,i.x=N,i.y=W,a.setColumnStates(i),i.invalid&&i.validate(),i.__disabled=!1})));e.itemWidth=V,e.itemHeight=B},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),Xe(this.axisRanges.iterator(),(function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.width=0,i.height=0,i.__disabled=!0)})))},t.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var t=e.dataItem;if(this.xAxis instanceof _p||this.yAxis instanceof _p){var i,r=void 0,n=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof _p&&(i=t.getValue(this.xOpenField),r=t.getValue(this.xField)),n=t.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof _p&&(i=t.getValue(this.yOpenField),r=t.getValue(this.yField)),n=t.getValue(this.yAxis.axisFieldName+"Y","previousChange")),r<i?(t.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(t.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),n<0?(t.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(t.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||(this._columns=new ft(this.createColumnTemplate()),this._disposers.push(new ht(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),t.prototype.createColumnTemplate=function(){return new Af},Object.defineProperty(t.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(t,i){var r=this;if(e.prototype.updateLegendValue.call(this,t,i),this.legendDataItem){var n,a,o=this.legendDataItem.marker;t&&(n=t.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,a=t.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),Xe(o.children.iterator(),(function(e){t?(e.setState(a),e.setState(n)):(e.setState(r._riseFromPreviousState),e.setState(r._riseFromOpenState))}))}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r=e.createChild(kn);r.shouldClone=!1,Ue(this,r,fn),r.copyFrom(this.columns.template),r.padding(0,0,0,0),r.width=t,r.height=i;var n=e.dataItem;n.color=this.fill,n.colorOrig=this.fill},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.columns.template.copyFrom(t.columns.template)},t.prototype.getBulletLocationX=function(t,i){if(this.baseAxis==this.xAxis){var r=t.locationX;T(r)||(r=.5);var n=this.getEndLocation(t.dataItem);return n-(n-this.getStartLocation(t.dataItem))*r}return e.prototype.getBulletLocationX.call(this,t,i)},t.prototype.getBulletLocationY=function(t,i){if(this.baseAxis==this.yAxis){var r=t.locationY;T(r)||(r=.5);var n=this.getEndLocation(t.dataItem);return n-(n-this.getStartLocation(t.dataItem))*r}return e.prototype.getBulletLocationY.call(this,t,i)},t.prototype.getAdjustedXLocation=function(e,t,i){return T(i)||(i=e?e.locations[t]:.5),this._endLocation-(this._endLocation-this._startLocation)*(1-i)},t.prototype.getAdjustedYLocation=function(e,t,i){return T(i)||(i=e?e.locations[t]:.5),this._endLocation-(this._endLocation-this._startLocation)*i},t.prototype.fixVerticalCoordinate=function(e){var t=this.columns.template.pixelPaddingBottom;return V(e,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+t)},t.prototype.fixHorizontalCoordinate=function(e){var t=this.columns.template.pixelPaddingLeft,i=this.columns.template.pixelPaddingRight;return V(e,-t,this.xAxis.axisLength+i)},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.columns.clear()},t}(Fp);lt.registeredClasses.ColumnSeries=Of,lt.registeredClasses.ColumnSeriesDataItem=Tf;var Df=function(e){function t(){var t=e.call(this)||this;return t.className="TreeMapSeriesDataItem",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,r,n){var a=this.treeMapDataItem;return a&&a.hide(t),e.prototype.hide.call(this,t,i,r,n)},t.prototype.show=function(t,i,r){var n=this.treeMapDataItem;return n&&n.show(t,i,r),e.prototype.show.call(this,t,i,r)},t}(Tf),kf=function(e){function t(){var t=e.call(this)||this;t.className="TreeMapSeries",t.applyTheme(),t.fillOpacity=1,t.strokeOpacity=1,t.minBulletDistance=0,t.columns.template.tooltipText="{parentName} {name}: {value}",t.columns.template.configField="config";var i=new pr;return t.stroke=i.getFor("background"),t.dataFields.openValueX="x0",t.dataFields.valueX="x1",t.dataFields.openValueY="y0",t.dataFields.valueY="y1",t.sequencedInterpolation=!1,t.showOnInit=!1,t.columns.template.pixelPerfect=!1,t}return s(t,e),t.prototype.processDataItem=function(t,i){i.seriesDataItem=t,e.prototype.processDataItem.call(this,t,i)},t.prototype.createDataItem=function(){return new Df},t.prototype.show=function(t){if(!this.preventShow){var i=this.defaultState.transitionDuration;return T(t)&&(i=t),this.dataItems.each((function(e){e.show(t)})),e.prototype.showReal.call(this,i)}},t.prototype.hide=function(t){var i=this.defaultState.transitionDuration;T(t)&&(i=t);var r=e.prototype.hideReal.call(this,i);return this.dataItems.each((function(e){e.hide(t)})),r},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(t){t&&(_(t.dataFields)&&O(t.dataFields)||(t.dataFields={})),e.prototype.processConfig.call(this,t)},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r=e.createChild(kn);r.shouldClone=!1,Ue(this,r,fn),r.padding(0,0,0,0),r.width=t,r.height=i;var n=e.dataItem;n.color=r.fill,n.colorOrig=r.fill},t.prototype.disableUnusedColumns=function(t){e.prototype.disableUnusedColumns.call(this,t),t.column&&(t.column.__disabled=!1)},t}(Of);lt.registeredClasses.TreeMapSeries=kf,lt.registeredClasses.TreeMapSeriesDataItem=Df;var Ff=function(e){function t(){var t=e.call(this)||this;return t.rows=[],t.className="TreeMapDataItem",t.values.value={workingValue:0},t.values.x0={},t.values.y0={},t.values.x1={},t.values.y1={},t.hasChildren.children=!0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return this.children&&0!=this.children.length?Xe(this.children.iterator(),(function(t){var i=t.value;T(i)&&(e+=i)})):e=this.values.value.workingValue,e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return null==e&&this.parent&&(e=this.parent.color),null==e&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,r,n){this.setWorkingValue("value",0),this.children&&this.children.each((function(e){e.hide(t,i,r,n)}));var a=this.seriesDataItem;return a&&a.bullets.each((function(e,t){t.hide(),t.preventShow=!0})),e.prototype.hide.call(this,t,i,r,n)},t.prototype.show=function(t,i,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each((function(e){e.show(t,i,r)}));var n=this.seriesDataItem;return n&&n.bullets.each((function(e,t){t.preventShow=!1})),e.prototype.show.call(this,t,i,r)},t}(Mp),Ef=function(e){function t(){var t=e.call(this)||this;t.layoutAlgorithm=t.squarify,t.zoomable=!0,t.className="TreeMap",t._usesData=!0,t.maxLevels=2,t.currentLevel=0,t.hideParentColumns=!1,t.colors=new Na,t.sorting="descending";var i=t.xAxes.push(new _p);i.title.disabled=!0,i.strictMinMax=!0;var r=i.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var n=t.yAxes.push(new _p);n.title.disabled=!0,n.strictMinMax=!0;var a=n.renderer;a.inside=!0,a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.minGridDistance=100,a.line.disabled=!0,a.baseGrid.disabled=!0,a.inversed=!0,t.xAxis=i,t.yAxis=n;var o=new kf;return t.seriesTemplates=new ot(o),o.virtualParent=t,t._disposers.push(new nt(t.seriesTemplates)),t._disposers.push(o),t.zoomOutButton.events.on("hit",(function(){t.zoomToChartDataItem(t._homeDataItem)}),void 0,!1),t.seriesTemplates.events.on("insertKey",(function(e){e.newValue.isTemplate=!0}),void 0,!1),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var t=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",(function(e){var i=e.target.dataItem.dataContext;i.isDisposed()||(t.zoomToChartDataItem(i),t.createTreeSeries(i))}),void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],e.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var t=this.dataItems.template.clone();this._homeDataItem=t,Xe(this.dataItems.iterator(),(function(e){e.parent=t})),t.children=this.dataItems,t.x0=0,t.y0=0,t.name=this._homeText;var i=10*Math.round(1e3*this.pixelHeight/this.pixelWidth/10)||1e3;t.x1=1e3,t.y1=i,this.xAxis.min=0,this.xAxis.max=1e3,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=i,this.yAxis.getMinMax(),this.layoutItems(t),this.createTreeSeries(t),this.feedLegend()},t.prototype.layoutItems=function(e,t){if(e){var i=e.children;t||(t=this.sorting),"ascending"==t&&i.values.sort((function(e,t){return e.value-t.value})),"descending"==t&&i.values.sort((function(e,t){return t.value-e.value})),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var r=0,n=i.length;r<n;r++){var a=i.getIndex(r);a.children&&this.layoutItems(a)}}},t.prototype.createTreeSeries=function(e){var t=this;this._tempSeries=[];for(var i=[e],r=e.parent;null!=r;)this.initSeries(r),i.push(r),r=r.parent;i.reverse(),this.navigationBar&&(this.navigationBar.data=i),this.createTreeSeriesReal(e),de(this._tempSeries,(function(e){-1==t.series.indexOf(e)&&t.series.push(e),e.zIndex=e.level}))},t.prototype.createTreeSeriesReal=function(e){if(e.children&&e.level<this.currentLevel+this.maxLevels){this.initSeries(e);for(var t=0;t<e.children.length;t++){var i=e.children.getIndex(t);i.children&&this.createTreeSeriesReal(i)}}},t.prototype.setData=function(t){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,e.prototype.setData.call(this,t)},t.prototype.seriesAppeared=function(){return!0},t.prototype.initSeries=function(e){var t=this;if(!e.series){var i=void 0,r=this.seriesTemplates.getKey(e.level.toString());(i=r?r.clone():this.series.create()).dataItem.dataContext=e,i.name=e.name,i.parentDataItem=e,e.series=i;var n=e.level;i.level=n;var a=e.dataContext;a&&(i.config=a.config),this.dataUsers.removeValue(i),i.data=e.children.values,i.fill=e.color,i.columnsContainer.hide(0),i.bulletsContainer.hide(0),i.columns.template.adapter.add("fill",(function(e,t){var i=t.dataItem;if(i){var r=i.treeMapDataItem;if(r)return t.fill=r.color,t.adapter.remove("fill"),r.color}})),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(i.columns.template.cursorOverStyle=Yr.pointer,this.zoomable&&i.columns.template.events.on("hit",(function(i){var r=i.target.dataItem;e.level>t.currentLevel?t.zoomToChartDataItem(r.treeMapDataItem.parent):t.zoomToSeriesDataItem(r)}),this,void 0))}this._tempSeries.push(e.series)},t.prototype.toggleBullets=function(e){var t=this;Xe(this.series.iterator(),(function(i){-1==t._tempSeries.indexOf(i)?(i.columnsContainer.hide(),i.bulletsContainer.hide(e)):(i.columnsContainer.show(),i.bulletsContainer.show(e),i.dataItems.each((function(e){e.bullets.each((function(e,t){t.show()}))})),i.level<t.currentLevel?(t.hideParentColumns&&i.columnsContainer.hide(),i.bulletsContainer.hide(e)):i.level==t.currentLevel&&t.maxLevels>1&&i.dataItems.each((function(e){e.treeMapDataItem.children&&e.bullets.each((function(e,t){t.hide()}))})))}))},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},t.prototype.zoomToChartDataItem=function(e){var t=this;e||(e=this._homeDataItem);var i=this.zoomOutButton;if(i&&(e!=this._homeDataItem?i.show():i.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var r=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!r||r.isDisposed()||r.isFinished()?this.toggleBullets():(this._dataDisposers.push(r),r.events.once("animationended",(function(){t.toggleBullets()})))}},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},t.prototype.createDataItem=function(){return new Ff},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new kf},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){if(t){if(_(t.layoutAlgorithm)&&A(t.layoutAlgorithm))switch(t.layoutAlgorithm){case"squarify":t.layoutAlgorithm=this.squarify;break;case"binaryTree":t.layoutAlgorithm=this.binaryTree;break;case"slice":t.layoutAlgorithm=this.slice;break;case"dice":t.layoutAlgorithm=this.dice;break;case"sliceDice":t.layoutAlgorithm=this.sliceDice;break;default:delete t.layoutAlgorithm}_(t.navigationBar)&&!_(t.navigationBar.type)&&(t.navigationBar.type="NavigationBar"),e.prototype.processConfig.call(this,t)}},t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},t.prototype.validateDataItems=function(){e.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),Xe(this.series.iterator(),(function(e){e.validateRawData()})),this.zoomToChartDataItem(this._homeDataItem)},t.prototype.binaryTree=function(e){var t,i,r=e.children,n=r.length,a=new Array(n+1);for(a[0]=i=t=0;t<n;++t)a[t+1]=i+=r.getIndex(t).value;n>0&&function e(t,i,n,o,s,l,u){if(t>=i-1){var c=r.getIndex(t);return c.x0=o,c.y0=s,c.x1=l,void(c.y1=u)}var h=a[t],d=n/2+h,p=t+1,f=i-1;for(;p<f;){var m=p+f>>>1;a[m]<d?p=m+1:f=m}d-a[p-1]<a[p]-d&&t+1<p&&--p;var y=a[p]-h,g=n-y;if(l-o>u-s){var v=(o*g+l*y)/n;e(t,p,y,o,s,v,u),e(p,i,g,v,s,l,u)}else{var b=(s*g+u*y)/n;e(t,p,y,o,s,l,b),e(p,i,g,o,b,l,u)}}(0,n,e.value,e.x0,e.y0,e.x1,e.y1)},t.prototype.slice=function(e){for(var t,i=e.x0,r=e.x1,n=e.y0,a=e.y1,o=e.children,s=-1,l=o.length,u=e.value&&(a-n)/e.value;++s<l;)(t=o.getIndex(s)).x0=i,t.x1=r,t.y0=n,n+=t.value*u,t.y1=n},t.prototype.dice=function(e){for(var t,i=e.x0,r=e.x1,n=e.y0,a=e.y1,o=e.children,s=-1,l=o.length,u=e.value&&(r-i)/e.value;++s<l;)(t=o.getIndex(s)).y0=n,t.y1=a,t.x0=i,i+=t.value*u,t.x1=i},t.prototype.sliceDice=function(e){1&e.level?this.slice(e):this.dice(e)},t.prototype.squarify=function(e){for(var t,i,r,n,a,o,s,l,u,c,h=(1+Math.sqrt(5))/2,d=e.x0,p=e.x1,f=e.y0,m=e.y1,y=e.children,g=0,v=0,b=y.length,x=e.value;g<b;){i=p-d,r=m-f;do{n=y.getIndex(v++).value}while(!n&&v<b);for(a=o=n,c=n*n*(u=Math.max(r/i,i/r)/(x*h)),l=Math.max(o/c,c/a);v<b;++v){if(n+=t=y.getIndex(v).value,t<a&&(a=t),t>o&&(o=t),c=n*n*u,(s=Math.max(o/c,c/a))>l){n-=t;break}l=s}var S=this.dataItems.template.clone();S.value=n,S.dice=i<r,S.children=y.slice(g,v),S.x0=d,S.y0=f,S.x1=p,S.y1=m,S.dice?(S.y1=x?f+=r*n/x:m,this.dice(S)):(S.x1=x?d+=i*n/x:p,this.slice(S)),x-=n,g=v}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,t){"value"==t&&this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,t){"value"==t&&this.invalidateDataItems()},t.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(1==e.children.length){var t=e.children.getIndex(0);return t.children?this.getLegendLevel(t):e}return e}},t.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var t=this.getLegendLevel(this._homeDataItem);if(t){var i=[];t.children.each((function(e){i.push(e)})),e.data=i}}},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},t.prototype.getExporting=function(){var t=this,i=e.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",(function(e){return"csv"!=e.format&&"xlsx"!=e.format||_(t.dataFields.children)&&delete e.dataFields[t.dataFields.children],e})),i},t}(jp);lt.registeredClasses.TreeMap=Ef;var Mf=function(e){function t(){var t=e.call(this)||this;return t._chart=new Ie,t.className="AxisRendererX3D",t._disposers.push(t._chart),t.applyTheme(),t}return s(t,e),t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);if(e.element){var n=this.chart.dx3D||0,a=this.chart.dy3D||0,o=this.getHeight();e.path=Bn({x:n,y:a})+Nn({x:n,y:o+a})+Nn({x:0,y:o})}this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.getHeight(),i=this.chart.dx3D||0,r=this.chart.dy3D||0;this.baseGrid.path=Bn({x:i,y:r})+Nn({x:0,y:0})+Nn({x:0,y:t})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){"depth"!=e.property&&"angle"!=e.property||this.invalidate()},t}(Ap);lt.registeredClasses.AxisRendererX3D=Mf;var jf=function(e){function t(){var t=e.call(this)||this;return t._chart=new Ie,t.className="AxisRendererY3D",t._disposers.push(t._chart),t.applyTheme(),t}return s(t,e),t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var r=this.positionToPoint(t);if(e.element){var n=this.chart.dx3D||0,a=this.chart.dy3D||0,o=this.getWidth();e.path=Bn({x:0,y:0})+Nn({x:n,y:a})+Nn({x:o+n,y:a})}this.positionItem(e,r),this.toggleVisibility(e,t,0,1)},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.chart.dx3D||0,i=this.chart.dy3D||0,r=this.getWidth();this.baseGrid.path=Bn({x:0,y:0})+Nn({x:r,y:0})+Nn({x:r+t,y:i})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){"depth"!=e.property&&"angle"!=e.property||this.invalidate()},t}(xp),Lf=function(e){function t(){var t=e.call(this)||this;return t.className="Column3D",t}return s(t,e),t.prototype.createAssets=function(){this.column3D=this.createChild(Da),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},t.prototype.validate=function(){e.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.column3D&&this.column3D.copyFrom(t.column3D)},t.prototype.setFill=function(t){e.prototype.setFill.call(this,t),this.column.fill=t},t}(Af);lt.registeredClasses.Column3D=Lf;var Rf=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeries3DDataItem",t.applyTheme(),t}return s(t,e),t}(Tf),Vf=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeries3D",t.columns.template.column3D.applyOnClones=!0,t.columns.template.hiddenState.properties.visible=!0,t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&"vertical"!=e.leftAxesContainer.layout&&"vertical"!=e.rightAxesContainer.layout&&"horizontal"!=e.bottomAxesContainer.layout&&"horizontal"!=e.topAxesContainer.layout?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t),t.column&&(t.column.dx=this.dx,t.column.dy=this.dy,t.column.visible=this.visible)},t.prototype.validateDataElements=function(){e.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},t.prototype.createColumnTemplate=function(){return new Lf},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0),this.columns.template.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.columns.template.column3D.angle=e},enumerable:!0,configurable:!0}),t}(Of);lt.registeredClasses.ColumnSeries3D=Vf,lt.registeredClasses.ColumnSeries3DDataItem=Rf;!function(e){function t(){var t=e.call(this)||this;return t.className="XYChart3DDataItem",t.applyTheme(),t}s(t,e)}(Mp);var Bf=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=Mf,t._axisRendererY=jf,t.className="XYChart3D",t.depth=30,t.angle=30;var i=t.seriesContainer.createChild(gn);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t.columnsContainer=i,t.columnsContainer.mask=t.createChild(mn),t.applyTheme(),t}return s(t,e),t.prototype.updateSeriesMasks=function(){if(e.prototype.updateSeriesMasks.call(this),Pi()){var t=this.columnsContainer,i=t.mask;t.mask=void 0,t.mask=i}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return W(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return-B(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.fixColumns()},t.prototype.fixLayout=function(){this.chartContainer.marginTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),e.prototype.fixLayout.call(this)},t.prototype.fixColumns=function(){var e=this,t=1,i=0;Xe(this.series.iterator(),(function(e){e instanceof Vf&&(!e.clustered&&i>0&&t++,e.depthIndex=t-1,i++)}));var r=0;Xe(this.series.iterator(),(function(i){if(i instanceof Vf){i.depth=e.depth/t,i.angle=e.angle,i.columnsContainer==e.columnsContainer&&(i.dx=e.depth/t*W(e.angle)*i.depthIndex,i.dy=-e.depth/t*B(e.angle)*i.depthIndex);var n=!1;(i.baseAxis==i.xAxis&&i.xAxis.renderer.inversed||i.baseAxis==i.yAxis&&i.yAxis.renderer.inversed)&&(n=!0);var a=1;i.dataItems.each((function(e){var t=e.column;t&&(t.zIndex=n?1e3*(1e3-a)+r-100*i.depthIndex:1e3*a+r-100*i.depthIndex),a++})),n?r--:r++}})),this.maskColumns()},t.prototype.processConfig=function(t){if(t&&_(t.series)&&D(t.series))for(var i=0,r=t.series.length;i<r;i++)t.series[i].type=t.series[i].type||"ColumnSeries3D";e.prototype.processConfig.call(this,t)},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,t=this.plotContainer.pixelHeight,i=this.dx3D,r=this.dy3D,n=Bn({x:0,y:0})+Nn({x:i,y:r})+Nn({x:e+i,y:r})+Nn({x:e+i,y:t+r})+Nn({x:e,y:t})+Nn({x:e,y:t})+Nn({x:0,y:t})+" Z",a=this.columnsContainer;a&&a.mask&&(a.mask.path=n)},t}(jp);lt.registeredClasses.XYChart3D=Bf;var Nf=function(e){function t(){var t=e.call(this)||this;t.className="HeatLegend",t.markerContainer=t.createChild(gn),t.markerContainer.shouldClone=!1,t.markerCount=1;var i=new kn;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),t.markerContainer.minHeight=20,t.markerContainer.minWidth=20,t.orientation="horizontal",t.markers=new ft(i),t._disposers.push(new ht(t.markers)),t._disposers.push(t.markers.template),t.applyTheme(),t}return s(t,e),t.prototype.getMinFromRules=function(e){var t,i=this.series;if(i)return Ke(i.heatRules.iterator(),(function(i){return i.property!=e||(t=i.min,!1)})),t},t.prototype.getMaxFromRules=function(e){var t,i=this.series;if(i)return Xe(i.heatRules.iterator(),(function(i){return i.property!=e||(t=i.max,!1)})),t},t.prototype.validate=function(){e.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var t=this.series,i=this.minColor,r=this.maxColor;if(_(i)||(i=Et(this.getMinFromRules("fill"))),_(r)||(r=Et(this.getMaxFromRules("fill"))),t){var n=t.fill;!_(i)&&n instanceof kt&&(i=n),!_(r)&&n instanceof kt&&(r=n)}_(r)||(r=Et(this.getMaxFromRules("fill")));var a=x(this.getMinFromRules("fillOpacity"));T(a)||(a=1);var o=x(this.getMaxFromRules("fillOpacity"));T(o)||(o=1);var s=x(this.getMinFromRules("strokeOpacity"));T(s)||(s=1);var l=x(this.getMaxFromRules("strokeOpacity"));T(l)||(l=1);for(var u=Et(this.getMinFromRules("stroke")),c=Et(this.getMaxFromRules("stroke")),h=0;h<this.markerCount;h++){var d=this.markers.getIndex(h);if(d||((d=this.markers.create()).parent=this.markerContainer,d.height=m(100),d.width=m(100)),1==this.markerCount){var p=new Ur;if(this.reverseOrder?(p.addColor(r,o),p.addColor(i,a)):(p.addColor(i,a),p.addColor(r,o)),"vertical"==this.orientation&&(p.rotation=-90),d.fill=p,_(u)&&_(c)){var f=new Ur;this.reverseOrder?(f.addColor(c,l),f.addColor(u,s)):(f.addColor(u,s),f.addColor(c,l)),"vertical"==this.orientation&&(f.rotation=-90),d.stroke=f}}else{var y=h;this.reverseOrder&&(y=this.markerCount-h-1);var g=new kt(At(i.rgb,r.rgb,y/this.markerCount));d.fill=g;var v=a+(o-a)*y/this.markerCount;if(d.fillOpacity=v,_(u)&&_(c)){var b=new kt(At(u.rgb,c.rgb,y/this.markerCount));d.stroke=b;var S=s+(l-s)*y/this.markerCount;d.strokeOpacity=S}}}var P=this.valueAxis.renderer;this.markerCount>1&&("horizontal"==this.orientation?P.minGridDistance=this.measuredWidth/this.markerCount:P.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();h=this.markerCount;for(var C=this.markers.length;h<C;h++)this.markers.getIndex(h).parent=void 0},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof kt||(e=Et(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof kt||(e=Et(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.markerContainer,i=this.valueAxis;"horizontal"==e?(_(this.width)||(this.width=200),this.height=void 0,i.width=m(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",t.width=m(100),t.height=void 0,i.renderer instanceof Ap||(i.renderer=new Ap)):(_(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",t.width=void 0,t.height=m(100),i.height=m(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof xp||(i.renderer=new xp),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var r=i.renderer;r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.baseGrid.disabled=!0,r.labels.template.padding(2,3,2,3),r.minHeight=void 0,r.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(_p),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this._series=e;var i="value";try{var r=e.heatRules.getIndex(0).dataField;r&&(i=r)}catch(e){}this.updateMinMax(e.dataItem.values[i].low,e.dataItem.values[i].high),e.dataItem.events.on("calculatedvaluechanged",(function(r){t.updateMinMax(e.dataItem.values[i].low,e.dataItem.values[i].high)}),void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,t){var i=this.valueAxis;T(this.minValue)||(i.min=e,i.invalidate()),T(this.maxValue)||(i.max=t,i.invalidate())},t.prototype.processConfig=function(t){if(t&&_(t.series)&&A(t.series)&&A(t.series))if(this.map.hasKey(t.series))t.series=this.map.getKey(t.series);else{var i=t.series,r=this.map.events.on("insertKey",(function(e){e.key==i&&(this.series=e.newValue,r.dispose())}),this);this._disposers.push(r),delete t.series}e.prototype.processConfig.call(this,t)},t}(gn);lt.registeredClasses.HeatLegend=Nf;var Wf=function(e){function t(){var t=e.call(this)||this;return t.className="Candlestick",t.layout="none",t}return s(t,e),t.prototype.createAssets=function(){e.prototype.createAssets.call(this),this.lowLine=this.createChild(Ln),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Ln),this.highLine.shouldClone=!1},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.lowLine&&this.lowLine.copyFrom(t.lowLine),this.highLine&&this.highLine.copyFrom(t.highLine)},t}(Af);lt.registeredClasses.Candlestick=Wf;var zf=function(e){function t(){var t=e.call(this)||this;return t.values.lowValueX={},t.values.lowValueY={},t.values.highValueX={},t.values.highValueY={},t.className="CandlestickSeriesDataItem",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),t}(Tf),Hf=function(e){function t(){var t=e.call(this)||this;t.className="CandlestickSeries",t.groupFields.lowValueX="low",t.groupFields.lowValueY="low",t.groupFields.highValueX="high",t.groupFields.highValueY="high",t.strokeOpacity=1;var i=new pr,r=i.getFor("positive"),n=i.getFor("negative");return t.dropFromOpenState.properties.fill=n,t.dropFromOpenState.properties.stroke=n,t.riseFromOpenState.properties.fill=r,t.riseFromOpenState.properties.stroke=r,t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},t.prototype.createDataItem=function(){return new zf},t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t),this.validateCandlestick(t)},t.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.lowLine,r=t.highLine;if(this.baseAxis==this.xAxis){var n=t.pixelWidth/2;i.x=n,r.x=n;var a=e.getWorkingValue(this.yOpenField),o=e.getWorkingValue(this.yField),s=this.yAxis.getY(e,this.yOpenField),l=this.yAxis.getY(e,this.yField),u=this.yAxis.getY(e,this.yLowField),c=this.yAxis.getY(e,this.yHighField),h=t.pixelY;i.y1=u-h,r.y1=c-h,a<o?(i.y2=s-h,r.y2=l-h):(i.y2=l-h,r.y2=s-h)}if(this.baseAxis==this.yAxis){var d=t.pixelHeight/2;i.y=d,r.y=d;var p=e.getWorkingValue(this.xOpenField),f=e.getWorkingValue(this.xField),m=this.xAxis.getX(e,this.xOpenField),y=this.xAxis.getX(e,this.xField),g=this.xAxis.getX(e,this.xLowField),v=this.xAxis.getX(e,this.xHighField),b=t.pixelX;i.x1=g-b,r.x1=v-b,p<f?(i.x2=m-b,r.x2=y-b):(i.x2=y-b,r.x2=m-b)}Xe(this.axisRanges.iterator(),(function(t){var n=e.rangesColumns.getKey(t.uid);if(n){var a=n.lowLine;a.x=i.x,a.y=i.y,a.x1=i.x1,a.x2=i.x2,a.y1=i.y1,a.y2=i.y2;var o=n.highLine;o.x=r.x,o.y=r.y,o.x1=r.x1,o.x2=r.x2,o.y1=r.y1,o.y2=r.y2}}))}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){e.prototype.defineFields.call(this);var t=this.xAxis,i=this.yAxis;if(t&&i){if(this.baseAxis==t){var r=zt(i.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==i){var n=zt(t.axisFieldName);this._xLowField="low"+n+"X",this._xHighField="high"+n+"X"}this.addValueField(t,this._xValueFields,this._xLowField),this.addValueField(t,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r,n,a=e.createChild(Wf);a.shouldClone=!1,a.copyFrom(this.columns.template);var o=a.lowLine,s=a.highLine;this.baseAxis==this.yAxis?(r=t/3,n=i,o.y=i/2,s.y=i/2,o.x2=t/3,s.x2=t/3,s.x=t/3*2,a.column.x=t/3):(r=t,n=i/3,o.x=t/2,s.x=t/2,o.y2=i/3,s.y2=i/3,s.y=i/3*2,a.column.y=i/3),a.width=r,a.height=n,Ue(this,e,fn),Ue(this.columns.template,a,fn),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var l=e.dataItem;l.color=a.fill,l.colorOrig=a.fill},t.prototype.createColumnTemplate=function(){return new Wf},t}(Of);lt.registeredClasses.CandlestickSeries=Hf,lt.registeredClasses.CandlestickSeriesDataItem=zf;var Gf=function(e){function t(){var t=e.call(this)||this;return t.className="OHLC",t.layout="none",t}return s(t,e),t.prototype.createAssets=function(){this.openLine=this.createChild(Ln),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Ln),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Ln),this.closeLine.shouldClone=!1},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.openLine&&this.openLine.copyFrom(t.openLine),this.highLowLine&&this.highLowLine.copyFrom(t.highLowLine),this.closeLine&&this.closeLine.copyFrom(t.closeLine)},t}(Wf);lt.registeredClasses.OHLC=Gf;var Uf=function(e){function t(){var t=e.call(this)||this;return t.className="OHLCSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(zf),$f=function(e){function t(){var t=e.call(this)||this;return t.className="OHLCSeries",t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},t.prototype.createDataItem=function(){return new Uf},t.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.openLine,r=t.highLowLine,n=t.closeLine;if(this.baseAxis==this.xAxis){var a=t.pixelWidth/2;r.x=a,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var o=this.yAxis.getY(e,this.yOpenField),s=this.yAxis.getY(e,this.yField),l=this.yAxis.getY(e,this.yLowField),u=this.yAxis.getY(e,this.yHighField),c=t.pixelY;i.y1=o-c,i.y2=o-c,i.x1=0,i.x2=a,n.y1=s-c,n.y2=s-c,n.x1=a,n.x2=2*a,r.y1=u-c,r.y2=l-c}if(this.baseAxis==this.yAxis){var h=t.pixelHeight/2;r.y=h,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var d=this.xAxis.getX(e,this.xOpenField),p=this.xAxis.getX(e,this.xField),f=this.xAxis.getX(e,this.xLowField),m=this.xAxis.getX(e,this.xHighField),y=t.pixelX;i.x1=d-y,i.x2=d-y,i.y1=h,i.y2=2*h,n.x1=p-y,n.x2=p-y,n.y1=0,n.y2=h,r.x1=m-y,r.x2=f-y}Xe(this.axisRanges.iterator(),(function(t){var a=e.rangesColumns.getKey(t.uid);if(a){var o=a.openLine;o.x=i.x,o.y=i.y,o.x1=i.x1,o.x2=i.x2,o.y1=i.y1,o.y2=i.y2;var s=a.closeLine;s.x=n.x,s.y=n.y,s.x1=n.x1,s.x2=n.x2,s.y1=n.y1,s.y2=n.y2;var l=a.highLowLine;l.x=r.x,l.y=r.y,l.x1=r.x1,l.x2=r.x2,l.y1=r.y1,l.y2=r.y2}}))}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r,n,a=e.createChild(Gf);a.shouldClone=!1,a.copyFrom(this.columns.template);var o=a.openLine,s=a.closeLine,l=a.highLowLine;this.baseAxis==this.yAxis?(r=t/3,n=i,l.y=i/2,l.x2=t,o.x=t/3*2,o.y2=i/2,s.x=t/3,s.y2=i,s.y1=i/2):(r=t,n=i/3,l.x=t/2,l.y2=i,o.y=i/3*2,o.x2=t/2,s.y=i/3,s.x2=t,s.x1=t/2),a.width=r,a.height=n,Ue(this,e,fn),Ue(this.columns.template,a,fn),a.stroke=this.riseFromOpenState.properties.stroke;var u=e.dataItem;u.color=a.stroke,u.colorOrig=a.stroke},t.prototype.createColumnTemplate=function(){return new Gf},t}(Hf);lt.registeredClasses.OHLCSeries=$f,lt.registeredClasses.OHLCSeriesDataItem=Uf;var qf=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeriesSegment",t}return s(t,e),t.prototype.drawSegment=function(e,t,i,r,n,a){if(e.length>0&&t.length>0)if(n){var o=Bn(e[0]);if(e.length>0)for(var s=1;s<e.length;s++){var l=e[s];s/2==Math.round(s/2)?o+=Bn(l):o+=Nn(l)}this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o=Bn(e[0])+Vn(e),o+=Nn(t[0])+Vn(t),o+=Nn(e[0]),o+=" Z",this.fillSprite.path=o)}else{o=Bn(e[0])+Vn(e);this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o+=Nn(t[0])+Vn(t),o+=Nn(e[0]),o+=" Z",this.fillSprite.path=o)}else this.strokeSprite.path="",this.fillSprite.path=""},t}(Lp);lt.registeredClasses.StepLineSeriesSegment=qf;var Yf=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(Bp),Kf=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeries",t.applyTheme(),t.startLocation=0,t.endLocation=1,t}return s(t,e),t.prototype.createDataItem=function(){return new Yf},t.prototype.addPoints=function(e,t,i,r,n){var a,o,s,l;this.baseAxis==this.xAxis&&(a=this.startLocation,o=this.endLocation,s=this.getAdjustedXLocation(t,this.yOpenField),l=this.getAdjustedXLocation(t,this.yField)),this.baseAxis==this.yAxis&&(s=this.startLocation,l=this.endLocation,a=this.getAdjustedXLocation(t,this.xOpenField),o=this.getAdjustedXLocation(t,this.xField));var u=this.xAxis.getX(t,i,a),c=this.yAxis.getY(t,r,s),h=this.xAxis.getX(t,i,o),d=this.yAxis.getY(t,r,l);if(u=V(u,-1e5,1e5),c=V(c,-1e5,1e5),h=V(h,-1e5,1e5),d=V(d,-1e5,1e5),!this.noRisers&&e.length>1){var p=e[e.length-1];this.baseAxis==this.xAxis&&(n?e.push({x:p.x,y:d}):e.push({x:u,y:p.y})),this.baseAxis==this.yAxis&&(n?e.push({x:h,y:p.y}):e.push({x:p.x,y:c}))}var f={x:u,y:c},m={x:h,y:d};n?e.push(m,f):e.push(f,m)},t.prototype.drawSegment=function(e,t,i){var r=!1;this.yAxis==this.baseAxis&&(r=!0),e.drawSegment(t,i,this.tensionX,this.tensionY,this.noRisers,r)},t.prototype.createSegment=function(){return new qf},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t}(Np);lt.registeredClasses.StepLineSeries=Kf,lt.registeredClasses.StepLineSeriesDataItem=Yf;var Xf=function(e){function t(){var t=e.call(this)||this;return t.className="RadarColumn",t}return s(t,e),t.prototype.createAssets=function(){this.radarColumn=this.createChild(Zn),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.radarColumn&&this.radarColumn.copyFrom(t.radarColumn)},t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return T(e)?e:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return T(e)?e:this.radarColumn.getTooltipY()},t}(Af);lt.registeredClasses.RadarColumn=Xf;var Jf=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(Tf),Qf=function(e){function t(){var t=e.call(this)||this;return t.className="RadarColumnSeries",t.applyTheme(),t}return s(t,e),t.prototype.createColumnTemplate=function(){return new Xf},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this)},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),Xe(this.axisRanges.iterator(),(function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.__disabled=!0)})))},t.prototype.validateDataElementReal=function(e){var t,i,r,n,a=this,o=this.chart.startAngle,s=this.chart.endAngle,l=this.yField,u=this.yOpenField,c=this.xField,h=this.xOpenField,d=this.getStartLocation(e),p=this.getEndLocation(e),m=(s-o)/(this.dataItems.length*(this.end-this.start)),y=e.column;y||(y=this.columns.create(),e.column=y,Ue(this,y,fn),Ue(this.columns.template,y,fn),e.addSprite(y),y.paper=this.paper,this.setColumnStates(y));var g=y.width,v=100;g instanceof f&&(v=g.percent);var b=L((p-d)*(1-v/100)/2,5);if(d+=b,p-=b,this.xAxis instanceof Dp&&this.yAxis instanceof Dp?(r=$({x:this.yAxis.getX(e,l,0,"valueY"),y:this.yAxis.getY(e,l,0,"valueY")}),n=$({x:this.yAxis.getX(e,u,1,"valueY"),y:this.yAxis.getY(e,u,1,"valueY")}),t=this.xAxis.getAngle(e,h,0,"valueX"),i=this.xAxis.getAngle(e,c,1,"valueX"),o+=d*m,s-=(1-p)*m):this.baseAxis==this.xAxis?(r=$({x:this.yAxis.getX(e,l,e.locations[l],"valueY"),y:this.yAxis.getY(e,l,e.locations[l],"valueY")}),n=$({x:this.yAxis.getX(e,u,e.locations[u],"valueY"),y:this.yAxis.getY(e,u,e.locations[u],"valueY")}),t=this.xAxis.getAngle(e,h,d,"valueX"),i=this.xAxis.getAngle(e,c,p,"valueX"),o+=d*m,s-=(1-p)*m):(r=$({x:this.yAxis.getX(e,l,d,"valueY"),y:this.yAxis.getY(e,l,d,"valueY")}),n=$({x:this.yAxis.getX(e,u,p,"valueY"),y:this.yAxis.getY(e,u,p,"valueY")}),t=this.xAxis.getAngle(e,c,e.locations[c],"valueX"),i=this.xAxis.getAngle(e,h,e.locations[h],"valueX")),i<t){var x=i;i=t,t=x}t=V(t,o,s),i=V(i,o,s);var S=y.radarColumn;S.startAngle=t;var P=i-t;P>0?(S.arc=P,S.radius=r,S.innerRadius=n,y.__disabled=!1,y.parent=this.columnsContainer,Xe(this.axisRanges.iterator(),(function(i){var o=e.rangesColumns.getKey(i.uid);o||(o=a.columns.create(),function(e,t,i){de(i,(function(i){t[i]=e[i]}))}(a.columns.template,o,fn),Ue(i.contents,o,fn),o.dataItem&&fe(o.dataItem.sprites,o),e.addSprite(o),o.paper=a.paper,a.setColumnStates(o),e.rangesColumns.setKey(i.uid,o));var s=o.radarColumn;s.startAngle=t,s.arc=P,s.radius=r,s.innerRadius=n,s.invalid&&(s.paper=a.paper,s.validate()),o.__disabled=!1,o.parent=i.contents}))):this.disableUnusedColumns(e)},t.prototype.getPoint=function(e,t,i,r,n,a,o){a||(a="valueX"),o||(o="valueY");var s=$({x:this.yAxis.getX(e,i,n,o),y:this.yAxis.getY(e,i,n,o)});0==s&&(s=1e-5);var l=this.xAxis.getAngle(e,t,r,a);return{x:s*W(l),y:s*B(l)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return Gn(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,t,i){var r=this.xAxis,n=this.yAxis;(t<r.start||t>r.end||i<n.start||i>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i))},t.prototype.setXAxis=function(t){e.prototype.setXAxis.call(this,t),this.updateRendererRefs()},t.prototype.setYAxis=function(t){e.prototype.setYAxis.call(this,t),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t},t}(Of);lt.registeredClasses.RadarColumnSeries=Qf,lt.registeredClasses.RadarColumnSeriesDataItem=Jf;var Zf=function(e){function t(){var t=e.call(this)||this;return t.slice=t.createChild(mn),t.slice.shouldClone=!1,t.slice.setElement(t.paper.add("path")),t.slice.isMeasured=!1,t.orientation="vertical",t.bottomWidth=m(100),t.topWidth=m(100),t.isMeasured=!1,t.width=10,t.height=10,t.expandDistance=0,t.className="FunnelSlice",t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelPaddingTop,i=this.pixelPaddingBottom,r=this.pixelPaddingRight,n=this.pixelPaddingLeft,a=this.pixelWidth-r-n,o=this.pixelHeight-t-i,s=this.expandDistance,l="";if("vertical"==this.orientation){var u={x:(a-(g=Nt(this.topWidth,a)))/2+n,y:t},c={x:(a+g)/2+n,y:t},h={x:(a+(v=Nt(this.bottomWidth,a)))/2+n,y:t+o},d={x:(a-v)/2+n,y:t+o},p={x:c.x+(h.x-c.x)/2+s*o,y:c.y+.5*o},f={x:u.x+(d.x-u.x)/2-s*o,y:u.y+.5*o},m=Nn(h),y="";0!=s&&(m=Wn(h,p),y=Wn(u,f)),l=Bn(u)+Nn(c)+m+Nn(d)+y,this.tickPoint={x:c.x+(h.x-c.x)/2,y:c.y+(h.y-c.y)/2}}else{var g,v,b={x:n,y:(o-(g=Nt(this.topWidth,o)))/2+t},x={x:n,y:(o+g)/2+t},S={x:n+a,y:(o-(v=Nt(this.bottomWidth,o)))/2+t},P={x:n+a,y:(o+v)/2+t};p={y:b.y+(S.y-b.y)/2-s*a,x:b.x+.5*a},f={y:x.y+(P.y-x.y)/2+s*a,x:x.x+.5*a},m=Nn(S),y="";0!=s&&(m=Wn(S,p),y=Wn(x,f)),l=Bn(x)+Nn(b)+m+Nn(P)+y,this.tickPoint={y:x.y+(P.y-x.y)/2,x:x.x+(P.x-x.x)/2}}this.slice.path=l,this.invalidateLayout()},t.prototype.getPoint=function(e,t){var i=this.pixelPaddingTop,r=this.pixelPaddingBottom,n=this.pixelPaddingRight,a=this.pixelPaddingLeft,o=this.pixelWidth-n-a,s=this.pixelHeight-i-r;if("vertical"==this.orientation){var l={x:(o-(d=Nt(this.topWidth,o)))/2+a,y:i},u={x:(o+d)/2+a,y:i},c={x:(o+(p=Nt(this.bottomWidth,o)))/2+a,y:i+s},h=l.x+({x:(o-p)/2+a,y:i+s}.x-l.x)*t;return{x:h+(u.x+(c.x-u.x)*t-h)*e,y:u.y+(c.y-u.y)*t}}var d,p,f={x:a,y:(s-(d=Nt(this.topWidth,s)))/2+i},m={x:a,y:(s+d)/2+i},y={x:a+o,y:(s-(p=Nt(this.bottomWidth,s)))/2+i},g=f.y+(y.y-f.y)*e;return{y:g+(m.y+({x:a+o,y:(s+p)/2+i}.y-m.y)*e-g)*t,x:f.x+(y.x-f.x)*e}},Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.slice&&this.slice.copyFrom(t.slice)},t}(gn);lt.registeredClasses.FunnelSlice=Zf;var em=function(e){function t(){var t=e.call(this)||this;return t._label=new Ie,t._slice=new Ie,t.className="FunnelTick",t.element=t.paper.add("path"),t._disposers.push(t._label),t._disposers.push(t._slice),t.setPropertyValue("locationX",0),t.setPropertyValue("locationY",0),t.applyTheme(),t}return s(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.slice,i=t.getPoint(this.locationX,this.locationY);if(i){var r=this.label,n=t.dataItem.component,a=void 0,o=void 0,s=void 0;if("vertical"==n.orientation){var l=r.pixelX,u=r.pixelY;n.labelsOpposite||(l+=r.maxRight),a=hi(i,t,this.parent),s=hi({x:l,y:u},r.parent,this.parent),o={x:r.parent.pixelX-this.length,y:s.y},n.labelsOpposite||(o.x=r.parent.measuredWidth+this.length)}else{l=r.pixelX,u=r.pixelY;n.labelsOpposite||(u+=r.maxBottom),a=hi(i,t,this.parent),o={x:(s=hi({x:l,y:u},r.parent,this.parent)).x,y:r.parent.pixelY-this.length},n.labelsOpposite||(o.y=r.parent.measuredHeight+this.length)}this.path=Bn(a)+Nn(o)+Nn(s)}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new we([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),t}(yp);lt.registeredClasses.FunnelTick=em;var tm=function(e){function t(){var t=e.call(this)||this;return t.className="FunnelSeriesDataItem",t.events.on("visibilitychanged",(function(){t.component&&t.component.invalidateDataItems()}),t,!1),t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var t=this.component.sliceLinks.create();this._sliceLink=t,this._disposers.push(t),t.parent=this.component.slicesContainer,this._disposers.push(new Ce((function(){e.component&&e.component.sliceLinks.removeValue(t)}))),this.addSprite(t),t.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),t}(Qp),im=function(e){function t(){var t=e.call(this)||this;return t._nextY=0,t.className="FunnelSeries",t.orientation="vertical",t.width=m(100),t.height=m(100),t.slicesContainer.width=m(100),t.slicesContainer.height=m(100),t._disposers.push(t.slicesContainer.events.on("maxsizechanged",t.invalidateDataItems,t,!1)),t.labelsOpposite=!0,t.labelsContainer.layout="absolute",t.bottomRatio=0,t.applyTheme(),t}return s(t,e),t.prototype.createSlice=function(){return new Zf},t.prototype.createTick=function(){return new em},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},t.prototype.createDataItem=function(){return new tm},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",e.states.create("hover").properties.expandDistance=.2},t.prototype.initLabel=function(t){e.prototype.initLabel.call(this,t),t.verticalCenter="middle",t.horizontalCenter="middle",t.isMeasured=!0,t.padding(5,5,5,5)},t.prototype.validate=function(){e.prototype.validate.call(this),this._nextY=0},t.prototype.validateDataElements=function(){var t=this,i=this.slicesContainer,r=this.labelsContainer,n=this.labels.template;this.alignLabels?(n.interactionsEnabled=!0,i.isMeasured=!0,r.isMeasured=!0):(n.interactionsEnabled=!1,i.isMeasured=!1,r.isMeasured=!1);var a=0,o=0;this.dataItems.each((function(e){_(e.value)&&(o++,e.value>0?a+=Math.abs(e.getWorkingValue("value")/e.value):t.ignoreZeroValues||!e.visible||e.__disabled||e.isHiding?o--:a+=1)})),this._total=1/o*a,this._count=o,e.prototype.validateDataElements.call(this),this.arrangeLabels()},t.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");if(t<this.dataItems.length-1){var r=this.dataItems.getIndex(t+1);if(i=r.getWorkingValue("value"),!r.visible||r.isHiding||r.__disabled||0==r.value&&this.ignoreZeroValues)return this.getNextValue(r)}return i},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(t){var i=this,r=t.slice;r.orientation=this.orientation;var n=t.sliceLink;n.orientation=this.orientation;var a=t.tick,o=t.label;a.slice=r,a.label=o,_(t.value)?(this.decorateSlice(t),de(t.sprites,(function(e){0==t.value&&i.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1}))):de(t.sprites,(function(e){e.__disabled=!0})),t.index==this.dataItems.length-1&&(n.disabled=!0),e.prototype.validateDataElement.call(this,t),n.fill=r.fill},t.prototype.decorateSlice=function(e){var t=e.slice,i=e.sliceLink,r=e.label,n=e.tick,a=this.slicesContainer.innerWidth,o=this.slicesContainer.innerHeight,s=this.getNextValue(e),l=Math.abs(e.getWorkingValue("value")),u=this.bottomRatio,c=1;if(0!=e.value?c=l/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(c=1e-6),this.ignoreZeroValues&&0==e.value)e.__disabled=!0;else if(e.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var h=i.pixelHeight*c;o+=h,t.topWidth=l/this.dataItem.values.value.high*a,t.bottomWidth=(l-(l-s)*u)/this.dataItem.values.value.high*a,i.topWidth=t.bottomWidth,i.bottomWidth=(l-(l-s))/this.dataItem.values.value.high*a,t.y=this._nextY,t.height=Math.min(1e5,z(0,o/this._count*c/this._total-h)),t.x=a/2,this.alignLabels?r.x=void 0:r.x=t.x,r.y=t.pixelY+t.pixelHeight*n.locationY,this._nextY+=t.pixelHeight+h,i.y=this._nextY-h,i.x=t.x}else{var d=i.pixelWidth*c;a+=d,t.topWidth=l/this.dataItem.values.value.high*o,t.bottomWidth=(l-(l-s)*u)/this.dataItem.values.value.high*o,i.topWidth=t.bottomWidth,i.bottomWidth=(l-(l-s))/this.dataItem.values.value.high*o,t.x=this._nextY,t.width=Math.min(1e5,a/this._count*c*1/this._total-d),t.y=o/2,this.alignLabels?r.y=this.labelsContainer.measuredHeight:r.y=t.y,r.x=t.pixelX+t.pixelWidth*n.locationX,this._nextY+=t.pixelWidth+d,i.x=this._nextY-d,i.y=t.y}},t.prototype.getLastLabel=function(e){if(e>0){var t=this.labels.getIndex(e);return t.__disabled||!t.visible?this.getLastLabel(e-1):t}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var t=this.getLastLabel(e-1);if(t){var i=t.pixelY,r=t.pixelX;if(e>1){for(var n=e-2;n>=0;n--){(a=this.labels.getIndex(n)).visible&&!a.__disabled&&(a.invalid&&a.validate(),"vertical"==this.orientation?a.pixelY+a.measuredHeight>i&&(a.y=Math.min(1e6,i-a.measuredHeight)):a.pixelX+a.measuredWidth>r&&(a.x=Math.min(1e6,r-a.measuredWidth)),i=a.pixelY,r=a.pixelX)}i=0,r=0;for(n=0;n<e;n++){var a;(a=this.labels.getIndex(n)).visible&&!a.__disabled&&(a.invalid&&a.validate(),"vertical"==this.orientation?a.pixelY<i&&(a.y=Math.min(1e6,i)):a.pixelX<r&&(a.x=Math.min(1e6,r)),i+=a.measuredHeight,r+=a.measuredWidth)}}}}}},t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice,r=t.locationX;T(r)||(r=.5);var n=t.locationY;T(n)||(n=1),t.x=i.pixelX+i.measuredWidth*r,t.y=i.pixelY+i.measuredHeight*n},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==e?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new Zf;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new ft(e),this._disposers.push(new ht(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(t){var i=this,r=this.startIndex,n=this.endIndex,a=this.defaultState.transitionDuration;T(t)&&(a=t);var o=0;return Xe(Ze(this.dataItems.iterator()),(function(e){var t=e[0],s=e[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*t+a*(t-r)/(n-r)),s.show(a,o,["value"])})),e.prototype.show.call(this,t)},t.prototype.hide=function(t){var i=this,r=["value"],n=this.startIndex,a=this.endIndex,o=0,s=this.hiddenState.transitionDuration;T(t)&&(s=t),Xe(Ze(this.dataItems.iterator()),(function(e){var t=e[0],l=e[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*t+s*(t-n)/(a-n)),l.hide(s,o,0,r)}));var l=e.prototype.hide.call(this,t);return l&&!l.isFinished()&&l.delay(o),l},t.prototype.setAlignLabels=function(t){e.prototype.setAlignLabels.call(this,t),this.ticks.template.disabled=!t;var i=this.labelsContainer;i&&(t?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=m(100),i.height=m(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var t=this.labels.template,i="none",r="none";this.alignLabels?e?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,t.horizontalCenter="left",i="right"):(this.ticks.template.locationY=1,t.horizontalCenter="right",r="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,i="left"):(r="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?i="center":r="middle",t.align=i,t.valign=r,this.validateLayout(),this.ticks.each((function(e){e.invalidate()})),this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(Zp);lt.registeredClasses.FunnelSeries=im,lt.registeredClasses.FunnelSeriesDataItem=tm;var rm=function(e){function t(){var t=e.call(this)||this;return t.className="PyramidSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(tm),nm=function(e){function t(){var t=e.call(this)||this;return t.className="PyramidSeries",t.topWidth=m(0),t.bottomWidth=m(100),t.pyramidHeight=m(100),t.valueIs="area",t.sliceLinks.template.width=0,t.sliceLinks.template.height=0,t.applyTheme(),t}return s(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new rm},t.prototype.validate=function(){e.prototype.validate.call(this),this._nextWidth=void 0},t.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");t<this.dataItems.length-1&&(i=this.dataItems.getIndex(t+1).getWorkingValue("value"));return 0==i&&(i=1e-6),i},t.prototype.validateDataElements=function(){var t=this,i=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each((function(e){if(e.value>0){var n=e.getWorkingValue("value")/e.value,a=e.sliceLink;"vertical"==t.orientation?r-=a.pixelHeight*n:i-=a.pixelWidth*n}})),this._pyramidHeight=Nt(this.pyramidHeight,r),this._pyramidWidth=Nt(this.pyramidHeight,i),"vertical"==this.orientation){var n=(r-this._pyramidHeight)/2;this.slicesContainer.y=n,this.labelsContainer.y=n,this.ticksContainer.y=n}else{var a=(i-this._pyramidWidth)/2;this.slicesContainer.x=a,this.labelsContainer.x=a,this.ticksContainer.x=a}e.prototype.validateDataElements.call(this)},t.prototype.decorateSlice=function(e){var t=this.dataItem.values.value.absoluteSum;if(0!=t){var i=e.slice,r=e.sliceLink,n=e.label,a=e.tick;this.getNextValue(e);var o=Math.abs(e.getWorkingValue("value")),s=this._pyramidWidth,l=this._pyramidHeight,u=this.slicesContainer.innerWidth,c=this.slicesContainer.innerHeight,h=r.pixelWidth,d=r.pixelHeight;if(0!=e.value&&null!=e.value||!this.ignoreZeroValues?e.__disabled=!1:e.__disabled=!0,"vertical"==this.orientation){var p=Nt(this.topWidth,u);T(this._nextWidth)||(this._nextWidth=p);var f=Nt(this.bottomWidth,u),m=this._nextWidth,y=Math.atan2(l,p-f);0==(S=Math.tan(Math.PI/2-y))&&(S=1e-8);var g=void 0,v=void 0;if("area"==this.valueIs){var b=(p+f)/2*l*o/t,x=Math.abs(m*m-2*b*S);v=(g=(m-Math.sqrt(x))/S)>0?(2*b-g*m)/g:m}else v=m-(g=l*o/t)*S;i.height=g,i.width=u,i.bottomWidth=v,i.topWidth=m,r.topWidth=i.bottomWidth,r.bottomWidth=i.bottomWidth,i.y=this._nextY,this.alignLabels?n.x=0:n.x=u/2,n.y=i.pixelY+i.pixelHeight*a.locationY+i.dy,this._nextY+=i.pixelHeight+d*o/Math.max(Math.abs(e.value),1e-8),r.y=this._nextY-d,r.x=u/2}else{p=Nt(this.topWidth,c);T(this._nextWidth)||(this._nextWidth=p);var S;f=Nt(this.bottomWidth,c),m=this._nextWidth,y=Math.atan2(s,p-f);0==(S=Math.tan(Math.PI/2-y))&&(S=1e-8);var P=void 0;v=void 0;if("area"==this.valueIs)v=(2*(b=(p+f)/2*s*o/t)-(P=(m-Math.sqrt(m*m-2*b*S))/S)*m)/P;else v=m-(P=s*o/t)*S;i.width=P,i.height=c,i.bottomWidth=v,i.topWidth=m,r.topWidth=i.bottomWidth,r.bottomWidth=i.bottomWidth,i.x=this._nextY,this.alignLabels?n.y=this.labelsContainer.measuredHeight:n.y=c/2,n.x=i.pixelX+i.pixelWidth*a.locationX+i.dx,this._nextY+=i.pixelWidth+h*o/Math.max(Math.abs(e.value),1e-8),r.x=this._nextY-h,r.y=c/2}this._nextWidth=i.bottomWidth}},Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t}(im);lt.registeredClasses.PyramidSeries=nm,lt.registeredClasses.PyramidSeriesDataItem=rm;var am=function(e){function t(){var t=e.call(this)||this;return t.className="PictorialStackedSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(rm),om=function(e){function t(){var t=e.call(this)||this;return t.className="PictorialStackedSeries",t.topWidth=m(100),t.bottomWidth=m(100),t.valueIs="height",t.applyTheme(),t.startLocation=0,t.endLocation=1,t.align="center",t.valign="middle",t._maskSprite=t.slicesContainer.createChild(mn),t._maskSprite.visible=!1,t._maskSprite.zIndex=100,t._maskSprite.shouldClone=!1,t}return s(t,e),t.prototype.validateDataElements=function(){var t=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,r=this._maskSprite,n=r.measuredWidth/r.scale,a=r.measuredHeight/r.scale,o=H(i/a,t/n);o==1/0&&(o=1),o=z(.001,o);var s,l,u=this.startLocation,c=this.endLocation,h=H(t,n*o),d=H(i,a*o);r.scale=o,"vertical"==this.orientation?(this.topWidth=h+4,this.bottomWidth=h+4,this.pyramidHeight=d*(c-u),r.x=t/2,r.y=d/2):(this.topWidth=d+4,this.bottomWidth=d+4,this.pyramidHeight=h*(c-u),r.valign="middle",r.x=h/2,r.y=i/2),r.verticalCenter="middle",r.horizontalCenter="middle",e.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(s=i-d),"middle"==this.valign&&(s=(i-d)/2),"top"==this.valign&&(s=0),"left"==this.align&&(l=-(t-h)/2),"center"==this.align&&(l=0),"right"==this.align&&(l=(t-h)/2),this.slices.template.dy=u*d,this.alignLabels&&(this.slicesContainer.dx=l)):("bottom"==this.valign&&(s=(i-d)/2),"middle"==this.valign&&(s=0),"top"==this.valign&&(s=-(i-d)/2),"left"==this.align&&(l=0),"center"==this.align&&(l=(t-h)/2),"right"==this.align&&(l=t-h),this.slices.template.dx=u*h,this.alignLabels&&(this.slicesContainer.dy=s)),this.slicesContainer.x=l,this.labelsContainer.x=l,this.ticksContainer.x=l,this.slicesContainer.y=s,this.labelsContainer.y=s,this.ticksContainer.y=s,h>0&&d>0&&(this.slicesContainer.mask=r)},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),_(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new am},Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.initSlice=function(t){e.prototype.initSlice.call(this,t);var i=t.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(nm);lt.registeredClasses.PictorialStackedSeries=om,lt.registeredClasses.PictorialStackedSeriesDataItem=am;var sm=function(e){function t(){var t=e.call(this)||this;return t.className="ConeColumn",t}return s(t,e),t.prototype.createAssets=function(){this.coneColumn=this.createChild(Ta),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.coneColumn&&this.coneColumn.copyFrom(t.coneColumn)},t}(Af);lt.registeredClasses.ConeColumn=sm;var lm=function(e){function t(){var t=e.call(this)||this;return t.className="ConeSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(Tf),um=function(e){function t(){var t=e.call(this)||this;return t.className="ConeSeries",t.applyTheme(),t}return s(t,e),t.prototype.createColumnTemplate=function(){return new sm},t.prototype.getMaskPath=function(){var e=0,t=0,i=this.columns.getIndex(0);if(i)return this.baseAxis==this.xAxis?t=i.coneColumn.innerWidth/2+1:e=i.coneColumn.innerHeight/2+1,qn({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+t})},t.prototype.validateDataElementReal=function(t){if(e.prototype.validateDataElementReal.call(this,t),t.column){var i=t.column.coneColumn;i.fill=t.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical"}},t}(Of);lt.registeredClasses.ConeSeries=um,lt.registeredClasses.ConeSeriesDataItem=lm;var cm=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumn",t}return s(t,e),t.prototype.createAssets=function(){this.curvedColumn=this.createChild(mn),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=m(120),this.height=m(120),this.column=this.curvedColumn},t.prototype.draw=function(){e.prototype.draw.call(this);var t,i=this.realWidth,r=this.realHeight,n=this.realX-this.pixelX,a=this.realY-this.pixelY;this.width;var o=1,s=1;"vertical"==this.orientation?(o=this.tension,t=[{x:0,y:r+a},{x:i/2,y:a},{x:i,y:r+a}]):(s=this.tension,t=[{x:n,y:r=Math.abs(r)},{x:n+i,y:r/2},{x:n,y:0}]);var l=Bn(t[0])+new da(o,s).smooth(t);this.column.path=l},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.curvedColumn&&this.curvedColumn.copyFrom(t.curvedColumn)},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Af);lt.registeredClasses.CurvedColumn=cm;var hm=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumnSeriesDataItem",t.applyTheme(),t}return s(t,e),t}(Tf),dm=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumnSeries",t.applyTheme(),t}return s(t,e),t.prototype.createColumnTemplate=function(){return new cm},t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t);var i=t.column;(i=t.column)&&(t.column.curvedColumn.fill=t.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical")},t}(Of);lt.registeredClasses.CurvedColumnSeries=dm,lt.registeredClasses.CurvedColumnSeriesDataItem=hm;var pm=function(e){function t(){var t=e.call(this)||this;t.className="CircleBullet";var i=t.createChild(En);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,t.circle=i,t.applyTheme(),t}return s(t,e),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.circle.copyFrom(t.circle)},t}(ep);lt.registeredClasses.CircleBullet=pm;var fm=function(e){function t(){var t=e.call(this)||this;return t.className="ErrorBullet",t.errorLine=t.createChild(mn),t.errorLine.shouldClone=!1,t.width=20,t.height=20,t.strokeOpacity=1,t.isDynamic=!0,t}return s(t,e),t.prototype.validatePosition=function(){e.prototype.validatePosition.call(this);var t=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=Bn({x:-t,y:-i})+Nn({x:t,y:-i})+Bn({x:0,y:-i})+Nn({x:0,y:i})+Bn({x:-t,y:i})+Nn({x:t,y:i})},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.errorLine.copyFrom(t.errorLine)},t}(ep);lt.registeredClasses.ErrorBullet=fm;var mm=function(e){function t(){var t=e.call(this)||this;return t.className="NavigationBarDataItem",t.applyTheme(),t}return s(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),t}(Tn),ym=function(e){function t(){var t=e.call(this)||this;t.className="NavigationBar";var i=new pr,r=new oa;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,t.paddingBottom=2,t.links=new ft(r),t._disposers.push(new ht(t.links)),t._disposers.push(r),t._linksIterator=new tt(t.links,(function(){return t.links.create()})),t._linksIterator.createNewItems=!0;var n=new ha;n.direction="right",n.width=8,n.height=12,n.fill=i.getFor("alternativeBackground"),n.fillOpacity=.5,n.valign="middle",n.marginLeft=10,n.marginRight=10,t.separators=new ft(n),t._disposers.push(new ht(t.separators)),t._disposers.push(n);var a=new oa;return t.activeLink=a,a.copyFrom(r),a.valign="middle",a.fontWeight="bold",t.width=m(100),t.layout="grid",t.dataFields.name="name",t.applyTheme(),t}return s(t,e),t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),e.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(t){var i;if(e.prototype.validateDataElement.call(this,t),t.index<this.dataItems.length-1){(i=this._linksIterator.getLast()).parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else(i=this.activeLink).events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=t,i.text=t.name,i.validate()},t}(On);lt.registeredClasses.NavigationBar=ym,lt.registeredClasses.NavigationBarDataItem=mm;var gm=function(e){function t(){var t=e.call(this)||this;t.point={x:0,y:0},t._stick="none",t.className="Cursor",t.width=m(100),t.height=m(100),t.shouldClone=!1,t.hide(0),t.trackable=!0,t.clickable=!0,t.isMeasured=!1;var i=kr();return t._disposers.push(i.body.events.on("down",t.handleCursorDown,t)),t._disposers.push(i.body.events.on("up",t.handleCursorUp,t)),t._disposers.push(i.body.events.on("track",t.handleCursorMove,t)),t.applyTheme(),t}return s(t,e),t.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||kr().isLocalElement(e.pointer,this.paper.svg,this.uid)){var t=mi(e.pointer.point,this);return"hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(t)||(t=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.triggerMove(t),t}this.isHidden&&this.isHiding||this.hide()}},t.prototype.hideReal=function(t){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return e.prototype.hideReal.call(this,t)},t.prototype.triggerMove=function(e,t,i){e.x=L(e.x,1),e.y=L(e.y,1),t&&(this._stick=t),"hard"!=t&&"soft"!=t||(this._stickPoint=e),this.triggerMoveReal(e,i)},t.prototype.triggerMoveReal=function(e,t){(this.point.x!=e.x||this.point.y!=e.y||t)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},t.prototype.triggerDown=function(e){this.triggerDownReal(e)},t.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),kr().setGlobalStyle(Yr.grabbing)}},t.prototype.triggerUp=function(e){this.triggerUpReal(e)},t.prototype.triggerUpReal=function(e){vn.requestFrame(),this.updatePoint(this.upPoint);var t=kr();if($(this._upPointOrig,this._downPointOrig)>t.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),t.setGlobalStyle(Yr.default)}this.downPoint=void 0,this.updateSelection()}},t.prototype.updateSelection=function(){},t.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},t.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)&&kr().isLocalElement(e.pointer,this.paper.svg,this.uid)){ir();var t=mi(e.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.fitsToBounds(t)&&(this._downPointOrig={x:t.x,y:t.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(t)&&e.event.preventDefault(),this.triggerMove(t),this.triggerDown(t))}},t.prototype.shouldPreventGestures=function(e){return!0},t.prototype.updatePoint=function(e){},t.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&(this.downPoint||kr().isLocalElement(e.pointer,this.paper.svg,this.uid))){var t=mi(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",t),this.downPoint&&this.fitsToBounds(this.downPoint)&&("hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),this._upPointOrig={x:t.x,y:t.y},this.triggerMove(t),this.triggerUp(t))}},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,_(this._chart.plotContainer)&&kr().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),t}(gn);lt.registeredClasses.Cursor=gm;var vm=function(e){function t(){var t=e.call(this)||this;t._lineX=new Ie,t._lineY=new Ie,t._xAxis=new Ie,t._yAxis=new Ie,t._snapToDisposers=[],t.className="XYCursor",t.behavior="zoomX",t.maxPanOut=.1;var i=new pr,r=t.createChild(mn);r.shouldClone=!1,r.fillOpacity=.2,r.fill=i.getFor("alternativeBackground"),r.isMeasured=!1,r.visible=!1,r.interactionsEnabled=!1,t.selection=r,t._disposers.push(t.selection);var n=t.createChild(mn);n.shouldClone=!1,n.stroke=i.getFor("grid"),n.fill=Ft(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.y=0,t.lineX=n,t._disposers.push(t.lineX);var a=t.createChild(mn);return a.shouldClone=!1,a.stroke=i.getFor("grid"),a.fill=Ft(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.x=0,t.lineY=a,t._disposers.push(t.lineY),t.events.on("sizechanged",t.updateSize,t,!1),t._disposers.push(t._lineX),t._disposers.push(t._lineY),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.mask=t,t.hideSeriesTooltipsOnSelection=!0,t.applyTheme(),t}return s(t,e),t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=Bn({x:0,y:0})+Nn({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=Bn({x:0,y:0})+Nn({x:this.innerWidth,y:0}))},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,t=this.behavior;if(e){var i=this.point;this.lineX&&(i.x=this.lineX.pixelX),this.lineY&&(i.y=this.lineY.pixelY);var r=this.selection,n=Math.min(i.x,e.x),a=Math.min(i.y,e.y),o=L(Math.abs(e.x-i.x),this._positionPrecision),s=L(Math.abs(e.y-i.y),this._positionPrecision);switch(t){case"zoomX":a=0,s=this.pixelHeight;break;case"zoomY":n=0,o=this.pixelWidth;break;case"selectX":a=0,s=this.pixelHeight;break;case"selectY":n=0,o=this.pixelWidth}r.x=n,r.y=a,r.path=$n(o,s),r.validatePosition()}else"select"!=this._generalBehavior&&this.selection.hide()}},t.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},t.prototype.triggerMoveReal=function(t,i){e.prototype.triggerMoveReal.call(this,t,i);var r=this.snapToSeries;if(r&&!this.downPoint)if(r instanceof Fp)r.isHidden&&this.updateLinePositions(t);else{var n=!0;de(r,(function(e){e.isHidden||(n=!1)})),n&&this.updateLinePositions(t)}else this.updateLinePositions(t);this.downPoint&&$(this.downPoint,t)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},t.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},t.prototype.triggerDownReal=function(t){if(this.visible&&!this.isHiding)if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(t)){this.downPoint={x:t.x,y:t.y},this.updatePoint(t),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,r=this.downPoint.x,n=this.downPoint.y;this._usesSelection&&(i.x=r,i.y=n,i.path="",i.show()),e.prototype.triggerDownReal.call(this,t)}else this.downPoint=void 0;else this.downPoint=void 0},t.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},t.prototype.triggerUpReal=function(t){if(this.hasMoved())this.downPoint&&(this.upPoint=t,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),e.prototype.triggerUpReal.call(this,t));else{if("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior)kr().setGlobalStyle(Yr.default);this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},t.prototype.hasMoved=function(){var e,t,i;return"zoomX"==this.behavior||"panX"==this.behavior?(t=this._upPointOrig,i=this._downPointOrig,e=t?(i||(i={x:0,y:0}),Math.abs(t.x-i.x)):0):e="zoomY"==this.behavior||"panY"==this.behavior?function(e,t){return e?(t||(t={x:0,y:0}),Math.abs(e.y-t.y)):0}(this._upPointOrig,this._downPointOrig):$(this._upPointOrig,this._downPointOrig),e>kr().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var e=L(this.downPoint.x/this.innerWidth,5),t=1-L(this.downPoint.y/this.innerHeight,5),i=e-L(this.point.x/this.innerWidth,5),r=t-(1-L(this.point.y/this.innerHeight,5));this.xRange={start:i,end:1+i},this.yRange={start:r,end:1+r},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var e=L(this.downPoint.x/this.innerWidth,5),t=L(this.upPoint.x/this.innerWidth,5),i=1-L(this.downPoint.y/this.innerHeight,5),r=1-L(this.upPoint.y/this.innerHeight,5);this.xRange={start:H(e,t),end:z(e,t)},this.yRange={start:H(i,r),end:z(i,r)}},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,-1!=e.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=e.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=e.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(e){return!(this.interactions.isTouchProtected&&e||"none"==this.behavior)},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var t=this;this._xAxis.get()!=e&&this._xAxis.set(e,new we([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",(function(e){t.hide(0),t.preventShow=!0}),void 0,!1),e.events.on("rangechangeended",(function(e){t.preventShow=!1,t.hide(0),t.dispatch("cursorpositionchanged")}),void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var t=this;this._yAxis.get()!=e&&this._yAxis.set(e,new we([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",(function(e){t.hide(0),t.__disabled=!0}),void 0,!1),e.events.on("rangechangeended",(function(e){t.__disabled=!1,t.hide(0),t.dispatch("cursorpositionchanged")}),void 0,!1)]))},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(e){var t=this.xAxis.tooltip,i=ui({x:t.pixelX,y:t.pixelY},this),r=i.x;if(i.y=1,this.lineX&&(this.lineX.x=r,this.fitsToBounds(i)||this.hide()),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,a=this.xAxis.currentItemEndPoint;if(n&&a){this.lineX.x=r;var o=a.x-n.x;this.lineX.path=$n(o,this.innerHeight,-o/2)}}},t.prototype.handleYTooltipPosition=function(e){var t=this.yAxis.tooltip,i=ui({x:t.pixelX,y:t.pixelY},this),r=i.y;if(i.x=1,this.lineY&&(this.lineY.y=r,this.fitsToBounds(i)||this.hide()),this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,a=this.yAxis.currentItemEndPoint;if(n&&a){this.lineY.y=r;var o=a.y-n.y;this.lineY.path=$n(this.innerWidth,o,0,-o/2)}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){var i=this;if(t&&(_(t.xAxis)&&A(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+t.xAxis+'" found for `xAxis`'),delete t.xAxis)),_(t.yAxis)&&A(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+t.yAxis+'" found for `yAxis`'),delete t.yAxis)),_(t.snapToSeries))){var r=D(t.snapToSeries)?t.snapToSeries:[t.snapToSeries],n=!1;de(r,(function(e,t){A(e)&&(i.map.hasKey(e)?r[t]=i.map.getKey(e):(i.processingErrors.push('[XYCursor] No series with id "'+e+'" found for `series`'),n=!0))})),n?delete t.snapToSeries:t.snapToSeries=r}e.prototype.processConfig.call(this,t)},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var t=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof Fp&&(e=[e]),this._snapToDisposers&&de(this._snapToDisposers,(function(e){e.dispose()})),this._snapToDisposers=[],e&&de(e,(function(e){t._snapToDisposers.push(e.events.on("tooltipshownat",(function(){t.handleSnap(e)}),void 0,!1))})))},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(e){if(!this.downPoint){var t=e.getTooltipX()+e.xAxis.pixelX,i=e.getTooltipY()+e.yAxis.pixelY;this.xAxis&&this.xAxis.renderer.opposite&&(i-=this.pixelHeight),this.point={x:t,y:i},this.getPositions();var r=t,n=i;t-=this.pixelWidth,this.yAxis&&this.yAxis.renderer.opposite&&(t+=this.pixelWidth);var a=e.tooltip,o=a.animationDuration,s=a.animationEasing,l=e.xAxis,u=e.yAxis;l instanceof _p&&!(l instanceof Ip)&&u instanceof _p&&!(u instanceof Ip)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineX.animate([{property:"y",to:i}],o,s),this.lineY.animate([{property:"x",to:t}],o,s),this.xAxis||this.lineX.animate([{property:"x",to:r}],o,s),this.yAxis||this.lineY.animate([{property:"y",to:n}],o,s)}},t.prototype.dispose=function(){this.hide(0),e.prototype.dispose.call(this)},t}(gm);lt.registeredClasses.XYCursor=vm;var bm=function(e){function t(){var t=e.call(this)||this;return t.className="RadarCursor",t.radius=m(100),t.innerRadius=m(0),t.applyTheme(),t.mask=void 0,t}return s(t,e),t.prototype.fitsToBounds=function(e){var t=$(e);return t<this.truePixelRadius+1&&t>this.pixelInnerRadius-1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.triggerMoveReal=function(t,i){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),e.prototype.triggerMoveReal.call(this,t,i)},t.prototype.updateLineX=function(e){var t=this.pixelRadius,i=this.startAngle,r=this.endAngle,n=this.pixelInnerRadius;if(t>0&&T(i)&&T(r)&&T(n)){var a=ae(X(e),i,r),o=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var s=this.xAxis.currentItemStartPoint,l=this.xAxis.currentItemEndPoint;if(s&&l){var u=ae(X(s),i,r),c=ae(X(l),i,r)-u;i<r?c<0&&(c+=360):c>0&&(c-=360),o=Bn({x:n*W(a-=c/2),y:n*B(a)})+Nn({x:t*W(a),y:t*B(a)})+Hn(a,c,t)+Nn({x:n*W(a+c),y:n*B(a+c)})+Hn(a+c,-c,n)}}o||(o=Bn({x:n*W(a),y:n*B(a)})+Nn({x:t*W(a),y:t*B(a)})),this.lineX.path=o}}},t.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var t=this.startAngle,i=this.endAngle,r=this.truePixelRadius,n=V($(e),0,this.truePixelRadius);if(T(n)&&T(t)){this.lineY.moveTo({x:0,y:0});var a=void 0,o=i-t;if(this.yAxis&&this.fullWidthLineY){var s=this.yAxis.currentItemStartPoint,l=this.yAxis.currentItemEndPoint;if(s&&l){var u=V($(s),0,r);a=Bn({x:(n=V($(l),0,r))*W(t),y:n*B(t)})+Hn(t,o,n),a+=Bn({x:u*W(i),y:u*B(i)})+Hn(i,-o,u)}}a||(a=Bn({x:n*W(t),y:n*B(t)})+Hn(t,i-t,n)),this.lineY.path=a}}},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var t=this.point,i=this.pixelRadius,r=this.truePixelRadius,n=this.pixelInnerRadius,a=Math.min(this.startAngle,this.endAngle),o=Math.max(this.startAngle,this.endAngle),s=ae(X(e),a,o),l=ae(X(t),a,o),u=$(e);if(u<r){var c=V($(t),0,r);this._prevAngle=l;var h=Bn({x:0,y:0}),d=B(s),p=W(s),f=B(l),m=W(l),y=this.behavior;"zoomX"==y||"selectX"==y?h+=Nn({x:i*p,y:i*d})+Hn(s,l-s,i)+Nn({x:n*m,y:n*f})+Hn(l,s-l,n):"zoomY"==y||"selectY"==y?h=Bn({x:c*W(a),y:c*B(a)})+Hn(a,o-a,c)+Nn({x:u*W(o),y:u*B(o)})+Hn(o,a-o,u)+" Z":"zoomXY"==y&&(h=Bn({x:c*W(s),y:c*B(s)})+Hn(s,l-s,c)+Nn({x:u*W(l),y:u*B(l)})+Hn(l,s-l,u)+" Z"),this.selection.path=h}this.selection.moveTo({x:0,y:0})}}},t.prototype.getPositions=function(){if(this.chart){var e=this.pixelInnerRadius,t=this.truePixelRadius-e,i=this.startAngle,r=this.endAngle,n=(ae(X(this.point),i,r)-i)/(r-i);this.xPosition=n,this.yPosition=V(($(this.point)-e)/t,0,1)}},t.prototype.updatePoint=function(e){},t.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var t=this.xAxis.tooltip;this.updateLineX(ui({x:t.pixelX,y:t.pixelY},this))}},t.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var t=this.yAxis.tooltip;this.updateLineY(ui({x:t.pixelX,y:t.pixelY},this))}},t.prototype.updateLinePositions=function(e){},t.prototype.getRanges=function(){var e=this.downPoint;if(e){var t=this.upPoint;if(this.chart){var i=this.pixelRadius,r=this.startAngle,n=this.endAngle,a=ae(X(e),this.startAngle,this.endAngle),o=ae(X(t),this.startAngle,this.endAngle),s=V($(e),0,i),l=V($(t),0,i),u=0,c=1,h=0,d=1,p=this.behavior;if("zoomX"==p||"selectX"==p||"zoomXY"==p||"selectXY"==p){var f=n-r;u=L((a-r)/f,5),c=L((o-r)/f,5)}"zoomY"!=p&&"selectY"!=p&&"zoomXY"!=p&&"selectXY"!=p||(h=L(s/i,5),d=L(l/i,5)),this.xRange={start:Math.min(u,c),end:Math.max(u,c)},this.yRange={start:Math.min(h,d),end:Math.max(h,d)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},t.prototype.updateSize=function(){},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Wt(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truePixelRadius",{get:function(){return Nt(m(100),H(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof f&&(e=m(100*e.value*this.chart.innerRadiusModifyer)),Wt(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),t.prototype.fixPoint=function(e){return e},t}(vm);lt.registeredClasses.RadarCursor=bm;var xm=function(e){ut(e,"SpriteState")&&(e.transitionDuration=400),ut(e,"Component")&&(e.rangeChangeDuration=500,e.interpolationDuration=500,e.sequencedInterpolation=!1,ut(e,"SankeyDiagram")&&(e.sequencedInterpolation=!0),ut(e,"FunnelSeries")&&(e.sequencedInterpolation=!0)),ut(e,"Chart")&&(e.defaultState.transitionDuration=2e3,e.hiddenState.transitionDuration=1e3),ut(e,"Tooltip")&&(e.animationDuration=400,e.defaultState.transitionDuration=400,e.hiddenState.transitionDuration=400),ut(e,"Scrollbar")&&(e.animationDuration=500),ut(e,"Series")&&(e.defaultState.transitionDuration=1e3,e.hiddenState.transitionDuration=700,e.hiddenState.properties.opacity=1,e.showOnInit=!0),ut(e,"MapSeries")&&(e.hiddenState.properties.opacity=0),ut(e,"PercentSeries")&&(e.hiddenState.properties.opacity=0),ut(e,"FunnelSlice")&&(e.defaultState.transitionDuration=800,e.hiddenState.transitionDuration=1e3,e.hiddenState.properties.opacity=1),ut(e,"Slice")&&(e.defaultState.transitionDuration=700,e.hiddenState.transitionDuration=1e3,e.hiddenState.properties.opacity=1),ut(e,"Preloader")&&(e.hiddenState.transitionDuration=2e3),ut(e,"Column")&&(e.defaultState.transitionDuration=700,e.hiddenState.transitionDuration=1e3,e.hiddenState.properties.opacity=1),ut(e,"Column3D")&&(e.hiddenState.properties.opacity=0)};const Sm="count",Pm="sum",_m="min",Cm="max",wm="avg",Im="stddev",Am="var",Tm="percentile_cont",Om="percentile_disc",Dm="no_aggregation",km="esriSLSDash",Fm="esriSLSDashDot",Em="esriSLSDashDotDot",Mm="esriSLSDot",jm="esriSLSNull",Lm="esriSLSSolid",Rm="esriSMSCircle",Vm="esriSMSCross",Bm="esriSMSDiamond",Nm="esriSMSSquare",Wm="esriSMSX",zm="esriSMSTriangle",Hm="esriSFSBackwardDiagonal",Gm="esriSFSCross",Um="esriSFSDiagonalCross",$m="esriSFSForwardDiagonal",qm="esriSFSHorizontal",Ym="esriSFSVertical",Km="left",Xm="right",Jm="center",Qm="justify",Zm="baseline",ey="top",ty="middle",iy="bottom",ry="esriSLS",ny="esriSFS",ay="esriTS",oy="unique-value",sy="simple",ly="chartText",uy="chartOverlay",cy="category",hy="number",dy="date",py="scatterSeries",fy="pieSeries",my="gaugeSeries",yy="barSeries",gy="histogramSeries",vy="none",by="logarithmic",xy="squareRoot",Sy="colorMatch",Py="right",_y="top",Cy="bottom",wy="sideBySide",Iy="stacked",Ay="stacked100",Ty="ASC",Oy="DESC",Dy="inline",ky="featureLayer",Fy={statisticType:Sm,sortingOrder:Ty};var Ey="object"==typeof e&&e&&e.Object===Object&&e,My="object"==typeof self&&self&&self.Object===Object&&self,jy=Ey||My||Function("return this")(),Ly=jy.Symbol,Ry=Object.prototype,Vy=Ry.hasOwnProperty,By=Ry.toString,Ny=Ly?Ly.toStringTag:void 0;var Wy=Object.prototype.toString;var zy=Ly?Ly.toStringTag:void 0;function Hy(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":zy&&zy in Object(e)?function(e){var t=Vy.call(e,Ny),i=e[Ny];try{e[Ny]=void 0;var r=!0}catch(e){}var n=By.call(e);return r&&(t?e[Ny]=i:delete e[Ny]),n}(e):function(e){return Wy.call(e)}(e)}function Gy(e){return null!=e&&"object"==typeof e}function Uy(e){return"symbol"==typeof e||Gy(e)&&"[object Symbol]"==Hy(e)}function $y(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}var qy=Array.isArray,Yy=Ly?Ly.prototype:void 0,Ky=Yy?Yy.toString:void 0;function Xy(e){if("string"==typeof e)return e;if(qy(e))return $y(e,Xy)+"";if(Uy(e))return Ky?Ky.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jy(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qy(e){return e}function Zy(e){if(!Jy(e))return!1;var t=Hy(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var eg=jy["__core-js_shared__"],tg=function(){var e=/[^.]+$/.exec(eg&&eg.keys&&eg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ig=Function.prototype.toString;function rg(e){if(null!=e){try{return ig.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var ng=/^\[object .+?Constructor\]$/,ag=Function.prototype,og=Object.prototype,sg=ag.toString,lg=og.hasOwnProperty,ug=RegExp("^"+sg.call(lg).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cg(e){return!(!Jy(e)||(t=e,tg&&tg in t))&&(Zy(e)?ug:ng).test(rg(e));var t}function hg(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return cg(i)?i:void 0}var dg=hg(jy,"WeakMap"),pg=Object.create,fg=function(){function e(){}return function(t){if(!Jy(t))return{};if(pg)return pg(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function mg(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var yg=Date.now;var gg=function(){try{var e=hg(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),vg=function(e){var t=0,i=0;return function(){var r=yg(),n=16-(r-i);if(i=r,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(gg?function(e,t){return gg(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:Qy);var bg=/^(?:0|[1-9]\d*)$/;function xg(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&bg.test(e))&&e>-1&&e%1==0&&e<t}function Sg(e,t,i){"__proto__"==t&&gg?gg(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Pg(e,t){return e===t||e!=e&&t!=t}var _g=Object.prototype.hasOwnProperty;function Cg(e,t,i){var r=e[t];_g.call(e,t)&&Pg(r,i)&&(void 0!==i||t in e)||Sg(e,t,i)}function wg(e,t,i,r){var n=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),n?Sg(i,s,l):Cg(i,s,l)}return i}var Ig=Math.max;function Ag(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Tg(e){return null!=e&&Ag(e.length)&&!Zy(e)}function Og(e,t,i){if(!Jy(i))return!1;var r=typeof t;return!!("number"==r?Tg(i)&&xg(t,i.length):"string"==r&&t in i)&&Pg(i[t],e)}var Dg=Object.prototype;function kg(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Dg)}function Fg(e){return Gy(e)&&"[object Arguments]"==Hy(e)}var Eg=Object.prototype,Mg=Eg.hasOwnProperty,jg=Eg.propertyIsEnumerable,Lg=Fg(function(){return arguments}())?Fg:function(e){return Gy(e)&&Mg.call(e,"callee")&&!jg.call(e,"callee")};var Rg="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vg=Rg&&"object"==typeof r&&r&&!r.nodeType&&r,Bg=Vg&&Vg.exports===Rg?jy.Buffer:void 0,Ng=(Bg?Bg.isBuffer:void 0)||function(){return!1},Wg={};function zg(e){return function(t){return e(t)}}Wg["[object Float32Array]"]=Wg["[object Float64Array]"]=Wg["[object Int8Array]"]=Wg["[object Int16Array]"]=Wg["[object Int32Array]"]=Wg["[object Uint8Array]"]=Wg["[object Uint8ClampedArray]"]=Wg["[object Uint16Array]"]=Wg["[object Uint32Array]"]=!0,Wg["[object Arguments]"]=Wg["[object Array]"]=Wg["[object ArrayBuffer]"]=Wg["[object Boolean]"]=Wg["[object DataView]"]=Wg["[object Date]"]=Wg["[object Error]"]=Wg["[object Function]"]=Wg["[object Map]"]=Wg["[object Number]"]=Wg["[object Object]"]=Wg["[object RegExp]"]=Wg["[object Set]"]=Wg["[object String]"]=Wg["[object WeakMap]"]=!1;var Hg="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gg=Hg&&"object"==typeof r&&r&&!r.nodeType&&r,Ug=Gg&&Gg.exports===Hg&&Ey.process,$g=function(){try{var e=Gg&&Gg.require&&Gg.require("util").types;return e||Ug&&Ug.binding&&Ug.binding("util")}catch(e){}}(),qg=$g&&$g.isTypedArray,Yg=qg?zg(qg):function(e){return Gy(e)&&Ag(e.length)&&!!Wg[Hy(e)]},Kg=Object.prototype.hasOwnProperty;function Xg(e,t){var i=qy(e),r=!i&&Lg(e),n=!i&&!r&&Ng(e),a=!i&&!r&&!n&&Yg(e),o=i||r||n||a,s=o?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!Kg.call(e,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||xg(u,l))||s.push(u);return s}function Jg(e,t){return function(i){return e(t(i))}}var Qg=Jg(Object.keys,Object),Zg=Object.prototype.hasOwnProperty;function ev(e){if(!kg(e))return Qg(e);var t=[];for(var i in Object(e))Zg.call(e,i)&&"constructor"!=i&&t.push(i);return t}function tv(e){return Tg(e)?Xg(e):ev(e)}var iv=Object.prototype.hasOwnProperty;function rv(e){if(!Jy(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=kg(e),i=[];for(var r in e)("constructor"!=r||!t&&iv.call(e,r))&&i.push(r);return i}function nv(e){return Tg(e)?Xg(e,!0):rv(e)}var av=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ov=/^\w*$/;function sv(e,t){if(qy(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!Uy(e))||(ov.test(e)||!av.test(e)||null!=t&&e in Object(t))}var lv=hg(Object,"create");var uv=Object.prototype.hasOwnProperty;var cv=Object.prototype.hasOwnProperty;function hv(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function dv(e,t){for(var i=e.length;i--;)if(Pg(e[i][0],t))return i;return-1}hv.prototype.clear=function(){this.__data__=lv?lv(null):{},this.size=0},hv.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},hv.prototype.get=function(e){var t=this.__data__;if(lv){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return uv.call(t,e)?t[e]:void 0},hv.prototype.has=function(e){var t=this.__data__;return lv?void 0!==t[e]:cv.call(t,e)},hv.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=lv&&void 0===t?"__lodash_hash_undefined__":t,this};var pv=Array.prototype.splice;function fv(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}fv.prototype.clear=function(){this.__data__=[],this.size=0},fv.prototype.delete=function(e){var t=this.__data__,i=dv(t,e);return!(i<0)&&(i==t.length-1?t.pop():pv.call(t,i,1),--this.size,!0)},fv.prototype.get=function(e){var t=this.__data__,i=dv(t,e);return i<0?void 0:t[i][1]},fv.prototype.has=function(e){return dv(this.__data__,e)>-1},fv.prototype.set=function(e,t){var i=this.__data__,r=dv(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this};var mv=hg(jy,"Map");function yv(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function gv(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}gv.prototype.clear=function(){this.size=0,this.__data__={hash:new hv,map:new(mv||fv),string:new hv}},gv.prototype.delete=function(e){var t=yv(this,e).delete(e);return this.size-=t?1:0,t},gv.prototype.get=function(e){return yv(this,e).get(e)},gv.prototype.has=function(e){return yv(this,e).has(e)},gv.prototype.set=function(e,t){var i=yv(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this};function vv(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],a=i.cache;if(a.has(n))return a.get(n);var o=e.apply(this,r);return i.cache=a.set(n,o)||a,o};return i.cache=new(vv.Cache||gv),i}vv.Cache=gv;var bv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xv=/\\(\\)?/g,Sv=function(e){var t=vv(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(bv,(function(e,i,r,n){t.push(r?n.replace(xv,"$1"):i||e)})),t}));function Pv(e,t){return qy(e)?e:sv(e,t)?[e]:Sv(function(e){return null==e?"":Xy(e)}(e))}function _v(e){if("string"==typeof e||Uy(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Cv(e,t){for(var i=0,r=(t=Pv(t,e)).length;null!=e&&i<r;)e=e[_v(t[i++])];return i&&i==r?e:void 0}function wv(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}var Iv=Ly?Ly.isConcatSpreadable:void 0;function Av(e){return qy(e)||Lg(e)||!!(Iv&&e&&e[Iv])}var Tv=Jg(Object.getPrototypeOf,Object);function Ov(e){var t=this.__data__=new fv(e);this.size=t.size}Ov.prototype.clear=function(){this.__data__=new fv,this.size=0},Ov.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Ov.prototype.get=function(e){return this.__data__.get(e)},Ov.prototype.has=function(e){return this.__data__.has(e)},Ov.prototype.set=function(e,t){var i=this.__data__;if(i instanceof fv){var r=i.__data__;if(!mv||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new gv(r)}return i.set(e,t),this.size=i.size,this};var Dv="object"==typeof exports&&exports&&!exports.nodeType&&exports,kv=Dv&&"object"==typeof r&&r&&!r.nodeType&&r,Fv=kv&&kv.exports===Dv?jy.Buffer:void 0,Ev=Fv?Fv.allocUnsafe:void 0;function Mv(){return[]}var jv=Object.prototype.propertyIsEnumerable,Lv=Object.getOwnPropertySymbols,Rv=Lv?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,r=null==e?0:e.length,n=0,a=[];++i<r;){var o=e[i];t(o,i,e)&&(a[n++]=o)}return a}(Lv(e),(function(t){return jv.call(e,t)})))}:Mv;var Vv=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)wv(t,Rv(e)),e=Tv(e);return t}:Mv;function Bv(e,t,i){var r=t(e);return qy(e)?r:wv(r,i(e))}function Nv(e){return Bv(e,tv,Rv)}function Wv(e){return Bv(e,nv,Vv)}var zv=hg(jy,"DataView"),Hv=hg(jy,"Promise"),Gv=hg(jy,"Set"),Uv=rg(zv),$v=rg(mv),qv=rg(Hv),Yv=rg(Gv),Kv=rg(dg),Xv=Hy;(zv&&"[object DataView]"!=Xv(new zv(new ArrayBuffer(1)))||mv&&"[object Map]"!=Xv(new mv)||Hv&&"[object Promise]"!=Xv(Hv.resolve())||Gv&&"[object Set]"!=Xv(new Gv)||dg&&"[object WeakMap]"!=Xv(new dg))&&(Xv=function(e){var t=Hy(e),i="[object Object]"==t?e.constructor:void 0,r=i?rg(i):"";if(r)switch(r){case Uv:return"[object DataView]";case $v:return"[object Map]";case qv:return"[object Promise]";case Yv:return"[object Set]";case Kv:return"[object WeakMap]"}return t});var Jv=Xv,Qv=Object.prototype.hasOwnProperty;var Zv=jy.Uint8Array;function eb(e){var t=new e.constructor(e.byteLength);return new Zv(t).set(new Zv(e)),t}var tb=/\w*$/;var ib=Ly?Ly.prototype:void 0,rb=ib?ib.valueOf:void 0;function nb(e,t,i){var r,n,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return eb(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var i=t?eb(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var i=t?eb(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(e,i);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(a=new(n=e).constructor(n.source,tb.exec(n))).lastIndex=n.lastIndex,a;case"[object Set]":return new o;case"[object Symbol]":return r=e,rb?Object(rb.call(r)):{}}}var ab=$g&&$g.isMap,ob=ab?zg(ab):function(e){return Gy(e)&&"[object Map]"==Jv(e)};var sb=$g&&$g.isSet,lb=sb?zg(sb):function(e){return Gy(e)&&"[object Set]"==Jv(e)},ub={};function cb(e,t,i,r,n,a){var o,s=1&t,l=2&t,u=4&t;if(i&&(o=n?i(e,r,n,a):i(e)),void 0!==o)return o;if(!Jy(e))return e;var c=qy(e);if(c){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Qv.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!s)return function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}(e,o)}else{var h=Jv(e),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(Ng(e))return function(e,t){if(t)return e.slice();var i=e.length,r=Ev?Ev(i):new e.constructor(i);return e.copy(r),r}(e,s);if("[object Object]"==h||"[object Arguments]"==h||d&&!n){if(o=l||d?{}:function(e){return"function"!=typeof e.constructor||kg(e)?{}:fg(Tv(e))}(e),!s)return l?function(e,t){return wg(e,Vv(e),t)}(e,function(e,t){return e&&wg(t,nv(t),e)}(o,e)):function(e,t){return wg(e,Rv(e),t)}(e,function(e,t){return e&&wg(t,tv(t),e)}(o,e))}else{if(!ub[h])return n?e:{};o=nb(e,h,s)}}a||(a=new Ov);var p=a.get(e);if(p)return p;a.set(e,o),lb(e)?e.forEach((function(r){o.add(cb(r,t,i,r,e,a))})):ob(e)&&e.forEach((function(r,n){o.set(n,cb(r,t,i,n,e,a))}));var f=u?l?Wv:Nv:l?keysIn:tv,m=c?void 0:f(e);return function(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););}(m||e,(function(r,n){m&&(r=e[n=r]),Cg(o,n,cb(r,t,i,n,e,a))})),o}ub["[object Arguments]"]=ub["[object Array]"]=ub["[object ArrayBuffer]"]=ub["[object DataView]"]=ub["[object Boolean]"]=ub["[object Date]"]=ub["[object Float32Array]"]=ub["[object Float64Array]"]=ub["[object Int8Array]"]=ub["[object Int16Array]"]=ub["[object Int32Array]"]=ub["[object Map]"]=ub["[object Number]"]=ub["[object Object]"]=ub["[object RegExp]"]=ub["[object Set]"]=ub["[object String]"]=ub["[object Symbol]"]=ub["[object Uint8Array]"]=ub["[object Uint8ClampedArray]"]=ub["[object Uint16Array]"]=ub["[object Uint32Array]"]=!0,ub["[object Error]"]=ub["[object Function]"]=ub["[object WeakMap]"]=!1;function hb(e){return cb(e,5)}function db(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new gv;++t<i;)this.add(e[t])}function pb(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}function fb(e,t){return e.has(t)}db.prototype.add=db.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},db.prototype.has=function(e){return this.__data__.has(e)};function mb(e,t,i,r,n,a){var o=1&i,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,h=!0,d=2&i?new db:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var p=e[c],f=t[c];if(r)var m=o?r(f,p,c,t,e,a):r(p,f,c,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!pb(t,(function(e,t){if(!fb(d,t)&&(p===e||n(p,e,i,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==f&&!n(p,f,i,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function yb(e){var t=-1,i=Array(e.size);return e.forEach((function(e,r){i[++t]=[r,e]})),i}function gb(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var vb=Ly?Ly.prototype:void 0,bb=vb?vb.valueOf:void 0;var xb=Object.prototype.hasOwnProperty;var Sb=Object.prototype.hasOwnProperty;function Pb(e,t,i,r,n,a){var o=qy(e),s=qy(t),l=o?"[object Array]":Jv(e),u=s?"[object Array]":Jv(t),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=l==u;if(d&&Ng(e)){if(!Ng(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Ov),o||Yg(e)?mb(e,t,i,r,n,a):function(e,t,i,r,n,a,o){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Zv(e),new Zv(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pg(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=yb;case"[object Set]":var l=1&r;if(s||(s=gb),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=mb(s(e),s(t),r,n,a,o);return o.delete(e),c;case"[object Symbol]":if(bb)return bb.call(e)==bb.call(t)}return!1}(e,t,l,i,r,n,a);if(!(1&i)){var p=c&&Sb.call(e,"__wrapped__"),f=h&&Sb.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,y=f?t.value():t;return a||(a=new Ov),n(m,y,i,r,a)}}return!!d&&(a||(a=new Ov),function(e,t,i,r,n,a){var o=1&i,s=Nv(e),l=s.length;if(l!=Nv(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:xb.call(t,c)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var f=e[c=s[u]],m=t[c];if(r)var y=o?r(m,f,c,t,e,a):r(f,m,c,e,t,a);if(!(void 0===y?f===m||n(f,m,i,r,a):y)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var g=e.constructor,v=t.constructor;g==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,i,r,n,a))}function _b(e,t,i,r,n){return e===t||(null==e||null==t||!Gy(e)&&!Gy(t)?e!=e&&t!=t:Pb(e,t,i,r,_b,n))}function Cb(e){return e==e&&!Jy(e)}function wb(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in Object(i)))}}function Ib(e){var t=function(e){for(var t=tv(e),i=t.length;i--;){var r=t[i],n=e[r];t[i]=[r,n,Cb(n)]}return t}(e);return 1==t.length&&t[0][2]?wb(t[0][0],t[0][1]):function(i){return i===e||function(e,t,i,r){var n=i.length,a=n,o=!r;if(null==e)return!a;for(e=Object(e);n--;){var s=i[n];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<a;){var l=(s=i[n])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var h=new Ov;if(r)var d=r(u,c,l,e,t,h);if(!(void 0===d?_b(c,u,3,r,h):d))return!1}}return!0}(i,e,t)}}function Ab(e,t){return null!=e&&t in Object(e)}function Tb(e,t){return null!=e&&function(e,t,i){for(var r=-1,n=(t=Pv(t,e)).length,a=!1;++r<n;){var o=_v(t[r]);if(!(a=null!=e&&i(e,o)))break;e=e[o]}return a||++r!=n?a:!!(n=null==e?0:e.length)&&Ag(n)&&xg(o,n)&&(qy(e)||Lg(e))}(e,t,Ab)}function Ob(e,t){return sv(e)&&Cb(t)?wb(_v(e),t):function(i){var r=function(e,t,i){var r=null==e?void 0:Cv(e,t);return void 0===r?i:r}(i,e);return void 0===r&&r===t?Tb(i,e):_b(t,r,3)}}function Db(e){return sv(e)?(t=_v(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Cv(t,e)}}(e);var t}function kb(e){return"function"==typeof e?e:null==e?Qy:"object"==typeof e?qy(e)?Ob(e[0],e[1]):Ib(e):Db(e)}var Fb,Eb=function(e,t,i){for(var r=-1,n=Object(e),a=i(e),o=a.length;o--;){var s=a[Fb?o:++r];if(!1===t(n[s],s,n))break}return e};var Mb=function(e,t){return function(i,r){if(null==i)return i;if(!Tg(i))return e(i,r);for(var n=i.length,a=t?n:-1,o=Object(i);(t?a--:++a<n)&&!1!==r(o[a],a,o););return i}}((function(e,t){return e&&Eb(e,t,tv)}));var jb=Object.prototype.hasOwnProperty;function Lb(e){if(null==e)return!0;if(Tg(e)&&(qy(e)||"string"==typeof e||"function"==typeof e.splice||Ng(e)||Yg(e)||Lg(e)))return!e.length;var t=Jv(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(kg(e))return!ev(e).length;for(var i in e)if(jb.call(e,i))return!1;return!0}function Rb(e,t){return _b(e,t)}function Vb(e,t){if(e!==t){var i=void 0!==e,r=null===e,n=e==e,a=Uy(e),o=void 0!==t,s=null===t,l=t==t,u=Uy(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!i&&l||!n)return 1;if(!r&&!a&&!u&&e<t||u&&i&&n&&!r&&!a||s&&i&&n||!o&&n||!l)return-1}return 0}function Bb(e,t,i){var r=-1;return t=$y(t.length?t:[Qy],zg(kb)),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(function(e,t){var i=-1,r=Tg(e)?Array(e.length):[];return Mb(e,(function(e,n,a){r[++i]=t(e,n,a)})),r}(e,(function(e,i,n){return{criteria:$y(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,i){for(var r=-1,n=e.criteria,a=t.criteria,o=n.length,s=i.length;++r<o;){var l=Vb(n[r],a[r]);if(l)return r>=s?l:l*("desc"==i[r]?-1:1)}return e.index-t.index}(e,t,i)}))}var Nb,Wb,zb=vg(function(e,t,i){return t=Ig(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=Ig(r.length-t,0),o=Array(a);++n<a;)o[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=i(o),mg(e,this,s)}}(Nb=function(e,t){if(null==e)return[];var i=t.length;return i>1&&Og(e,t[0],t[1])?t=[]:i>2&&Og(t[0],t[1],t[2])&&(t=[t[0]]),Bb(e,function e(t,i,r,n,a){var o=-1,s=t.length;for(r||(r=Av),a||(a=[]);++o<s;){var l=t[o];i>0&&r(l)?i>1?e(l,i-1,r,n,a):wv(a,l):n||(a[a.length]=l)}return a}(t,1),[])},Wb,Qy),Nb+"");function Hb(e,t){const i=new gn;return function(e,t){void 0!==t&&(void 0!==t.layout&&(e.layout=t.layout),void 0!==t.width&&(e.width=t.width),void 0!==t.height&&(e.height=t.height),void 0!==t.paddingTop&&(e.paddingTop=t.paddingTop),void 0!==t.paddingBottom&&(e.paddingBottom=t.paddingBottom))}(i,e),i.parent=t,i}function Gb(e,t){e.disabled=!0===t}const Ub={title:{marginBottom:8,wrap:!0},subtitle:{marginBottom:10,wrap:!0},legend:{marginTop:20,marginBottom:20},footer:{wrap:!0,horizontalCenter:ty,verticalCenter:ty,align:Jm},axisLabel:{rotation:0,marginTop:5,marginRight:10,align:Jm,horizontalCenter:ty,verticalCenter:ty,dy:0},rotatedAxisLabel:{rotation:-45,marginTop:5,marginRight:10,horizontalCenter:Xm,verticalCenter:ey,dy:-10},xAxisTitleLabel:{align:Jm,rotation:0,fontSize:10},yAxisTitleLabel:{valign:ty,rotation:270},titleLabel:{align:Jm},guideLabels:{horizontalCenter:ty,verticalCenter:ty,align:Jm},legendLabels:{marginLeft:5,marginRight:5,truncate:!0,applyOnClones:!0},legendMarkersScale:.6,headerContainer:{layout:"vertical",width:m(100),paddingBottom:15},footerContainer:{layout:"vertical",width:m(100),paddingTop:15,paddingBottom:15},dataLabelInitialize:{strokeWidth:0,applyOnClones:!0},dataLabelUpdate:{align:Jm,horizontalCenter:ty,valign:ey,verticalCenter:iy},scatterPlotSeries:{strokeOpacity:0,regressionPrecision:7},histogramSeries:{normalDistribNumberOfPoints:100},pieChart:{innerRadius:50,min:0,max:360},gauge:{innerRadius:50,min:-180,max:180},axisLabelPadding:1.5,categoryAxisLabelPadding:3,histogramAxisLabelPadding:3,axisLabelRotationHandlerPadding:1.05,histogramBinCount:32,seriesSort:Ty,color:[0,0,0,255],chartEllipsis:"...",backgroundColor:[255,255,255,255],legendMaxHeight:50,opacity:1,lineWidth:1,loaderRotationSpeed:400,loaderIntervalTimeout:400,loaderBackground:[255,255,255,230],loaderLabelFontSize:20,selectionSymbol:{type:ry,color:[0,255,255,255],width:5},tooltipPosition:"pointer",patternLineProperties:{width:5,height:5,strokeWidth:1},patternRectProperties:{rectWidth:9,rectHeight:9,width:10,height:10,strokeWidth:0,backgroundOpacity:5,fillOpacity:3},originalCategoryValue:"arcgis_charts_original_category_value",originalDateValue:"arcgis_charts_original_date_value",dateValueForQuery:"arcgis_charts_query_date",dateFormatUTC:{timeZone:"UTC",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},rtl:!1,uniqueValueRendererOtherValue:"arcgisChartsUniqueValueRendererOtherValue",scatterPlotAggregationFields:{dataContextXMinField:"xMin",dataContextXMaxField:"xMax",dataContextYMinField:"yMin",dataContextYMaxField:"yMax",dataContextCountDistinctX:"distinctX",dataContextCountDistinctY:"distinctY",queryCalculatedExpr:"EXPR_1",queryNumberOfFeatures:"numberOfFeatures",queryNumberOfAggregatedFeatures:"numberOfAggregatedFeatures"},tooltipWidth:300};function $b(e,t){e.dummyData=Object.assign(Object.assign({},e.dummyData),t)}function qb(e,t){var i;return null===(i=null==e?void 0:e.dummyData)||void 0===i?void 0:i[t]}function Yb(e,t){$b(e,t)}function Kb(e,t){return qb(e,t)}function Xb(e,t){$b(e,t)}function Jb(e,t){return qb(e,t)}function Qb(e,t){$b(e,t)}function Zb(e,t){return qb(e,t)}function ex(e,t){return qb(e,t)}function tx(e,t){$b(e,t)}function ix(e,t){!1===t&&!1===e.isHiding?(e.visible=!1,e.hide()):!1===e.isShowing&&(e.visible=!0,e.show())}function rx(e){let t=!1;return e.type!==yy&&e.type!==gy||(t=!0===e.rotated),t}function nx(e){const{forceDataUpdate:t,oldConfig:i,newConfig:r,options:n,chart:a}=e,{dataSource:o,series:s}=r,{series:l}=i,u=oc(s);let c=!1,h=!1,d=!1;const p={common:{queryChanged:!1,xOrYChanged:!1,filterChanged:!1,filterBySelectionChanged:!1,selectedDataChanged:!1},barChart:{numberOfSeriesChanged:!1,rotationChanged:!1},histogram:{dataPropsChanged:!1}};var f,m;p.common.queryChanged=function(e,t){let i=!1;return i=!1===Rb(zb(e.map(e=>e.query),["where","outStatistics[0].outStatisticFieldName","outStatistics[0].onStatisticField"]),zb(t.map(e=>e.query),["where","outStatistics[0].outStatisticFieldName","outStatistics[0].onStatisticField"])),i}(l,s),p.common.filterChanged=(f=i.dataSource,m=r.dataSource,(f.type===ky?f.filter:"")!==(m.type===ky?m.filter:"")),p.common.xOrYChanged=function(e,t){let i=!1;if(t[0].x!==e[0].x)i=!0;else{const r=oc(e);if(r===yy||r===py||r===fy){const r=Math.min(e.length,t.length);for(let n=0;n<r;n+=1)if(e[n].y!==t[n].y){i=!0;break}}}return i}(l,s),p.common.filterBySelectionChanged=function(e,t){return Kb(e,"filterBySelection")!==(null==t?void 0:t.filterBySelection)}(a,n),p.common.selectedDataChanged=function(e,t){return!0===(null==t?void 0:t.filterBySelection)&&!1===Rb(Kb(e,"selectedDataItems"),null==t?void 0:t.selectedDataItems)}(a,n);const{queryChanged:y,filterChanged:g,xOrYChanged:v,filterBySelectionChanged:b,selectedDataChanged:x}=p.common;switch(h=!0===y||!0===g||!0===v||!0===b||!0===x,u){case gy:p.histogram.dataPropsChanged=function(e,t){return e[0].binCount!==t[0].binCount}(l,s)||function(e,t){return e[0].dataTransformationType!==t[0].dataTransformationType}(l,s);break;case yy:p.barChart.numberOfSeriesChanged=function(e,t){return t.length!==e.length}(l,s),p.barChart.rotationChanged=function(e,t){return rx(e[0])!==rx(t[0])}(l,s)}return!0!==p.histogram.dataPropsChanged&&!0!==p.barChart.numberOfSeriesChanged&&!0!==p.barChart.rotationChanged||(d=!0),c=!0===t||o.type===Dy||!0===h||!0===d,{dataUpdateNeeded:c,updateNeededDetails:p}}function ax(e){const t=null!=e?e:[0,0,0,255];return new kt({a:t[3]/255,b:t[2],g:t[1],r:t[0]})}function ox(e){return e.bullets.values.find(e=>function(e,t){return qb(e,t)}(e,"isBulletMarker"))}function sx(e){void 0!==e&&(e.xAxes.each(e=>e.zoom({start:0,end:1})),e.yAxes.each(e=>e.zoom({start:0,end:1})))}function lx(e,t){let i,r,n=!0;switch(t){case qm:r=0;break;case Ym:r=90;break;case $m:r=45;break;case Hm:r=135;break;case Um:case Gm:r=0,n=!1}return void 0!==r&&(i=function(e){var t,i,r,n,a,o,s,l,u,c;const{fill:h,rotation:d,isLinePattern:p}=e;let f;return!1!==p?(f=new Ea,f.width=null!==(t=Ub.patternLineProperties.width)&&void 0!==t?t:NaN,f.height=null!==(i=Ub.patternLineProperties.height)&&void 0!==i?i:NaN,f.strokeWidth=null!==(r=Ub.patternLineProperties.strokeWidth)&&void 0!==r?r:NaN,f.stroke=h,f.rotation=null!=d?d:NaN):(f=new ja,f.rectWidth=null!==(n=Ub.patternRectProperties.rectWidth)&&void 0!==n?n:NaN,f.rectHeight=null!==(a=Ub.patternRectProperties.rectHeight)&&void 0!==a?a:NaN,f.width=null!==(o=Ub.patternRectProperties.width)&&void 0!==o?o:NaN,f.height=null!==(s=Ub.patternRectProperties.height)&&void 0!==s?s:NaN,f.backgroundOpacity=null!==(l=Ub.patternRectProperties.backgroundOpacity)&&void 0!==l?l:NaN,f.fillOpacity=null!==(u=Ub.patternRectProperties.fillOpacity)&&void 0!==u?u:NaN,f.strokeWidth=null!==(c=Ub.patternRectProperties.strokeWidth)&&void 0!==c?c:NaN,f.fill=ax(Ub.color),f.backgroundFill=h,f.rotation=null!=d?d:NaN),f}({fill:e,rotation:r,isLinePattern:n})),i}function ux(e){let t=new kt({r:0,g:0,b:0,a:0});if(null!=e){const[i,r,n,a]=e;t=new kt({r:i,g:r,b:n,a:a/255})}return t}function cx(e,t=0){return(null!=e?e:t)%360}function hx(e,t){const i=function(e){let t="";return void 0!==(null==e?void 0:e.style)&&(t=`font-style:${e.style};`),t}(null==e?void 0:e.font),r=!0===(null==e?void 0:e.kerning)?"letter-spacing:1px;":"";let n="";return void 0!==t?n=`[${i}${r}]${t}[/]`:void 0!==(null==e?void 0:e.text)&&(n=`[${i}${r}]${e.text}[/]`),n}function dx(e){var t,i,r;const n={stroke:ux(),strokeWidth:Ub.lineWidth,strokeDasharray:"",strokeLinecap:"square",strokeOpacity:Ub.opacity};return null!=e&&(n.stroke=ux(e.color),n.strokeOpacity=null!==(r=(null!==(i=null===(t=e.color)||void 0===t?void 0:t[3])&&void 0!==i?i:255)/255)&&void 0!==r?r:Ub.opacity,void 0!==e.width&&(n.strokeWidth=e.width),void 0!==e.style&&e.style!==jm&&(n.strokeDasharray=function(e,t){var i,r;const n=null!==(i=e)&&void 0!==i?i:Lm,a=null!=t?t:Ub.lineWidth,o={[Lm]:"none",[Mm]:[1,a],[Em]:[4*a,a,1,a,1,a],[km]:[4*a,3*a],[Fm]:[4*a,3*a,1,3*a],[jm]:"none"};return(null!==(r=o[n])&&void 0!==r?r:o[jm]).toString()}(e.style,n.strokeWidth),n.strokeLinecap=function(e){let t="square";switch(e){case Mm:case Em:case Fm:t="round"}return!0===(null==e?void 0:e.includes("dot"))&&(t="round"),t}(e.style))),n}function px(e,t){var i,r;let n=e;const[a,o,s,l]=null!==(r=null!==(i=null==e?void 0:e.color)&&void 0!==i?i:t)&&void 0!==r?r:Ub.color,u=[a,o,s,l];return null==n?n={type:ry,color:u}:void 0===n.color&&(n.color=u),dx(n)}function fx(e){const{color:t,outline:i,xoffset:r,yoffset:n,style:a,size:o,angle:s}=e,l=void 0!==a?function(e,t){let i="";const r=(null!=t?t:0)/2,n=0-r,a=0+r,o=0-r,s=0+r;switch(e){case Rm:i=`M ${n},0 a ${r},${r} 0 1,0 ${2*r},0 a ${r},${r} 0 1,0 ${2*-r},0`;break;case Vm:i=`M ${n},0 L ${a},0 M 0,${o} L 0,${s} E`;break;case Bm:i=`M ${n},0 L 0,${o} L ${a},0 L 0,${s} L ${n},0 Z`;break;case Nm:i=`M ${n},${s} L ${n},${o} L ${a},${o} L ${a},${s} L ${n},${s} Z`;break;case zm:i=`M ${n},${s} L 0,${o} L ${a},${s} L ${n},${s} Z`;break;case Wm:i=`M ${n},${s} L ${a},${o} M ${n},${o} L ${a},${s} E`}return i}(a,o):"",u=cx(s);return{path:l,fill:ux(t),outline:px(i,t),xOffset:null!=r?r:0,yOffSet:null!=n?n:0,angle:u}}function mx(e,t){var i,r,n,a,o,s,l,u,c,h,d,p,f,m,y;const g=function(e,t){let i=null!=t?t:ty;switch(e){case Xm:i=Km;break;case Km:i=Xm;break;case Jm:case Qm:i=ty}return i}(e.horizontalAlignment,null==t?void 0:t.horizontalCenter),v=function(e,t){let i=null!=t?t:"none";switch(e){case Qm:i=Jm;break;case Jm:case Km:case Xm:i=e}return i}(e.horizontalAlignment,null==t?void 0:t.align),b=function(e,t){let i=null!=t?t:ty;switch(e){case ey:i=iy;break;case iy:i=ey;break;case Zm:case ty:i=ty}return i}(e.verticalAlignment,null==t?void 0:t.verticalCenter),x=function(e,t){let i=null!=t?t:"none";switch(e){case Zm:i=ty;break;case ty:case ey:case iy:i=e}return i}(e.verticalAlignment,null==t?void 0:t.valign);return{fill:ux(e.color),fontFamily:null!==(r=null===(i=e.font)||void 0===i?void 0:i.family)&&void 0!==r?r:"Arial, Helvetica, sans-serif",fontSize:null!==(a=null===(n=e.font)||void 0===n?void 0:n.size)&&void 0!==a?a:10,fontWeight:null!==(s=null===(o=e.font)||void 0===o?void 0:o.weight)&&void 0!==s?s:"400",textDecoration:null!==(u=null===(l=e.font)||void 0===l?void 0:l.decoration)&&void 0!==u?u:"none",align:v,valign:x,verticalCenter:b,horizontalCenter:g,text:hx(e),angle:cx(e.angle,null==t?void 0:t.rotation),xOffset:null!==(h=null!==(c=e.xoffset)&&void 0!==c?c:null==t?void 0:t.dx)&&void 0!==h?h:0,yOffSet:null!==(p=null!==(d=e.yoffset)&&void 0!==d?d:null==t?void 0:t.dy)&&void 0!==p?p:0,backgroundFill:ux(e.backgroundColor),borderFill:ux(e.borderLineColor),borderWidth:null!==(f=e.borderLineSize)&&void 0!==f?f:1,haloSize:null!==(m=e.haloSize)&&void 0!==m?m:-1,haloColor:ux(e.haloColor),rtl:null!==(y=e.rightToLeft)&&void 0!==y?y:Ub.rtl}}function yx(e,t){void 0!==t&&(void 0!==t.marginBottom&&(e.marginBottom=t.marginBottom),void 0!==t.marginTop&&(e.marginTop=t.marginTop),void 0!==t.marginRight&&(e.marginRight=t.marginRight),void 0!==t.marginLeft&&(e.marginLeft=t.marginLeft),void 0!==t.verticalCenter&&(e.verticalCenter=t.verticalCenter),void 0!==t.horizontalCenter&&(e.horizontalCenter=t.horizontalCenter),void 0!==t.strokeWidth&&(e.strokeWidth=t.strokeWidth),void 0!==t.wrap&&(e.wrap=t.wrap),void 0!==t.truncate&&(e.truncate=t.truncate),void 0!==t.applyOnClones&&(e.applyOnClones=t.applyOnClones,e.background.applyOnClones=t.applyOnClones))}function gx(e,t){const i=new Dn;return i.disabled=!0,yx(i,e),i.parent=t,i}function vx(e,t,i){if(i.alpha>0&&t>=0){0===e.length&&function(e){const t=e.push(new la);t.dx=1,t.dy=1,t.opacity=1}(e);const r=e.getIndex(0);r.blur=t,r.color=i}else e.clear()}function bx(e,t,i){if(void 0!==t){const r=mx(t.content,i);e.fill=r.fill,e.fontFamily=r.fontFamily,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.textDecoration=r.textDecoration,e.align=r.align,e.valign=r.valign,e.verticalCenter=r.verticalCenter,e.horizontalCenter=r.horizontalCenter,e.text=r.text,e.background.fill=r.backgroundFill,e.background.stroke=r.borderFill,e.background.strokeWidth=r.borderWidth,e.rotation=r.angle,e.dx=r.xOffset,e.dy=r.yOffSet,e.rtl=r.rtl,vx(e.filters,r.haloSize,r.haloColor),ix(e,t.visible),e.disabled=e instanceof mp==!0?!1===t.visible:""===e.text||!1===t.visible}else e.disabled=!0}function xx(e,t){const{title:i,subTitle:r,headerContainer:n}=e;bx(i,null==t?void 0:t.title,Ub.titleLabel),bx(r,null==t?void 0:t.subTitle,Ub.titleLabel),Gb(n,i.disabled&&r.disabled)}function Sx(e,t){const{footer:i,footerContainer:r}=e;bx(i,t,Ub.footer),Gb(r,i.disabled||""===(null==t?void 0:t.content.text))}function Px(e){return e.bullets.values.find(e=>{var t;return null!==(t=qb(e,"isDataLabel"))&&void 0!==t&&t})}function _x(e){const t=gx(Ub.dataLabelInitialize);return function(e,t){$b(e,t)}(t,{isDataLabel:!0}),e.bullets.push(t),t}function Cx(e,t){const i=new Zr;return i.numberFormat=e,r=>("percent"===e.style&&(r/=100),hx(Object.assign(Object.assign({},t),{text:i.format(r)})))}function wx(e){var t,i;const{series:r,isRotated:n,isStacked100:a,dataLabelsConfig:o,yAxisValueFormat:s}=e,l=null!==(t=Px(r))&&void 0!==t?t:_x(r);if(void 0!==o&&(o.content.text=!0===n?"{valueX}":"{valueY}"),(null==s?void 0:s.type)===hy){const e=null!==(i=null==o?void 0:o.content)&&void 0!==i?i:{type:ay};if(void 0===Jb(r,"dataLabelNumberFormatCallback")){const t=0;Xb(r,{dataLabelNumberFormatCallback:Cx(s.intlOptions,e),isStacked100:a}),l.adapter.add("textOutput",(e,t)=>{var i,a;let o=e;const s=Jb(r,"dataLabelNumberFormatCallback"),l=Jb(r,"isStacked100");if(void 0!==t.dataItem){const e=t.dataItem;let r;r=!0===l?!0===n?e.values.valueX.totalPercent:e.values.valueY.totalPercent:!0===n?e.valueX:e.valueY;const u=!0===n?(null===(i=e.component)||void 0===i?void 0:i.xAxis).min:(null===(a=e.component)||void 0===a?void 0:a.yAxis).min;o=void 0!==u&&r<u?"":s(r)}return o},t)}Xb(r,{dataLabelNumberFormatCallback:Cx(s.intlOptions,e),isStacked100:a}),r.bulletsContainer.invalidateLabels()}bx(l,o,Ub.dataLabelUpdate)}const Ix={DataProcessComplete:"arcgisChartsJSDataProcessComplete",LegendItemVisibilityChange:"arcgisChartsJSLegendItemVisibilityChange",UpdateComplete:"arcgisChartsJSUpdateComplete",RenderingComplete:"arcgisChartsJSRenderingComplete",SelectionChange:"arcgisChartsJSSelectionChange",SeriesColorsChange:"arcgisChartsJSSeriesColorChange",AxesMinMaxChange:"arcgisChartsJSAxesMinMaxChange",AxisLabelSelectionComplete:"arcgisChartsJSAxisLabelSelectionComplete",SelectionComplete:"arcgisChartsJSSelectionComplete",BadDataWarningRaise:"arcgisChartsJSBadDataWarningRaise"};function Ax(e){return{detail:e,composed:!0,cancelable:!0,bubbles:!0}}function Tx(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.UpdateComplete,Ax(e)))}function Ox(e){void 0!==e&&e.dispatchEvent(new window.CustomEvent(Ix.RenderingComplete,Ax()))}function Dx(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.SelectionComplete,Ax(e)))}function kx(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.SeriesColorsChange,Ax(e)))}function Fx(e){const t=function(e){const t=new gn;return t.width=m(100),t.height=m(100),t.background.fill=ux(Ub.loaderBackground),t.parent=e,t}(e);!function(e){const t=new Dn;t.valign=ty,t.align=Jm,t.fontSize=Ub.loaderLabelFontSize,t.dy=40,t.text="",t.parent=e}(t);return{loaderPolygon:function(e){const t=new Jn;return t.parent=e,t.align=Jm,t.valign=ty,t.path="M2.2 16A13.81 13.81 0 0 1 14 2.362v1.01a12.8 12.8 0 1 0 4 0v-1.01A13.792 13.792 0 1 1 2.2 16z",t.stroke=Ft("#007ac2"),t.strokeWidth=2,t}(t),loaderContainer:t,closeLoaderButton:function(e){const t=new Fn;return t.parent=e,t.align="right",t.marginRight=4,t.icon=new mn,t.icon.path="M18.01 6.697L12.707 12l5.303 5.303-.707.707L12 12.707 6.697 18.01l-.707-.707L11.293 12 5.99 6.697l.707-.707L12 11.293l5.303-5.303z",t}(t)}}function Ex(e){let t,i,r,n;if(void 0!==e.preloader&&(e.preloader.disabled=!0),void 0!==e.tooltipContainer){const n=Fx(e.tooltipContainer);t=n.loaderContainer,i=n.loaderPolygon,r=n.closeLoaderButton}function a(){void 0!==n&&(window.clearInterval(n),n=void 0),void 0!==t&&ix(t,!1)}return a(),void 0!==r&&r.events.on("hit",()=>{a()}),{hideLoader:a,showLoader:function(){var e;void 0===n&&void 0!==i&&(e=i,n=window.setInterval(()=>{e.animate({from:0,to:360,property:"rotation"},Ub.loaderRotationSpeed)},Ub.loaderIntervalTimeout)),void 0!==t&&ix(t)}}}function Mx(e){return e.values.every(e=>e.isReady())}function jx(e,t){e.events.on("ready",()=>{var i;if(void 0!==e.chart&&!0===Mx(e.chart.series)){const r=null!==(i=e.chart.dummyData.t0)&&void 0!==i?i:0,n=Date.now();console.warn(`=> #4 Total time including rendering: ${n-r}ms`),t(),Ox(e.chart.htmlContainer)}})}const Lx="_esriFillColor",Rx="_esriFillOpacity",Vx="_esriFillStyle",Bx="_esriOutline",Nx="_esriOutlineWidth",Wx="_esriOutlineOpacity",zx="_esriOutlineStyle",Hx="_esriMarkerSize";function Gx(e){var t,i,r,n,a,o,s,l;const{y:u,keys:c}=e;let h="";return void 0!==u&&(h="_"+u),{fillColor:`${null!==(t=null==c?void 0:c.fillColor)&&void 0!==t?t:Lx}${h}`,fillOpacity:`${null!==(i=null==c?void 0:c.fillOpacity)&&void 0!==i?i:Rx}${h}`,fillStyle:`${null!==(r=null==c?void 0:c.fillStyle)&&void 0!==r?r:Vx}${h}`,outlineColor:`${null!==(n=null==c?void 0:c.outlineColor)&&void 0!==n?n:Bx}${h}`,outlineWidth:`${null!==(a=null==c?void 0:c.outlineWidth)&&void 0!==a?a:Nx}${h}`,outlineOpacity:`${null!==(o=null==c?void 0:c.outlineOpacity)&&void 0!==o?o:Wx}${h}`,outlineStyle:`${null!==(s=null==c?void 0:c.outlineStyle)&&void 0!==s?s:zx}${h}`,markerSize:`${null!==(l=null==c?void 0:c.markerSize)&&void 0!==l?l:Hx}${h}`}}function Ux(e){var t,i;const{configFillSymbol:r,rendererSymbolColor:n,colorIndex:a}=e;let[o,s,l,u]=Ub.color,[c,h,d,p]=[void 0,void 0,void 0,void 0];null!=n?([o,s,l,u]=n,[c,h,d]=n,u=178.5):void 0!==r.color?([o,s,l,u]=r.color,void 0!==(null===(t=r.outline)||void 0===t?void 0:t.color)&&([c,h,d,p]=r.outline.color)):([o,s,l,u]=rc(a),u*=.7,void 0!==(null===(i=r.outline)||void 0===i?void 0:i.color)&&([c,h,d,p]=r.outline.color));let f=r;return f=Object.assign(Object.assign({},f),{color:[o,s,l,u],outline:Object.assign(Object.assign({},f.outline),{type:ry,color:[null!=c?c:o,null!=h?h:s,null!=d?d:l,null!=p?p:255]})}),f}function $x(e,t){let i=new Map;if(void 0!==(null==t?void 0:t.renderer)){const r=t.renderer.type,n=oc(e);switch(r){case oy:i=function(e){const{flRenderer:t,series:i,seriesType:r}=e,n=new Map;if(r===yy||r===fy){const{rendererField:e}=cc(t),r=Cc(i);if(r===Yo){if(i[0].x===e){if(void 0!==t.defaultSymbol&&null!==t.defaultSymbol){const e=Ux({configFillSymbol:i[0].fillSymbol,rendererSymbolColor:void 0!==t.defaultSymbol.color?t.defaultSymbol.color.toRgba():void 0});n.set(Ub.uniqueValueRendererOtherValue,e)}t.uniqueValueInfos.forEach(e=>{var t;const r=Ux({configFillSymbol:i[0].fillSymbol,rendererSymbolColor:void 0!==(null===(t=e.symbol)||void 0===t?void 0:t.color)?e.symbol.color.toRgba():void 0});n.set(""+e.value,r)})}}else r===Xo&&i.forEach((i,r)=>{var a,o,s,l;const u=xc(null===(a=i.query)||void 0===a?void 0:a.where),c=Sc({where:null===(o=i.query)||void 0===o?void 0:o.where});if(u===e){const e=t.uniqueValueInfos.find(e=>e.value===c),a=null!==(s=null==e?void 0:e.symbol)&&void 0!==s?s:t.defaultSymbol;if(void 0!==a){const e=Ux({configFillSymbol:i.fillSymbol,rendererSymbolColor:null===(l=a.color)||void 0===l?void 0:l.toRgba(),colorIndex:r});n.set(i.id,e)}}})}return n}({flRenderer:t.renderer,series:e,seriesType:n});break;case sy:i=function(e){var t,i;const{flRenderer:r,series:n}=e,a=new Map;if(1===n.length){const e=n[0],o=Ux({configFillSymbol:e.fillSymbol,rendererSymbolColor:null===(i=null===(t=r.symbol)||void 0===t?void 0:t.color)||void 0===i?void 0:i.toRgba()});a.set(e.id,o)}return a}({flRenderer:t.renderer,series:e})}}return i}function qx(e,t){var i;return a(this,void 0,void 0,(function*(){let r;try{const n=yield t.getDisplayedSymbol(e);r=null===(i=null==n?void 0:n.color)||void 0===i?void 0:i.toJSON(),void 0!==r&&(r[3]=178.5)}catch(e){}return r}))}const Yx="hit",Kx="selectended",Xx="custom-active",Jx="default";function Qx(e,t){let i="";if(!0===Bt(e)){const r="number"!=typeof t?"'":"";i=`${e} = ${r}${t}${r}`}return i}function Zx(e,t){return!0===Bt(t)?t:e}function eS(e){const{series:t,callbackName:i,value:r}=e,n=Jb(t,i);return void 0!==n?n(r):r.toString()}function tS(e){const{value:t,dataContext:i,lookForQueryDate:r,xAxisValueFormat:n}=e;let a=t;const{originalCategoryValue:o,originalDateValue:s,dateValueForQuery:l}=Ub;return void 0!==i&&(!0===r&&l in i?a=i[l]:void 0!==n&&s in i?a=(new en).format(i[s],n.intlOptions):o in i&&(a=""+i[o])),a}function iS(e){var t,i,r,n,a,o;return null!==(o=null!==(n=null!==(i=null===(t=null==e?void 0:e.dataFields)||void 0===t?void 0:t.categoryX)&&void 0!==i?i:null===(r=null==e?void 0:e.dataFields)||void 0===r?void 0:r.dateX)&&void 0!==n?n:null===(a=null==e?void 0:e.dataFields)||void 0===a?void 0:a.valueX)&&void 0!==o?o:""}function rS(e){var t,i,r,n,a,o;return null!==(o=null!==(n=null!==(i=null===(t=null==e?void 0:e.dataFields)||void 0===t?void 0:t.categoryY)&&void 0!==i?i:null===(r=null==e?void 0:e.dataFields)||void 0===r?void 0:r.dateY)&&void 0!==n?n:null===(a=null==e?void 0:e.dataFields)||void 0===a?void 0:a.valueY)&&void 0!==o?o:""}function nS(e){return!0===Kb(e.chart,"isRotated")?rS(e):iS(e)}function aS(e){return!0===Kb(e.chart,"isRotated")?iS(e):rS(e)}function oS(e){return oc(Kb(e.chart,"config").series)}function sS(e){return a(this,void 0,void 0,(function*(){const{queryObject:t,dataContext:i,filter:r,uniqueFeature:n}=e;let a=i[tc.uniqueIdsName];return void 0!==t&&void 0===a&&(a=yield function(e){return qa(this,void 0,void 0,(function*(){const{queryObject:t,extent:i,filter:r,uniqueFeature:n}=e,a={where:r,extent:i};return yield Vc({queryObject:t,chartQuery:a,returnDistinctValues:!0,returnUniqueIdsOnly:!0,featureCount:!0===n?1:void 0})}))}({queryObject:t,filter:r,uniqueFeature:n})),a}))}function lS(e){var t;return a(this,void 0,void 0,(function*(){const{queryObject:i,element:r,yAxisField:n,xAxisField:a,splitBy:o}=e;let s={};if(void 0!==(null===(t=null==r?void 0:r.dataItem)||void 0===t?void 0:t.dataContext)){const t=r.dataItem.dataContext,l=tS({value:t[a],dataContext:t,lookForQueryDate:!0}),u=null!=n?n:"";if(s={[a]:l,[u]:t[u]},void 0!==i){const{queryFilter:n,uniqueFeature:c,chartType:h}=e,d=function(e){const{chartType:t,dataContext:i,xAxisField:r,yAxisField:n,xAxisValue:a}=e;let o="";if(t===py){const{dataContextXMinField:e,dataContextXMaxField:t,dataContextYMinField:s,dataContextYMaxField:l,queryCalculatedExpr:u}=Ub.scatterPlotAggregationFields;if(u in i){const{[e]:a,[t]:u}=i,c=r!==n?i[s]:a,h=r!==n?i[l]:u;if(!1===Number.isNaN(a)&&!1===Number.isNaN(u)&&!1===Number.isNaN(c)&&!1===Number.isNaN(h)){const e=[];a===u?e.push(`${r} = ${a}`):(e.push(`${r} >= ${a}`),e.push(`${r} < ${u}`)),c===h?e.push(`${n} = ${c}`):(e.push(`${n} >= ${c}`),e.push(`${n} < ${h}`)),o=Ac(e)}}else o=Ac([Pc(Qx(r,a)),Pc(Qx(n,i[n]))])}else o=Pc(Qx(r,a));return o}({chartType:h,dataContext:t,xAxisField:a,yAxisField:u,xAxisValue:l}),p=Ac([d,Pc(null!=n?n:""),Pc(null!=o?o:"")]),f=yield sS({queryObject:i,dataContext:t,filter:p,uniqueFeature:c});r.dataItem.dataContext=Object.assign(Object.assign({},t),{[tc.uniqueIdsName]:f}),s=Object.assign(Object.assign({},s),{[tc.uniqueIdsName]:f})}Bt(o)&&(s=Object.assign(Object.assign({},s),{[xc(o)]:Sc({where:o,escapeSQL:!1})}))}return s}))}function uS(e,t){var i;!function(e,t){e.properties.stroke=ax(t.color),e.properties.strokeWidth=t.width}(null!==(i=e.states.getKey(Xx))&&void 0!==i?i:e.states.create(Xx),null!=t?t:Ub.selectionSymbol)}function cS(e,t){return e.values.filter(e=>{const i=!0===e.visible&&!1===e.isHidden&&!1===e.isHiding,r=!1===e.isActive&&!0===i;if(!0===i){e.isActive=!0!==e.isActive;!0!==Kb(t,"filterBySelection")&&!0===r?e.setState(Xx):e.setState(Jx)}return r})}function hS(e){const{element:t,selected:i,multiSelect:r}=e;let n=t.isActive;return n=!0!==r?i:t.isActive!==i,n!==t.isActive&&(t.isActive=n),t.setState(!0===t.isActive?Xx:Jx),t.isActive}function dS(e){const{element:t,cursorSelectionRectangle:i,multiSelect:r}=e;return hS({element:t,selected:!0===function(e,t){let i=!1;if(void 0!==t){const r=di(e.bbox,e),n=t.x,a=t.y,o=t.x+t.width,s=t.y+t.height,l=r.x,u=r.y,c=r.x+r.width,h=r.y+r.height;i=!1==(l>o||c<n||u>s||h<a)}return i}(t,i),multiSelect:r})}function pS(e){let t=[];if(void 0!==e){const i=(e,t)=>void 0!==t[tc.uniqueIdsName]?e.concat(t[tc.uniqueIdsName]):e;t=e.reduce(i,[]);const r=new Set(t);t=Array.from(r).sort((e,t)=>e-t)}return t}function fS(e,t){let i;return i=e instanceof Ip?!0===t?"dateY":"dateX":!0===t?"categoryY":"categoryX",i}function mS(e,t){e.name=t,Xb(e,{name:t})}function yS(e){var t,i;return a(this,void 0,void 0,(function*(){const{queryObject:r,element:n,xAxisField:a,queryFilter:o,dataTransformationType:s}=e,l=null===(t=null==n?void 0:n.dataItem)||void 0===t?void 0:t.dataContext,u=void 0===o?"":Pc(o),c=function(e,t){let i=e;switch(t){case by:i=`log(${e})`;break;case xy:i=`power(CAST(${e} AS FLOAT),0.5)`}return i}(a,s),h=Ac([`${c} >= ${l.minValue}`,`${c} <= ${l.maxValue}`,u]),d=yield sS({queryObject:r,dataContext:l,filter:h});void 0!==(null===(i=null==n?void 0:n.dataItem)||void 0===i?void 0:i.dataContext)&&(n.dataItem.dataContext=Object.assign(Object.assign({},l),{[tc.uniqueIdsName]:d}));return Object.assign(Object.assign({},l),{xAxisField:a,[tc.uniqueIdsName]:d})}))}function gS(e,t,i){return a(this,void 0,void 0,(function*(){return(yield Promise.all(e.map(e=>a(this,void 0,void 0,(function*(){return yield function(e){var t,i;return a(this,void 0,void 0,(function*(){const{series:r,currentSeriesId:n,visibleSeries:a}=e;let o=[];const s=r.id===n,l=[];if(!1===s&&!0===r.visible||!0===s&&!0===a){const e=nS(r),n=aS(r),a=null!==(i=null===(t=null==r?void 0:r.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==i?i:"",o=Kb(r.chart,"config"),s=o.dataSource,u=Kb(r.chart,"queryObject"),c=null==s?void 0:s.filter,h={queryObject:u,element:{},yAxisField:n,xAxisField:e,splitBy:a,queryFilter:c},d=oS(r);void 0!==r.columns&&r.columns.each(e=>{h.element=e,!0===e.isActive&&(d===gy?(h.xAxisField=a,h.dataTransformationType=o.series[0].dataTransformationType,l.push(yS(h))):l.push(lS(h)),e.setState(Xx))})}return o=yield Promise.all(l),o}))}({series:e,currentSeriesId:t,visibleSeries:i})}))))).flat()}))}function vS(e){var t;const{currentSymbol:i,dataKeys:r,dataItem:n,dataIndex:a}=e;let o=Object.assign({},i);if(void 0===o.color&&(o.color=rc(a)),o=function(e){const{dataKeys:t,dataItem:i,currentSymbol:r}=e,n=Object.assign({},r),a=t.fillColor;if(void 0!==a){const e=i[a];if(null!=e)if(Array.isArray(e)){if(e.length>=3){const[t,i,r]=e,a=4===e.length?e[3]:255;n.color=[t,i,r,a]}}else{const t=Ft(e).rgb;if(void 0!==t){const{r:e,g:i,b:r,a:a}=t;n.color=[e,i,r,255*(null!=a?a:1)]}}}const o=t.fillOpacity;if(void 0!==o){const e=i[o];"number"==typeof e&&void 0!==(null==n?void 0:n.color)&&(n.color[3]=e)}return n}({dataKeys:r,dataItem:n,currentSymbol:o}),o.outline=function(e){const{dataKeys:t,dataItem:i,outline:r}=e,n=Object.assign({},r);if(void 0!==t.outlineColor){const e=i[t.outlineColor];if(void 0!==e){const t=Ft(e).rgb;if(void 0!==t){const{r:e,g:i,b:r,a:a}=t;n.color=[e,i,r,255*(null!=a?a:1)]}}}if(void 0!==t.outlineWidth){const e=i[t.outlineWidth];"number"==typeof e&&(n.width=e)}if(void 0!==t.outlineOpacity){const e=i[t.outlineOpacity];"number"==typeof e&&void 0!==n.color&&(n.color[3]=e)}return n}({dataKeys:r,dataItem:n,outline:null!==(t=o.outline)&&void 0!==t?t:nc()}),void 0!==r.markerSize){const e=n[r.markerSize];"number"==typeof e&&(o.size=e)}return o}function bS(e,t,i){e.fill=null!=i?i:t,void 0!==i&&void 0!==e.tooltip&&(e.tooltip.getFillFromObject=!1,e.tooltip.background.fill=t),e.fillOpacity=t.alpha}function xS(e,t){e.stroke=t.stroke,e.strokeDasharray=t.strokeDasharray,e.strokeLinecap=t.strokeLinecap,e.strokeOpacity=t.strokeOpacity,e.strokeWidth=t.strokeWidth}function SS(e){const{element:t,lineSymbol:i,visible:r}=e;if(void 0!==i){xS(t,dx(i)),ix(t,r)}else ix(t,!1)}function PS(e){const{element:t,fillSymbol:i,visible:r}=e;if(void 0!==i){const e=function(e){const{color:t,outline:i,style:r}=e,n=ux(t);return{pattern:lx(n,r),fill:n,outline:px(i,t)}}(i);bS(t,e.fill,e.pattern),xS(t,e.outline),ix(t,r),t.disabled=!1===r}else t.disabled=!0;ix(t,r)}function _S(e){var t,i,r;const{element:n,seriesConfig:a,y:o,dataIndex:s,seriesIndex:l,dataSource:u,rendererStylingInfo:c,rendererInfo:h,rendererElementColor:d,queryType:p}=e,{rendererType:f,rendererField:m}=null!=h?h:{},y=oc([a]);let g=y===py?Object.assign({},a.markerSymbol):Object.assign({},a.fillSymbol),v=Object.assign({},g);if(a.colorType===Sy)if(u.type===ky){if(void 0!==d)g.color=d;else if(void 0!==c&&(y===yy||y===gy||y===fy))switch(f){case oy:case sy:void 0!==p&&p!==Yo||void 0===m?(g=function(e){const{seriesId:t,currentSymbol:i,rendererStylingInfo:r}=e,n=r.get(t);return void 0!==n?n:Object.assign({},i)}({seriesId:a.id,currentSymbol:g,rendererStylingInfo:c}),v=Object.assign({},g)):g=function(e){var t,i,r,n;const{element:a,currentSymbol:o,rendererStylingInfo:s,rendererField:l}=e;let u=Object.assign({},o);if(void 0!==(null===(t=a.dataItem)||void 0===t?void 0:t.dataContext)){const e=null===(r=null===(i=a.dataItem)||void 0===i?void 0:i.dataContext)||void 0===r?void 0:r[l];if("number"==typeof e||"string"==typeof e){const t=null!==(n=s.get(""+e))&&void 0!==n?n:s.get(Ub.uniqueValueRendererOtherValue);u=Object.assign(Object.assign({},u),t)}}return u}({element:n,currentSymbol:g,rendererStylingInfo:c,rendererField:m})}}else{const{configFields:e}=u;let a;a=y===gy?null===(i=null===(t=n.dataItem)||void 0===t?void 0:t.dataContext)||void 0===i?void 0:i.symbol:null===(r=n.dataItem)||void 0===r?void 0:r.dataContext,g=function(e){const{configFields:t,dataItem:i,currentSymbol:r,y:n,dataIndex:a}=e;let o=Object.assign({},r);if(void 0!==t&&void 0!==i){o=vS({currentSymbol:r,dataKeys:Gx({y:n,keys:t}),dataItem:i,dataIndex:a})}return o}({y:o,configFields:e,dataItem:a,dataIndex:s,currentSymbol:g})}if(void 0===g.color){const e=rc(l,Ub.opacity);g.color=e,v.color=e}return{symbol:g,legendSymbol:v}}function CS(e){const{element:t}=e,{symbol:i,legendSymbol:r}=_S(e);return PS({element:t,fillSymbol:i}),{legendSymbol:null!=r?r:i,fillSymbol:i}}function wS(e){var t,i;const{legendElements:{legend:r,legendTitle:n},firstSeries:a}=e,o=rx(a),s=sc(a),l=s===Iy||s===Ay;let u=!1;const c=r.baseSprite;if(c instanceof jp){const e=!0===o?c.yAxes.getIndex(0):c.xAxes.getIndex(0);u=null!==(i=null===(t=null==e?void 0:e.renderer)||void 0===t?void 0:t.inversed)&&void 0!==i&&i,u=!0===o?!0!==u:u}r.reverseOrder=!0===l&&!1===o,!0===u&&!1===l&&(r.reverseOrder=!0!==r.reverseOrder),!0===(null==c?void 0:c.rtl)&&(r.reverseOrder=!r.reverseOrder,r.itemContainers.template.reverseOrder=!0);const h=!0===r.reverseOrder?r.children.length-1:0;r.children.moveValue(n,h)}function IS(e,t){e.markers.each((e,i)=>{const r=t.get(i);void 0!==r&&PS({element:e,fillSymbol:r})})}function AS(e){const t=new rp;e.legend=t,t.scrollable=!0;const i=gx(void 0,t);return t.labels.template=gx(Ub.legendLabels),t.valueLabels.template=gx(Ub.legendLabels),t.markers.template.scale=Ub.legendMarkersScale,t.labels.template.truncate=!1,t.itemContainers.template.events.on("hit",t=>a(this,void 0,void 0,(function*(){const i=t.target.dataItem;let r,n;void 0!==(null==i?void 0:i.dataContext)&&(!0===Jb(i.dataContext,"isOverlay")?n=Jb(i.dataContext,"type"):r=i.dataContext.id);let a={visible:t.target.isActive,seriesId:r,overlayType:n};if(e.series.getIndex(0)instanceof Of){const i=yield gS(e.series.values,r,t.target.isActive);void 0!==i&&(a=Object.assign(Object.assign({},a),{selectedColumns:i}),e.series.each(e=>{e.columns.each(e=>{!0===e.isActive&&e.setState(Xx)})}))}!function(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.LegendItemVisibilityChange,Ax(e)))}(a,e.htmlContainer)}))),{legend:t,legendTitle:i}}function TS(e){const{legendElements:{legend:t,legendTitle:i},firstSeries:r,webChartLegend:n}=e,a=t.baseSprite,o=!0===function(e,t){var i;let r=0,n=0,a=!1;const o=null!==(i=(null==e?void 0:e.values[0])instanceof af)&&void 0!==i&&i;return void 0!==e&&(r=e.values.filter(e=>!0===Jb(e,"isOverlay")).length,n=e.values.length-r),a=!0===o?n>0&&void 0!==t&&t>1:n>1||r>0,a}(a.series,a.data.length)&&!1!==(null==n?void 0:n.visible),s=oc([r]);if(s===yy&&function(e){e.useDefaultMarker=!0,void 0===ex(e,"adapterCallback")&&tx(e,{adapterCallback:()=>{}});const t=ex(e,"adapterCallback"),i=e.markers.template.children.getIndex(0);if(void 0!==i){["fill","stroke","strokeWidth","strokeDasharray","strokeLinecap","strokeOpacity"].forEach(e=>{!1===i.adapter.has(e,t)&&i.adapter.add(e,t)})}}(t),void 0!==n&&!0===o){const{visible:a,body:o,position:l,maxHeight:u,title:c}=n;if(ix(t,!0),void 0!==c){const e=Object.assign({},c);e.visible=!1!==a&&!1!==(null==c?void 0:c.visible),bx(i,e)}const h={type:ly,visible:a,content:Object.assign(Object.assign({},o),{text:"{dummyData.name}"})};if(bx(t.labels.template,h),s===fy){const e={type:ly,visible:a,content:Object.assign(Object.assign({},o),{text:"{value}"})};bx(t.valueLabels.template,e)}t.labels.template.valign=ty,t.valueLabels.template.valign=ty,t.invalidateLabels(),l===_y||l===Cy?(t.maxHeight=null!=u?u:Ub.legendMaxHeight,i.dy=-10,i.adapter.add("x",()=>t.measuredWidth/2),t.contentAlign=Jm):(t.maxHeight=NaN,i.dy=0,i.adapter.remove("x"),t.contentAlign="none"),!0===t.markers.template.events.has("inited")&&wS({legendElements:e.legendElements,firstSeries:r}),t.markers.template.events.on("inited",i=>{0===t.markers.indexOf(i.target)&&wS({legendElements:e.legendElements,firstSeries:r})}),t.position=l,t.maxWidth=Number.MAX_SAFE_INTEGER,"right"!==l&&"left"!==l||(t.width=NaN),function(e,t=Ub.legend){void 0!==t.marginTop&&"bottom"===e.position?(e.marginTop=t.marginTop,e.marginBottom=0):void 0!==t.marginBottom&&"top"===e.position?(e.marginBottom=t.marginBottom,e.marginTop=0):(e.marginTop=0,e.marginBottom=0)}(t)}else t.position=Py,t.width=0,ix(t,!1)}function OS(e){return e.intlOptions}function DS(e,t){let i=e.toString();return"number"==typeof e&&t.type===hy?i=(new Zr).format(e,OS(t)):e instanceof Date&&t.type===dy&&(i=(new en).format(e,OS(t))),i}function kS(e){return e.type===hy}function FS(e){return e.type===cy}function ES(e){return e.type===dy}function MS(e,t){const i=new Zr;return i.numberFormat=e,r=>{let n=Number.parseFloat(r);return!0===t&&"percent"===e.style&&(n/=100),i.format(n)}}function jS(e,t,i){const r=e.renderer.labels.template,n=OS(t);if(void 0===Zb(e,"numberFormatCallback")){const t=0;Qb(e,{numberFormatCallback:MS(n,i)}),r.adapter.add("textOutput",t=>Zb(e,"numberFormatCallback")(t),t)}Qb(e,{numberFormatCallback:MS(n,i)}),e.invalidateLabels()}function LS(e){let t=e=>e;if(null!=e){const i=Ub.chartEllipsis;t=t=>{const r=$t(t,e,"");return r.length<t.length?`${r}${i}`:r}}return t}function RS(e,t){var i;const r=null!==(i=Kb(e.chart,"isNonAggregatedChart"))&&void 0!==i&&i,n=!1===r&&ES(t)&&e instanceof Ip,a=kS(t)&&e instanceof _p&&e instanceof Ip==!1,o=(FS(t)||!0===r)&&e instanceof Dp;return!1===n&&!1===a&&!1===o}function VS(e){var t,i,r,n,a,o,s,l,u,c,h,d,p,f;const{columnSeries:m,isRotated:y,xAxisValueFormat:g,queryType:v,seriesConfig:b,axes:x,fieldList:S,commonStrings:P}=e,_=void 0!==S?gc(S):tc.outStatistics.onStatisticField,C=void 0!==S?yc(S):void 0,w=Zx(null!==(i=null===(t=null==C?void 0:C.get(b.x))||void 0===t?void 0:t.alias)&&void 0!==i?i:b.x,null===(n=null===(r=x[0].title)||void 0===r?void 0:r.content)||void 0===n?void 0:n.text),I=null!==(s=null===(o=null===(a=b.query)||void 0===a?void 0:a.outStatistics)||void 0===o?void 0:o[0].onStatisticField)&&void 0!==s?s:_,A=null!==(u=null===(l=null==C?void 0:C.get(I))||void 0===l?void 0:l.alias)&&void 0!==u?u:I,T=null!==(d=null===(h=null===(c=b.query)||void 0===c?void 0:c.outStatistics)||void 0===h?void 0:h[0].statisticType)&&void 0!==d?d:Fy.statisticType,O=function(e,t){let i;switch(e){case wm:i=t.statistics.mean;break;case Tm:i=t.statistics.median;break;case Pm:i=t.statistics.sum;break;case _m:i=t.statistics.minimum;break;case Cm:i=t.statistics.maximum;break;case Am:i=t.statistics.variance;break;case Om:i=t.statistics.discretePercentitle;break;case Dm:i=t.statistics.noAggregation;break;case Sm:default:i=t.statistics.count}return i}(T,P),D=T===Sm&&I===_?P.statistics.count:Qu(P.statistics.aggregation,{statistics:O,fieldName:A}),k=Zx(D,null===(f=null===(p=x[1].title)||void 0===p?void 0:p.content)||void 0===f?void 0:f.text),F=void 0!==g&&ES(g);return(e,t)=>{var i,r,n,a,o,s,l,u,c,h;let d=!0===y?"{valueX}":"{valueY}",p=!0===y?"{categoryY}":"{categoryX}";const f=t.dataItem,x=sc(b)===Ay;if(void 0!==f){if(!0===x){const e={type:so,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:3}};d=DS(!0===y?f.valueX:f.valueY,e)}else d=eS({series:m,callbackName:"tooltipValueYNumberFormatCallback",value:!0===y?f.valueX:f.valueY});!0===F&&(p=eS({series:m,callbackName:"dateFormatCallback",value:!0===y?f.dateY:f.dateX}))}let S=`[bold]${w}:[/] ${p}`;switch(v){case Yo:S=`${S}\n[bold]${k}:[/] ${d}`;break;case Xo:{const e=xc(null===(i=b.query)||void 0===i?void 0:i.where,!1);S=`${S}\n[bold]${null!==(n=null===(r=null==C?void 0:C.get(e))||void 0===r?void 0:r.alias)&&void 0!==n?n:lc({value:e})}:[/] ${Sc({where:null===(a=b.query)||void 0===a?void 0:a.where,normalize:!0,escapeSQL:!1})}\n[bold]${D}:[/] ${d}`;break}case Jo:S=`${S}\n[bold]${D}:[/] ${d}`;break;case Ko:{const e=null!==(s=null===(o=null==C?void 0:C.get(b.y))||void 0===o?void 0:o.alias)&&void 0!==s?s:b.y,t=!0===F&&(null==g?void 0:g.type)===dy?(new en).format(null===(l=null==f?void 0:f.dataContext)||void 0===l?void 0:l[Ub.originalDateValue],OS(g)):null===(u=null==f?void 0:f.dataContext)||void 0===u?void 0:u[Ub.originalCategoryValue],i=null!==(h=null!=t?t:null===(c=null==f?void 0:f.dataContext)||void 0===c?void 0:c[b.x])&&void 0!==h?h:"";S=`[bold]${w}:[/] ${i}\n[bold]${e}:[/] ${d}`;break}}if(!0===x){const e=!0===y?"{valueX.totalPercent.formatNumber('#.00')}%":"{valueY.totalPercent.formatNumber('#.00')}%";S=`${S}\n[bold]${P.statistics.percent}:[/] ${e}`}return S}}function BS(e){const{currentSeriesConfig:t,queryType:i,currentColumn:r,isRotated:n,xAxisValueFormat:a,axes:o,fieldList:s,commonStrings:l}=e;void 0===Jb(r,"tooltipTextCallback")&&(Xb(r,{tooltipTextCallback:VS({axes:o,seriesConfig:t,columnSeries:r,isRotated:n,xAxisValueFormat:a,queryType:i,fieldList:s,commonStrings:l})}),r.columns.template.adapter.add("tooltipText",(e,t)=>Jb(r,"tooltipTextCallback")(e,t))),Xb(r,{tooltipTextCallback:VS({axes:o,seriesConfig:t,columnSeries:r,isRotated:n,xAxisValueFormat:a,queryType:i,fieldList:s,commonStrings:l})})}const NS="selectXY",WS="selectX",zS="selectY",HS="zoomXY",GS="zoomX",US="zoomY";function $S(e){return void 0===e.cursor&&(e.cursor=new vm),e.cursor}function qS(e){$S(e).behavior=NS}function YS(e){const t=Kb(e,"config"),i=oc(null==t?void 0:t.series);!function(e){const{cursor:t,chartType:i,isRotated:r}=e;t.behavior=i===py?HS:!0===r?US:GS}({cursor:$S(e),chartType:i,isRotated:Kb(e,"isRotated")})}function KS(e,t){const i=Kb(e,"config"),r=void 0!==i&&oc(i.series)===py;if(e instanceof jp&&void 0!==e.cursor&&!1===r){const{behavior:i}=e.cursor;switch(i){case GS:case US:e.cursor.behavior=!0===t?US:GS;break;case WS:case zS:default:e.cursor.behavior=NS}}}function XS(e){return a(this,void 0,void 0,(function*(){const{chart:t,cursorSelectionRectangle:i,multiSelect:r}=e,n=[],a=Kb(t,"config"),o=a.dataSource,s=Kb(t,"queryObject"),l=null==o?void 0:o.filter;t.series.each(e=>{var t,o,u;if(!0===e.visible){const c=nS(e),h=aS(e),d=null!==(o=null===(t=e.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==o?o:"",p=oS(e),f={queryObject:s,element:{},yAxisField:h,xAxisField:c,splitBy:d,queryFilter:l,chartType:p};if(e instanceof Of&&void 0!==e.columns)e.columns.each(e=>{!0===dS({element:e,cursorSelectionRectangle:i,multiSelect:r})&&(f.element=e,p===gy?(f.xAxisField=d,f.dataTransformationType=a.series[0].dataTransformationType,n.push(yS(f))):n.push(lS(f)))});else if(e instanceof Np&&!0!==Jb(e,"isOverlay")){const t=null===(u=ox(e))||void 0===u?void 0:u.clones;f.uniqueFeature=!0,t.each(e=>{f.element=e,!1===e.isHidden&&!0===dS({element:e,cursorSelectionRectangle:i,multiSelect:r})&&n.push(lS(f))})}}});const u=yield Promise.all(n);Yb(t,{selectedDataItems:u}),Dx(u,t.htmlContainer)}))}function JS(e){return a(this,void 0,void 0,(function*(){const{chart:t,axis:i,isDate:r,xAxisField:n,selectedXAxisValue:a,selectedStartDate:o,selectedEndDate:s,queryFilter:l,queryObject:u}=e,c=[];let h=[];i.series.each(e=>{var t,h;const d=aS(e),p=null!==(h=null===(t=null==e?void 0:e.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==h?h:"";!0===e.visible&&e.columns.each(e=>{if(!0===function(e){var t;const{axis:i,isDate:r,columnDataItem:n,xAxisField:a,selectedXAxisValue:o,selectedStartDate:s,selectedEndDate:l}=e;let u=!1;if(!0===r){if(void 0!==s&&void 0!==l){const e=fS(i,Kb(i.chart,"isRotated")),r=null===(t=null==n?void 0:n.dates)||void 0===t?void 0:t[e];u=null!=r&&s<=r&&r<=l}}else{const e=null==n?void 0:n.dataContext;u=tS({value:e[a],dataContext:e,lookForQueryDate:!0})===o}return u}({axis:i,columnDataItem:e.dataItem,isDate:r,xAxisField:n,selectedXAxisValue:a,selectedStartDate:o,selectedEndDate:s})){e.isActive=!0,e.setState(Xx);const t=lS({queryObject:u,element:e,yAxisField:d,xAxisField:n,splitBy:p,queryFilter:l});void 0!==t&&c.push(t)}else e.isActive=!1,e.setState(Jx)})}),h=yield Promise.all(c),function(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.AxisLabelSelectionComplete,Ax(e)))}(h,null==t?void 0:t.htmlContainer)}))}function QS(e){var t;const{axis:i}=e,r=i.chart,n=Kb(r,"config"),a=Kb(r,"queryObject"),o=null==n?void 0:n.dataSource;return{axis:i,chart:r,queryObject:a,queryFilter:null!==(t=null==o?void 0:o.filter)&&void 0!==t?t:""}}function ZS(e,t,i){!1!==i&&e.labels.template.events.on(Yx,e=>a(this,void 0,void 0,(function*(){var i;const r=Kb(t,"config"),n=Kb(t,"isNonAggregatedChart");return!0===(void 0!==(null===(i=null==r?void 0:r.axes)||void 0===i?void 0:i[0])&&(ES(r.axes[0].valueFormat)&&!0!==n))?function(e){var t,i,r;return a(this,void 0,void 0,(function*(){const n=e.target,{axis:a,chart:o,queryObject:s,queryFilter:l}=QS(n),{date:u,endDate:c}=null===(t=n.dataItem)||void 0===t?void 0:t.dates,h=fS(a,Kb(o,"isRotated")),d=null!==(r=null===(i=a.series.getIndex(0))||void 0===i?void 0:i.dataFields[h])&&void 0!==r?r:"";yield JS({chart:o,axis:a,isDate:!0,xAxisField:d,selectedStartDate:u,selectedEndDate:c,queryFilter:l,queryObject:s})}))}(e):function(e){var t;return a(this,void 0,void 0,(function*(){const i=e.target,{axis:r,chart:n,queryObject:a,queryFilter:o}=QS(i),s=(null==r?void 0:r.dataFields).category,l=null===(t=i.dataItem)||void 0===t?void 0:t.dataContext,u=tS({value:l[s],dataContext:l,lookForQueryDate:!0});yield JS({chart:n,axis:r,isDate:!1,xAxisField:s,selectedXAxisValue:u,queryFilter:o,queryObject:a})}))}(e)})))}function eP(e){var t;return a(this,void 0,void 0,(function*(){const i=(yield Promise.all(e.values.map(e=>a(this,void 0,void 0,(function*(){let t=[];switch(!0){case e instanceof Of:!0===e.visible&&(t=yield function(e){var t,i;return a(this,void 0,void 0,(function*(){const{columns:r}=e,{chart:n}=e,o=Kb(n,"config"),{dataSource:s}=o,l=(null==s?void 0:s.type)===ky?s.filter:void 0,u=nS(e),c=aS(e),h=Kb(n,"queryObject"),d=null!==(i=null===(t=null==e?void 0:e.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==i?i:"",p={queryObject:h,element:{},yAxisField:c,xAxisField:u,splitBy:d,queryFilter:l};let f=[];const m=oS(e);if(void 0!==r&&!0===e.visible){const e=cS(r,n);f=yield Promise.all(e.map(e=>a(this,void 0,void 0,(function*(){let t;return p.element=e,m===gy?(p.xAxisField=d,p.dataTransformationType=o.series[0].dataTransformationType,t=yield yS(p)):t=yield lS(p),t}))))}return f}))}(e));break;case e instanceof Np:!0===e.visible&&!0!==Jb(e,"isOverlay")&&(t=yield function(e){var t,i,r;return a(this,void 0,void 0,(function*(){let n=[];if(!0===e.visible){const o=null===(t=ox(e))||void 0===t?void 0:t.clones;if(void 0!==o){const{chart:t}=e,s=Kb(t,"dataSource"),l=(null==s?void 0:s.type)===ky?s.filter:void 0,u=nS(e),c=aS(e),h={queryObject:Kb(t,"queryObject"),element:{},yAxisField:c,xAxisField:u,splitBy:null!==(r=null===(i=null==e?void 0:e.dataFields)||void 0===i?void 0:i.customValue)&&void 0!==r?r:"",queryFilter:l,uniqueFeature:!0,chartType:oS(e)},d=cS(o,t);n=yield Promise.all(d.map(e=>a(this,void 0,void 0,(function*(){h.element=e;return yield lS(h)}))))}}return n}))}(e))}return t}))))).flat(),r=null===(t=e.getIndex(0))||void 0===t?void 0:t.chart;void 0!==r&&(Yb(r,{selectedDataItems:i}),Dx(i,null==r?void 0:r.htmlContainer))}))}function tP(e){return a(this,void 0,void 0,(function*(){const{selectedData:t,selectedUniqueIds:i,elementSelectionProps:r,needToFetchOIDsForSelection:n}=e,{element:a,chartType:o,queryObject:s}=r;let l={};!0!==n&&void 0!==s||(l=o===gy?yield yS(r):yield lS(r));const u=l[tc.uniqueIdsName],c="number"==typeof u?[u]:null!=u?u:[];let h=a.isActive;!0===n&&(h=i.some(e=>c.includes(e)),!1===h&&0===i.length&&void 0!==t&&(h=void 0!==t.find(e=>{const t=Object.keys(e);return t.filter(t=>e[t]===l[t]).length===t.length}))),hS({element:a,selected:!0===h})}))}function iP(e,t){var i,r,n;void 0!==(null===(n=null===(r=null===(i=null==e?void 0:e.renderer)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.template)||void 0===n?void 0:n.events)&&(!0===t?e.renderer.labels.template.events.disableType(Yx):e.renderer.labels.template.events.enableType(Yx))}function rP(e){var t;return a(this,void 0,void 0,(function*(){const{columnSeries:i,iSeries:r,numberOfSeries:n,seriesSymbolMapForLegend:a,seriesSymbolMapForEvent:o,dataSource:s,queryObject:l,symbolProps:u,options:c,dataUpdateNeeded:h}=e;let d,p=u.seriesConfig.fillSymbol,f=!1;const m=!0!==(null==c?void 0:c.filterBySelection)&&void 0!==(null==c?void 0:c.selectedDataItems)&&c.selectedDataItems.length>0;let y,g=[],v="",b="",x="";!0===m&&(g=pS(null==c?void 0:c.selectedDataItems),y=s.type===ky?s.filter:void 0,v=nS(i),b=aS(i),x=null!==(t=i.dataFields.customValue)&&void 0!==t?t:"");const S=!1!==h||!1===Rb(null==c?void 0:c.selectedDataItems,Kb(i.chart,"selectedDataItems")),P=[];i.columns.each((e,t)=>{var i,r;let n;u.seriesConfig.colorType===Sy&&(n=null===(r=null===(i=e.dataItem)||void 0===i?void 0:i.dataContext)||void 0===r?void 0:r[Lx]);const{legendSymbol:a,fillSymbol:o}=CS(Object.assign(Object.assign({},u),{element:e,dataIndex:t,rendererElementColor:n}));var s,h;p=a,void 0!==d&&!1==(s=o.color,h=d.color,(null==s?void 0:s[0])===(null==h?void 0:h[0])&&(null==s?void 0:s[1])===(null==h?void 0:h[1])&&(null==s?void 0:s[2])===(null==h?void 0:h[2])&&(null==s?void 0:s[3])===(null==h?void 0:h[3]))&&(f=!0),d=o,!0===m&&P.push(tP({selectedData:null==c?void 0:c.selectedDataItems,selectedUniqueIds:g,needToFetchOIDsForSelection:S,elementSelectionProps:{element:e,uniqueFeature:!0,queryObject:l,queryFilter:y,xAxisField:v,yAxisField:b,splitBy:x,chartType:yy}}))}),a.set(r,p),o.set(r,!1===f?d:void 0),a.size===n&&(!function(e,t){if(e.markers.length===t.size){const i=ex(e,"updateLegendMarkersSymbolCallback");void 0!==i&&e.markers.events.off("insertIndex",i),IS(e,t)}else if(t.size>1){const i=i=>{i.index+1===t.size&&IS(e,t)};tx(e,{updateLegendMarkersSymbolCallback:i}),e.markers.events.on("insertIndex",i)}}(i.chart.legend,a),kx(o,i.chart.htmlContainer)),yield Promise.all(P)}))}const nP="count",aP="minValue",oP="maxValue",sP="Mean",lP="Median",uP="Standard Deviation",cP="Normal Distribution",hP="Trendline";function dP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function pP(e){let t=e,i=e;function r(e,t,r,n){for(null==r&&(r=0),null==n&&(n=e.length);r<n;){const a=r+n>>>1;i(e[a],t)<0?r=a+1:n=a}return r}return 1===e.length&&(t=(t,i)=>e(t)-i,i=function(e){return(t,i)=>dP(e(t),i)}(e)),{left:r,center:function(e,i,n,a){null==n&&(n=0),null==a&&(a=e.length);const o=r(e,i,n,a-1);return o>n&&t(e[o-1],i)>-t(e[o],i)?o-1:o},right:function(e,t,r,n){for(null==r&&(r=0),null==n&&(n=e.length);r<n;){const a=r+n>>>1;i(e[a],t)>0?n=a:r=a+1}return r}}}const fP=pP(dP).right;pP((function(e){return null===e?NaN:+e})).center;function mP(e,t){let i,r=0,n=0,a=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(i=t-n,n+=i/++r,a+=i*(t-n));else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(i=s-n,n+=i/++r,a+=i*(s-n))}if(r>1)return a/(r-1)}function yP(e,t){const i=mP(e,t);return i?Math.sqrt(i):i}function gP(e,t){let i,r;if(void 0===t)for(const t of e)null!=t&&(void 0===i?t>=t&&(i=r=t):(i>t&&(i=t),r<t&&(r=t)));else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(void 0===i?a>=a&&(i=r=a):(i>a&&(i=a),r<a&&(r=a)))}return[i,r]}function vP(e){return e}function bP(e,t,i,r){return function e(n,a){if(a>=r.length)return i(n);const o=new Map,s=r[a++];let l=-1;for(const e of n){const t=s(e,++l,n),i=o.get(t);i?i.push(e):o.set(t,[e])}for(const[t,i]of o)o.set(t,e(i,a));return t(o)}(e,0)}var xP=Array.prototype.slice;function SP(e){return function(){return e}}var PP=Math.sqrt(50),_P=Math.sqrt(10),CP=Math.sqrt(2);function wP(e,t,i){var r=(t-e)/Math.max(0,i),n=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,n);return n>=0?(a>=PP?10:a>=_P?5:a>=CP?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=PP?10:a>=_P?5:a>=CP?2:1)}function IP(e){return Math.ceil(Math.log(function(e,t){let i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++i;else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&++i}return i}(e))/Math.LN2)+1}function AP(){var e=vP,t=gP,i=IP;function r(r){Array.isArray(r)||(r=Array.from(r));var n,a,o=r.length,s=new Array(o);for(n=0;n<o;++n)s[n]=e(r[n],n,r);var l=t(s),u=l[0],c=l[1],h=i(s,u,c);if(!Array.isArray(h)){const e=c,i=+h;if(t===gP&&([u,c]=function(e,t,i){let r;for(;;){const n=wP(e,t,i);if(n===r||0===n||!isFinite(n))return[e,t];n>0?(e=Math.floor(e/n)*n,t=Math.ceil(t/n)*n):n<0&&(e=Math.ceil(e*n)/n,t=Math.floor(t*n)/n),r=n}}(u,c,i)),(h=function(e,t,i){var r,n,a,o,s=-1;if(i=+i,(e=+e)===(t=+t)&&i>0)return[e];if((r=t<e)&&(n=e,e=t,t=n),0===(o=wP(e,t,i))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(n=Math.ceil(t-e+1));++s<n;)a[s]=(e+s)*o;else for(o=-o,e=Math.ceil(e*o),t=Math.floor(t*o),a=new Array(n=Math.ceil(t-e+1));++s<n;)a[s]=(e+s)/o;return r&&a.reverse(),a}(u,c,i))[h.length-1]>=c)if(e>=c&&t===gP){const e=wP(u,c,i);isFinite(e)&&(e>0?c=(Math.floor(c/e)+1)*e:e<0&&(c=(Math.ceil(c*-e)+1)/-e))}else h.pop()}for(var d=h.length;h[0]<=u;)h.shift(),--d;for(;h[d-1]>c;)h.pop(),--d;var p,f=new Array(d+1);for(n=0;n<=d;++n)(p=f[n]=[]).x0=n>0?h[n-1]:u,p.x1=n<d?h[n]:c;for(n=0;n<o;++n)u<=(a=s[n])&&a<=c&&f[fP(h,a,0,d)].push(r[n]);return f}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:SP(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:SP([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Array.isArray(e)?SP(xP.call(e)):SP(e),r):i},r}function TP(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i<t||void 0===i&&t>=t)&&(i=t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(i<n||void 0===i&&n>=n)&&(i=n)}return i}function OP(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i>t||void 0===i&&t>=t)&&(i=t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(i>n||void 0===i&&n>=n)&&(i=n)}return i}function DP(e,t,i){const r=e[t];e[t]=e[i],e[i]=r}function kP(e,t,i){if(r=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(yield r)}}(e,i))).length){if((t=+t)<=0||r<2)return OP(e);if(t>=1)return TP(e);var r,n=(r-1)*t,a=Math.floor(n),o=TP(function e(t,i,r=0,n=t.length-1,a=dP){for(;n>r;){if(n-r>600){const o=n-r+1,s=i-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);e(t,i,Math.max(r,Math.floor(i-s*u/o+c)),Math.min(n,Math.floor(i+(o-s)*u/o+c)),a)}const o=t[i];let s=r,l=n;for(DP(t,r,i),a(t[n],o)>0&&DP(t,r,n);s<l;){for(DP(t,s,l),++s,--l;a(t[s],o)<0;)++s;for(;a(t[l],o)>0;)--l}0===a(t[r],o)?DP(t,r,l):(++l,DP(t,l,n)),l<=i&&(r=l+1),i<=l&&(n=l-1)}return t}(e,a).subarray(0,a+1));return o+(OP(e.subarray(a+1))-o)*(n-a)}}function FP(e,t){let i=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++i,r+=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(a=+a)>=a&&(++i,r+=a)}if(i)return r/i}function EP(e,t){return kP(e,.5,t)}function MP(e,t,i){e=+e,t=+t,i=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+i;for(var r=-1,n=0|Math.max(0,Math.ceil((t-e)/i)),a=new Array(n);++r<n;)a[r]=e+r*i;return a}function jP(e,t){let i=0;if(void 0===t)for(let t of e)(t=+t)&&(i+=t);else{let r=-1;for(let n of e)(n=+t(n,++r,e))&&(i+=n)}return i}function LP({x:e,mean:t,stddev:i,scalingFactor:r}){const n=-1/(2*Math.pow(i,2));return(null!=r?r:1)*Math.exp(n*Math.pow(e-t,2))}function RP(){return RP.caller.name}const VP={mean:"Mean",median:"Median",sum:"Sum",discretePercentitle:"Discrete percentile",minimum:"Minimum",maximum:"Maximum",variance:"Variance",count:"Count",aggregation:"${ statistics } of ${ fieldName }",percent:"Percent",noAggregation:"No aggregation"};var BP={statistics:VP},NP=Object.freeze({__proto__:null,statistics:VP,default:BP});function WP(e){const{axes:t,seriesConfig:i,columnSeries:r,fieldList:n}=e;return(e,a)=>{var o,s,l,u,c,h,d,p,f;const m=void 0!==n?yc(n):void 0,y=Zx(null!==(s=null===(o=null==m?void 0:m.get(i.x))||void 0===o?void 0:o.alias)&&void 0!==s?s:i.x,null===(u=null===(l=t[0].title)||void 0===l?void 0:l.content)||void 0===u?void 0:u.text),g=Zx(BP.statistics.count,null===(h=null===(c=t[1].title)||void 0===c?void 0:c.content)||void 0===h?void 0:h.text),v=eS({series:r,callbackName:"tooltipValueYNumberFormatCallback",value:null===(d=a.dataItem)||void 0===d?void 0:d.valueY}),b=eS({series:r,callbackName:"tooltipValueXNumberFormatCallback",value:null===(p=a.dataItem)||void 0===p?void 0:p.valueX});return`[bold]${y}:[/] ${eS({series:r,callbackName:"tooltipOpenValueXNumberFormatCallback",value:null===(f=a.dataItem)||void 0===f?void 0:f.openValueX})} - ${b}\n[bold]${g}:[/] ${v}`}}function zP(e){const{axes:t,seriesConfig:i,columnSeries:r,fieldList:n}=e;void 0===Jb(r,"tooltipTextCallback")&&(Xb(r,{tooltipTextCallback:WP({axes:t,seriesConfig:i,columnSeries:r,fieldList:n})}),r.columns.template.adapter.add("tooltipText",(e,t)=>Jb(r,"tooltipTextCallback")(e,t))),Xb(r,{tooltipTextCallback:WP({axes:t,seriesConfig:i,columnSeries:r,fieldList:n})})}function HP(e,t){const i=e[1].valueFormat;if((null==i?void 0:i.type)===hy){const e=new Zr;e.numberFormat=i.intlOptions,Xb(t,{tooltipValueYNumberFormatCallback:t=>e.format(t)})}const r=e[0].valueFormat;if((null==r?void 0:r.type)===hy){const e=new Zr;e.numberFormat=r.intlOptions,Xb(t,{tooltipValueXNumberFormatCallback:t=>e.format(t)}),Xb(t,{tooltipOpenValueXNumberFormatCallback:t=>e.format(t)})}}function GP(e){const{xAxis:t,yAxis:i,type:r}=e;if(!(t instanceof _p&&i instanceof _p))throw new Error(RP()+" can only be executed with ValueAxis. At least one of the input axes is not of type ValueAxis.");const n=new Np;return Xb(n,{isOverlay:!0,type:r}),n.dataFields.valueX="x",n.dataFields.valueY="y",void 0!==t&&(n.xAxis=t),void 0!==i&&(n.yAxis=i),n.hidden=!0,n}function UP(e){var t;const{lineSeries:i,valueFormat:r,overlay:n,chartData:a}=e,{symbol:o,created:s,visible:l}=n,u=!0===s&&!1!==l,c=Jb(i,"type"),h=Jb(i,"upper");if(SS({element:i,lineSymbol:o,visible:u}),i.hiddenInLegend=!0!==s||!0===h,void 0!==a){const e=a.bins.map(e=>e.count),t=Math.max(...e),{mean:r,stddev:n,median:o}=a,s=r-n,l=r+n;let u={x:NaN,y:NaN},d={x:NaN,y:NaN};switch(c){case sP:u={x:r,y:0},d={x:r,y:t};break;case lP:u={x:o,y:0},d={x:o,y:t};break;case uP:!0===h?(u={x:l,y:0},d={x:l,y:t}):(u={x:s,y:0},d={x:s,y:t})}const p={data:[u,d]};i.data=p.data}let d=i.data[0].x;c===uP&&(d=null!==(t=null==a?void 0:a.stddev)&&void 0!==t?t:Jb(i,"stddev"),Xb(i,{stddev:d})),void 0!==d&&mS(i,`${c}: ${DS(d,r)}`)}function $P(e){const{lineSeries:t,overlay:i,seriesData:r,numberOfPoints:n}=e,{symbol:a,created:o,visible:s}=i;if(SS({element:t,lineSymbol:a,visible:!0===o&&!1!==s}),t.hiddenInLegend=!0!==o,void 0!==r){const{mean:e,stddev:i,min:a,max:o}=r,s=function(e){let t=0;if(e.length>0)for(let i=0;i<e.length;i+=1)e[i].count>t&&(t=e[i].count);return t}(r.bins),l=function(e,t,i){const r=t-e;let n=[];if(0!==r)if(1===i)n=[e];else if(i>1){n=[...MP(e,t,r/(i-1)),t]}return n}(a,o,null!=n?n:Ub.histogramSeries.normalDistribNumberOfPoints).map(t=>({x:t,y:LP({x:t,mean:e,stddev:i,scalingFactor:s})}));t.data=l}}function qP(e){const{seriesConfig:t,axisPair:i,hideLoaderHandle:r}=e;if(!(i[0]instanceof _p&&i[1]instanceof _p))throw new Error("Histogram can only be created with ValueAxis. At least one of the input axes is not of type ValueAxis.");const n=[],a=new Of;jx(a,r),a.id=t.id,a.hiddenInLegend=!0;const o=i[0],s=i[1];a.xAxis=o,a.yAxis=s,a.columns.template.tooltipPosition=Ub.tooltipPosition,a.columns.template.cursorOverStyle=Yr.pointer,a.dataItems.template.locations.valueX=1,a.dataItems.template.locations.openValueX=0,a.dataFields.openValueX=aP,a.dataFields.valueX=oP,a.dataFields.valueY=nP,a.dataFields.customValue=t.x,uS(a.columns.template),n.push(a),n.push(GP({xAxis:o,yAxis:s,type:sP})),n.push(GP({xAxis:o,yAxis:s,type:lP}));const l=GP({xAxis:o,yAxis:s,type:uP});Xb(l,{upper:!1});const u=GP({xAxis:o,yAxis:s,type:uP});return Xb(u,{upper:!0}),l.events.on("hidden",()=>{ix(u,!1)}),l.events.on("shown",()=>{ix(u)}),n.push(l),n.push(u),n.push(function(e,t){if(!(e instanceof _p&&t instanceof _p))throw new Error(RP()+" can only be executed with ValueAxis. At least one of the input axes is not of type ValueAxis.");const i=new Np;return Xb(i,{isOverlay:!0,type:cP}),i.xAxis=e,i.yAxis=t,i.dataFields.valueX="x",i.dataFields.valueY="y",mS(i,cP),i.hidden=!0,i}(o,s)),n}function YP(e){const{axes:t,seriesConfig:i,lineSeries:r,fieldList:n}=e,a=void 0!==n?yc(n):void 0;return(e,n)=>{var o,s,l,u,c,h,d,p,f,m;let y="";if(!1===n.isHidden){const e=Zx(null!==(s=null===(o=null==a?void 0:a.get(i.x))||void 0===o?void 0:o.alias)&&void 0!==s?s:i.x,null===(u=null===(l=t[0].title)||void 0===l?void 0:l.content)||void 0===u?void 0:u.text),g=Zx(null!==(h=null===(c=null==a?void 0:a.get(i.y))||void 0===c?void 0:c.alias)&&void 0!==h?h:i.y,null===(p=null===(d=t[1].title)||void 0===d?void 0:d.content)||void 0===p?void 0:p.text),v=eS({series:r,callbackName:"tooltipValueYNumberFormatCallback",value:null===(f=n.dataItem)||void 0===f?void 0:f.valueY});y=`[bold]${e}:[/] ${eS({series:r,callbackName:"tooltipValueXNumberFormatCallback",value:null===(m=n.dataItem)||void 0===m?void 0:m.valueX})} \n [bold]${g}:[/] ${v}`}return y}}function KP(e){const{axes:t,webChartSeries:i,marker:r,lineSeries:n,fieldList:a}=e;r.tooltipText="{valueX}",void 0===Jb(n,"tooltipTextCallback")&&(Xb(n,{tooltipTextCallback:YP({axes:t,seriesConfig:i,lineSeries:n,fieldList:a})}),r.adapter.add("tooltipText",(e,t)=>Jb(n,"tooltipTextCallback")(e,t))),Xb(n,{tooltipTextCallback:YP({axes:t,seriesConfig:i,lineSeries:n,fieldList:a})})}function XP(e){const{arrayToSort:t,orderByFields:i,forceAscendingOrder:r}=e;t.sort((e,t)=>{var n,a,o;let s=0;for(let l=0;l<i.length;l+=1){const u=i[l].split(" ")[0],c=(null!==(n=i[l].split(" ")[1])&&void 0!==n?n:Ub.seriesSort)===Oy&&!0!==r,h=null!==(a=e[Ub.originalDateValue])&&void 0!==a?a:e[u],d=null!==(o=t[Ub.originalDateValue])&&void 0!==o?o:t[u];if("string"==typeof h&&"string"==typeof d)s=h.localeCompare(d,void 0,{numeric:!0}),!0===c&&(s*=-1);else if(null==h)s=!1===c?1:-1;else if(null==d)s=!1===c?-1:1;else{if(h>d){s=!1===c?1:-1;break}if(h<d){s=!1===c?-1:1;break}}}return s})}function JP(e){var t,i,r,n,a,o,s,l;let u=!1;return void 0!==e&&(u=e.valueX<(null!==(i=(null===(t=e.component)||void 0===t?void 0:t.xAxis).min)&&void 0!==i?i:0)||e.valueY<(null!==(n=(null===(r=e.component)||void 0===r?void 0:r.yAxis).min)&&void 0!==n?n:0)||e.valueX>(null!==(o=(null===(a=e.component)||void 0===a?void 0:a.xAxis).max)&&void 0!==o?o:e.valueX)||e.valueY>(null!==(l=(null===(s=e.component)||void 0===s?void 0:s.yAxis).max)&&void 0!==l?l:e.valueY)),u}function QP(e,t){const i=e[1].valueFormat,r=e[0].valueFormat;if((null==i?void 0:i.type)===hy){const e=new Zr;e.numberFormat=i.intlOptions,Xb(t,{tooltipValueYNumberFormatCallback:t=>e.format(t)})}if((null==r?void 0:r.type)===hy){const e=new Zr;e.numberFormat=r.intlOptions,Xb(t,{tooltipValueXNumberFormatCallback:t=>e.format(t)})}}function ZP(e){const{trendLine:t,seriesConfig:i,valueFormat:r,chartData:n}=e;void 0!==n&&(t.data=n.trendLinePoints,mS(t,"R = "+DS(n.r2,r))),t.hiddenInLegend=!0!==i.overlays.trendLine.created;const a=!0===i.overlays.trendLine.created&&!1!==i.overlays.trendLine.visible,o=i.overlays.trendLine.symbol;void 0===o.color&&(o.color=rc(1)),SS({element:t,lineSymbol:i.overlays.trendLine.symbol,visible:a})}function e_(e,t){const i=t.bullets.push(new mn);return function(e,t){$b(e,t)}(i,{isBulletMarker:!0}),i.applyOnClones=!0,t.bulletsContainer.parent=e.seriesContainer,i}function t_(e){const{chart:t,seriesConfig:i,axisPair:r,hideLoaderHandle:n}=e;if(!(r[0]instanceof _p&&r[1]instanceof _p))throw new Error("Scatter Plot can only be created with ValueAxis. At least one of the input axes is not of type ValueAxis.");const a=Ub.scatterPlotSeries,[o,s]=r,{x:l,y:u,overlays:c,name:h,id:d}=i,p=[],f=new Np;Xb(f,{type:py}),f.id=d,jx(f,n),f.hiddenInLegend=!0,f.dataFields.valueX=l,f.dataFields.valueY=u,[f.xAxis]=r,void 0!==r[1]&&([,f.yAxis]=r);const m=e_(t,f);f.strokeOpacity=a.strokeOpacity,f.minDistance*=Math.ceil(f.data.length/1e4),f.hidden=!0,uS(m),p.push(f);const y=function(e){const{xAxis:t,yAxis:i,x:r,y:n,name:a}=e;if(!(t instanceof _p&&i instanceof _p))throw new Error(RP()+" can only be created with ValueAxis. At least one of the input axes is not of type ValueAxis.");const o=new Np;return mS(o,a),o.ignoreMinMax=!0,Xb(o,{isOverlay:!0,type:hP}),o.dataFields.valueX=r,o.dataFields.valueY=n,o.xAxis=t,o.yAxis=i,o.hidden=!0,o}({xAxis:o,yAxis:s,x:l,y:u,name:h,visible:c.trendLine.visible});return p.push(y),p}function i_(e){const{element:t,seriesConfig:i}=e,{symbol:r,legendSymbol:n}=_S(e);return function(e){var t;const{element:i,markerSymbol:r,visible:n}=e;if(void 0!==r){r.color=null!==(t=r.color)&&void 0!==t?t:rc();const e=fx(r);i.path=e.path,i.rotation=e.angle,i.dx=e.xOffset,i.dy=e.yOffSet,bS(i,e.fill),xS(i,e.outline),ix(i,n),i.disabled=!1===n}else i.disabled=!0}({element:t,visible:i.visible,markerSymbol:r}),n}function r_(e=ec().locale){return a(this,void 0,void 0,(function*(){let t=yield i.e(53).then(i.bind(null,52));switch(e){case Xu.Arabic:t=yield i.e(41).then(i.bind(null,53));break;case Xu.Bosnian:t=yield i.e(43).then(i.bind(null,54));break;case Xu.Catalan:t=yield i.e(46).then(i.bind(null,55));break;case Xu.Czech:t=yield i.e(47).then(i.bind(null,56));break;case Xu.Danish:t=yield i.e(49).then(i.bind(null,57));break;case Xu.German:t=yield i.e(51).then(i.bind(null,58));break;case Xu.EnglishUSA:t=yield i.e(56).then(i.bind(null,59));break;case Xu.Spanish:t=yield i.e(58).then(i.bind(null,60));break;case Xu.Estonian:t=yield i.e(59).then(i.bind(null,61));break;case Xu.Finnish:t=yield i.e(61).then(i.bind(null,62));break;case Xu.French:t=yield i.e(64).then(i.bind(null,63));break;case Xu.Hebrew:t=yield i.e(65).then(i.bind(null,64));break;case Xu.Croatian:t=yield i.e(68).then(i.bind(null,65));break;case Xu.Hungarian:t=yield i.e(70).then(i.bind(null,66));break;case Xu.Indonesian:t=yield i.e(72).then(i.bind(null,67));break;case Xu.Italian:t=yield i.e(74).then(i.bind(null,68));break;case Xu.Japanese:t=yield i.e(75).then(i.bind(null,69));break;case Xu.Korean:t=yield i.e(78).then(i.bind(null,70));break;case Xu.Lithuanian:t=yield i.e(80).then(i.bind(null,71));break;case Xu.Latvian:t=yield i.e(81).then(i.bind(null,72));break;case Xu.NorwegianBokml:t=yield i.e(84).then(i.bind(null,73));break;case Xu.Dutch:t=yield i.e(86).then(i.bind(null,74));break;case Xu.Polish:t=yield i.e(88).then(i.bind(null,75));break;case Xu.PortugueseBrazil:t=yield i.e(89).then(i.bind(null,76));break;case Xu.PortuguesePortugal:t=yield i.e(92).then(i.bind(null,77));break;case Xu.Romanian:t=yield i.e(94).then(i.bind(null,78));break;case Xu.Russian:t=yield i.e(96).then(i.bind(null,79));break;case Xu.Slovenian:t=yield i.e(97).then(i.bind(null,80));break;case Xu.Swedish:t=yield i.e(99).then(i.bind(null,81));break;case Xu.Thai:t=yield i.e(102).then(i.bind(null,82));break;case Xu.Turkish:t=yield i.e(103).then(i.bind(null,83));break;case Xu.Ukrainian:t=yield i.e(106).then(i.bind(null,84));break;case Xu.Vietnamese:t=yield i.e(107).then(i.bind(null,85));break;case Xu.ChineseChina:t=yield i.e(109).then(i.bind(null,86));break;case Xu.ChineseHongKong:t=yield i.e(112).then(i.bind(null,87));break;case Xu.ChineseTaiwan:t=yield i.e(113).then(i.bind(null,88))}return t}))}function n_(e){let t="";for(let i=0;i<e.length;i+=1){t+=`<li>${e[i].message}</li>`}return`<ol>${t}</ol>`}function a_(e){void 0!==e.modal&&(e.modal.closable=!0,e.closeModal())}function o_(e){return a(this,void 0,void 0,(function*(){const{chart:t,chartConfig:i,queryObject:r,createMessage:n}=e;let a;void 0!==(null==i?void 0:i.series)&&(a=oc(i.series));const o=yield function(e){return qa(this,void 0,void 0,(function*(){const{input:t,seriesType:i,queryObject:r}=e,n=yield qd(t,i);let a=[],o=[];return void 0!==t&&0===n.length&&(o=yield Kd(t,r),o.length<0&&(a=yield Yd(t,r))),{valid:0===n.length&&0===a.length&&0===o.length,schemaErrors:n,customErrors:o,warnings:a}}))}({input:i,seriesType:a,queryObject:r}),s=yield r_(),{schemaErrors:l,customErrors:u,warnings:c}=o;if(void 0!==t.modal)if(t.modal.closable=!1,void 0===i){const e=void 0===n?s.modalHeaders.newChart:void 0,i=null!=n?n:s.errors.newChartRequest;t.modal.events.once("opened",()=>{var e,i,r,a;if(void 0!==n){const n=null!==(a=null===(r=null===(i=null===(e=t.modal)||void 0===e?void 0:e.elements)||void 0===i?void 0:i.title)||void 0===r?void 0:r.parentElement)&&void 0!==a?a:null;null!==n&&(n.style.visibility="hidden")}}),t.openModal(i,e)}else if(l.length>0){const e=s.errors.simpleError;t.openModal(e,s.modalHeaders.error)}else if(u.length>0){const e=n_(u);t.openModal(e,s.modalHeaders.error)}else if(c.length>0){const e=n_(c),i=`<p>${s.errors.warningRequest}</p>${e}`;t.openModal(i,s.modalHeaders.warning)}return o}))}function s_(e){return a(this,void 0,void 0,(function*(){const{chart:t,invalidType:i,elementCount:r,seriesCount:n}=e;if(void 0!==t.modal&&!0!==t.isDisposed()){t.modal.closable=!1;const e=yield function(e){return qa(this,void 0,void 0,(function*(){const{invalidType:t,elementCount:i,seriesCount:r}=e,n=yield Mc();let a={keyword:Wd,message:n.defaultInvalidChart};switch(t){case Hd:{const e=new Intl.NumberFormat,t={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500};let o=NaN,s=NaN,l="";1===r?(l=n.uniqueSeriesBarCountCannotExceedLimit,o=t.maxBarUniqueSeriesCountTotal):2===r?(l=n.twoSeriesBarCountCannotExceedLimit,o=t.maxBarTwoSeriesCountTotal,s=t.maxBarTwoSeriesCountPerSeries):void 0!==r&&r>2&&(l=n.threePlusSeriesBarCountCannotExceedLimit,o=t.maxBarThreePlusSeriesCountTotal,s=t.maxBarThreePlusSeriesCountPerSeries);const u=e.format(o),c=e.format(s);a={keyword:Hd,message:Qu(l,{totalLimit:u,seriesLimit:c,elementCount:""+i}),params:{actualCount:null!=i?i:NaN,totalLimit:o,seriesLimit:s}};break}case Gd:a={keyword:Gd,message:n.negativeValueInDataForSqrtTransformation};break;case Ud:a={keyword:Ud,message:n.negativeValueInDataForLogTransformation};break;case zd:a={keyword:zd,message:n.histogramEmptyField}}return a}))}({invalidType:i,elementCount:r,seriesCount:n}),a=yield r_();let o=a.modalHeaders.invalidChart;switch(e.keyword){case Hd:o=a.modalHeaders.tooManyFeatures;break;case Gd:case Ud:o=a.modalHeaders.invalidData}t.openModal(e.message,o),function(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.BadDataWarningRaise,Ax(e)))}(e,t.htmlContainer)}}))}function l_(e){const{chart:t,seriesConfig:i,pieSeries:r,dataSource:n,queryObject:o}=e,{innerRadius:s,startAngle:l,endAngle:u}=i,c=Ub.pieChart;t.innerRadius=m(null!=s?s:c.innerRadius).percent,r.startAngle=null!=l?l:c.min,r.endAngle=null!=u?u:360+r.startAngle,r.labels.template.maxWidth=100,r.labels.template.wrap=!0,r.alignLabels=!1,void 0!==i.dataLabels&&(i.dataLabels.content.text="{category}:\n {value.percent.formatNumber('#.0')}% ({value})",bx(r.labels.template,i.dataLabels)),r.events.on("validated",()=>a(this,void 0,void 0,(function*(){yield function(e,t,i,r){return a(this,void 0,void 0,(function*(){let n=new Map,a={};const o=Cc([t]);if(i.type===ky&&t.colorType===Sy){const e=yield fc(r);a=cc(e.renderer),n=$x([t],e)}e.slicesContainer.children.values.forEach((e,r)=>{const{symbol:s}=_S({element:e,seriesConfig:t,y:t.y,dataIndex:r,seriesIndex:r,dataSource:i,rendererStylingInfo:n,rendererInfo:a,rendererElementColor:void 0,queryType:o});PS({element:e,fillSymbol:s})})}))}(r,i,n,o)})))}function u_(e){const{whereValue:t,outStatistics:i,y:r}=e;let n=tc.outStatistics.outStatisticFieldName;return void 0!==(null==i?void 0:i.outStatisticFieldName)?n=i.outStatisticFieldName:void 0!==(null==i?void 0:i.onStatisticField)&&void 0!==i.statisticType?n=`${i.statisticType}_${i.onStatisticField}_${t}`:void 0!==r&&(n=r),n}function c_(e){var t;return a(this,void 0,void 0,(function*(){const{uniqueQuery:i,y:r,queryObject:n}=e,a=tc.outStatistics;if(void 0!==(null===(t=i.outStatistics)||void 0===t?void 0:t[0]))i.outStatistics[0].outStatisticFieldName=null!=r?r:a.outStatisticFieldName;else if(void 0!==n){const e=gc(yield mc(n));i.outStatistics=[{statisticType:a.statisticType,onStatisticField:e,outStatisticFieldName:null!=r?r:a.outStatisticFieldName}]}}))}function h_(e){return a(this,void 0,void 0,(function*(){const{queryType:t,queryObject:i,series:r}=e;let n={},a=new Map;if(void 0!==r[0].query){n=hb(r[0].query);let e=r[0].x+" IS NOT NULL";switch(t){case Xo:{const t=xc(r[0].query.where);""!==t&&(a=function(e){var t,i,r;const n=new Map;for(let a=0;a<e.length;a+=1){const o=hb(e[a]),s=null===(t=o.query)||void 0===t?void 0:t.where;if(void 0!==s){const t=Sc({where:s});if(""!==t){const s=u_({whereValue:t,outStatistics:null===(r=null===(i=o.query)||void 0===i?void 0:i.outStatistics)||void 0===r?void 0:r[0],y:o.y});e[a].y=s,n.set(t,s)}}}return n}(r),e=Ac([e,t+" IS NOT NULL"]),function(e){const{uniqueQuery:t,splitByField:i,x:r}=e;void 0!==t.groupByFieldsForStatistics?!1===t.groupByFieldsForStatistics.includes(i)&&t.groupByFieldsForStatistics.push(i):t.groupByFieldsForStatistics=r===i?[r]:[r,i]}({uniqueQuery:n,splitByField:t,x:r[0].x}),yield c_({uniqueQuery:n,queryObject:i}));break}case Jo:!function(e,t){var i,r;for(let n=1;n<t.length;n+=1){const a=Object.assign({},null===(r=null===(i=t[n].query)||void 0===i?void 0:i.outStatistics)||void 0===r?void 0:r[0]);void 0!==a&&void 0!==e.outStatistics&&e.outStatistics.push(a)}}(n,r);break;case Yo:yield c_({uniqueQuery:n,y:r[0].y})}n.where=e}return{uniqueQuery:n,mapToStatField:a}}))}function d_(e){var t;return a(this,void 0,void 0,(function*(){const{seriesData:i,webChartSeries:r,dataSource:n,filter:a,queryObject:o,categoryOrDateCount:s}=e;let l=i;if(n.type===ky){const{x:e}=r[0];if(void 0!==o&&void 0!==s&&s>i.length){const n={where:a,extent:null===(t=r[0].query)||void 0===t?void 0:t.extent},u=(yield Vc({queryObject:o,chartQuery:n,outFields:[e],returnDistinctValues:!0,featureCount:s})).map(t=>t.attributes[e]).filter(e=>null!=e);u.length>i.length&&(l=function(e,t,i){const r=new Map;for(let t=0;t<e.length;t+=1)r.set(e[t],{[i]:e[t]});for(let e=0;e<t.length;e+=1){const n=t[e][i];"string"!=typeof n&&"number"!=typeof n||r.set(n,t[e])}return[...r.values()]}(u,i,e))}}return l}))}function p_(e){const{data:t,statType:i,onStatisticField:r,seriesX:n,seriesY:a,propertyFields:o}=e,s=e=>{var t;return null!==(t=e[r])&&void 0!==t?t:e[null!=a?a:""]};return t.map((function(e){let t,r;switch(i){case Sm:t=e[1].length;break;case Pm:t=jP(e[1],s);break;case Tm:t=EP(e[1],s);break;case _m:t=OP(e[1],s);break;case Cm:t=TP(e[1],s);break;case Im:t=yP(e[1],s);break;case wm:t=FP(e[1],s);break;case Am:t=mP(e[1],s)}if(void 0!==a){if(r={[n]:e[0],[a]:t},void 0!==o){const t=Gx({y:a,keys:o});!function(e,t,i){Object.keys(t).forEach(r=>{var n;void 0!==i[r]&&void 0!==t[r]&&(e[i[r]]=null!==(n=e[t[r]])&&void 0!==n?n:t[r])})}(e[1][0],o,t),r=Object.assign(Object.assign({},r),e[1][0])}}else r=null!=t?t:0;return r}))}function f_(e){var t,i,r;const{query:n,data:a,statType:o,series:s,propertyFields:l}=e;let u=null===(t=n.outStatistics)||void 0===t?void 0:t[0].onStatisticField;void 0===u&&(u=s.type===my?s.x:s.y);const c=null!==(r=null===(i=n.groupByFieldsForStatistics)||void 0===i?void 0:i[0])&&void 0!==r?r:s.x,h=function(e,...t){return bP(e,vP,vP,t)}(a,e=>e[c]);return p_({data:Array.from(h),statType:o,onStatisticField:u,propertyFields:l,seriesX:s.x,seriesY:s.type===my?void 0:s.y})}function m_(e,t,i){let r=t;if(""!==e){r=[...function(e,t,...i){return bP(e,vP,t,i)}(t,e=>e.reduce((e,t)=>Object.assign(e,t),{}),e=>e[i]).values()]}return r}function y_(e,t){return function(i){var r;return(null===(r=i[e])||void 0===r?void 0:r.toString())===t}}function g_(e){var t,i;const{dataSource:r,filteredData:n}=e,a=e.series,o=!1===Lb(n)?null!=n?n:[]:r.data;let s="";const l=[];for(let e=0;e<a.length;e+=1){const{query:n}=a[e];if(void 0!==n){let u=o;const c=n.where;if(!1===_c(c)){s=xc(c);const e=Sc({where:c});u=u.filter(y_(s,e))}const h=u;void 0!==n.orderByFields&&XP({arrayToSort:h,orderByFields:n.orderByFields,forceAscendingOrder:!0});const d=null!==(i=null===(t=n.outStatistics)||void 0===t?void 0:t[0].statisticType)&&void 0!==i?i:Fy.statisticType;l.push(f_({query:n,data:h,statType:d,series:a[e],propertyFields:r.configFields}))}}let u=l.flat();return u=m_(s,u,a[0].x),u}function v_(e){const{outStatistics:t}=e;if(!0===function(e){var t;return(null===(t=e.outStatistics)||void 0===t?void 0:t[0].statisticType)===Tm}(e)&&void 0!==t)for(let e=0;e<t.length;e+=1)t[e]=Object.assign(Object.assign({},t[e]),{statisticParameters:{value:.5}})}function b_(e){var t;return a(this,void 0,void 0,(function*(){const{queryObject:i,uniqueQuery:r,dataSource:n,series:o,queryType:s,mapToStatField:l,filter:u}=e;v_(r);let c=[];const h=xc(null===(t=null==o?void 0:o[0].query)||void 0===t?void 0:t.where),d=Ac([n.filter,u]),p=yield Vc({queryObject:i,chartQuery:r,filter:d}),f=yield mc(i),m=gc(f),y=bc(f),{x:g}=o[0],v=y.includes(g);return c=yield function(e){return a(this,void 0,void 0,(function*(){const{queryResponse:t,queryType:i,mapToStatField:r,splitByField:n,x:o,fieldOID:s,numberOfSeries:l,isDateCategory:u}=e,{originalCategoryValue:c,dateValueForQuery:h,dateFormatUTC:d,originalDateValue:p}=Ub,[f]=yield Co([Ao]);return Promise.all(t.map((e,t)=>a(this,void 0,void 0,(function*(){var a,m;const{attributes:y}=e;if(!0===u&&(y[h]=(new en).format(y[o],d).replace(",","")),i===Xo){const e=tc.outStatistics.outStatisticFieldName,t=lc({value:null!==(m=null===(a=y[n])||void 0===a?void 0:a.toString())&&void 0!==m?m:""}),i=r.get(t);void 0!==i&&(y[i]=y[e]),delete y[e]}else if(i===Ko){if(1===l){const t=yield qx(e,f);void 0!==t&&(y[Lx]=t)}!0===u?y[p]=y[o]:y[c]=y[o],y[o]=`${y[o]}${t}`,y[tc.uniqueIdsName]=[y[s]]}return y}))))}))}({queryResponse:p,queryType:s,mapToStatField:l,splitByField:h,x:g,fieldOID:m,numberOfSeries:o.length,isDateCategory:v}),c=m_(h,c,g),c}))}function x_(e){var t,i,r;return a(this,void 0,void 0,(function*(){const{dataSource:n,filter:o,queryObject:s}=e,l={valid:!0};let u;const c=e.series,h=Cc(c),{uniqueQuery:d,mapToStatField:p}=yield h_({queryType:h,series:c,queryObject:s}),f=Ac([o,d.where]);if(void 0!==s){let{categoryOrDateCount:e,elementCount:o}=yield function(e){return a(this,void 0,void 0,(function*(){const{dataSource:t,filter:i,queryObject:r,series:n}=e,{x:a}=n[0];let o,s;if(void 0!==r){const e=yield fc(r),l=Ac([t.filter,i,e.definitionExpression]),u={groupByFieldsForStatistics:[a],outStatistics:[{onStatisticField:a,statisticType:Sm}],returnDistinctValues:!0,outFields:[a],where:l};try{o=yield r.queryFeatureCount(u),s=o*n.length}catch(e){const t=yield r_();throw new Ec(kc,t.errors.queryError,e)}}return{categoryOrDateCount:o,elementCount:s}}))}({dataSource:n,queryObject:s,series:c,filter:f});const m=!1===Number.isFinite(o);let y=!0===m||uc(null!=o?o:0,c.length);if(!0===y&&(u=yield b_({queryObject:s,uniqueQuery:d,dataSource:n,series:c,queryType:h,mapToStatField:p,filter:f}),!0===m&&(e=u.length,o=e*c.length,y=uc(o,c.length)),!0===y)){h!==Ko&&(u=yield d_({queryObject:s,seriesData:u,webChartSeries:c,dataSource:n,filter:f,categoryOrDateCount:e}));o=u.length*c.length;const p=oc(c);p===yy&&((null===(i=null===(t=c[0].query)||void 0===t?void 0:t.outStatistics)||void 0===i?void 0:i[0].statisticType)===Sm&&(u=function(e,t){const i=e,r=t.reduce((e,t)=>{var i,r,n;return e[null!==(n=null===(r=null===(i=t.query)||void 0===i?void 0:i.outStatistics)||void 0===r?void 0:r[0].outStatisticFieldName)&&void 0!==n?n:t.y]=0,e},{});for(let t=0;t<e.length;t+=1)e[t]=Object.assign(Object.assign({},r),e[t]);return i}(u,c)),h!==Ko&&(yield function(e,t){return a(this,void 0,void 0,(function*(){const i=bc(yield mc(e));for(let e=0;e<i.length;e+=1)for(let r=0;r<t.length;r+=1){const n=t[r][i[e]];null!=n&&(t[r][i[e]]=new Date(n))}}))}(s,u))),p!==fy&&XP({arrayToSort:u,orderByFields:null!==(r=d.orderByFields)&&void 0!==r?r:[c[0].x],forceAscendingOrder:!0}),l.data=u}!1===y&&(l.valid=!1,l.invalidType=Hd),l.count=o}return l}))}function S_(e,t){if(!0===Number.isFinite(t)){const i=e.hands.getIndex(0);void 0!==i&&(i.value=t)}}function P_(e,t){const{innerRadius:i,startAngle:r,endAngle:n}=t;!0===Number.isFinite(i)&&(e.innerRadius=i),!0===Number.isFinite(r)&&(e.startAngle=r),!0===Number.isFinite(n)&&(e.endAngle=n)}function __(e){return a(this,void 0,void 0,(function*(){const{queryObject:t,dataSource:i,series:r}=e;let n;return n=i.type===Dy?function(e,t){var i,r;const n=e.data;let a=0;const{query:o}=t;if(void 0!==o){const s=null!==(r=null===(i=o.outStatistics)||void 0===i?void 0:i[0].statisticType)&&void 0!==r?r:Fy.statisticType;[a]=f_({query:o,data:n,statType:s,series:t,propertyFields:e.configFields})}return a}(i,r):yield function(e){return a(this,void 0,void 0,(function*(){const{queryObject:t,dataSource:i,series:r}=e;return(yield Vc({queryObject:t,chartQuery:r.query,filter:i.filter,outFields:[r.x]}))[0].attributes[r.x]}))}({queryObject:t,dataSource:i,series:r}),n}))}function C_(e){return t=>hx(e,t)}function w_(e){const{axisLabel:t,text:i,labelRotated:r}=e,n=i;!0===r&&(n.content.angle=void 0,n.content.horizontalAlignment=void 0,n.content.verticalAlignment=void 0,n.content.yoffset=void 0),bx(t,n,!0===r?Ub.rotatedAxisLabel:void 0),t.align="none",t.valign="none",function(e,t){if(void 0===Zb(e.axis,"fontStyleCallback")){const i=1;Qb(e.axis,{fontStyleCallback:C_(t)}),e.adapter.add("textOutput",t=>Zb(e.axis,"fontStyleCallback")(t),i)}Qb(e.axis,{fontStyleCallback:C_(t)})}(t,i.content),t.axis.invalidateLabels()}function I_(e,t){bx(e,t,Ub.guideLabels);!0===e.axis.renderer instanceof Ap&&void 0!==t&&(e.location=function(e){let t=.5;switch(e){case Km:t=0;break;case Xm:t=1}return t}(t.content.horizontalAlignment)),e.axis.invalidateLabels()}function A_(e){const t=e.axisRanges.create();return void 0===t.label&&(t.label=new mp,t.label.axis=e),yx(t.label,Ub.guideLabels),t.label.disabled=!0,t.axisFill.fillOpacity=1,t.axisFill.disabled=!0,t.grid.strokeOpacity=1,t}function T_(e){const t=A_(e);t.tick.disabled=!0,t.label.inside=!0}function O_(e,t){if(void 0!==t){if(function(e,t){if(null!==t.start)if(e instanceof wp){const i=t.start instanceof Date?t.start:new Date(t.start.toString());e.date=i,e.endDate=i,t.style.type===ny&&null!==t.end&&void 0!==t.end&&(e.endDate=t.end instanceof Date?t.end:new Date(t.end.toString()))}else if(e instanceof Op){const i="string"==typeof t.start?t.start:t.start.toString();e.category=i,e.endCategory=i,t.style.type===ny&&null!==t.end&&void 0!==t.end&&(e.endCategory="string"==typeof t.end?t.end:t.end.toString())}else if(e instanceof Pp){const i="number"==typeof t.start?t.start:parseFloat(t.start.toString());e.value=i,e.endValue=i,t.style.type===ny&&null!==t.end&&void 0!==t.end&&(e.endValue="number"==typeof t.end?t.end:parseFloat(t.end.toString()))}}(e,t),t.style.type===ry?(SS({element:e.grid,lineSymbol:t.style,visible:t.visible}),PS({element:e.axisFill,visible:t.visible})):t.style.type===ny&&(SS({element:e.grid,visible:t.visible}),PS({element:e.axisFill,fillSymbol:t.style,visible:t.visible})),function(e,t){e.axisFill.above=!1!==t,e.grid.above=!1!==t}(e,t.above),void 0!==t.label){const i={type:ly,visible:t.visible,content:t.label};I_(e.label,i)}}else ix(e.grid,!1),e.axisFill.disabled=!0,e.label.disabled=!0}function D_(e,t){!function(e,t){var i;const r=e.axisRanges.length,n=(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:r)-r;for(let t=0;t<n;t+=1)T_(e)}(e,t),function(e,t){if(void 0!==t)for(let i=0;i<t.length;i+=1){const r=e.axisRanges.getIndex(i);void 0!==r&&O_(r,t[i])}}(e,t),function(e,t){var i,r;const n=e.axisRanges.length-(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0);for(let t=0;t<n;t+=1)null===(r=e.axisRanges.pop())||void 0===r||r.dispose()}(e,t)}function k_(e){const t=A_(e);t.label.inside=!1,t.grid.disabled=!0}function F_(e){const{axisTick:t,value:i,axisConfig:r,numberFormatter:n}=e;t.value=i,r.labels.content.text=n.format(i),bx(t.label,r.labels),t.label.align="none",t.label.valign="none",SS({element:t.tick,lineSymbol:r.lineSymbol,visible:r.visible})}function E_(e){const{valueAxis:t,axisConfig:i,ticks:r}=e;!function(e,t){var i;const r=e.axisRanges.length,n=(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:r)-r;for(let t=0;t<n;t+=1)k_(e)}(t,r),function(e){const{valueAxis:t,axisConfig:i,ticks:r}=e,n=new Zr;if(n.numberFormat=OS(i.valueFormat),void 0!==r)for(let e=0;e<r.length;e+=1){const a=t.axisRanges.getIndex(e);if(void 0!==a){F_({axisTick:a,value:r[e],axisConfig:i,numberFormatter:n})}}}({valueAxis:t,axisConfig:i,ticks:r}),function(e,t){var i,r;const n=e.axisRanges.length-(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0);for(let t=0;t<n;t+=1)null===(r=e.axisRanges.pop())||void 0===r||r.dispose()}(t,r)}function M_(e){var t;const{value:i,label:r,valueFormat:n,isNonAggregatedChart:a}=e;let o={value:i,label:r};return!0===a&&void 0!==n&&!0===ES(n)&&(o=Object.assign(Object.assign({},o),{valueFormat:n})),""+tS({value:i,dataContext:null===(t=r.dataItem)||void 0===t?void 0:t.dataContext,xAxisValueFormat:o.valueFormat})}function j_(e){const{axis:t,valueFormat:i,axisRenderer:r,categoryOrDateAxisFontSize:n,isNonAggregatedChart:a}=e;r.grid.template.applyOnClones=!0,r.ticks.template.applyOnClones=!0,r.labels.template.applyOnClones=!0,r.line.strokeOpacity=1,r.grid.template.strokeOpacity=1,r.ticks.template.strokeOpacity=1,yx(r.labels.template,Ub.axisLabel),r.ticks.template.disabled=!1,r.labels.template.disabled=!0,!0!==FS(i)&&!0!==ES(i)||(r.labels.template.cursorOverStyle=Yr.pointer,r.labels.template.adapter.add("tooltipText",(e,t)=>M_({value:e,label:t,valueFormat:i,isNonAggregatedChart:a})),ZS(r,t.chart,!1)),r instanceof Ap?(r.minGridDistance=Ub.axisLabelPadding,function(e){e.renderer.labels.template.adapter.add("rotation",t=>{var i,r;return null!==(r=null===(i=Zb(e,"labelsSymbol"))||void 0===i?void 0:i.angle)&&void 0!==r?r:t}),e.renderer.labels.template.adapter.add("verticalCenter",t=>{var i,r;return null!==(r=null===(i=Zb(e,"labelsSymbol"))||void 0===i?void 0:i.verticalCenter)&&void 0!==r?r:t}),e.renderer.labels.template.adapter.add("horizontalCenter",t=>{var i,r;return null!==(r=null===(i=Zb(e,"labelsSymbol"))||void 0===i?void 0:i.horizontalCenter)&&void 0!==r?r:t}),e.renderer.labels.template.adapter.add("dy",t=>{var i,r;return null!==(r=null===(i=Zb(e,"labelsSymbol"))||void 0===i?void 0:i.yOffSet)&&void 0!==r?r:t})}(t)):!0===FS(i)&&(r.minGridDistance=(null!=n?n:Ub.xAxisTitleLabel.fontSize)*Ub.axisLabelPadding)}function L_(e){e instanceof _p&&e.renderer instanceof xp&&e.events.on("validated",e=>{const t=e.target,i=t.chart.xAxes.getIndex(0),r=[{isXAxis:!1,minimum:t.min,maximum:t.max},{isXAxis:!0,minimum:i instanceof _p&&i instanceof Ip==!1?i.min:void 0,maximum:i instanceof _p&&i instanceof Ip==!1?i.max:void 0}];!1===Number.isNaN(r[0].minimum)&&!1===Number.isNaN(r[0].maximum)&&!1===Number.isNaN(r[1].minimum)&&!1===Number.isNaN(r[1].maximum)&&function(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.AxesMinMaxChange,Ax(e)))}(r,t.chart.htmlContainer)})}function R_(e){const{axes:t,valueFormat:i,categoryOrDateAxisFontSize:r,isNonAggregatedChart:n}=e;!function(e){for(var t;e.length>0;)null===(t=e.pop())||void 0===t||t.dispose()}(t),!0===ES(i)&&!0!==n?t.push(new Ip):!0===kS(i)?t.push(new _p):!0!==FS(i)&&!0!==n||t.push(new Dp);const a=t.getIndex(0);void 0!==a&&(a.numberFormatter=new Zr,a.numberFormatter.numberFormat="#",j_({axis:a,valueFormat:i,axisRenderer:a.renderer,categoryOrDateAxisFontSize:r,isNonAggregatedChart:n}),!0===FS(i)||!0===ES(i)?void 0!==a.tooltip&&a.tooltip.label.adapter.add("textOutput",(e,t)=>M_({value:e,label:t,valueFormat:i,isNonAggregatedChart:n})):L_(a))}function V_(e){const{chart:t,axesTypes:i,isRotated:r}=e,n=Kb(t,"isNonAggregatedChart");Yb(t,{isRotated:!0===r}),R_({axes:t.xAxes,valueFormat:!0===r?i[1]:i[0],isNonAggregatedChart:n}),R_({axes:t.yAxes,valueFormat:!0===r?i[0]:i[1],isNonAggregatedChart:n})}function B_(e){const{isNonAggregatedChart:t,axis:i,formatOptions:r}=e;if(i instanceof _p&&!0===kS(r))jS(i,r);else if(i instanceof Ip&&!0===ES(r)&&!0!==t)!function(e,t){const i=OS(t),r=["year","month","week","day","hour","minute","second","millisecond"];for(let t=0;t<r.length;t+=1)e.dateFormats.setKey(r[t],i),e.periodChangeDateFormats.setKey(r[t],i);e.invalidateLabels()}(i,r);else{if(!(i instanceof Dp)||!0!==FS(r)&&!0!==t)throw new Error("There's a mismatch between Axis type and Axis format.");!function(e){const{axis:t,formatOptions:i,isNonAggregatedChart:r}=e,n=t.renderer.labels.template;!0===r&&ES(i)?n.adapter.add("textOutput",(e,t)=>{var r;return""+tS({value:e,dataContext:null===(r=t.dataItem)||void 0===r?void 0:r.dataContext,xAxisValueFormat:i})},0):(void 0===Zb(t,"truncationCallback")&&(Qb(t,{truncationCallback:LS(i.characterLimit)}),n.adapter.add("textOutput",(e,i)=>{var r;const n=tS({value:e,dataContext:null===(r=i.dataItem)||void 0===r?void 0:r.dataContext});return Zb(t,"truncationCallback")(""+n)},0)),void 0===i.characterLimit?n.tooltipText="":n.tooltipText="{category}",Qb(t,{truncationCallback:LS(i.characterLimit)})),t.invalidateLabels()}({axis:i,formatOptions:r,isNonAggregatedChart:t})}}function N_(e){const{axis:t,axisConfig:i,isNonAggregatedChart:r}=e,{visible:n,isLogarithmic:a,title:o,grid:s,lineSymbol:l,labels:u,guides:c,valueFormat:h,minimum:d,maximum:p}=i;if(bx(t.title,o,t.renderer instanceof xp?Ub.yAxisTitleLabel:Ub.xAxisTitleLabel),SS({element:t.renderer.grid.template,lineSymbol:s,visible:n}),SS({element:t.renderer.line,lineSymbol:l,visible:n}),SS({element:t.renderer.ticks.template,lineSymbol:l,visible:n}),t.renderer.labels.template.axis=t,w_({axisLabel:t.renderer.labels.template,text:u,labelRotated:t.renderer instanceof Ap&&t.renderer.labels.template.rotation===Ub.rotatedAxisLabel.rotation}),D_(t,c),B_({isNonAggregatedChart:r,axis:t,formatOptions:h}),function(e,t){if(e.renderer instanceof Ap){const i=Zb(e,"validatedRotationHandler");void 0!==i&&i.dispose();const r=(t,i)=>{var r,n;const{target:a}=t,o=null!==(n=null===(r=i.content.font)||void 0===r?void 0:r.size)&&void 0!==n?n:10,s=a instanceof Dp?Ub.categoryAxisLabelPadding:Ub.axisLabelPadding;a.renderer.minGridDistance=o*s;let l,u=0,c=-1;a.renderer.labels.each(e=>{const t=e.measuredWidth;t>0&&(c+=1,t>u&&(u=t))});const h=e.renderer.labels.template;l=(0===h.rotation||void 0===h.rotation?u*c:u*Ub.axisLabelRotationHandlerPadding*c)>a.pixelWidth?mx({type:ay},Ub.rotatedAxisLabel):mx(i.content,Ub.axisLabel),void 0!==l&&(h.rotation=l.angle,h.verticalCenter=l.verticalCenter,h.horizontalCenter=l.horizontalCenter,h.dy=l.yOffSet),Qb(e,{labelsSymbol:l})},n=e.events.on("validated",e=>r(e,t));Qb(e,{validatedRotationHandler:n})}}(t,u),(t instanceof Ip||t instanceof _p)&&(t.logarithmic=!0===a,t instanceof Ip==!1&&(t.strictMinMax=!0!==a),t.min=null!=d?d:NaN,t.max=null!=p?p:NaN),t instanceof _p){const e=$S(t.chart);e.behavior===WS||e.behavior===NS||e.behavior===zS?t.maxZoomFactor=1:t.maxZoomFactor=1e3}}function W_(e){var t,i;const{chart:r,axes:n,rotationChanged:a,isRotated:o,categoryOrDateAxisFontSize:s}=e,l=Kb(r,"isNonAggregatedChart");let u=o;!0===a&&(u=!0!==u);let c=!0===u?1:0,h=!0===u?0:1;!0!==a?(!0===RS(r.xAxes.getIndex(0),n[c].valueFormat)&&R_({axes:r.xAxes,valueFormat:n[c].valueFormat,isNonAggregatedChart:l}),!0===RS(r.yAxes.getIndex(0),n[h].valueFormat)&&R_({axes:r.yAxes,valueFormat:n[h].valueFormat,categoryOrDateAxisFontSize:s,isNonAggregatedChart:l})):(c=!0===o?1:0,h=!0===o?0:1,R_({axes:r.xAxes,valueFormat:n[c].valueFormat,isNonAggregatedChart:l}),R_({axes:r.yAxes,valueFormat:n[h].valueFormat,categoryOrDateAxisFontSize:s,isNonAggregatedChart:l})),N_({axis:r.xAxes.getIndex(0),axisConfig:n[c],isNonAggregatedChart:l}),N_({axis:r.yAxes.getIndex(0),axisConfig:n[h],isNonAggregatedChart:l}),null===(t=r.xAxes.getIndex(0))||void 0===t||t.ghostLabel.setPropertyValue("disabled",!0),null===(i=r.yAxes.getIndex(0))||void 0===i||i.ghostLabel.setPropertyValue("disabled",!0)}function z_(e){const{axis:t,axisVisibility:i,axisLabelVisibility:r}=e,n=function(e){var t,i,r,n,a,o,s,l;let u=e.axisRanges.length-1;if(!0===e.isReady()){const c=null!==(i=null===(t=e.axisRanges.getIndex(0))||void 0===t?void 0:t.point.x)&&void 0!==i?i:0,h=(null!==(n=null===(r=e.axisRanges.getIndex(1))||void 0===r?void 0:r.point.x)&&void 0!==n?n:0)-c,d=e.axisRanges.length,p=null!==(o=null===(a=e.axisRanges.getIndex(0))||void 0===a?void 0:a.label.measuredWidth)&&void 0!==o?o:0,f=null!==(l=null===(s=e.axisRanges.getIndex(d-1))||void 0===s?void 0:s.label.measuredWidth)&&void 0!==l?l:0,m=Math.max(p,f),y=Ub.histogramAxisLabelPadding;for(let t=0;t<e.axisRanges.length;t+=1)if(t*h-m-y>0){u=t;break}}return u}(t),a=t.axisRanges.values;for(let e=0;e<t.axisRanges.length;e+=1)ix(a[e].tick,e%n==0&&i),ix(a[e].label,e%n==0&&r)}function H_(e){const t=(FS(e[0])||ES(e[0]))&&kS(e[1]),i=(FS(e[1])||ES(e[1]))&&kS(e[0]);return t||i}function G_(e){var t,i,r,n,a,o,s;const{chart:l,chartConfig:u,rotationChanged:c,isRotated:h}=e,d=u.axes,p=u.series[0].x;const f=sc(u.series[0]);if(!1===H_([d[0].valueFormat,d[1].valueFormat]))throw new Error("Bar Chart is being updated with an invalid combination of axes types.");W_({chart:l,axes:d,rotationChanged:c,isRotated:h,categoryOrDateAxisFontSize:null===(n=null===(r=null===(i=null===(t=u.axes)||void 0===t?void 0:t[0].labels)||void 0===i?void 0:i.content)||void 0===r?void 0:r.font)||void 0===n?void 0:n.size});const m=!0===h?l.yAxes.getIndex(0):l.xAxes.getIndex(0);if(void 0!==m){m instanceof Dp&&(m.dataFields.category=""+p);const e=m.renderer;e.grid.template.location=0,e.cellStartLocation=.1,e.cellEndLocation=.9;const t=null!==(s=null===(o=null===(a=u.series[0].query)||void 0===a?void 0:a.orderByFields)||void 0===o?void 0:o[0].includes(Oy))&&void 0!==s&&s;e.inversed=(null!=h&&h)!==t}const y=!0===h?l.xAxes.getIndex(0):l.yAxes.getIndex(0);if(f===Ay)y.min=0,y.max=100,y.strictMinMax=!0,y.calculateTotals=!0,jS(y,d[1].valueFormat,!0);else{y.calculateTotals=!1;const e=Number.isFinite(d[1].minimum),t=Number.isFinite(d[1].maximum);if(!1===e||!1===t){const i=u.series.map(e=>e.y),{dataMin:r,dataMax:n}=function(e,t){let i=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let n=0;n<t.length;n+=1){const a=t[n],[o,s]=gP(e,e=>e[a]);void 0!==o&&o<i&&(i=o),void 0!==s&&s>r&&(r=s)}return{dataMin:i,dataMax:r}}(l.data,i);!1===e&&r>=0?y.min=0:!1===t&&n<=0&&(y.max=0)}}}var U_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function $_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q_(e){var t={exports:{}};return e(t,t.exports),t.exports}function Y_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var K_=q_((function(e,t){!function(){var i=9007199254740992,r="abcdefghijklmnopqrstuvwxyz",a=r.toUpperCase(),o="0123456789abcdef";function s(e){this.name="UnsupportedError",this.message=e||"This feature is not supported on this platform"}s.prototype=new Error,s.prototype.constructor=s;var l=Array.prototype.slice;function u(e){if(!(this instanceof u))return e||(e=null),null===e?new u:new u(e);if("function"==typeof e)return this.random=e,this;arguments.length&&(this.seed=0);for(var t=0;t<arguments.length;t++){var i=0;if("[object String]"===Object.prototype.toString.call(arguments[t]))for(var r=0;r<arguments[t].length;r++){for(var n=0,a=0;a<arguments[t].length;a++)n=arguments[t].charCodeAt(a)+(n<<6)+(n<<16)-n;i+=n}else i=arguments[t];this.seed+=(arguments.length-t)*i}return this.mt=this.mersenne_twister(this.seed),this.bimd5=this.blueimp_md5(),this.random=function(){return this.mt.random(this.seed)},this}function c(e,t){if(e=e||{},t)for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e}function h(e,t){if(e)throw new RangeError(t)}u.prototype.VERSION="1.1.7";var d=function(){throw new Error("No Base64 encoder available.")};function p(e){this.c=e}function f(e){this.c=e}function m(e){this.c=e}function y(e){return function(){return this.natural(e)}}"function"==typeof btoa?d=btoa:"function"==typeof n&&(d=function(e){return new n(e).toString("base64")}),u.prototype.bool=function(e){return h((e=c(e,{likelihood:50})).likelihood<0||e.likelihood>100,"Chance: Likelihood accepts values from 0 to 100."),100*this.random()<e.likelihood},u.prototype.falsy=function(e){var t=(e=c(e,{pool:[!1,null,0,NaN,""]})).pool;return t[this.integer({min:0,max:t.length})]},u.prototype.animal=function(e){if(void 0!==(e=c(e)).type)return h(!this.get("animals")[e.type.toLowerCase()],"Please pick from desert, ocean, grassland, forest, zoo, pets, farm."),this.pick(this.get("animals")[e.type.toLowerCase()]);return this.pick(this.get("animals")[this.pick(["desert","forest","ocean","zoo","farm","pet","grassland"])])},u.prototype.character=function(e){var t,i;return t="lower"===(e=c(e)).casing?r:"upper"===e.casing?a:r+a,e.pool?i=e.pool:(i="",e.alpha&&(i+=t),e.numeric&&(i+="0123456789"),e.symbols&&(i+="!@#$%^&*()[]"),i||(i=t+"0123456789!@#$%^&*()[]")),i.charAt(this.natural({max:i.length-1}))},u.prototype.floating=function(e){h((e=c(e,{fixed:4})).fixed&&e.precision,"Chance: Cannot specify both fixed and precision.");var t=Math.pow(10,e.fixed),r=i/t,n=-r;h(e.min&&e.fixed&&e.min<n,"Chance: Min specified is out of range with fixed. Min should be, at least, "+n),h(e.max&&e.fixed&&e.max>r,"Chance: Max specified is out of range with fixed. Max should be, at most, "+r),e=c(e,{min:n,max:r});var a=(this.integer({min:e.min*t,max:e.max*t})/t).toFixed(e.fixed);return parseFloat(a)},u.prototype.integer=function(e){return h((e=c(e,{min:-9007199254740992,max:i})).min>e.max,"Chance: Min cannot be greater than Max."),Math.floor(this.random()*(e.max-e.min+1)+e.min)},u.prototype.natural=function(e){if("number"==typeof(e=c(e,{min:0,max:i})).numerals&&(h(e.numerals<1,"Chance: Numerals cannot be less than one."),e.min=Math.pow(10,e.numerals-1),e.max=Math.pow(10,e.numerals)-1),h(e.min<0,"Chance: Min cannot be less than zero."),e.exclude){for(var t in h(!Array.isArray(e.exclude),"Chance: exclude must be an array."),e.exclude)h(!Number.isInteger(e.exclude[t]),"Chance: exclude must be numbers.");var r=e.min+this.natural({max:e.max-e.min-e.exclude.length}),n=e.exclude.sort();for(var t in n){if(r<n[t])break;r++}return r}return this.integer(e)},u.prototype.prime=function(e){h((e=c(e,{min:0,max:1e4})).min<0,"Chance: Min cannot be less than zero."),h(e.min>e.max,"Chance: Min cannot be greater than Max.");var t=g.primes[g.primes.length-1];if(e.max>t)for(var i=t+2;i<=e.max;++i)this.is_prime(i)&&g.primes.push(i);var r=g.primes.filter((function(t){return t>=e.min&&t<=e.max}));return this.pick(r)},u.prototype.is_prime=function(e){if(e%1||e<2)return!1;if(e%2==0)return 2===e;if(e%3==0)return 3===e;for(var t=Math.sqrt(e),i=5;i<=t;i+=6)if(e%i==0||e%(i+2)==0)return!1;return!0},u.prototype.hex=function(e){h((e=c(e,{min:0,max:i,casing:"lower"})).min<0,"Chance: Min cannot be less than zero.");var t=this.natural({min:e.min,max:e.max});return"upper"===e.casing?t.toString(16).toUpperCase():t.toString(16)},u.prototype.letter=function(e){e=c(e,{casing:"lower"});var t=this.character({pool:"abcdefghijklmnopqrstuvwxyz"});return"upper"===e.casing&&(t=t.toUpperCase()),t},u.prototype.string=function(e){(e=c(e,{min:5,max:20})).length||(e.length=this.natural({min:e.min,max:e.max})),h(e.length<0,"Chance: Length cannot be less than zero.");var t=e.length;return this.n(this.character,t,e).join("")},p.prototype={substitute:function(){return this.c}},f.prototype={substitute:function(){if(!/[{}\\]/.test(this.c))throw new Error('Invalid escape sequence: "\\'+this.c+'".');return this.c}},m.prototype={replacers:{"#":function(e){return e.character({pool:"0123456789"})},A:function(e){return e.character({pool:a})},a:function(e){return e.character({pool:r})}},substitute:function(e){var t=this.replacers[this.c];if(!t)throw new Error('Invalid replacement character: "'+this.c+'".');return t(e)}},u.prototype.template=function(e){if(!e)throw new Error("Template string is required");var t=this;return function(e){for(var t=[],i="identity",r=0;r<e.length;r++){var n=e[r];switch(i){case"escape":t.push(new f(n)),i="identity";break;case"identity":"{"===n?i="replace":"\\"===n?i="escape":t.push(new p(n));break;case"replace":"}"===n?i="identity":t.push(new m(n))}}return t}(e).map((function(e){return e.substitute(t)})).join("")},u.prototype.buffer=function(e){if(void 0===n)throw new s("Sorry, the buffer() function is not supported on your platform");h((e=c(e,{length:this.natural({min:5,max:20})})).length<0,"Chance: Length cannot be less than zero.");var t=e.length,i=this.n(this.character,t,e);return n.from(i)},u.prototype.capitalize=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},u.prototype.mixin=function(e){for(var t in e)u.prototype[t]=e[t];return this},u.prototype.unique=function(e,t,i){h("function"!=typeof e,"Chance: The first argument must be a function.");var r=function(e,t){return-1!==e.indexOf(t)};i&&(r=i.comparator||r);for(var n,a=[],o=0,s=50*t,u=l.call(arguments,2);a.length<t;){var c=JSON.parse(JSON.stringify(u));if(r(a,n=e.apply(this,c))||(a.push(n),o=0),++o>s)throw new RangeError("Chance: num is likely too large for sample set")}return a},u.prototype.n=function(e,t){h("function"!=typeof e,"Chance: The first argument must be a function."),void 0===t&&(t=1);var i=t,r=[],n=l.call(arguments,2);for(i=Math.max(0,i);i--;null)r.push(e.apply(this,n));return r},u.prototype.pad=function(e,t,i){return i=i||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(i)+e},u.prototype.pick=function(e,t){if(0===e.length)throw new RangeError("Chance: Cannot pick() from an empty array");return t&&1!==t?this.shuffle(e).slice(0,t):e[this.natural({max:e.length-1})]},u.prototype.pickone=function(e){if(0===e.length)throw new RangeError("Chance: Cannot pickone() from an empty array");return e[this.natural({max:e.length-1})]},u.prototype.pickset=function(e,t){if(0===t)return[];if(0===e.length)throw new RangeError("Chance: Cannot pickset() from an empty array");if(t<0)throw new RangeError("Chance: Count must be a positive number");if(t&&1!==t){var i=e.slice(0),r=i.length;return this.n((function(){var e=this.natural({max:--r}),t=i[e];return i[e]=i[r],t}),Math.min(r,t))}return[this.pickone(e)]},u.prototype.shuffle=function(e){for(var t,i,r=[],n=0,a=Number(e.length),o=(i=a,Array.apply(null,Array(i)).map((function(e,t){return t}))),s=a-1,l=0;l<a;l++)n=o[t=this.natural({max:s})],r[l]=e[n],o[t]=o[s],s-=1;return r},u.prototype.weighted=function(e,t,i){if(e.length!==t.length)throw new RangeError("Chance: Length of array and weights must match");for(var r,n=0,a=0;a<t.length;++a){if(r=t[a],isNaN(r))throw new RangeError("Chance: All weights must be numbers");r>0&&(n+=r)}if(0===n)throw new RangeError("Chance: No valid entries in array weights");var o,s=this.random()*n,l=0,u=-1;for(a=0;a<t.length;++a){if(l+=r=t[a],r>0){if(s<=l){o=a;break}u=a}a===t.length-1&&(o=u)}var c=e[o];return(i=void 0!==i&&i)&&(e.splice(o,1),t.splice(o,1)),c},u.prototype.paragraph=function(e){var t=(e=c(e)).sentences||this.natural({min:3,max:7}),i=this.n(this.sentence,t),r=!0===e.linebreak?"\n":" ";return i.join(r)},u.prototype.sentence=function(e){var t,i=(e=c(e)).words||this.natural({min:12,max:18}),r=e.punctuation;return t=this.n(this.word,i).join(" "),t=this.capitalize(t),!1===r||/^[.?;!:]$/.test(r)||(r="."),r&&(t+=r),t},u.prototype.syllable=function(e){for(var t,i=(e=c(e)).length||this.natural({min:2,max:3}),r="",n=0;n<i;n++)r+=t=0===n?this.character({pool:"bcdfghjklmnprstvwzaeiou"}):-1==="bcdfghjklmnprstvwz".indexOf(t)?this.character({pool:"bcdfghjklmnprstvwz"}):this.character({pool:"aeiou"});return e.capitalize&&(r=this.capitalize(r)),r},u.prototype.word=function(e){h((e=c(e)).syllables&&e.length,"Chance: Cannot specify both syllables AND length.");var t=e.syllables||this.natural({min:1,max:3}),i="";if(e.length){do{i+=this.syllable()}while(i.length<e.length);i=i.substring(0,e.length)}else for(var r=0;r<t;r++)i+=this.syllable();return e.capitalize&&(i=this.capitalize(i)),i},u.prototype.age=function(e){var t;switch((e=c(e)).type){case"child":t={min:0,max:12};break;case"teen":t={min:13,max:19};break;case"adult":t={min:18,max:65};break;case"senior":t={min:65,max:100};break;case"all":t={min:0,max:100};break;default:t={min:18,max:65}}return this.natural(t)},u.prototype.birthday=function(e){var t=this.age(e),i=(new Date).getFullYear();if(e&&e.type){var r=new Date,n=new Date;r.setFullYear(i-t-1),n.setFullYear(i-t),e=c(e,{min:r,max:n})}else e=c(e,{year:i-t});return this.date(e)},u.prototype.cpf=function(e){e=c(e,{formatted:!0});var t=this.n(this.natural,9,{max:9}),i=2*t[8]+3*t[7]+4*t[6]+5*t[5]+6*t[4]+7*t[3]+8*t[2]+9*t[1]+10*t[0];(i=11-i%11)>=10&&(i=0);var r=2*i+3*t[8]+4*t[7]+5*t[6]+6*t[5]+7*t[4]+8*t[3]+9*t[2]+10*t[1]+11*t[0];(r=11-r%11)>=10&&(r=0);var n=""+t[0]+t[1]+t[2]+"."+t[3]+t[4]+t[5]+"."+t[6]+t[7]+t[8]+"-"+i+r;return e.formatted?n:n.replace(/\D/g,"")},u.prototype.cnpj=function(e){e=c(e,{formatted:!0});var t=this.n(this.natural,12,{max:12}),i=2*t[11]+3*t[10]+4*t[9]+5*t[8]+6*t[7]+7*t[6]+8*t[5]+9*t[4]+2*t[3]+3*t[2]+4*t[1]+5*t[0];(i=11-i%11)<2&&(i=0);var r=2*i+3*t[11]+4*t[10]+5*t[9]+6*t[8]+7*t[7]+8*t[6]+9*t[5]+2*t[4]+3*t[3]+4*t[2]+5*t[1]+6*t[0];(r=11-r%11)<2&&(r=0);var n=""+t[0]+t[1]+"."+t[2]+t[3]+t[4]+"."+t[5]+t[6]+t[7]+"/"+t[8]+t[9]+t[10]+t[11]+"-"+i+r;return e.formatted?n:n.replace(/\D/g,"")},u.prototype.first=function(e){return e=c(e,{gender:this.gender(),nationality:"en"}),this.pick(this.get("firstNames")[e.gender.toLowerCase()][e.nationality.toLowerCase()])},u.prototype.profession=function(e){return(e=c(e)).rank?this.pick(["Apprentice ","Junior ","Senior ","Lead "])+this.pick(this.get("profession")):this.pick(this.get("profession"))},u.prototype.company=function(){return this.pick(this.get("company"))},u.prototype.gender=function(e){return e=c(e,{extraGenders:[]}),this.pick(["Male","Female"].concat(e.extraGenders))},u.prototype.last=function(e){if("*"===(e=c(e,{nationality:"*"})).nationality){var t=[],i=this.get("lastNames");return Object.keys(i).forEach((function(e){t=t.concat(i[e])})),this.pick(t)}return this.pick(this.get("lastNames")[e.nationality.toLowerCase()])},u.prototype.israelId=function(){for(var e=this.string({pool:"0123456789",length:8}),t=0,i=0;i<e.length;i++){var r=e[i]*(i/2===parseInt(i/2)?1:2);r=this.pad(r,2).toString(),t+=r=parseInt(r[0])+parseInt(r[1])}return e+=(10-parseInt(t.toString().slice(-1))).toString().slice(-1)},u.prototype.mrz=function(e){var t=function(e){var t="<ABCDEFGHIJKLMNOPQRSTUVWXYXZ".split(""),i=[7,3,1],r=0;return"string"!=typeof e&&(e=e.toString()),e.split("").forEach((function(e,n){var a=t.indexOf(e);e=-1!==a?0===a?0:a+9:parseInt(e,10),r+=e*=i[n%i.length]})),r%10},i=this;return function(e){var i=function(e){return new Array(e+1).join("<")},r=["P<",e.issuer,e.last.toUpperCase(),"<<",e.first.toUpperCase(),i(39-(e.last.length+e.first.length+2)),e.passportNumber,t(e.passportNumber),e.nationality,e.dob,t(e.dob),e.gender,e.expiry,t(e.expiry),i(14),t(i(14))].join("");return r+t(r.substr(44,10)+r.substr(57,7)+r.substr(65,7))}(e=c(e,{first:this.first(),last:this.last(),passportNumber:this.integer({min:1e8,max:999999999}),dob:function(){var e=i.birthday({type:"adult"});return[e.getFullYear().toString().substr(2),i.pad(e.getMonth()+1,2),i.pad(e.getDate(),2)].join("")}(),expiry:function(){var e=new Date;return[(e.getFullYear()+5).toString().substr(2),i.pad(e.getMonth()+1,2),i.pad(e.getDate(),2)].join("")}(),gender:"Female"===this.gender()?"F":"M",issuer:"GBR",nationality:"GBR"}))},u.prototype.name=function(e){e=c(e);var t,i=this.first(e),r=this.last(e);return t=e.middle?i+" "+this.first(e)+" "+r:e.middle_initial?i+" "+this.character({alpha:!0,casing:"upper"})+". "+r:i+" "+r,e.prefix&&(t=this.prefix(e)+" "+t),e.suffix&&(t=t+" "+this.suffix(e)),t},u.prototype.name_prefixes=function(e){var t=[{name:"Doctor",abbreviation:"Dr."}];return"male"!==(e=(e=e||"all").toLowerCase())&&"all"!==e||t.push({name:"Mister",abbreviation:"Mr."}),"female"!==e&&"all"!==e||(t.push({name:"Miss",abbreviation:"Miss"}),t.push({name:"Misses",abbreviation:"Mrs."})),t},u.prototype.prefix=function(e){return this.name_prefix(e)},u.prototype.name_prefix=function(e){return(e=c(e,{gender:"all"})).full?this.pick(this.name_prefixes(e.gender)).name:this.pick(this.name_prefixes(e.gender)).abbreviation},u.prototype.HIDN=function(){var e="";return e+=this.string({pool:"0123456789",length:6}),e+=this.string({pool:"ABCDEFGHIJKLMNOPQRSTUVWXYXZ",length:2})},u.prototype.ssn=function(e){var t=(e=c(e,{ssnFour:!1,dashes:!0})).dashes?"-":"";return e.ssnFour?this.string({pool:"1234567890",length:4}):this.string({pool:"1234567890",length:3})+t+this.string({pool:"1234567890",length:2})+t+this.string({pool:"1234567890",length:4})},u.prototype.aadhar=function(e){var t=(e=c(e,{onlyLastFour:!1,separatedByWhiteSpace:!0})).separatedByWhiteSpace?" ":"";return e.onlyLastFour?this.string({pool:"1234567890",length:4}):this.string({pool:"1234567890",length:4})+t+this.string({pool:"1234567890",length:4})+t+this.string({pool:"1234567890",length:4})},u.prototype.name_suffixes=function(){return[{name:"Doctor of Osteopathic Medicine",abbreviation:"D.O."},{name:"Doctor of Philosophy",abbreviation:"Ph.D."},{name:"Esquire",abbreviation:"Esq."},{name:"Junior",abbreviation:"Jr."},{name:"Juris Doctor",abbreviation:"J.D."},{name:"Master of Arts",abbreviation:"M.A."},{name:"Master of Business Administration",abbreviation:"M.B.A."},{name:"Master of Science",abbreviation:"M.S."},{name:"Medical Doctor",abbreviation:"M.D."},{name:"Senior",abbreviation:"Sr."},{name:"The Third",abbreviation:"III"},{name:"The Fourth",abbreviation:"IV"},{name:"Bachelor of Engineering",abbreviation:"B.E"},{name:"Bachelor of Technology",abbreviation:"B.TECH"}]},u.prototype.suffix=function(e){return this.name_suffix(e)},u.prototype.name_suffix=function(e){return(e=c(e)).full?this.pick(this.name_suffixes()).name:this.pick(this.name_suffixes()).abbreviation},u.prototype.nationalities=function(){return this.get("nationalities")},u.prototype.nationality=function(){return this.pick(this.nationalities()).name},u.prototype.android_id=function(){return"APA91"+this.string({pool:"0123456789abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",length:178})},u.prototype.apple_token=function(){return this.string({pool:"abcdef1234567890",length:64})},u.prototype.wp8_anid2=function(){return d(this.hash({length:32}))},u.prototype.wp7_anid=function(){return"A="+this.guid().replace(/-/g,"").toUpperCase()+"&E="+this.hash({length:3})+"&W="+this.integer({min:0,max:9})},u.prototype.bb_pin=function(){return this.hash({length:8})},u.prototype.avatar=function(e){var t={protocol:null,email:null,fileExtension:null,size:null,fallback:null,rating:null};if(e)if("string"==typeof e)t.email=e,e={};else{if("object"!=typeof e)return null;if("Array"===e.constructor)return null}else t.email=this.email(),e={};return(t=c(e,t)).email||(t.email=this.email()),t.protocol={http:"http",https:"https"}[t.protocol]?t.protocol+":":"",t.size=parseInt(t.size,0)?t.size:"",t.rating={g:"g",pg:"pg",r:"r",x:"x"}[t.rating]?t.rating:"",t.fallback={404:"404",mm:"mm",identicon:"identicon",monsterid:"monsterid",wavatar:"wavatar",retro:"retro",blank:"blank"}[t.fallback]?t.fallback:"",t.fileExtension={bmp:"bmp",gif:"gif",jpg:"jpg",png:"png"}[t.fileExtension]?t.fileExtension:"",t.protocol+"//www.gravatar.com/avatar/"+this.bimd5.md5(t.email)+(t.fileExtension?"."+t.fileExtension:"")+(t.size||t.rating||t.fallback?"?":"")+(t.size?"&s="+t.size.toString():"")+(t.rating?"&r="+t.rating:"")+(t.fallback?"&d="+t.fallback:"")},u.prototype.color=function(e){function t(e,t){return[e,e,e].join(t||"")}function i(e){var i=e?"rgba":"rgb",r=e?","+this.floating({min:m,max:y}):"";return i+"("+(a?t(this.natural({min:o,max:s}),","):this.natural({min:h,max:d})+","+this.natural({min:p,max:f})+","+this.natural({max:255}))+r+")"}function r(i,r,n){var c=n?"#":"",m="";return a?(m=t(this.pad(this.hex({min:o,max:s}),2)),"shorthex"===e.format&&(m=t(this.hex({min:0,max:15})))):m="shorthex"===e.format?this.pad(this.hex({min:Math.floor(l/16),max:Math.floor(u/16)}),1)+this.pad(this.hex({min:Math.floor(h/16),max:Math.floor(d/16)}),1)+this.pad(this.hex({min:Math.floor(p/16),max:Math.floor(f/16)}),1):void 0!==l||void 0!==u||void 0!==h||void 0!==d||void 0!==p||void 0!==f?this.pad(this.hex({min:l,max:u}),2)+this.pad(this.hex({min:h,max:d}),2)+this.pad(this.hex({min:p,max:f}),2):this.pad(this.hex({min:o,max:s}),2)+this.pad(this.hex({min:o,max:s}),2)+this.pad(this.hex({min:o,max:s}),2),c+m}var n,a=(e=c(e,{format:this.pick(["hex","shorthex","rgb","rgba","0x","name"]),grayscale:!1,casing:"lower",min:0,max:255,min_red:void 0,max_red:void 0,min_green:void 0,max_green:void 0,min_blue:void 0,max_blue:void 0,min_alpha:0,max_alpha:1})).grayscale,o=e.min,s=e.max,l=e.min_red,u=e.max_red,h=e.min_green,d=e.max_green,p=e.min_blue,f=e.max_blue,m=e.min_alpha,y=e.max_alpha;if(void 0===e.min_red&&(l=o),void 0===e.max_red&&(u=s),void 0===e.min_green&&(h=o),void 0===e.max_green&&(d=s),void 0===e.min_blue&&(p=o),void 0===e.max_blue&&(f=s),void 0===e.min_alpha&&(m=0),void 0===e.max_alpha&&(y=1),a&&0===o&&255===s&&void 0!==l&&void 0!==u&&(o=(l+h+p)/3,s=(u+d+f)/3),"hex"===e.format)n=r.call(this,2,6,!0);else if("shorthex"===e.format)n=r.call(this,1,3,!0);else if("rgb"===e.format)n=i.call(this,!1);else if("rgba"===e.format)n=i.call(this,!0);else{if("0x"!==e.format){if("name"===e.format)return this.pick(this.get("colorNames"));throw new RangeError('Invalid format provided. Please provide one of "hex", "shorthex", "rgb", "rgba", "0x" or "name".')}n="0x"+r.call(this,2,6)}return"upper"===e.casing&&(n=n.toUpperCase()),n},u.prototype.domain=function(e){return e=c(e),this.word()+"."+(e.tld||this.tld())},u.prototype.email=function(e){return e=c(e),this.word({length:e.length})+"@"+(e.domain||this.domain())},u.prototype.fbid=function(){return"10000"+this.string({pool:"1234567890",length:11})},u.prototype.google_analytics=function(){return"UA-"+this.pad(this.natural({max:999999}),6)+"-"+this.pad(this.natural({max:99}),2)},u.prototype.hashtag=function(){return"#"+this.word()},u.prototype.ip=function(){return this.natural({min:1,max:254})+"."+this.natural({max:255})+"."+this.natural({max:255})+"."+this.natural({min:1,max:254})},u.prototype.ipv6=function(){return this.n(this.hash,8,{length:4}).join(":")},u.prototype.klout=function(){return this.natural({min:1,max:99})},u.prototype.semver=function(e){e=c(e,{include_prerelease:!0});var t=this.pickone(["^","~","<",">","<=",">=","="]);e.range&&(t=e.range);var i="";return e.include_prerelease&&(i=this.weighted(["","-dev","-beta","-alpha"],[50,10,5,1])),t+this.rpg("3d10").join(".")+i},u.prototype.tlds=function(){return["com","org","edu","gov","co.uk","net","io","ac","ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yt","za","zm","zw"]},u.prototype.tld=function(){return this.pick(this.tlds())},u.prototype.twitter=function(){return"@"+this.word()},u.prototype.url=function(e){var t=(e=c(e,{protocol:"http",domain:this.domain(e),domain_prefix:"",path:this.word(),extensions:[]})).extensions.length>0?"."+this.pick(e.extensions):"",i=e.domain_prefix?e.domain_prefix+"."+e.domain:e.domain;return e.protocol+"://"+i+"/"+e.path+t},u.prototype.port=function(){return this.integer({min:0,max:65535})},u.prototype.locale=function(e){return(e=c(e)).region?this.pick(this.get("locale_regions")):this.pick(this.get("locale_languages"))},u.prototype.locales=function(e){return(e=c(e)).region?this.get("locale_regions"):this.get("locale_languages")},u.prototype.loremPicsum=function(e){var t=(e=c(e,{width:500,height:500,greyscale:!1,blurred:!1})).greyscale?"g/":"",i=e.blurred?"/?blur":"/?random";return"https://picsum.photos/"+t+e.width+"/"+e.height+i},u.prototype.address=function(e){return e=c(e),this.natural({min:5,max:2e3})+" "+this.street(e)},u.prototype.altitude=function(e){return e=c(e,{fixed:5,min:0,max:8848}),this.floating({min:e.min,max:e.max,fixed:e.fixed})},u.prototype.areacode=function(e){e=c(e,{parens:!0});var t=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:8}).toString()+this.natural({min:0,max:9}).toString();return e.parens?"("+t+")":t},u.prototype.city=function(){return this.capitalize(this.word({syllables:3}))},u.prototype.coordinates=function(e){return this.latitude(e)+", "+this.longitude(e)},u.prototype.countries=function(){return this.get("countries")},u.prototype.country=function(e){e=c(e);var t=this.pick(this.countries());return e.raw?t:e.full?t.name:t.abbreviation},u.prototype.depth=function(e){return e=c(e,{fixed:5,min:-10994,max:0}),this.floating({min:e.min,max:e.max,fixed:e.fixed})},u.prototype.geohash=function(e){return e=c(e,{length:7}),this.string({length:e.length,pool:"0123456789bcdefghjkmnpqrstuvwxyz"})},u.prototype.geojson=function(e){return this.latitude(e)+", "+this.longitude(e)+", "+this.altitude(e)},u.prototype.latitude=function(e){const[t,i,r]=["ddm","dms","dd"],n=(e=c(e,e&&e.format&&[t,i].includes(e.format.toLowerCase())?{min:0,max:89,fixed:4}:{fixed:5,min:-90,max:90,format:r})).format.toLowerCase();switch(n!==t&&n!==i||(h(e.min<0||e.min>89,"Chance: Min specified is out of range. Should be between 0 - 89"),h(e.max<0||e.max>89,"Chance: Max specified is out of range. Should be between 0 - 89"),h(e.fixed>4,"Chance: Fixed specified should be below or equal to 4")),n){case t:return this.integer({min:e.min,max:e.max})+""+this.floating({min:0,max:59,fixed:e.fixed});case i:return this.integer({min:e.min,max:e.max})+""+this.integer({min:0,max:59})+""+this.floating({min:0,max:59,fixed:e.fixed})+"";case r:default:return this.floating({min:e.min,max:e.max,fixed:e.fixed})}},u.prototype.longitude=function(e){const[t,i,r]=["ddm","dms","dd"],n=(e=c(e,e&&e.format&&[t,i].includes(e.format.toLowerCase())?{min:0,max:179,fixed:4}:{fixed:5,min:-180,max:180,format:r})).format.toLowerCase();switch(n!==t&&n!==i||(h(e.min<0||e.min>179,"Chance: Min specified is out of range. Should be between 0 - 179"),h(e.max<0||e.max>179,"Chance: Max specified is out of range. Should be between 0 - 179"),h(e.fixed>4,"Chance: Fixed specified should be below or equal to 4")),n){case t:return this.integer({min:e.min,max:e.max})+""+this.floating({min:0,max:59.9999,fixed:e.fixed});case i:return this.integer({min:e.min,max:e.max})+""+this.integer({min:0,max:59})+""+this.floating({min:0,max:59.9999,fixed:e.fixed})+"";case r:default:return this.floating({min:e.min,max:e.max,fixed:e.fixed})}},u.prototype.phone=function(e){var t,i,r=this,n=function(e){var t=[];return e.sections.forEach((function(e){t.push(r.string({pool:"0123456789",length:e}))})),e.area+t.join(" ")};switch((e=c(e,{formatted:!0,country:"us",mobile:!1})).formatted||(e.parens=!1),e.country){case"fr":e.mobile?(t=this.pick(["06","07"])+r.string({pool:"0123456789",length:8}),i=e.formatted?t.match(/../g).join(" "):t):(t=this.pick(["01"+this.pick(["30","34","39","40","41","42","43","44","45","46","47","48","49","53","55","56","58","60","64","69","70","72","73","74","75","76","77","78","79","80","81","82","83"])+r.string({pool:"0123456789",length:6}),"02"+this.pick(["14","18","22","23","28","29","30","31","32","33","34","35","36","37","38","40","41","43","44","45","46","47","48","49","50","51","52","53","54","56","57","61","62","69","72","76","77","78","85","90","96","97","98","99"])+r.string({pool:"0123456789",length:6}),"03"+this.pick(["10","20","21","22","23","24","25","26","27","28","29","39","44","45","51","52","54","55","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","80","81","82","83","84","85","86","87","88","89","90"])+r.string({pool:"0123456789",length:6}),"04"+this.pick(["11","13","15","20","22","26","27","30","32","34","37","42","43","44","50","56","57","63","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","88","89","90","91","92","93","94","95","97","98"])+r.string({pool:"0123456789",length:6}),"05"+this.pick(["08","16","17","19","24","31","32","33","34","35","40","45","46","47","49","53","55","56","57","58","59","61","62","63","64","65","67","79","81","82","86","87","90","94"])+r.string({pool:"0123456789",length:6}),"09"+r.string({pool:"0123456789",length:8})]),i=e.formatted?t.match(/../g).join(" "):t);break;case"uk":e.mobile?(t=this.pick([{area:"07"+this.pick(["4","5","7","8","9"]),sections:[2,6]},{area:"07624 ",sections:[6]}]),i=e.formatted?n(t):n(t).replace(" ","")):(t=this.pick([{area:"01"+this.character({pool:"234569"})+"1 ",sections:[3,4]},{area:"020 "+this.character({pool:"378"}),sections:[3,4]},{area:"023 "+this.character({pool:"89"}),sections:[3,4]},{area:"024 7",sections:[3,4]},{area:"028 "+this.pick(["25","28","37","71","82","90","92","95"]),sections:[2,4]},{area:"012"+this.pick(["04","08","54","76","97","98"])+" ",sections:[6]},{area:"013"+this.pick(["63","64","84","86"])+" ",sections:[6]},{area:"014"+this.pick(["04","20","60","61","80","88"])+" ",sections:[6]},{area:"015"+this.pick(["24","27","62","66"])+" ",sections:[6]},{area:"016"+this.pick(["06","29","35","47","59","95"])+" ",sections:[6]},{area:"017"+this.pick(["26","44","50","68"])+" ",sections:[6]},{area:"018"+this.pick(["27","37","84","97"])+" ",sections:[6]},{area:"019"+this.pick(["00","05","35","46","49","63","95"])+" ",sections:[6]}]),i=e.formatted?n(t):n(t).replace(" ","","g"));break;case"za":e.mobile?(t=this.pick(["060"+this.pick(["3","4","5","6","7","8","9"])+r.string({pool:"0123456789",length:6}),"061"+this.pick(["0","1","2","3","4","5","8"])+r.string({pool:"0123456789",length:6}),"06"+r.string({pool:"0123456789",length:7}),"071"+this.pick(["0","1","2","3","4","5","6","7","8","9"])+r.string({pool:"0123456789",length:6}),"07"+this.pick(["2","3","4","6","7","8","9"])+r.string({pool:"0123456789",length:7}),"08"+this.pick(["0","1","2","3","4","5"])+r.string({pool:"0123456789",length:7})]),i=e.formatted||t):(t=this.pick(["01"+this.pick(["0","1","2","3","4","5","6","7","8"])+r.string({pool:"0123456789",length:7}),"02"+this.pick(["1","2","3","4","7","8"])+r.string({pool:"0123456789",length:7}),"03"+this.pick(["1","2","3","5","6","9"])+r.string({pool:"0123456789",length:7}),"04"+this.pick(["1","2","3","4","5","6","7","8","9"])+r.string({pool:"0123456789",length:7}),"05"+this.pick(["1","3","4","6","7","8"])+r.string({pool:"0123456789",length:7})]),i=e.formatted||t);break;case"us":var a=this.areacode(e).toString(),o=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:9}).toString()+this.natural({min:0,max:9}).toString(),s=this.natural({min:1e3,max:9999}).toString();i=e.formatted?a+" "+o+"-"+s:a+o+s;break;case"br":var l,u=this.pick(["11","12","13","14","15","16","17","18","19","21","22","24","27","28","31","32","33","34","35","37","38","41","42","43","44","45","46","47","48","49","51","53","54","55","61","62","63","64","65","66","67","68","69","71","73","74","75","77","79","81","82","83","84","85","86","87","88","89","91","92","93","94","95","96","97","98","99"]);l=e.mobile?"9"+r.string({pool:"0123456789",length:4}):this.natural({min:2e3,max:5999}).toString();var h=r.string({pool:"0123456789",length:4});i=e.formatted?"("+u+") "+l+"-"+h:u+l+h}return i},u.prototype.postal=function(){return this.character({pool:"XVTSRPNKLMHJGECBA"})+this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+" "+(this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+this.natural({max:9}))},u.prototype.postcode=function(){return this.pick(this.get("postcodeAreas")).code+this.natural({max:9})+(this.bool()?this.character({alpha:!0,casing:"upper"}):"")+" "+(this.natural({max:9})+(this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})))},u.prototype.counties=function(e){return e=c(e,{country:"uk"}),this.get("counties")[e.country.toLowerCase()]},u.prototype.county=function(e){return this.pick(this.counties(e)).name},u.prototype.provinces=function(e){return e=c(e,{country:"ca"}),this.get("provinces")[e.country.toLowerCase()]},u.prototype.province=function(e){return e&&e.full?this.pick(this.provinces(e)).name:this.pick(this.provinces(e)).abbreviation},u.prototype.state=function(e){return e&&e.full?this.pick(this.states(e)).name:this.pick(this.states(e)).abbreviation},u.prototype.states=function(e){var t;switch((e=c(e,{country:"us",us_states_and_dc:!0})).country.toLowerCase()){case"us":var i=this.get("us_states_and_dc"),r=this.get("territories"),n=this.get("armed_forces");t=[],e.us_states_and_dc&&(t=t.concat(i)),e.territories&&(t=t.concat(r)),e.armed_forces&&(t=t.concat(n));break;case"it":case"mx":t=this.get("country_regions")[e.country.toLowerCase()];break;case"uk":t=this.get("counties")[e.country.toLowerCase()]}return t},u.prototype.street=function(e){var t;switch((e=c(e,{country:"us",syllables:2})).country.toLowerCase()){case"us":t=this.word({syllables:e.syllables}),t=this.capitalize(t),t+=" ",t+=e.short_suffix?this.street_suffix(e).abbreviation:this.street_suffix(e).name;break;case"it":t=this.word({syllables:e.syllables}),t=this.capitalize(t),t=(e.short_suffix?this.street_suffix(e).abbreviation:this.street_suffix(e).name)+" "+t}return t},u.prototype.street_suffix=function(e){return e=c(e,{country:"us"}),this.pick(this.street_suffixes(e))},u.prototype.street_suffixes=function(e){return e=c(e,{country:"us"}),this.get("street_suffixes")[e.country.toLowerCase()]},u.prototype.zip=function(e){var t=this.n(this.natural,5,{max:9});return e&&!0===e.plusfour&&(t.push("-"),t=t.concat(this.n(this.natural,4,{max:9}))),t.join("")},u.prototype.ampm=function(){return this.bool()?"am":"pm"},u.prototype.date=function(e){var t,i;if(e&&(e.min||e.max)){var r=void 0!==(e=c(e,{american:!0,string:!1})).min?e.min.getTime():1,n=void 0!==e.max?e.max.getTime():864e13;i=new Date(this.integer({min:r,max:n}))}else{var a=this.month({raw:!0}),o=a.days;e&&e.month&&(o=this.get("months")[(e.month%12+12)%12].days),e=c(e,{year:parseInt(this.year(),10),month:a.numeric-1,day:this.natural({min:1,max:o}),hour:this.hour({twentyfour:!0}),minute:this.minute(),second:this.second(),millisecond:this.millisecond(),american:!0,string:!1}),i=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}return t=e.american?i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear():i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),e.string?t:i},u.prototype.hammertime=function(e){return this.date(e).getTime()},u.prototype.hour=function(e){return h((e=c(e,{min:e&&e.twentyfour?0:1,max:e&&e.twentyfour?23:12})).min<0,"Chance: Min cannot be less than 0."),h(e.twentyfour&&e.max>23,"Chance: Max cannot be greater than 23 for twentyfour option."),h(!e.twentyfour&&e.max>12,"Chance: Max cannot be greater than 12."),h(e.min>e.max,"Chance: Min cannot be greater than Max."),this.natural({min:e.min,max:e.max})},u.prototype.millisecond=function(){return this.natural({max:999})},u.prototype.minute=u.prototype.second=function(e){return h((e=c(e,{min:0,max:59})).min<0,"Chance: Min cannot be less than 0."),h(e.max>59,"Chance: Max cannot be greater than 59."),h(e.min>e.max,"Chance: Min cannot be greater than Max."),this.natural({min:e.min,max:e.max})},u.prototype.month=function(e){h((e=c(e,{min:1,max:12})).min<1,"Chance: Min cannot be less than 1."),h(e.max>12,"Chance: Max cannot be greater than 12."),h(e.min>e.max,"Chance: Min cannot be greater than Max.");var t=this.pick(this.months().slice(e.min-1,e.max));return e.raw?t:t.name},u.prototype.months=function(){return this.get("months")},u.prototype.second=function(){return this.natural({max:59})},u.prototype.timestamp=function(){return this.natural({min:1,max:parseInt((new Date).getTime()/1e3,10)})},u.prototype.weekday=function(e){var t=["Monday","Tuesday","Wednesday","Thursday","Friday"];return(e=c(e,{weekday_only:!1})).weekday_only||(t.push("Saturday"),t.push("Sunday")),this.pickone(t)},u.prototype.year=function(e){return(e=c(e,{min:(new Date).getFullYear()})).max=void 0!==e.max?e.max:e.min+100,this.natural(e).toString()},u.prototype.cc=function(e){var t,i,r;return i=(t=(e=c(e)).type?this.cc_type({name:e.type,raw:!0}):this.cc_type({raw:!0})).prefix.split(""),r=t.length-t.prefix.length-1,(i=i.concat(this.n(this.integer,r,{min:0,max:9}))).push(this.luhn_calculate(i.join(""))),i.join("")},u.prototype.cc_types=function(){return this.get("cc_types")},u.prototype.cc_type=function(e){e=c(e);var t=this.cc_types(),i=null;if(e.name){for(var r=0;r<t.length;r++)if(t[r].name===e.name||t[r].short_name===e.name){i=t[r];break}if(null===i)throw new RangeError("Chance: Credit card type '"+e.name+"' is not supported")}else i=this.pick(t);return e.raw?i:i.name},u.prototype.currency_types=function(){return this.get("currency_types")},u.prototype.currency=function(){return this.pick(this.currency_types())},u.prototype.timezones=function(){return this.get("timezones")},u.prototype.timezone=function(){return this.pick(this.timezones())},u.prototype.currency_pair=function(e){var t=this.unique(this.currency,2,{comparator:function(e,t){return e.reduce((function(e,i){return e||i.code===t.code}),!1)}});return e?t[0].code+"/"+t[1].code:t},u.prototype.dollar=function(e){e=c(e,{max:1e4,min:0});var t=this.floating({min:e.min,max:e.max,fixed:2}).toString(),i=t.split(".")[1];return void 0===i?t+=".00":i.length<2&&(t+="0"),t<0?"-$"+t.replace("-",""):"$"+t},u.prototype.euro=function(e){return Number(this.dollar(e).replace("$","")).toLocaleString()+""},u.prototype.exp=function(e){e=c(e);var t={};return t.year=this.exp_year(),t.year===(new Date).getFullYear().toString()?t.month=this.exp_month({future:!0}):t.month=this.exp_month(),e.raw?t:t.month+"/"+t.year},u.prototype.exp_month=function(e){e=c(e);var t,i,r=(new Date).getMonth()+1;if(e.future&&12!==r)do{t=this.month({raw:!0}).numeric,i=parseInt(t,10)}while(i<=r);else t=this.month({raw:!0}).numeric;return t},u.prototype.exp_year=function(){var e=(new Date).getMonth()+1,t=(new Date).getFullYear();return this.year({min:12===e?t+1:t,max:t+10})},u.prototype.vat=function(e){switch((e=c(e,{country:"it"})).country.toLowerCase()){case"it":return this.it_vat()}},u.prototype.iban=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return this.string({length:2,pool:e})+this.pad(this.integer({min:0,max:99}),2)+this.string({length:4,pool:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"})+this.pad(this.natural(),this.natural({min:6,max:26}))},u.prototype.it_vat=function(){var e=this.natural({min:1,max:18e5});return(e=this.pad(e,7)+this.pad(this.pick(this.provinces({country:"it"})).code,3))+this.luhn_calculate(e)},u.prototype.cf=function(e){var t=(e=e||{}).gender?e.gender:this.gender(),i=e.first?e.first:this.first({gender:t,nationality:"it"}),r=e.last?e.last:this.last({nationality:"it"}),n=e.birthday?e.birthday:this.birthday(),a=e.city?e.city:this.pickone(["A","B","C","D","E","F","G","H","I","L","M","Z"])+this.pad(this.natural({max:999}),3),o=[],s=function(e,t){var i,r=[];return e.length<3?r=e.split("").concat("XXX".split("")).splice(0,3):((i=e.toUpperCase().split("").map((function(e){return-1!=="BCDFGHJKLMNPRSTVWZ".indexOf(e)?e:void 0})).join("")).length>3&&(i=t?i.substr(0,3):i[0]+i.substr(2,2)),i.length<3&&(r=i,i=e.toUpperCase().split("").map((function(e){return-1!=="AEIOU".indexOf(e)?e:void 0})).join("").substr(0,3-r.length)),r+=i),r};return o=o.concat(s(r,!0),s(i),function(e,t,i){return e.getFullYear().toString().substr(2)+["A","B","C","D","E","H","L","M","P","R","S","T"][e.getMonth()]+i.pad(e.getDate()+("female"===t.toLowerCase()?40:0),2)}(n,t,this),a.toUpperCase().split("")).join(""),(o+=function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="ABCDEFGHIJABCDEFGHIJKLMNOPQRSTUVWXYZ",r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0,a=0;a<15;a++)n+=a%2!=0?r.indexOf(i[t.indexOf(e[a])]):"BAKPLCQDREVOSFTGUHMINJWZYX".indexOf(i[t.indexOf(e[a])]);return r[n%26]}(o.toUpperCase())).toUpperCase()},u.prototype.pl_pesel=function(){for(var e=this.natural({min:1,max:9999999999}),t=this.pad(e,10).split(""),i=0;i<t.length;i++)t[i]=parseInt(t[i]);var r=(1*t[0]+3*t[1]+7*t[2]+9*t[3]+1*t[4]+3*t[5]+7*t[6]+9*t[7]+1*t[8]+3*t[9])%10;return 0!==r&&(r=10-r),t.join("")+r},u.prototype.pl_nip=function(){for(var e=this.natural({min:1,max:999999999}),t=this.pad(e,9).split(""),i=0;i<t.length;i++)t[i]=parseInt(t[i]);var r=(6*t[0]+5*t[1]+7*t[2]+2*t[3]+3*t[4]+4*t[5]+5*t[6]+6*t[7]+7*t[8])%11;return 10===r?this.pl_nip():t.join("")+r},u.prototype.pl_regon=function(){for(var e=this.natural({min:1,max:99999999}),t=this.pad(e,8).split(""),i=0;i<t.length;i++)t[i]=parseInt(t[i]);var r=(8*t[0]+9*t[1]+2*t[2]+3*t[3]+4*t[4]+5*t[5]+6*t[6]+7*t[7])%11;return 10===r&&(r=0),t.join("")+r},u.prototype.note=function(e){e=c(e,{notes:"flatKey"});var t={naturals:["C","D","E","F","G","A","B"],flats:["D","E","G","A","B"],sharps:["C","D","F","G","A"]};return t.all=t.naturals.concat(t.flats.concat(t.sharps)),t.flatKey=t.naturals.concat(t.flats),t.sharpKey=t.naturals.concat(t.sharps),this.pickone(t[e.notes])},u.prototype.midi_note=function(e){return e=c(e,{min:0,max:127}),this.integer({min:e.min,max:e.max})},u.prototype.chord_quality=function(e){var t=["maj","min","aug","dim"];return(e=c(e,{jazz:!0})).jazz&&(t=["maj7","min7","7","sus","dim",""]),this.pickone(t)},u.prototype.chord=function(e){return e=c(e),this.note(e)+this.chord_quality(e)},u.prototype.tempo=function(e){return e=c(e,{min:40,max:320}),this.integer({min:e.min,max:e.max})},u.prototype.coin=function(){return this.bool()?"heads":"tails"},u.prototype.d4=y({min:1,max:4}),u.prototype.d6=y({min:1,max:6}),u.prototype.d8=y({min:1,max:8}),u.prototype.d10=y({min:1,max:10}),u.prototype.d12=y({min:1,max:12}),u.prototype.d20=y({min:1,max:20}),u.prototype.d30=y({min:1,max:30}),u.prototype.d100=y({min:1,max:100}),u.prototype.rpg=function(e,t){if(t=c(t),e){var i=e.toLowerCase().split("d"),r=[];if(2!==i.length||!parseInt(i[0],10)||!parseInt(i[1],10))throw new Error("Chance: Invalid format provided. Please provide #d# where the first # is the number of dice to roll, the second # is the max of each die");for(var n=i[0];n>0;n--)r[n-1]=this.natural({min:1,max:i[1]});return void 0!==t.sum&&t.sum?r.reduce((function(e,t){return e+t})):r}throw new RangeError("Chance: A type of die roll must be included")},u.prototype.guid=function(e){e=c(e,{version:5});var t="abcdef1234567890";return this.string({pool:t,length:8})+"-"+this.string({pool:t,length:4})+"-"+e.version+this.string({pool:t,length:3})+"-"+this.string({pool:"ab89",length:1})+this.string({pool:t,length:3})+"-"+this.string({pool:t,length:12})},u.prototype.hash=function(e){var t="upper"===(e=c(e,{length:40,casing:"lower"})).casing?o.toUpperCase():o;return this.string({pool:t,length:e.length})},u.prototype.luhn_check=function(e){var t=e.toString();return+t.substring(t.length-1)===this.luhn_calculate(+t.substring(0,t.length-1))},u.prototype.luhn_calculate=function(e){for(var t,i=e.toString().split("").reverse(),r=0,n=0,a=i.length;a>n;++n)t=+i[n],n%2==0&&(t*=2)>9&&(t-=9),r+=t;return 9*r%10},u.prototype.md5=function(e){var t={str:"",key:null,raw:!1};if(e)if("string"==typeof e)t.str=e,e={};else{if("object"!=typeof e)return null;if("Array"===e.constructor)return null}else t.str=this.string(),e={};if(!(t=c(e,t)).str)throw new Error("A parameter is required to return an md5 hash.");return this.bimd5.md5(t.str,t.key,t.raw)},u.prototype.file=function(e){var t,i=e||{},r=Object.keys(this.get("fileExtension"));if(t=this.word({length:i.length}),i.extension)return t+"."+i.extension;if(i.extensions){if(Array.isArray(i.extensions))return t+"."+this.pickone(i.extensions);if(i.extensions.constructor===Object){var n=i.extensions,a=Object.keys(n);return t+"."+this.pickone(n[this.pickone(a)])}throw new Error("Chance: Extensions must be an Array or Object")}if(i.fileType){var o=i.fileType;if(-1!==r.indexOf(o))return t+"."+this.pickone(this.get("fileExtension")[o]);throw new RangeError("Chance: Expect file type value to be 'raster', 'vector', '3d' or 'document'")}return t+"."+this.pickone(this.get("fileExtension")[this.pickone(r)])};var g={firstNames:{male:{en:["James","John","Robert","Michael","William","David","Richard","Joseph","Charles","Thomas","Christopher","Daniel","Matthew","George","Donald","Anthony","Paul","Mark","Edward","Steven","Kenneth","Andrew","Brian","Joshua","Kevin","Ronald","Timothy","Jason","Jeffrey","Frank","Gary","Ryan","Nicholas","Eric","Stephen","Jacob","Larry","Jonathan","Scott","Raymond","Justin","Brandon","Gregory","Samuel","Benjamin","Patrick","Jack","Henry","Walter","Dennis","Jerry","Alexander","Peter","Tyler","Douglas","Harold","Aaron","Jose","Adam","Arthur","Zachary","Carl","Nathan","Albert","Kyle","Lawrence","Joe","Willie","Gerald","Roger","Keith","Jeremy","Terry","Harry","Ralph","Sean","Jesse","Roy","Louis","Billy","Austin","Bruce","Eugene","Christian","Bryan","Wayne","Russell","Howard","Fred","Ethan","Jordan","Philip","Alan","Juan","Randy","Vincent","Bobby","Dylan","Johnny","Phillip","Victor","Clarence","Ernest","Martin","Craig","Stanley","Shawn","Travis","Bradley","Leonard","Earl","Gabriel","Jimmy","Francis","Todd","Noah","Danny","Dale","Cody","Carlos","Allen","Frederick","Logan","Curtis","Alex","Joel","Luis","Norman","Marvin","Glenn","Tony","Nathaniel","Rodney","Melvin","Alfred","Steve","Cameron","Chad","Edwin","Caleb","Evan","Antonio","Lee","Herbert","Jeffery","Isaac","Derek","Ricky","Marcus","Theodore","Elijah","Luke","Jesus","Eddie","Troy","Mike","Dustin","Ray","Adrian","Bernard","Leroy","Angel","Randall","Wesley","Ian","Jared","Mason","Hunter","Calvin","Oscar","Clifford","Jay","Shane","Ronnie","Barry","Lucas","Corey","Manuel","Leo","Tommy","Warren","Jackson","Isaiah","Connor","Don","Dean","Jon","Julian","Miguel","Bill","Lloyd","Charlie","Mitchell","Leon","Jerome","Darrell","Jeremiah","Alvin","Brett","Seth","Floyd","Jim","Blake","Micheal","Gordon","Trevor","Lewis","Erik","Edgar","Vernon","Devin","Gavin","Jayden","Chris","Clyde","Tom","Derrick","Mario","Brent","Marc","Herman","Chase","Dominic","Ricardo","Franklin","Maurice","Max","Aiden","Owen","Lester","Gilbert","Elmer","Gene","Francisco","Glen","Cory","Garrett","Clayton","Sam","Jorge","Chester","Alejandro","Jeff","Harvey","Milton","Cole","Ivan","Andre","Duane","Landon"],it:["Adolfo","Alberto","Aldo","Alessandro","Alessio","Alfredo","Alvaro","Andrea","Angelo","Angiolo","Antonino","Antonio","Attilio","Benito","Bernardo","Bruno","Carlo","Cesare","Christian","Claudio","Corrado","Cosimo","Cristian","Cristiano","Daniele","Dario","David","Davide","Diego","Dino","Domenico","Duccio","Edoardo","Elia","Elio","Emanuele","Emiliano","Emilio","Enrico","Enzo","Ettore","Fabio","Fabrizio","Federico","Ferdinando","Fernando","Filippo","Francesco","Franco","Gabriele","Giacomo","Giampaolo","Giampiero","Giancarlo","Gianfranco","Gianluca","Gianmarco","Gianni","Gino","Giorgio","Giovanni","Giuliano","Giulio","Giuseppe","Graziano","Gregorio","Guido","Iacopo","Jacopo","Lapo","Leonardo","Lorenzo","Luca","Luciano","Luigi","Manuel","Marcello","Marco","Marino","Mario","Massimiliano","Massimo","Matteo","Mattia","Maurizio","Mauro","Michele","Mirko","Mohamed","Nello","Neri","Niccol","Nicola","Osvaldo","Otello","Paolo","Pier Luigi","Piero","Pietro","Raffaele","Remo","Renato","Renzo","Riccardo","Roberto","Rolando","Romano","Salvatore","Samuele","Sandro","Sergio","Silvano","Simone","Stefano","Thomas","Tommaso","Ubaldo","Ugo","Umberto","Valerio","Valter","Vasco","Vincenzo","Vittorio"],nl:["Aaron","Abel","Adam","Adriaan","Albert","Alexander","Ali","Arjen","Arno","Bart","Bas","Bastiaan","Benjamin","Bob","Boris","Bram","Brent","Cas","Casper","Chris","Christiaan","Cornelis","Daan","Daley","Damian","Dani","Daniel","Danil","David","Dean","Dirk","Dylan","Egbert","Elijah","Erik","Erwin","Evert","Ezra","Fabian","Fedde","Finn","Florian","Floris","Frank","Frans","Frederik","Freek","Geert","Gerard","Gerben","Gerrit","Gijs","Guus","Hans","Hendrik","Henk","Herman","Hidde","Hugo","Jaap","Jan Jaap","Jan-Willem","Jack","Jacob","Jan","Jason","Jasper","Jayden","Jelle","Jelte","Jens","Jeroen","Jesse","Jim","Job","Joep","Johannes","John","Jonathan","Joris","Joshua","Jol","Julian","Kees","Kevin","Koen","Lars","Laurens","Leendert","Lennard","Lodewijk","Luc","Luca","Lucas","Lukas","Luuk","Maarten","Marcus","Martijn","Martin","Matthijs","Maurits","Max","Mees","Melle","Mick","Mika","Milan","Mohamed","Mohammed","Morris","Muhammed","Nathan","Nick","Nico","Niek","Niels","Noah","Noud","Olivier","Oscar","Owen","Paul","Pepijn","Peter","Pieter","Pim","Quinten","Reinier","Rens","Robin","Ruben","Sam","Samuel","Sander","Sebastiaan","Sem","Sep","Sepp","Siem","Simon","Stan","Stef","Steven","Stijn","Sven","Teun","Thijmen","Thijs","Thomas","Tijn","Tim","Timo","Tobias","Tom","Victor","Vince","Willem","Wim","Wouter","Yusuf"],fr:["Aaron","Abdon","Abel","Ablard","Abelin","Abondance","Abraham","Absalon","Acace","Achaire","Achille","Adalard","Adalbald","Adalbron","Adalbert","Adalric","Adam","Adegrin","Adel","Adelin","Andelin","Adelphe","Adam","Adodat","Adhmar","Adjutor","Adolphe","Adonis","Adon","Adrien","Agapet","Agathange","Agathon","Agilbert","Agnor","Agnan","Aignan","Agrippin","Aimable","Aim","Alain","Alban","Albin","Aubin","Albric","Albert","Albertet","Alcibiade","Alcide","Alce","Alcime","Aldonce","Aldric","Aldric","Aleaume","Alexandre","Alexis","Alix","Alliaume","Aleaume","Almine","Almire","Alos","Alphe","Alphonse","Alpinien","Alverde","Amalric","Amaury","Amandin","Amant","Ambroise","Amde","Amlien","Amiel","Amour","Anal","Anastase","Anatole","Ancelin","Andol","Andoche","Andr","Andoche","Ange","Angelin","Angilbe","Anglebert","Angoustan","Anicet","Anne","Annibal","Ansbert","Anselme","Anthelme","Antheaume","Anthime","Antide","Antoine","Antonius","Antonin","Apollinaire","Apollon","Aquilin","Arcade","Archambaud","Archambeau","Archange","Archibald","Arian","Ariel","Ariste","Aristide","Armand","Armel","Armin","Arnould","Arnaud","Arolde","Arsne","Arsino","Arthaud","Arthme","Arthur","Ascelin","Athanase","Aubry","Audebert","Audouin","Audran","Audric","Auguste","Augustin","Aurle","Aurlien","Aurian","Auxence","Axel","Aymard","Aymeric","Aymon","Aymond","Balthazar","Baptiste","Barnab","Barthlemy","Bartime","Basile","Bastien","Baudouin","Bnigne","Benjamin","Benot","Brenger","Brard","Bernard","Bertrand","Blaise","Bon","Boniface","Bouchard","Brice","Brieuc","Bruno","Brunon","Calixte","Calliste","Camlien","Camille","Camillien","Candide","Caribert","Carloman","Cassandre","Cassien","Cdric","Cleste","Clestin","Clien","Csaire","Csar","Charles","Charlemagne","Childebert","Chilpric","Chrtien","Christian","Christodule","Christophe","Chrysostome","Clarence","Claude","Claudien","Clandre","Clment","Clotaire","Cme","Constance","Constant","Constantin","Corentin","Cyprien","Cyriaque","Cyrille","Cyril","Damien","Daniel","David","Delphin","Denis","Dsir","Didier","Dieudonn","Dimitri","Dominique","Dorian","Dorothe","Edgard","Edmond","douard","leuthre","lie","lise","meric","mile","milien","Emmanuel","Enguerrand","piphane","ric","Esprit","Ernest","tienne","Eubert","Eudes","Eudoxe","Eugne","Eusbe","Eustache","variste","vrard","Fabien","Fabrice","Falba","Flicit","Flix","Ferdinand","Fiacre","Fidle","Firmin","Flavien","Flodoard","Florent","Florentin","Florestan","Florian","Fortun","Foulques","Francisque","Franois","Franais","Franciscus","Francs","Frdric","Fulbert","Fulcran","Fulgence","Gabin","Gabriel","Gal","Garnier","Gaston","Gaspard","Gatien","Gaud","Gautier","Gdon","Geoffroy","Georges","Graud","Grard","Gerbert","Germain","Gervais","Ghislain","Gilbert","Gilles","Girart","Gislebert","Gondebaud","Gonthier","Gontran","Gonzague","Grgoire","Gurin","Gui","Guillaume","Gustave","Guy","Guyot","Hardouin","Hector","Hdelin","Hlier","Henri","Herbert","Herluin","Herv","Hilaire","Hildebert","Hincmar","Hippolyte","Honor","Hubert","Hugues","Innocent","Isabeau","Isidore","Jacques","Japhet","Jason","Jean","Jeannel","Jeannot","Jrmie","Jrme","Joachim","Joanny","Job","Jocelyn","Jol","Johan","Jonas","Jonathan","Joseph","Josse","Josselin","Jourdain","Jude","Judical","Jules","Julien","Juste","Justin","Lambert","Landry","Laurent","Lazare","Landre","Lon","Lonard","Lopold","Leu","Loup","Leufroy","Libre","Litald","Lionel","Loc","Longin","Lorrain","Lorraine","Lothaire","Louis","Loup","Luc","Lucas","Lucien","Ludolphe","Ludovic","Macaire","Malo","Mamert","Manass","Marc","Marceau","Marcel","Marcelin","Marius","Marseille","Martial","Martin","Mathurin","Matthias","Mathias","Matthieu","Maugis","Maurice","Mauricet","Maxence","Maxime","Maximilien","Mayeul","Mdric","Melchior","Mence","Merlin","Mrove","Michal","Michel","Mose","Morgan","Nathan","Nathanal","Narcisse","Nhmie","Nestor","Nestor","Nicphore","Nicolas","No","Nol","Norbert","Normand","Normands","Octave","Odilon","Odon","Oger","Olivier","Oury","Pacme","Palmon","Parfait","Pascal","Paterne","Patrice","Paul","Ppin","Perceval","Philmon","Philibert","Philippe","Philothe","Pie","Pierre","Pierrick","Prosper","Quentin","Raoul","Raphal","Raymond","Rgis","Rjean","Rmi","Renaud","Ren","Reybaud","Richard","Robert","Roch","Rodolphe","Rodrigue","Roger","Roland","Romain","Romuald","Romo","Rome","Ronan","Roselin","Salomon","Samuel","Savin","Savinien","Scholastique","Sbastien","Sraphin","Serge","Sverin","Sidoine","Sigebert","Sigismond","Silvre","Simon","Simon","Sixte","Stanislas","Stphane","Stephan","Sylvain","Sylvestre","Tancrde","Tanguy","Taurin","Thodore","Thodose","Thophile","Thophraste","Thibault","Thibert","Thierry","Thomas","Timolon","Timothe","Titien","Tonnin","Toussaint","Trajan","Tristan","Turold","Tim","Ulysse","Urbain","Valentin","Valre","Valry","Venance","Venant","Venceslas","Vianney","Victor","Victorien","Victorin","Vigile","Vincent","Vital","Vitalien","Vivien","Waleran","Wandrille","Xavier","Xnophon","Yves","Zacharie","Zach","Zphirin"]},female:{en:["Mary","Emma","Elizabeth","Minnie","Margaret","Ida","Alice","Bertha","Sarah","Annie","Clara","Ella","Florence","Cora","Martha","Laura","Nellie","Grace","Carrie","Maude","Mabel","Bessie","Jennie","Gertrude","Julia","Hattie","Edith","Mattie","Rose","Catherine","Lillian","Ada","Lillie","Helen","Jessie","Louise","Ethel","Lula","Myrtle","Eva","Frances","Lena","Lucy","Edna","Maggie","Pearl","Daisy","Fannie","Josephine","Dora","Rosa","Katherine","Agnes","Marie","Nora","May","Mamie","Blanche","Stella","Ellen","Nancy","Effie","Sallie","Nettie","Della","Lizzie","Flora","Susie","Maud","Mae","Etta","Harriet","Sadie","Caroline","Katie","Lydia","Elsie","Kate","Susan","Mollie","Alma","Addie","Georgia","Eliza","Lulu","Nannie","Lottie","Amanda","Belle","Charlotte","Rebecca","Ruth","Viola","Olive","Amelia","Hannah","Jane","Virginia","Emily","Matilda","Irene","Kathryn","Esther","Willie","Henrietta","Ollie","Amy","Rachel","Sara","Estella","Theresa","Augusta","Ora","Pauline","Josie","Lola","Sophia","Leona","Anne","Mildred","Ann","Beulah","Callie","Lou","Delia","Eleanor","Barbara","Iva","Louisa","Maria","Mayme","Evelyn","Estelle","Nina","Betty","Marion","Bettie","Dorothy","Luella","Inez","Lela","Rosie","Allie","Millie","Janie","Cornelia","Victoria","Ruby","Winifred","Alta","Celia","Christine","Beatrice","Birdie","Harriett","Mable","Myra","Sophie","Tillie","Isabel","Sylvia","Carolyn","Isabelle","Leila","Sally","Ina","Essie","Bertie","Nell","Alberta","Katharine","Lora","Rena","Mina","Rhoda","Mathilda","Abbie","Eula","Dollie","Hettie","Eunice","Fanny","Ola","Lenora","Adelaide","Christina","Lelia","Nelle","Sue","Johanna","Lilly","Lucinda","Minerva","Lettie","Roxie","Cynthia","Helena","Hilda","Hulda","Bernice","Genevieve","Jean","Cordelia","Marian","Francis","Jeanette","Adeline","Gussie","Leah","Lois","Lura","Mittie","Hallie","Isabella","Olga","Phoebe","Teresa","Hester","Lida","Lina","Winnie","Claudia","Marguerite","Vera","Cecelia","Bess","Emilie","Rosetta","Verna","Myrtie","Cecilia","Elva","Olivia","Ophelia","Georgie","Elnora","Violet","Adele","Lily","Linnie","Loretta","Madge","Polly","Virgie","Eugenia","Lucile","Lucille","Mabelle","Rosalie"],it:["Ada","Adriana","Alessandra","Alessia","Alice","Angela","Anna","Anna Maria","Annalisa","Annita","Annunziata","Antonella","Arianna","Asia","Assunta","Aurora","Barbara","Beatrice","Benedetta","Bianca","Bruna","Camilla","Carla","Carlotta","Carmela","Carolina","Caterina","Catia","Cecilia","Chiara","Cinzia","Clara","Claudia","Costanza","Cristina","Daniela","Debora","Diletta","Dina","Donatella","Elena","Eleonora","Elisa","Elisabetta","Emanuela","Emma","Eva","Federica","Fernanda","Fiorella","Fiorenza","Flora","Franca","Francesca","Gabriella","Gaia","Gemma","Giada","Gianna","Gina","Ginevra","Giorgia","Giovanna","Giulia","Giuliana","Giuseppa","Giuseppina","Grazia","Graziella","Greta","Ida","Ilaria","Ines","Iolanda","Irene","Irma","Isabella","Jessica","Laura","Lea","Letizia","Licia","Lidia","Liliana","Lina","Linda","Lisa","Livia","Loretta","Luana","Lucia","Luciana","Lucrezia","Luisa","Manuela","Mara","Marcella","Margherita","Maria","Maria Cristina","Maria Grazia","Maria Luisa","Maria Pia","Maria Teresa","Marina","Marisa","Marta","Martina","Marzia","Matilde","Melissa","Michela","Milena","Mirella","Monica","Natalina","Nella","Nicoletta","Noemi","Olga","Paola","Patrizia","Piera","Pierina","Raffaella","Rebecca","Renata","Rina","Rita","Roberta","Rosa","Rosanna","Rossana","Rossella","Sabrina","Sandra","Sara","Serena","Silvana","Silvia","Simona","Simonetta","Sofia","Sonia","Stefania","Susanna","Teresa","Tina","Tiziana","Tosca","Valentina","Valeria","Vanda","Vanessa","Vanna","Vera","Veronica","Vilma","Viola","Virginia","Vittoria"],nl:["Ada","Arianne","Afke","Amanda","Amber","Amy","Aniek","Anita","Anja","Anna","Anne","Annelies","Annemarie","Annette","Anouk","Astrid","Aukje","Barbara","Bianca","Carla","Carlijn","Carolien","Chantal","Charlotte","Claudia","Danille","Debora","Diane","Dora","Eline","Elise","Ella","Ellen","Emma","Esmee","Evelien","Esther","Erica","Eva","Femke","Fleur","Floor","Froukje","Gea","Gerda","Hanna","Hanneke","Heleen","Hilde","Ilona","Ina","Inge","Ingrid","Iris","Isabel","Isabelle","Janneke","Jasmijn","Jeanine","Jennifer","Jessica","Johanna","Joke","Julia","Julie","Karen","Karin","Katja","Kim","Lara","Laura","Lena","Lianne","Lieke","Lilian","Linda","Lisa","Lisanne","Lotte","Louise","Maaike","Manon","Marga","Maria","Marissa","Marit","Marjolein","Martine","Marleen","Melissa","Merel","Miranda","Michelle","Mirjam","Mirthe","Naomi","Natalie","Nienke","Nina","Noortje","Olivia","Patricia","Paula","Paulien","Ramona","Ria","Rianne","Roos","Rosanne","Ruth","Sabrina","Sandra","Sanne","Sara","Saskia","Silvia","Sofia","Sophie","Sonja","Suzanne","Tamara","Tess","Tessa","Tineke","Valerie","Vanessa","Veerle","Vera","Victoria","Wendy","Willeke","Yvonne","Zo"],fr:["Abdon","Abel","Abigalle","Abigal","Acacius","Acanthe","Adalbert","Adalsinde","Adegrine","Adlade","Adle","Adlie","Adeline","Adeltrude","Adolphe","Adonis","Adraste","Adrehilde","Adrienne","Agathe","Agilbert","Agla","Aignan","Agneflte","Agns","Agrippine","Aim","Alaine","Alas","Albane","Albrade","Alberte","Alcide","Alcine","Alcyone","Aldegonde","Aleth","Alexandrine","Alexine","Alice","Alinor","Aliette","Aline","Alix","Aliz","Alose","Aloyse","Alphonsine","Althe","Amaliane","Amalthe","Amande","Amandine","Amant","Amarande","Amaranthe","Amaryllis","Ambre","Ambroisie","Amlie","Amthyste","Aminte","Anal","Anas","Anastasie","Anatole","Ancelin","Andre","Anmone","Angadrme","Angle","Angeline","Anglique","Angilbert","Anicet","Annabelle","Anne","Annette","Annick","Annie","Annonciade","Ansbert","Anstrudie","Anthelme","Antigone","Antoinette","Antonine","Aphlie","Apolline","Apollonie","Aquiline","Arabelle","Arcadie","Archange","Argine","Ariane","Aricie","Ariel","Arielle","Arlette","Armance","Armande","Armandine","Armelle","Armide","Armelle","Armin","Arnaud","Arsne","Arsino","Artmis","Arthur","Ascelin","Ascension","Assomption","Astart","Astrie","Astre","Astrid","Athalie","Athanasie","Athina","Aube","Albert","Aude","Audrey","Augustine","Aure","Aurlie","Aurlien","Aurle","Aurore","Auxence","Aveline","Abigalle","Avoye","Axelle","Aymard","Azale","Adle","Adeline","Barbe","Basilisse","Bathilde","Batrice","Batrix","Bndicte","Brengre","Bernadette","Berthe","Bertille","Beuve","Blanche","Blanc","Blandine","Brigitte","Brune","Brunehilde","Callista","Camille","Capucine","Carine","Caroline","Cassandre","Catherine","Ccile","Cleste","Clestine","Cline","Chantal","Charlne","Charline","Charlotte","Chlo","Christelle","Christiane","Christine","Claire","Clara","Claude","Claudine","Clarisse","Clmence","Clmentine","Clo","Clio","Clotilde","Coline","Conception","Constance","Coralie","Coraline","Corentine","Corinne","Cyrielle","Daniel","Daniel","Daphn","Dbora","Delphine","Denise","Diane","Dieudonn","Dominique","Doriane","Dorothe","Douce","dith","Edme","lonore","liane","lia","liette","lisabeth","lise","Ella","lodie","lose","Elsa","meline","mrance","mrentienne","mrencie","milie","Emma","Emmanuelle","Emmelie","Ernestine","Esther","Estelle","Eudoxie","Eugnie","Eulalie","Euphrasie","Eusbie","vangline","Eva","ve","velyne","Fanny","Fantine","Faustine","Flicie","Fernande","Flavie","Fleur","Flore","Florence","Florie","Fortun","France","Francia","Franoise","Francine","Gabrielle","Galle","Garance","Genevive","Georgette","Gerberge","Germaine","Gertrude","Gisle","Guenivre","Guilhemine","Guillemette","Gustave","Gwenael","Hlne","Hlose","Henriette","Hermine","Hermione","Hippolyte","Honorine","Hortense","Huguette","Ines","Irne","Irina","Iris","Isabeau","Isabelle","Iseult","Isolde","Ismrie","Jacinthe","Jacqueline","Jade","Janine","Jeanne","Jocelyne","Jolle","Josphine","Judith","Julia","Julie","Jules","Juliette","Justine","Katy","Kathy","Katie","Laura","Laure","Laureline","Laurence","Laurene","Lauriane","Laurianne","Laurine","La","Lna","Lonie","Lon","Lontine","Lorraine","Lucie","Lucienne","Lucille","Ludivine","Lydie","Lydie","Megane","Madeleine","Magali","Maguelone","Mallaury","Manon","Marceline","Margot","Marguerite","Marianne","Marie","Myriam","Marie","Marine","Marion","Marlne","Marthe","Martine","Mathilde","Maud","Maureen","Mauricette","Maxime","Mlanie","Melissa","Mlissandre","Mlisande","Mlodie","Michel","Micheline","Mireille","Miriam","Mose","Monique","Morgane","Muriel","Mylne","Nadge","Nadine","Nathalie","Nicole","Nicolette","Nine","Nol","Nomie","Ocane","Odette","Odile","Olive","Olivia","Olympe","Ombline","Ombeline","Ophlie","Oriande","Oriane","Ozanne","Pascale","Pascaline","Paule","Paulette","Pauline","Priscille","Prisca","Prisque","Pcine","Plagie","Pnlope","Perrine","Ptronille","Philippine","Philomne","Philothe","Primerose","Prudence","Pulchrie","Quentine","Quita","Quintia","Quintilla","Rachel","Raphalle","Raymonde","Rebecca","Rgine","Rjeanne","Ren","Rita","Rita","Rolande","Romane","Rosalie","Rose","Roseline","Sabine","Salom","Sandra","Sandrine","Sarah","Sgolne","Sverine","Sibylle","Simone","Sixt","Solange","Soline","Solne","Sophie","Stphanie","Suzanne","Sylvain","Sylvie","Tatiana","Thas","Thodora","Thrse","Tiphaine","Ursule","Valentine","Valrie","Vronique","Victoire","Victorine","Vinciane","Violette","Virginie","Viviane","Xavire","Yolande","Ysaline","Yvette","Yvonne","Zlie","Zita","Zo"]}},lastNames:{en:["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans","Edwards","Collins","Stewart","Sanchez","Morris","Rogers","Reed","Cook","Morgan","Bell","Murphy","Bailey","Rivera","Cooper","Richardson","Cox","Howard","Ward","Torres","Peterson","Gray","Ramirez","James","Watson","Brooks","Kelly","Sanders","Price","Bennett","Wood","Barnes","Ross","Henderson","Coleman","Jenkins","Perry","Powell","Long","Patterson","Hughes","Flores","Washington","Butler","Simmons","Foster","Gonzales","Bryant","Alexander","Russell","Griffin","Diaz","Hayes","Myers","Ford","Hamilton","Graham","Sullivan","Wallace","Woods","Cole","West","Jordan","Owens","Reynolds","Fisher","Ellis","Harrison","Gibson","McDonald","Cruz","Marshall","Ortiz","Gomez","Murray","Freeman","Wells","Webb","Simpson","Stevens","Tucker","Porter","Hunter","Hicks","Crawford","Henry","Boyd","Mason","Morales","Kennedy","Warren","Dixon","Ramos","Reyes","Burns","Gordon","Shaw","Holmes","Rice","Robertson","Hunt","Black","Daniels","Palmer","Mills","Nichols","Grant","Knight","Ferguson","Rose","Stone","Hawkins","Dunn","Perkins","Hudson","Spencer","Gardner","Stephens","Payne","Pierce","Berry","Matthews","Arnold","Wagner","Willis","Ray","Watkins","Olson","Carroll","Duncan","Snyder","Hart","Cunningham","Bradley","Lane","Andrews","Ruiz","Harper","Fox","Riley","Armstrong","Carpenter","Weaver","Greene","Lawrence","Elliott","Chavez","Sims","Austin","Peters","Kelley","Franklin","Lawson","Fields","Gutierrez","Ryan","Schmidt","Carr","Vasquez","Castillo","Wheeler","Chapman","Oliver","Montgomery","Richards","Williamson","Johnston","Banks","Meyer","Bishop","McCoy","Howell","Alvarez","Morrison","Hansen","Fernandez","Garza","Harvey","Little","Burton","Stanley","Nguyen","George","Jacobs","Reid","Kim","Fuller","Lynch","Dean","Gilbert","Garrett","Romero","Welch","Larson","Frazier","Burke","Hanson","Day","Mendoza","Moreno","Bowman","Medina","Fowler","Brewer","Hoffman","Carlson","Silva","Pearson","Holland","Douglas","Fleming","Jensen","Vargas","Byrd","Davidson","Hopkins","May","Terry","Herrera","Wade","Soto","Walters","Curtis","Neal","Caldwell","Lowe","Jennings","Barnett","Graves","Jimenez","Horton","Shelton","Barrett","Obrien","Castro","Sutton","Gregory","McKinney","Lucas","Miles","Craig","Rodriquez","Chambers","Holt","Lambert","Fletcher","Watts","Bates","Hale","Rhodes","Pena","Beck","Newman","Haynes","McDaniel","Mendez","Bush","Vaughn","Parks","Dawson","Santiago","Norris","Hardy","Love","Steele","Curry","Powers","Schultz","Barker","Guzman","Page","Munoz","Ball","Keller","Chandler","Weber","Leonard","Walsh","Lyons","Ramsey","Wolfe","Schneider","Mullins","Benson","Sharp","Bowen","Daniel","Barber","Cummings","Hines","Baldwin","Griffith","Valdez","Hubbard","Salazar","Reeves","Warner","Stevenson","Burgess","Santos","Tate","Cross","Garner","Mann","Mack","Moss","Thornton","Dennis","McGee","Farmer","Delgado","Aguilar","Vega","Glover","Manning","Cohen","Harmon","Rodgers","Robbins","Newton","Todd","Blair","Higgins","Ingram","Reese","Cannon","Strickland","Townsend","Potter","Goodwin","Walton","Rowe","Hampton","Ortega","Patton","Swanson","Joseph","Francis","Goodman","Maldonado","Yates","Becker","Erickson","Hodges","Rios","Conner","Adkins","Webster","Norman","Malone","Hammond","Flowers","Cobb","Moody","Quinn","Blake","Maxwell","Pope","Floyd","Osborne","Paul","McCarthy","Guerrero","Lindsey","Estrada","Sandoval","Gibbs","Tyler","Gross","Fitzgerald","Stokes","Doyle","Sherman","Saunders","Wise","Colon","Gill","Alvarado","Greer","Padilla","Simon","Waters","Nunez","Ballard","Schwartz","McBride","Houston","Christensen","Klein","Pratt","Briggs","Parsons","McLaughlin","Zimmerman","French","Buchanan","Moran","Copeland","Roy","Pittman","Brady","McCormick","Holloway","Brock","Poole","Frank","Logan","Owen","Bass","Marsh","Drake","Wong","Jefferson","Park","Morton","Abbott","Sparks","Patrick","Norton","Huff","Clayton","Massey","Lloyd","Figueroa","Carson","Bowers","Roberson","Barton","Tran","Lamb","Harrington","Casey","Boone","Cortez","Clarke","Mathis","Singleton","Wilkins","Cain","Bryan","Underwood","Hogan","McKenzie","Collier","Luna","Phelps","McGuire","Allison","Bridges","Wilkerson","Nash","Summers","Atkins"],it:["Acciai","Aglietti","Agostini","Agresti","Ahmed","Aiazzi","Albanese","Alberti","Alessi","Alfani","Alinari","Alterini","Amato","Ammannati","Ancillotti","Andrei","Andreini","Andreoni","Angeli","Anichini","Antonelli","Antonini","Arena","Ariani","Arnetoli","Arrighi","Baccani","Baccetti","Bacci","Bacherini","Badii","Baggiani","Baglioni","Bagni","Bagnoli","Baldassini","Baldi","Baldini","Ballerini","Balli","Ballini","Balloni","Bambi","Banchi","Bandinelli","Bandini","Bani","Barbetti","Barbieri","Barchielli","Bardazzi","Bardelli","Bardi","Barducci","Bargellini","Bargiacchi","Barni","Baroncelli","Baroncini","Barone","Baroni","Baronti","Bartalesi","Bartoletti","Bartoli","Bartolini","Bartoloni","Bartolozzi","Basagni","Basile","Bassi","Batacchi","Battaglia","Battaglini","Bausi","Becagli","Becattini","Becchi","Becucci","Bellandi","Bellesi","Belli","Bellini","Bellucci","Bencini","Benedetti","Benelli","Beni","Benini","Bensi","Benucci","Benvenuti","Berlincioni","Bernacchioni","Bernardi","Bernardini","Berni","Bernini","Bertelli","Berti","Bertini","Bessi","Betti","Bettini","Biagi","Biagini","Biagioni","Biagiotti","Biancalani","Bianchi","Bianchini","Bianco","Biffoli","Bigazzi","Bigi","Biliotti","Billi","Binazzi","Bindi","Bini","Biondi","Bizzarri","Bocci","Bogani","Bolognesi","Bonaiuti","Bonanni","Bonciani","Boncinelli","Bondi","Bonechi","Bongini","Boni","Bonini","Borchi","Boretti","Borghi","Borghini","Borgioli","Borri","Borselli","Boschi","Bottai","Bracci","Braccini","Brandi","Braschi","Bravi","Brazzini","Breschi","Brilli","Brizzi","Brogelli","Brogi","Brogioni","Brunelli","Brunetti","Bruni","Bruno","Brunori","Bruschi","Bucci","Bucciarelli","Buccioni","Bucelli","Bulli","Burberi","Burchi","Burgassi","Burroni","Bussotti","Buti","Caciolli","Caiani","Calabrese","Calamai","Calamandrei","Caldini","Calo'","Calonaci","Calosi","Calvelli","Cambi","Camiciottoli","Cammelli","Cammilli","Campolmi","Cantini","Capanni","Capecchi","Caponi","Cappelletti","Cappelli","Cappellini","Cappugi","Capretti","Caputo","Carbone","Carboni","Cardini","Carlesi","Carletti","Carli","Caroti","Carotti","Carrai","Carraresi","Carta","Caruso","Casalini","Casati","Caselli","Casini","Castagnoli","Castellani","Castelli","Castellucci","Catalano","Catarzi","Catelani","Cavaciocchi","Cavallaro","Cavallini","Cavicchi","Cavini","Ceccarelli","Ceccatelli","Ceccherelli","Ceccherini","Cecchi","Cecchini","Cecconi","Cei","Cellai","Celli","Cellini","Cencetti","Ceni","Cenni","Cerbai","Cesari","Ceseri","Checcacci","Checchi","Checcucci","Cheli","Chellini","Chen","Cheng","Cherici","Cherubini","Chiaramonti","Chiarantini","Chiarelli","Chiari","Chiarini","Chiarugi","Chiavacci","Chiesi","Chimenti","Chini","Chirici","Chiti","Ciabatti","Ciampi","Cianchi","Cianfanelli","Cianferoni","Ciani","Ciapetti","Ciappi","Ciardi","Ciatti","Cicali","Ciccone","Cinelli","Cini","Ciobanu","Ciolli","Cioni","Cipriani","Cirillo","Cirri","Ciucchi","Ciuffi","Ciulli","Ciullini","Clemente","Cocchi","Cognome","Coli","Collini","Colombo","Colzi","Comparini","Conforti","Consigli","Conte","Conti","Contini","Coppini","Coppola","Corsi","Corsini","Corti","Cortini","Cosi","Costa","Costantini","Costantino","Cozzi","Cresci","Crescioli","Cresti","Crini","Curradi","D'Agostino","D'Alessandro","D'Amico","D'Angelo","Daddi","Dainelli","Dallai","Danti","Davitti","De Angelis","De Luca","De Marco","De Rosa","De Santis","De Simone","De Vita","Degl'Innocenti","Degli Innocenti","Dei","Del Lungo","Del Re","Di Marco","Di Stefano","Dini","Diop","Dobre","Dolfi","Donati","Dondoli","Dong","Donnini","Ducci","Dumitru","Ermini","Esposito","Evangelisti","Fabbri","Fabbrini","Fabbrizzi","Fabbroni","Fabbrucci","Fabiani","Facchini","Faggi","Fagioli","Failli","Faini","Falciani","Falcini","Falcone","Fallani","Falorni","Falsini","Falugiani","Fancelli","Fanelli","Fanetti","Fanfani","Fani","Fantappie'","Fantechi","Fanti","Fantini","Fantoni","Farina","Fattori","Favilli","Fedi","Fei","Ferrante","Ferrara","Ferrari","Ferraro","Ferretti","Ferri","Ferrini","Ferroni","Fiaschi","Fibbi","Fiesoli","Filippi","Filippini","Fini","Fioravanti","Fiore","Fiorentini","Fiorini","Fissi","Focardi","Foggi","Fontana","Fontanelli","Fontani","Forconi","Formigli","Forte","Forti","Fortini","Fossati","Fossi","Francalanci","Franceschi","Franceschini","Franchi","Franchini","Franci","Francini","Francioni","Franco","Frassineti","Frati","Fratini","Frilli","Frizzi","Frosali","Frosini","Frullini","Fusco","Fusi","Gabbrielli","Gabellini","Gagliardi","Galanti","Galardi","Galeotti","Galletti","Galli","Gallo","Gallori","Gambacciani","Gargani","Garofalo","Garuglieri","Gashi","Gasperini","Gatti","Gelli","Gensini","Gentile","Gentili","Geri","Gerini","Gheri","Ghini","Giachetti","Giachi","Giacomelli","Gianassi","Giani","Giannelli","Giannetti","Gianni","Giannini","Giannoni","Giannotti","Giannozzi","Gigli","Giordano","Giorgetti","Giorgi","Giovacchini","Giovannelli","Giovannetti","Giovannini","Giovannoni","Giuliani","Giunti","Giuntini","Giusti","Gonnelli","Goretti","Gori","Gradi","Gramigni","Grassi","Grasso","Graziani","Grazzini","Greco","Grifoni","Grillo","Grimaldi","Grossi","Gualtieri","Guarducci","Guarino","Guarnieri","Guasti","Guerra","Guerri","Guerrini","Guidi","Guidotti","He","Hoxha","Hu","Huang","Iandelli","Ignesti","Innocenti","Jin","La Rosa","Lai","Landi","Landini","Lanini","Lapi","Lapini","Lari","Lascialfari","Lastrucci","Latini","Lazzeri","Lazzerini","Lelli","Lenzi","Leonardi","Leoncini","Leone","Leoni","Lepri","Li","Liao","Lin","Linari","Lippi","Lisi","Livi","Lombardi","Lombardini","Lombardo","Longo","Lopez","Lorenzi","Lorenzini","Lorini","Lotti","Lu","Lucchesi","Lucherini","Lunghi","Lupi","Madiai","Maestrini","Maffei","Maggi","Maggini","Magherini","Magini","Magnani","Magnelli","Magni","Magnolfi","Magrini","Malavolti","Malevolti","Manca","Mancini","Manetti","Manfredi","Mangani","Mannelli","Manni","Mannini","Mannucci","Manuelli","Manzini","Marcelli","Marchese","Marchetti","Marchi","Marchiani","Marchionni","Marconi","Marcucci","Margheri","Mari","Mariani","Marilli","Marinai","Marinari","Marinelli","Marini","Marino","Mariotti","Marsili","Martelli","Martinelli","Martini","Martino","Marzi","Masi","Masini","Masoni","Massai","Materassi","Mattei","Matteini","Matteucci","Matteuzzi","Mattioli","Mattolini","Matucci","Mauro","Mazzanti","Mazzei","Mazzetti","Mazzi","Mazzini","Mazzocchi","Mazzoli","Mazzoni","Mazzuoli","Meacci","Mecocci","Meini","Melani","Mele","Meli","Mengoni","Menichetti","Meoni","Merlini","Messeri","Messina","Meucci","Miccinesi","Miceli","Micheli","Michelini","Michelozzi","Migliori","Migliorini","Milani","Miniati","Misuri","Monaco","Montagnani","Montagni","Montanari","Montelatici","Monti","Montigiani","Montini","Morandi","Morandini","Morelli","Moretti","Morganti","Mori","Morini","Moroni","Morozzi","Mugnai","Mugnaini","Mustafa","Naldi","Naldini","Nannelli","Nanni","Nannini","Nannucci","Nardi","Nardini","Nardoni","Natali","Ndiaye","Nencetti","Nencini","Nencioni","Neri","Nesi","Nesti","Niccolai","Niccoli","Niccolini","Nigi","Nistri","Nocentini","Noferini","Novelli","Nucci","Nuti","Nutini","Oliva","Olivieri","Olmi","Orlandi","Orlandini","Orlando","Orsini","Ortolani","Ottanelli","Pacciani","Pace","Paci","Pacini","Pagani","Pagano","Paggetti","Pagliai","Pagni","Pagnini","Paladini","Palagi","Palchetti","Palloni","Palmieri","Palumbo","Pampaloni","Pancani","Pandolfi","Pandolfini","Panerai","Panichi","Paoletti","Paoli","Paolini","Papi","Papini","Papucci","Parenti","Parigi","Parisi","Parri","Parrini","Pasquini","Passeri","Pecchioli","Pecorini","Pellegrini","Pepi","Perini","Perrone","Peruzzi","Pesci","Pestelli","Petri","Petrini","Petrucci","Pettini","Pezzati","Pezzatini","Piani","Piazza","Piazzesi","Piazzini","Piccardi","Picchi","Piccini","Piccioli","Pieraccini","Pieraccioni","Pieralli","Pierattini","Pieri","Pierini","Pieroni","Pietrini","Pini","Pinna","Pinto","Pinzani","Pinzauti","Piras","Pisani","Pistolesi","Poggesi","Poggi","Poggiali","Poggiolini","Poli","Pollastri","Porciani","Pozzi","Pratellesi","Pratesi","Prosperi","Pruneti","Pucci","Puccini","Puccioni","Pugi","Pugliese","Puliti","Querci","Quercioli","Raddi","Radu","Raffaelli","Ragazzini","Ranfagni","Ranieri","Rastrelli","Raugei","Raveggi","Renai","Renzi","Rettori","Ricci","Ricciardi","Ridi","Ridolfi","Rigacci","Righi","Righini","Rinaldi","Risaliti","Ristori","Rizzo","Rocchi","Rocchini","Rogai","Romagnoli","Romanelli","Romani","Romano","Romei","Romeo","Romiti","Romoli","Romolini","Rontini","Rosati","Roselli","Rosi","Rossetti","Rossi","Rossini","Rovai","Ruggeri","Ruggiero","Russo","Sabatini","Saccardi","Sacchetti","Sacchi","Sacco","Salerno","Salimbeni","Salucci","Salvadori","Salvestrini","Salvi","Salvini","Sanesi","Sani","Sanna","Santi","Santini","Santoni","Santoro","Santucci","Sardi","Sarri","Sarti","Sassi","Sbolci","Scali","Scarpelli","Scarselli","Scopetani","Secci","Selvi","Senatori","Senesi","Serafini","Sereni","Serra","Sestini","Sguanci","Sieni","Signorini","Silvestri","Simoncini","Simonetti","Simoni","Singh","Sodi","Soldi","Somigli","Sorbi","Sorelli","Sorrentino","Sottili","Spina","Spinelli","Staccioli","Staderini","Stefanelli","Stefani","Stefanini","Stella","Susini","Tacchi","Tacconi","Taddei","Tagliaferri","Tamburini","Tanganelli","Tani","Tanini","Tapinassi","Tarchi","Tarchiani","Targioni","Tassi","Tassini","Tempesti","Terzani","Tesi","Testa","Testi","Tilli","Tinti","Tirinnanzi","Toccafondi","Tofanari","Tofani","Tognaccini","Tonelli","Tonini","Torelli","Torrini","Tosi","Toti","Tozzi","Trambusti","Trapani","Tucci","Turchi","Ugolini","Ulivi","Valente","Valenti","Valentini","Vangelisti","Vanni","Vannini","Vannoni","Vannozzi","Vannucchi","Vannucci","Ventura","Venturi","Venturini","Vestri","Vettori","Vichi","Viciani","Vieri","Vigiani","Vignoli","Vignolini","Vignozzi","Villani","Vinci","Visani","Vitale","Vitali","Viti","Viviani","Vivoli","Volpe","Volpi","Wang","Wu","Xu","Yang","Ye","Zagli","Zani","Zanieri","Zanobini","Zecchi","Zetti","Zhang","Zheng","Zhou","Zhu","Zingoni","Zini","Zoppi"],nl:["Albers","Alblas","Appelman","Baars","Baas","Bakker","Blank","Bleeker","Blok","Blom","Boer","Boers","Boldewijn","Boon","Boot","Bos","Bosch","Bosma","Bosman","Bouma","Bouman","Bouwman","Brands","Brouwer","Burger","Buijs","Buitenhuis","Ceder","Cohen","Dekker","Dekkers","Dijkman","Dijkstra","Driessen","Drost","Engel","Evers","Faber","Franke","Gerritsen","Goedhart","Goossens","Groen","Groenenberg","Groot","Haan","Hart","Heemskerk","Hendriks","Hermans","Hoekstra","Hofman","Hopman","Huisman","Jacobs","Jansen","Janssen","Jonker","Jaspers","Keijzer","Klaassen","Klein","Koek","Koenders","Kok","Kool","Koopman","Koopmans","Koning","Koster","Kramer","Kroon","Kuijpers","Kuiper","Kuipers","Kurt","Koster","Kwakman","Los","Lubbers","Maas","Markus","Martens","Meijer","Mol","Molenaar","Mulder","Nieuwenhuis","Peeters","Peters","Pengel","Pieters","Pool","Post","Postma","Prins","Pronk","Reijnders","Rietveld","Roest","Roos","Sanders","Schaap","Scheffer","Schenk","Schilder","Schipper","Schmidt","Scholten","Schouten","Schut","Schutte","Schuurman","Simons","Smeets","Smit","Smits","Snel","Swinkels","Tas","Terpstra","Timmermans","Tol","Tromp","Troost","Valk","Veenstra","Veldkamp","Verbeek","Verheul","Verhoeven","Vermeer","Vermeulen","Verweij","Vink","Visser","Voorn","Vos","Wagenaar","Wiersema","Willems","Willemsen","Witteveen","Wolff","Wolters","Zijlstra","Zwart","de Beer","de Boer","de Bruijn","de Bruin","de Graaf","de Groot","de Haan","de Haas","de Jager","de Jong","de Jonge","de Koning","de Lange","de Leeuw","de Ridder","de Rooij","de Ruiter","de Vos","de Vries","de Waal","de Wit","de Zwart","van Beek","van Boven","van Dam","van Dijk","van Dongen","van Doorn","van Egmond","van Eijk","van Es","van Gelder","van Gelderen","van Houten","van Hulst","van Kempen","van Kesteren","van Leeuwen","van Loon","van Mill","van Noord","van Ommen","van Ommeren","van Oosten","van Oostveen","van Rijn","van Schaik","van Veen","van Vliet","van Wijk","van Wijngaarden","van den Poel","van de Pol","van den Ploeg","van de Ven","van den Berg","van den Bosch","van den Brink","van den Broek","van den Heuvel","van der Heijden","van der Horst","van der Hulst","van der Kroon","van der Laan","van der Linden","van der Meer","van der Meij","van der Meulen","van der Molen","van der Sluis","van der Spek","van der Veen","van der Velde","van der Velden","van der Vliet","van der Wal"],uk:["Smith","Jones","Williams","Taylor","Brown","Davies","Evans","Wilson","Thomas","Johnson","Roberts","Robinson","Thompson","Wright","Walker","White","Edwards","Hughes","Green","Hall","Lewis","Harris","Clarke","Patel","Jackson","Wood","Turner","Martin","Cooper","Hill","Ward","Morris","Moore","Clark","Lee","King","Baker","Harrison","Morgan","Allen","James","Scott","Phillips","Watson","Davis","Parker","Price","Bennett","Young","Griffiths","Mitchell","Kelly","Cook","Carter","Richardson","Bailey","Collins","Bell","Shaw","Murphy","Miller","Cox","Richards","Khan","Marshall","Anderson","Simpson","Ellis","Adams","Singh","Begum","Wilkinson","Foster","Chapman","Powell","Webb","Rogers","Gray","Mason","Ali","Hunt","Hussain","Campbell","Matthews","Owen","Palmer","Holmes","Mills","Barnes","Knight","Lloyd","Butler","Russell","Barker","Fisher","Stevens","Jenkins","Murray","Dixon","Harvey","Graham","Pearson","Ahmed","Fletcher","Walsh","Kaur","Gibson","Howard","Andrews","Stewart","Elliott","Reynolds","Saunders","Payne","Fox","Ford","Pearce","Day","Brooks","West","Lawrence","Cole","Atkinson","Bradley","Spencer","Gill","Dawson","Ball","Burton","O'brien","Watts","Rose","Booth","Perry","Ryan","Grant","Wells","Armstrong","Francis","Rees","Hayes","Hart","Hudson","Newman","Barrett","Webster","Hunter","Gregory","Carr","Lowe","Page","Marsh","Riley","Dunn","Woods","Parsons","Berry","Stone","Reid","Holland","Hawkins","Harding","Porter","Robertson","Newton","Oliver","Reed","Kennedy","Williamson","Bird","Gardner","Shah","Dean","Lane","Cooke","Bates","Henderson","Parry","Burgess","Bishop","Walton","Burns","Nicholson","Shepherd","Ross","Cross","Long","Freeman","Warren","Nicholls","Hamilton","Byrne","Sutton","Mcdonald","Yates","Hodgson","Robson","Curtis","Hopkins","O'connor","Harper","Coleman","Watkins","Moss","Mccarthy","Chambers","O'neill","Griffin","Sharp","Hardy","Wheeler","Potter","Osborne","Johnston","Gordon","Doyle","Wallace","George","Jordan","Hutchinson","Rowe","Burke","May","Pritchard","Gilbert","Willis","Higgins","Read","Miles","Stevenson","Stephenson","Hammond","Arnold","Buckley","Walters","Hewitt","Barber","Nelson","Slater","Austin","Sullivan","Whitehead","Mann","Frost","Lambert","Stephens","Blake","Akhtar","Lynch","Goodwin","Barton","Woodward","Thomson","Cunningham","Quinn","Barnett","Baxter","Bibi","Clayton","Nash","Greenwood","Jennings","Holt","Kemp","Poole","Gallagher","Bond","Stokes","Tucker","Davidson","Fowler","Heath","Norman","Middleton","Lawson","Banks","French","Stanley","Jarvis","Gibbs","Ferguson","Hayward","Carroll","Douglas","Dickinson","Todd","Barlow","Peters","Lucas","Knowles","Hartley","Miah","Simmons","Morton","Alexander","Field","Morrison","Norris","Townsend","Preston","Hancock","Thornton","Baldwin","Burrows","Briggs","Parkinson","Reeves","Macdonald","Lamb","Black","Abbott","Sanders","Thorpe","Holden","Tomlinson","Perkins","Ashton","Rhodes","Fuller","Howe","Bryant","Vaughan","Dale","Davey","Weston","Bartlett","Whittaker","Davison","Kent","Skinner","Birch","Morley","Daniels","Glover","Howell","Cartwright","Pugh","Humphreys","Goddard","Brennan","Wall","Kirby","Bowen","Savage","Bull","Wong","Dobson","Smart","Wilkins","Kirk","Fraser","Duffy","Hicks","Patterson","Bradshaw","Little","Archer","Warner","Waters","O'sullivan","Farrell","Brookes","Atkins","Kay","Dodd","Bentley","Flynn","John","Schofield","Short","Haynes","Wade","Butcher","Henry","Sanderson","Crawford","Sheppard","Bolton","Coates","Giles","Gould","Houghton","Gibbons","Pratt","Manning","Law","Hooper","Noble","Dyer","Rahman","Clements","Moran","Sykes","Chan","Doherty","Connolly","Joyce","Franklin","Hobbs","Coles","Herbert","Steele","Kerr","Leach","Winter","Owens","Duncan","Naylor","Fleming","Horton","Finch","Fitzgerald","Randall","Carpenter","Marsden","Browne","Garner","Pickering","Hale","Dennis","Vincent","Chadwick","Chandler","Sharpe","Nolan","Lyons","Hurst","Collier","Peacock","Howarth","Faulkner","Rice","Pollard","Welch","Norton","Gough","Sinclair","Blackburn","Bryan","Conway","Power","Cameron","Daly","Allan","Hanson","Gardiner","Boyle","Myers","Turnbull","Wallis","Mahmood","Sims","Swift","Iqbal","Pope","Brady","Chamberlain","Rowley","Tyler","Farmer","Metcalfe","Hilton","Godfrey","Holloway","Parkin","Bray","Talbot","Donnelly","Nixon","Charlton","Benson","Whitehouse","Barry","Hope","Lord","North","Storey","Connor","Potts","Bevan","Hargreaves","Mclean","Mistry","Bruce","Howells","Hyde","Parkes","Wyatt","Fry","Lees","O'donnell","Craig","Forster","Mckenzie","Humphries","Mellor","Carey","Ingram","Summers","Leonard"],de:["Mller","Schmidt","Schneider","Fischer","Weber","Meyer","Wagner","Becker","Schulz","Hoffmann","Schfer","Koch","Bauer","Richter","Klein","Wolf","Schrder","Neumann","Schwarz","Zimmermann","Braun","Krger","Hofmann","Hartmann","Lange","Schmitt","Werner","Schmitz","Krause","Meier","Lehmann","Schmid","Schulze","Maier","Khler","Herrmann","Knig","Walter","Mayer","Huber","Kaiser","Fuchs","Peters","Lang","Scholz","Mller","Wei","Jung","Hahn","Schubert","Vogel","Friedrich","Keller","Gnther","Frank","Berger","Winkler","Roth","Beck","Lorenz","Baumann","Franke","Albrecht","Schuster","Simon","Ludwig","Bhm","Winter","Kraus","Martin","Schumacher","Krmer","Vogt","Stein","Jger","Otto","Sommer","Gro","Seidel","Heinrich","Brandt","Haas","Schreiber","Graf","Schulte","Dietrich","Ziegler","Kuhn","Khn","Pohl","Engel","Horn","Busch","Bergmann","Thomas","Voigt","Sauer","Arnold","Wolff","Pfeiffer"],jp:["Sato","Suzuki","Takahashi","Tanaka","Watanabe","Ito","Yamamoto","Nakamura","Kobayashi","Kato","Yoshida","Yamada","Sasaki","Yamaguchi","Saito","Matsumoto","Inoue","Kimura","Hayashi","Shimizu","Yamazaki","Mori","Abe","Ikeda","Hashimoto","Yamashita","Ishikawa","Nakajima","Maeda","Fujita","Ogawa","Goto","Okada","Hasegawa","Murakami","Kondo","Ishii","Saito","Sakamoto","Endo","Aoki","Fujii","Nishimura","Fukuda","Ota","Miura","Fujiwara","Okamoto","Matsuda","Nakagawa","Nakano","Harada","Ono","Tamura","Takeuchi","Kaneko","Wada","Nakayama","Ishida","Ueda","Morita","Hara","Shibata","Sakai","Kudo","Yokoyama","Miyazaki","Miyamoto","Uchida","Takagi","Ando","Taniguchi","Ohno","Maruyama","Imai","Takada","Fujimoto","Takeda","Murata","Ueno","Sugiyama","Masuda","Sugawara","Hirano","Kojima","Otsuka","Chiba","Kubo","Matsui","Iwasaki","Sakurai","Kinoshita","Noguchi","Matsuo","Nomura","Kikuchi","Sano","Onishi","Sugimoto","Arai"],es:["Garcia","Fernandez","Lopez","Martinez","Gonzalez","Rodriguez","Sanchez","Perez","Martin","Gomez","Ruiz","Diaz","Hernandez","Alvarez","Jimenez","Moreno","Munoz","Alonso","Romero","Navarro","Gutierrez","Torres","Dominguez","Gil","Vazquez","Blanco","Serrano","Ramos","Castro","Suarez","Sanz","Rubio","Ortega","Molina","Delgado","Ortiz","Morales","Ramirez","Marin","Iglesias","Santos","Castillo","Garrido","Calvo","Pena","Cruz","Cano","Nunez","Prieto","Diez","Lozano","Vidal","Pascual","Ferrer","Medina","Vega","Leon","Herrero","Vicente","Mendez","Guerrero","Fuentes","Campos","Nieto","Cortes","Caballero","Ibanez","Lorenzo","Pastor","Gimenez","Saez","Soler","Marquez","Carrasco","Herrera","Montero","Arias","Crespo","Flores","Andres","Aguilar","Hidalgo","Cabrera","Mora","Duran","Velasco","Rey","Pardo","Roman","Vila","Bravo","Merino","Moya","Soto","Izquierdo","Reyes","Redondo","Marcos","Carmona","Menendez"],fr:["Martin","Bernard","Thomas","Petit","Robert","Richard","Durand","Dubois","Moreau","Laurent","Simon","Michel","Lefvre","Leroy","Roux","David","Bertrand","Morel","Fournier","Girard","Bonnet","Dupont","Lambert","Fontaine","Rousseau","Vincent","Mller","Lefvre","Faure","Andr","Mercier","Blanc","Gurin","Boyer","Garnier","Chevalier","Franois","Legrand","Gauthier","Garcia","Perrin","Robin","Clment","Morin","Nicolas","Henry","Roussel","Matthieu","Gautier","Masson","Marchand","Duval","Denis","Dumont","Marie","Lemaire","Nol","Meyer","Dufour","Meunier","Brun","Blanchard","Giraud","Joly","Rivire","Lucas","Brunet","Gaillard","Barbier","Arnaud","Martnez","Grard","Roche","Renard","Schmitt","Roy","Leroux","Colin","Vidal","Caron","Picard","Roger","Fabre","Aubert","Lemoine","Renaud","Dumas","Lacroix","Olivier","Philippe","Bourgeois","Pierre","Benot","Rey","Leclerc","Payet","Rolland","Leclercq","Guillaume","Lecomte","Lpez","Jean","Dupuy","Guillot","Hubert","Berger","Carpentier","Snchez","Dupuis","Moulin","Louis","Deschamps","Huet","Vasseur","Perez","Boucher","Fleury","Royer","Klein","Jacquet","Adam","Paris","Poirier","Marty","Aubry","Guyot","Carr","Charles","Renault","Charpentier","Mnard","Maillard","Baron","Bertin","Bailly","Herv","Schneider","Fernndez","Le GallGall","Collet","Lger","Bouvier","Julien","Prvost","Millet","Perrot","Daniel","Le RouxRoux","Cousin","Germain","Breton","Besson","Langlois","Rmi","Le GoffGoff","Pelletier","Lvque","Perrier","Leblanc","Barr","Lebrun","Marchal","Weber","Mallet","Hamon","Boulanger","Jacob","Monnier","Michaud","Rodrguez","Guichard","Gillet","tienne","Grondin","Poulain","Tessier","Chevallier","Collin","Chauvin","Da SilvaSilva","Bouchet","Gay","Lematre","Bnard","Marchal","Humbert","Reynaud","Antoine","Hoarau","Perret","Barthlemy","Cordier","Pichon","Lejeune","Gilbert","Lamy","Delaunay","Pasquier","Carlier","LaporteLaporte"]},postcodeAreas:[{code:"AB"},{code:"AL"},{code:"B"},{code:"BA"},{code:"BB"},{code:"BD"},{code:"BH"},{code:"BL"},{code:"BN"},{code:"BR"},{code:"BS"},{code:"BT"},{code:"CA"},{code:"CB"},{code:"CF"},{code:"CH"},{code:"CM"},{code:"CO"},{code:"CR"},{code:"CT"},{code:"CV"},{code:"CW"},{code:"DA"},{code:"DD"},{code:"DE"},{code:"DG"},{code:"DH"},{code:"DL"},{code:"DN"},{code:"DT"},{code:"DY"},{code:"E"},{code:"EC"},{code:"EH"},{code:"EN"},{code:"EX"},{code:"FK"},{code:"FY"},{code:"G"},{code:"GL"},{code:"GU"},{code:"GY"},{code:"HA"},{code:"HD"},{code:"HG"},{code:"HP"},{code:"HR"},{code:"HS"},{code:"HU"},{code:"HX"},{code:"IG"},{code:"IM"},{code:"IP"},{code:"IV"},{code:"JE"},{code:"KA"},{code:"KT"},{code:"KW"},{code:"KY"},{code:"L"},{code:"LA"},{code:"LD"},{code:"LE"},{code:"LL"},{code:"LN"},{code:"LS"},{code:"LU"},{code:"M"},{code:"ME"},{code:"MK"},{code:"ML"},{code:"N"},{code:"NE"},{code:"NG"},{code:"NN"},{code:"NP"},{code:"NR"},{code:"NW"},{code:"OL"},{code:"OX"},{code:"PA"},{code:"PE"},{code:"PH"},{code:"PL"},{code:"PO"},{code:"PR"},{code:"RG"},{code:"RH"},{code:"RM"},{code:"S"},{code:"SA"},{code:"SE"},{code:"SG"},{code:"SK"},{code:"SL"},{code:"SM"},{code:"SN"},{code:"SO"},{code:"SP"},{code:"SR"},{code:"SS"},{code:"ST"},{code:"SW"},{code:"SY"},{code:"TA"},{code:"TD"},{code:"TF"},{code:"TN"},{code:"TQ"},{code:"TR"},{code:"TS"},{code:"TW"},{code:"UB"},{code:"W"},{code:"WA"},{code:"WC"},{code:"WD"},{code:"WF"},{code:"WN"},{code:"WR"},{code:"WS"},{code:"WV"},{code:"YO"},{code:"ZE"}],countries:[{name:"Afghanistan",abbreviation:"AF"},{name:"land Islands",abbreviation:"AX"},{name:"Albania",abbreviation:"AL"},{name:"Algeria",abbreviation:"DZ"},{name:"American Samoa",abbreviation:"AS"},{name:"Andorra",abbreviation:"AD"},{name:"Angola",abbreviation:"AO"},{name:"Anguilla",abbreviation:"AI"},{name:"Antarctica",abbreviation:"AQ"},{name:"Antigua & Barbuda",abbreviation:"AG"},{name:"Argentina",abbreviation:"AR"},{name:"Armenia",abbreviation:"AM"},{name:"Aruba",abbreviation:"AW"},{name:"Ascension Island",abbreviation:"AC"},{name:"Australia",abbreviation:"AU"},{name:"Austria",abbreviation:"AT"},{name:"Azerbaijan",abbreviation:"AZ"},{name:"Bahamas",abbreviation:"BS"},{name:"Bahrain",abbreviation:"BH"},{name:"Bangladesh",abbreviation:"BD"},{name:"Barbados",abbreviation:"BB"},{name:"Belarus",abbreviation:"BY"},{name:"Belgium",abbreviation:"BE"},{name:"Belize",abbreviation:"BZ"},{name:"Benin",abbreviation:"BJ"},{name:"Bermuda",abbreviation:"BM"},{name:"Bhutan",abbreviation:"BT"},{name:"Bolivia",abbreviation:"BO"},{name:"Bosnia & Herzegovina",abbreviation:"BA"},{name:"Botswana",abbreviation:"BW"},{name:"Brazil",abbreviation:"BR"},{name:"British Indian Ocean Territory",abbreviation:"IO"},{name:"British Virgin Islands",abbreviation:"VG"},{name:"Brunei",abbreviation:"BN"},{name:"Bulgaria",abbreviation:"BG"},{name:"Burkina Faso",abbreviation:"BF"},{name:"Burundi",abbreviation:"BI"},{name:"Cambodia",abbreviation:"KH"},{name:"Cameroon",abbreviation:"CM"},{name:"Canada",abbreviation:"CA"},{name:"Canary Islands",abbreviation:"IC"},{name:"Cape Verde",abbreviation:"CV"},{name:"Caribbean Netherlands",abbreviation:"BQ"},{name:"Cayman Islands",abbreviation:"KY"},{name:"Central African Republic",abbreviation:"CF"},{name:"Ceuta & Melilla",abbreviation:"EA"},{name:"Chad",abbreviation:"TD"},{name:"Chile",abbreviation:"CL"},{name:"China",abbreviation:"CN"},{name:"Christmas Island",abbreviation:"CX"},{name:"Cocos (Keeling) Islands",abbreviation:"CC"},{name:"Colombia",abbreviation:"CO"},{name:"Comoros",abbreviation:"KM"},{name:"Congo - Brazzaville",abbreviation:"CG"},{name:"Congo - Kinshasa",abbreviation:"CD"},{name:"Cook Islands",abbreviation:"CK"},{name:"Costa Rica",abbreviation:"CR"},{name:"Cte d'Ivoire",abbreviation:"CI"},{name:"Croatia",abbreviation:"HR"},{name:"Cuba",abbreviation:"CU"},{name:"Curaao",abbreviation:"CW"},{name:"Cyprus",abbreviation:"CY"},{name:"Czech Republic",abbreviation:"CZ"},{name:"Denmark",abbreviation:"DK"},{name:"Diego Garcia",abbreviation:"DG"},{name:"Djibouti",abbreviation:"DJ"},{name:"Dominica",abbreviation:"DM"},{name:"Dominican Republic",abbreviation:"DO"},{name:"Ecuador",abbreviation:"EC"},{name:"Egypt",abbreviation:"EG"},{name:"El Salvador",abbreviation:"SV"},{name:"Equatorial Guinea",abbreviation:"GQ"},{name:"Eritrea",abbreviation:"ER"},{name:"Estonia",abbreviation:"EE"},{name:"Ethiopia",abbreviation:"ET"},{name:"Falkland Islands",abbreviation:"FK"},{name:"Faroe Islands",abbreviation:"FO"},{name:"Fiji",abbreviation:"FJ"},{name:"Finland",abbreviation:"FI"},{name:"France",abbreviation:"FR"},{name:"French Guiana",abbreviation:"GF"},{name:"French Polynesia",abbreviation:"PF"},{name:"French Southern Territories",abbreviation:"TF"},{name:"Gabon",abbreviation:"GA"},{name:"Gambia",abbreviation:"GM"},{name:"Georgia",abbreviation:"GE"},{name:"Germany",abbreviation:"DE"},{name:"Ghana",abbreviation:"GH"},{name:"Gibraltar",abbreviation:"GI"},{name:"Greece",abbreviation:"GR"},{name:"Greenland",abbreviation:"GL"},{name:"Grenada",abbreviation:"GD"},{name:"Guadeloupe",abbreviation:"GP"},{name:"Guam",abbreviation:"GU"},{name:"Guatemala",abbreviation:"GT"},{name:"Guernsey",abbreviation:"GG"},{name:"Guinea",abbreviation:"GN"},{name:"Guinea-Bissau",abbreviation:"GW"},{name:"Guyana",abbreviation:"GY"},{name:"Haiti",abbreviation:"HT"},{name:"Honduras",abbreviation:"HN"},{name:"Hong Kong SAR China",abbreviation:"HK"},{name:"Hungary",abbreviation:"HU"},{name:"Iceland",abbreviation:"IS"},{name:"India",abbreviation:"IN"},{name:"Indonesia",abbreviation:"ID"},{name:"Iran",abbreviation:"IR"},{name:"Iraq",abbreviation:"IQ"},{name:"Ireland",abbreviation:"IE"},{name:"Isle of Man",abbreviation:"IM"},{name:"Israel",abbreviation:"IL"},{name:"Italy",abbreviation:"IT"},{name:"Jamaica",abbreviation:"JM"},{name:"Japan",abbreviation:"JP"},{name:"Jersey",abbreviation:"JE"},{name:"Jordan",abbreviation:"JO"},{name:"Kazakhstan",abbreviation:"KZ"},{name:"Kenya",abbreviation:"KE"},{name:"Kiribati",abbreviation:"KI"},{name:"Kosovo",abbreviation:"XK"},{name:"Kuwait",abbreviation:"KW"},{name:"Kyrgyzstan",abbreviation:"KG"},{name:"Laos",abbreviation:"LA"},{name:"Latvia",abbreviation:"LV"},{name:"Lebanon",abbreviation:"LB"},{name:"Lesotho",abbreviation:"LS"},{name:"Liberia",abbreviation:"LR"},{name:"Libya",abbreviation:"LY"},{name:"Liechtenstein",abbreviation:"LI"},{name:"Lithuania",abbreviation:"LT"},{name:"Luxembourg",abbreviation:"LU"},{name:"Macau SAR China",abbreviation:"MO"},{name:"Macedonia",abbreviation:"MK"},{name:"Madagascar",abbreviation:"MG"},{name:"Malawi",abbreviation:"MW"},{name:"Malaysia",abbreviation:"MY"},{name:"Maldives",abbreviation:"MV"},{name:"Mali",abbreviation:"ML"},{name:"Malta",abbreviation:"MT"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Martinique",abbreviation:"MQ"},{name:"Mauritania",abbreviation:"MR"},{name:"Mauritius",abbreviation:"MU"},{name:"Mayotte",abbreviation:"YT"},{name:"Mexico",abbreviation:"MX"},{name:"Micronesia",abbreviation:"FM"},{name:"Moldova",abbreviation:"MD"},{name:"Monaco",abbreviation:"MC"},{name:"Mongolia",abbreviation:"MN"},{name:"Montenegro",abbreviation:"ME"},{name:"Montserrat",abbreviation:"MS"},{name:"Morocco",abbreviation:"MA"},{name:"Mozambique",abbreviation:"MZ"},{name:"Myanmar (Burma)",abbreviation:"MM"},{name:"Namibia",abbreviation:"NA"},{name:"Nauru",abbreviation:"NR"},{name:"Nepal",abbreviation:"NP"},{name:"Netherlands",abbreviation:"NL"},{name:"New Caledonia",abbreviation:"NC"},{name:"New Zealand",abbreviation:"NZ"},{name:"Nicaragua",abbreviation:"NI"},{name:"Niger",abbreviation:"NE"},{name:"Nigeria",abbreviation:"NG"},{name:"Niue",abbreviation:"NU"},{name:"Norfolk Island",abbreviation:"NF"},{name:"North Korea",abbreviation:"KP"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Norway",abbreviation:"NO"},{name:"Oman",abbreviation:"OM"},{name:"Pakistan",abbreviation:"PK"},{name:"Palau",abbreviation:"PW"},{name:"Palestinian Territories",abbreviation:"PS"},{name:"Panama",abbreviation:"PA"},{name:"Papua New Guinea",abbreviation:"PG"},{name:"Paraguay",abbreviation:"PY"},{name:"Peru",abbreviation:"PE"},{name:"Philippines",abbreviation:"PH"},{name:"Pitcairn Islands",abbreviation:"PN"},{name:"Poland",abbreviation:"PL"},{name:"Portugal",abbreviation:"PT"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Qatar",abbreviation:"QA"},{name:"Runion",abbreviation:"RE"},{name:"Romania",abbreviation:"RO"},{name:"Russia",abbreviation:"RU"},{name:"Rwanda",abbreviation:"RW"},{name:"Samoa",abbreviation:"WS"},{name:"San Marino",abbreviation:"SM"},{name:"So Tom and Prncipe",abbreviation:"ST"},{name:"Saudi Arabia",abbreviation:"SA"},{name:"Senegal",abbreviation:"SN"},{name:"Serbia",abbreviation:"RS"},{name:"Seychelles",abbreviation:"SC"},{name:"Sierra Leone",abbreviation:"SL"},{name:"Singapore",abbreviation:"SG"},{name:"Sint Maarten",abbreviation:"SX"},{name:"Slovakia",abbreviation:"SK"},{name:"Slovenia",abbreviation:"SI"},{name:"Solomon Islands",abbreviation:"SB"},{name:"Somalia",abbreviation:"SO"},{name:"South Africa",abbreviation:"ZA"},{name:"South Georgia & South Sandwich Islands",abbreviation:"GS"},{name:"South Korea",abbreviation:"KR"},{name:"South Sudan",abbreviation:"SS"},{name:"Spain",abbreviation:"ES"},{name:"Sri Lanka",abbreviation:"LK"},{name:"St. Barthlemy",abbreviation:"BL"},{name:"St. Helena",abbreviation:"SH"},{name:"St. Kitts & Nevis",abbreviation:"KN"},{name:"St. Lucia",abbreviation:"LC"},{name:"St. Martin",abbreviation:"MF"},{name:"St. Pierre & Miquelon",abbreviation:"PM"},{name:"St. Vincent & Grenadines",abbreviation:"VC"},{name:"Sudan",abbreviation:"SD"},{name:"Suriname",abbreviation:"SR"},{name:"Svalbard & Jan Mayen",abbreviation:"SJ"},{name:"Swaziland",abbreviation:"SZ"},{name:"Sweden",abbreviation:"SE"},{name:"Switzerland",abbreviation:"CH"},{name:"Syria",abbreviation:"SY"},{name:"Taiwan",abbreviation:"TW"},{name:"Tajikistan",abbreviation:"TJ"},{name:"Tanzania",abbreviation:"TZ"},{name:"Thailand",abbreviation:"TH"},{name:"Timor-Leste",abbreviation:"TL"},{name:"Togo",abbreviation:"TG"},{name:"Tokelau",abbreviation:"TK"},{name:"Tonga",abbreviation:"TO"},{name:"Trinidad & Tobago",abbreviation:"TT"},{name:"Tristan da Cunha",abbreviation:"TA"},{name:"Tunisia",abbreviation:"TN"},{name:"Turkey",abbreviation:"TR"},{name:"Turkmenistan",abbreviation:"TM"},{name:"Turks & Caicos Islands",abbreviation:"TC"},{name:"Tuvalu",abbreviation:"TV"},{name:"U.S. Outlying Islands",abbreviation:"UM"},{name:"U.S. Virgin Islands",abbreviation:"VI"},{name:"Uganda",abbreviation:"UG"},{name:"Ukraine",abbreviation:"UA"},{name:"United Arab Emirates",abbreviation:"AE"},{name:"United Kingdom",abbreviation:"GB"},{name:"United States",abbreviation:"US"},{name:"Uruguay",abbreviation:"UY"},{name:"Uzbekistan",abbreviation:"UZ"},{name:"Vanuatu",abbreviation:"VU"},{name:"Vatican City",abbreviation:"VA"},{name:"Venezuela",abbreviation:"VE"},{name:"Vietnam",abbreviation:"VN"},{name:"Wallis & Futuna",abbreviation:"WF"},{name:"Western Sahara",abbreviation:"EH"},{name:"Yemen",abbreviation:"YE"},{name:"Zambia",abbreviation:"ZM"},{name:"Zimbabwe",abbreviation:"ZW"}],counties:{uk:[{name:"Bath and North East Somerset"},{name:"Aberdeenshire"},{name:"Anglesey"},{name:"Angus"},{name:"Bedford"},{name:"Blackburn with Darwen"},{name:"Blackpool"},{name:"Bournemouth"},{name:"Bracknell Forest"},{name:"Brighton & Hove"},{name:"Bristol"},{name:"Buckinghamshire"},{name:"Cambridgeshire"},{name:"Carmarthenshire"},{name:"Central Bedfordshire"},{name:"Ceredigion"},{name:"Cheshire East"},{name:"Cheshire West and Chester"},{name:"Clackmannanshire"},{name:"Conwy"},{name:"Cornwall"},{name:"County Antrim"},{name:"County Armagh"},{name:"County Down"},{name:"County Durham"},{name:"County Fermanagh"},{name:"County Londonderry"},{name:"County Tyrone"},{name:"Cumbria"},{name:"Darlington"},{name:"Denbighshire"},{name:"Derby"},{name:"Derbyshire"},{name:"Devon"},{name:"Dorset"},{name:"Dumfries and Galloway"},{name:"Dundee"},{name:"East Lothian"},{name:"East Riding of Yorkshire"},{name:"East Sussex"},{name:"Edinburgh?"},{name:"Essex"},{name:"Falkirk"},{name:"Fife"},{name:"Flintshire"},{name:"Gloucestershire"},{name:"Greater London"},{name:"Greater Manchester"},{name:"Gwent"},{name:"Gwynedd"},{name:"Halton"},{name:"Hampshire"},{name:"Hartlepool"},{name:"Herefordshire"},{name:"Hertfordshire"},{name:"Highlands"},{name:"Hull"},{name:"Isle of Wight"},{name:"Isles of Scilly"},{name:"Kent"},{name:"Lancashire"},{name:"Leicester"},{name:"Leicestershire"},{name:"Lincolnshire"},{name:"Lothian"},{name:"Luton"},{name:"Medway"},{name:"Merseyside"},{name:"Mid Glamorgan"},{name:"Middlesbrough"},{name:"Milton Keynes"},{name:"Monmouthshire"},{name:"Moray"},{name:"Norfolk"},{name:"North East Lincolnshire"},{name:"North Lincolnshire"},{name:"North Somerset"},{name:"North Yorkshire"},{name:"Northamptonshire"},{name:"Northumberland"},{name:"Nottingham"},{name:"Nottinghamshire"},{name:"Oxfordshire"},{name:"Pembrokeshire"},{name:"Perth and Kinross"},{name:"Peterborough"},{name:"Plymouth"},{name:"Poole"},{name:"Portsmouth"},{name:"Powys"},{name:"Reading"},{name:"Redcar and Cleveland"},{name:"Rutland"},{name:"Scottish Borders"},{name:"Shropshire"},{name:"Slough"},{name:"Somerset"},{name:"South Glamorgan"},{name:"South Gloucestershire"},{name:"South Yorkshire"},{name:"Southampton"},{name:"Southend-on-Sea"},{name:"Staffordshire"},{name:"Stirlingshire"},{name:"Stockton-on-Tees"},{name:"Stoke-on-Trent"},{name:"Strathclyde"},{name:"Suffolk"},{name:"Surrey"},{name:"Swindon"},{name:"Telford and Wrekin"},{name:"Thurrock"},{name:"Torbay"},{name:"Tyne and Wear"},{name:"Warrington"},{name:"Warwickshire"},{name:"West Berkshire"},{name:"West Glamorgan"},{name:"West Lothian"},{name:"West Midlands"},{name:"West Sussex"},{name:"West Yorkshire"},{name:"Western Isles"},{name:"Wiltshire"},{name:"Windsor and Maidenhead"},{name:"Wokingham"},{name:"Worcestershire"},{name:"Wrexham"},{name:"York"}]},provinces:{ca:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nunavut",abbreviation:"NU"},{name:"Yukon",abbreviation:"YT"}],it:[{name:"Agrigento",abbreviation:"AG",code:84},{name:"Alessandria",abbreviation:"AL",code:6},{name:"Ancona",abbreviation:"AN",code:42},{name:"Aosta",abbreviation:"AO",code:7},{name:"L'Aquila",abbreviation:"AQ",code:66},{name:"Arezzo",abbreviation:"AR",code:51},{name:"Ascoli-Piceno",abbreviation:"AP",code:44},{name:"Asti",abbreviation:"AT",code:5},{name:"Avellino",abbreviation:"AV",code:64},{name:"Bari",abbreviation:"BA",code:72},{name:"Barletta-Andria-Trani",abbreviation:"BT",code:72},{name:"Belluno",abbreviation:"BL",code:25},{name:"Benevento",abbreviation:"BN",code:62},{name:"Bergamo",abbreviation:"BG",code:16},{name:"Biella",abbreviation:"BI",code:96},{name:"Bologna",abbreviation:"BO",code:37},{name:"Bolzano",abbreviation:"BZ",code:21},{name:"Brescia",abbreviation:"BS",code:17},{name:"Brindisi",abbreviation:"BR",code:74},{name:"Cagliari",abbreviation:"CA",code:92},{name:"Caltanissetta",abbreviation:"CL",code:85},{name:"Campobasso",abbreviation:"CB",code:70},{name:"Carbonia Iglesias",abbreviation:"CI",code:70},{name:"Caserta",abbreviation:"CE",code:61},{name:"Catania",abbreviation:"CT",code:87},{name:"Catanzaro",abbreviation:"CZ",code:79},{name:"Chieti",abbreviation:"CH",code:69},{name:"Como",abbreviation:"CO",code:13},{name:"Cosenza",abbreviation:"CS",code:78},{name:"Cremona",abbreviation:"CR",code:19},{name:"Crotone",abbreviation:"KR",code:101},{name:"Cuneo",abbreviation:"CN",code:4},{name:"Enna",abbreviation:"EN",code:86},{name:"Fermo",abbreviation:"FM",code:86},{name:"Ferrara",abbreviation:"FE",code:38},{name:"Firenze",abbreviation:"FI",code:48},{name:"Foggia",abbreviation:"FG",code:71},{name:"Forli-Cesena",abbreviation:"FC",code:71},{name:"Frosinone",abbreviation:"FR",code:60},{name:"Genova",abbreviation:"GE",code:10},{name:"Gorizia",abbreviation:"GO",code:31},{name:"Grosseto",abbreviation:"GR",code:53},{name:"Imperia",abbreviation:"IM",code:8},{name:"Isernia",abbreviation:"IS",code:94},{name:"La-Spezia",abbreviation:"SP",code:66},{name:"Latina",abbreviation:"LT",code:59},{name:"Lecce",abbreviation:"LE",code:75},{name:"Lecco",abbreviation:"LC",code:97},{name:"Livorno",abbreviation:"LI",code:49},{name:"Lodi",abbreviation:"LO",code:98},{name:"Lucca",abbreviation:"LU",code:46},{name:"Macerata",abbreviation:"MC",code:43},{name:"Mantova",abbreviation:"MN",code:20},{name:"Massa-Carrara",abbreviation:"MS",code:45},{name:"Matera",abbreviation:"MT",code:77},{name:"Medio Campidano",abbreviation:"VS",code:77},{name:"Messina",abbreviation:"ME",code:83},{name:"Milano",abbreviation:"MI",code:15},{name:"Modena",abbreviation:"MO",code:36},{name:"Monza-Brianza",abbreviation:"MB",code:36},{name:"Napoli",abbreviation:"NA",code:63},{name:"Novara",abbreviation:"NO",code:3},{name:"Nuoro",abbreviation:"NU",code:91},{name:"Ogliastra",abbreviation:"OG",code:91},{name:"Olbia Tempio",abbreviation:"OT",code:91},{name:"Oristano",abbreviation:"OR",code:95},{name:"Padova",abbreviation:"PD",code:28},{name:"Palermo",abbreviation:"PA",code:82},{name:"Parma",abbreviation:"PR",code:34},{name:"Pavia",abbreviation:"PV",code:18},{name:"Perugia",abbreviation:"PG",code:54},{name:"Pesaro-Urbino",abbreviation:"PU",code:41},{name:"Pescara",abbreviation:"PE",code:68},{name:"Piacenza",abbreviation:"PC",code:33},{name:"Pisa",abbreviation:"PI",code:50},{name:"Pistoia",abbreviation:"PT",code:47},{name:"Pordenone",abbreviation:"PN",code:93},{name:"Potenza",abbreviation:"PZ",code:76},{name:"Prato",abbreviation:"PO",code:100},{name:"Ragusa",abbreviation:"RG",code:88},{name:"Ravenna",abbreviation:"RA",code:39},{name:"Reggio-Calabria",abbreviation:"RC",code:35},{name:"Reggio-Emilia",abbreviation:"RE",code:35},{name:"Rieti",abbreviation:"RI",code:57},{name:"Rimini",abbreviation:"RN",code:99},{name:"Roma",abbreviation:"Roma",code:58},{name:"Rovigo",abbreviation:"RO",code:29},{name:"Salerno",abbreviation:"SA",code:65},{name:"Sassari",abbreviation:"SS",code:90},{name:"Savona",abbreviation:"SV",code:9},{name:"Siena",abbreviation:"SI",code:52},{name:"Siracusa",abbreviation:"SR",code:89},{name:"Sondrio",abbreviation:"SO",code:14},{name:"Taranto",abbreviation:"TA",code:73},{name:"Teramo",abbreviation:"TE",code:67},{name:"Terni",abbreviation:"TR",code:55},{name:"Torino",abbreviation:"TO",code:1},{name:"Trapani",abbreviation:"TP",code:81},{name:"Trento",abbreviation:"TN",code:22},{name:"Treviso",abbreviation:"TV",code:26},{name:"Trieste",abbreviation:"TS",code:32},{name:"Udine",abbreviation:"UD",code:30},{name:"Varese",abbreviation:"VA",code:12},{name:"Venezia",abbreviation:"VE",code:27},{name:"Verbania",abbreviation:"VB",code:27},{name:"Vercelli",abbreviation:"VC",code:2},{name:"Verona",abbreviation:"VR",code:23},{name:"Vibo-Valentia",abbreviation:"VV",code:102},{name:"Vicenza",abbreviation:"VI",code:24},{name:"Viterbo",abbreviation:"VT",code:56}]},nationalities:[{name:"Afghan"},{name:"Albanian"},{name:"Algerian"},{name:"American"},{name:"Andorran"},{name:"Angolan"},{name:"Antiguans"},{name:"Argentinean"},{name:"Armenian"},{name:"Australian"},{name:"Austrian"},{name:"Azerbaijani"},{name:"Bahami"},{name:"Bahraini"},{name:"Bangladeshi"},{name:"Barbadian"},{name:"Barbudans"},{name:"Batswana"},{name:"Belarusian"},{name:"Belgian"},{name:"Belizean"},{name:"Beninese"},{name:"Bhutanese"},{name:"Bolivian"},{name:"Bosnian"},{name:"Brazilian"},{name:"British"},{name:"Bruneian"},{name:"Bulgarian"},{name:"Burkinabe"},{name:"Burmese"},{name:"Burundian"},{name:"Cambodian"},{name:"Cameroonian"},{name:"Canadian"},{name:"Cape Verdean"},{name:"Central African"},{name:"Chadian"},{name:"Chilean"},{name:"Chinese"},{name:"Colombian"},{name:"Comoran"},{name:"Congolese"},{name:"Costa Rican"},{name:"Croatian"},{name:"Cuban"},{name:"Cypriot"},{name:"Czech"},{name:"Danish"},{name:"Djibouti"},{name:"Dominican"},{name:"Dutch"},{name:"East Timorese"},{name:"Ecuadorean"},{name:"Egyptian"},{name:"Emirian"},{name:"Equatorial Guinean"},{name:"Eritrean"},{name:"Estonian"},{name:"Ethiopian"},{name:"Fijian"},{name:"Filipino"},{name:"Finnish"},{name:"French"},{name:"Gabonese"},{name:"Gambian"},{name:"Georgian"},{name:"German"},{name:"Ghanaian"},{name:"Greek"},{name:"Grenadian"},{name:"Guatemalan"},{name:"Guinea-Bissauan"},{name:"Guinean"},{name:"Guyanese"},{name:"Haitian"},{name:"Herzegovinian"},{name:"Honduran"},{name:"Hungarian"},{name:"I-Kiribati"},{name:"Icelander"},{name:"Indian"},{name:"Indonesian"},{name:"Iranian"},{name:"Iraqi"},{name:"Irish"},{name:"Israeli"},{name:"Italian"},{name:"Ivorian"},{name:"Jamaican"},{name:"Japanese"},{name:"Jordanian"},{name:"Kazakhstani"},{name:"Kenyan"},{name:"Kittian and Nevisian"},{name:"Kuwaiti"},{name:"Kyrgyz"},{name:"Laotian"},{name:"Latvian"},{name:"Lebanese"},{name:"Liberian"},{name:"Libyan"},{name:"Liechtensteiner"},{name:"Lithuanian"},{name:"Luxembourger"},{name:"Macedonian"},{name:"Malagasy"},{name:"Malawian"},{name:"Malaysian"},{name:"Maldivan"},{name:"Malian"},{name:"Maltese"},{name:"Marshallese"},{name:"Mauritanian"},{name:"Mauritian"},{name:"Mexican"},{name:"Micronesian"},{name:"Moldovan"},{name:"Monacan"},{name:"Mongolian"},{name:"Moroccan"},{name:"Mosotho"},{name:"Motswana"},{name:"Mozambican"},{name:"Namibian"},{name:"Nauruan"},{name:"Nepalese"},{name:"New Zealander"},{name:"Nicaraguan"},{name:"Nigerian"},{name:"Nigerien"},{name:"North Korean"},{name:"Northern Irish"},{name:"Norwegian"},{name:"Omani"},{name:"Pakistani"},{name:"Palauan"},{name:"Panamanian"},{name:"Papua New Guinean"},{name:"Paraguayan"},{name:"Peruvian"},{name:"Polish"},{name:"Portuguese"},{name:"Qatari"},{name:"Romani"},{name:"Russian"},{name:"Rwandan"},{name:"Saint Lucian"},{name:"Salvadoran"},{name:"Samoan"},{name:"San Marinese"},{name:"Sao Tomean"},{name:"Saudi"},{name:"Scottish"},{name:"Senegalese"},{name:"Serbian"},{name:"Seychellois"},{name:"Sierra Leonean"},{name:"Singaporean"},{name:"Slovakian"},{name:"Slovenian"},{name:"Solomon Islander"},{name:"Somali"},{name:"South African"},{name:"South Korean"},{name:"Spanish"},{name:"Sri Lankan"},{name:"Sudanese"},{name:"Surinamer"},{name:"Swazi"},{name:"Swedish"},{name:"Swiss"},{name:"Syrian"},{name:"Taiwanese"},{name:"Tajik"},{name:"Tanzanian"},{name:"Thai"},{name:"Togolese"},{name:"Tongan"},{name:"Trinidadian or Tobagonian"},{name:"Tunisian"},{name:"Turkish"},{name:"Tuvaluan"},{name:"Ugandan"},{name:"Ukrainian"},{name:"Uruguaya"},{name:"Uzbekistani"},{name:"Venezuela"},{name:"Vietnamese"},{name:"Wels"},{name:"Yemenit"},{name:"Zambia"},{name:"Zimbabwe"}],locale_languages:["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"],locale_regions:["agq-CM","asa-TZ","ast-ES","bas-CM","bem-ZM","bez-TZ","brx-IN","cgg-UG","chr-US","dav-KE","dje-NE","dsb-DE","dua-CM","dyo-SN","ebu-KE","ewo-CM","fil-PH","fur-IT","gsw-CH","gsw-FR","gsw-LI","guz-KE","haw-US","hsb-DE","jgo-CM","jmc-TZ","kab-DZ","kam-KE","kde-TZ","kea-CV","khq-ML","kkj-CM","kln-KE","kok-IN","ksb-TZ","ksf-CM","ksh-DE","lag-TZ","lkt-US","luo-KE","luy-KE","mas-KE","mas-TZ","mer-KE","mfe-MU","mgh-MZ","mgo-CM","mua-CM","naq-NA","nmg-CM","nnh-CM","nus-SD","nyn-UG","rof-TZ","rwk-TZ","sah-RU","saq-KE","sbp-TZ","seh-MZ","ses-ML","shi-Latn","shi-Latn-MA","shi-Tfng","shi-Tfng-MA","smn-FI","teo-KE","teo-UG","twq-NE","tzm-Latn","tzm-Latn-MA","vai-Latn","vai-Latn-LR","vai-Vaii","vai-Vaii-LR","vun-TZ","wae-CH","xog-UG","yav-CM","zgh-MA","af-NA","af-ZA","ak-GH","am-ET","ar-001","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","as-IN","az-Cyrl","az-Cyrl-AZ","az-Latn","az-Latn-AZ","be-BY","bg-BG","bm-Latn","bm-Latn-ML","bn-BD","bn-IN","bo-CN","bo-IN","br-FR","bs-Cyrl","bs-Cyrl-BA","bs-Latn","bs-Latn-BA","ca-AD","ca-ES","ca-ES-VALENCIA","ca-FR","ca-IT","cs-CZ","cy-GB","da-DK","da-GL","de-AT","de-BE","de-CH","de-DE","de-LI","de-LU","dz-BT","ee-GH","ee-TG","el-CY","el-GR","en-001","en-150","en-AG","en-AI","en-AS","en-AU","en-BB","en-BE","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-US-POSIX","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","eo-001","es-419","es-AR","es-BO","es-CL","es-CO","es-CR","es-CU","es-DO","es-EA","es-EC","es-ES","es-GQ","es-GT","es-HN","es-IC","es-MX","es-NI","es-PA","es-PE","es-PH","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","et-EE","eu-ES","fa-AF","fa-IR","ff-CM","ff-GN","ff-MR","ff-SN","fi-FI","fo-FO","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-FR","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fy-NL","ga-IE","gd-GB","gl-ES","gu-IN","gv-IM","ha-Latn","ha-Latn-GH","ha-Latn-NE","ha-Latn-NG","he-IL","hi-IN","hr-BA","hr-HR","hu-HU","hy-AM","id-ID","ig-NG","ii-CN","is-IS","it-CH","it-IT","it-SM","ja-JP","ka-GE","ki-KE","kk-Cyrl","kk-Cyrl-KZ","kl-GL","km-KH","kn-IN","ko-KP","ko-KR","ks-Arab","ks-Arab-IN","kw-GB","ky-Cyrl","ky-Cyrl-KG","lb-LU","lg-UG","ln-AO","ln-CD","ln-CF","ln-CG","lo-LA","lt-LT","lu-CD","lv-LV","mg-MG","mk-MK","ml-IN","mn-Cyrl","mn-Cyrl-MN","mr-IN","ms-Latn","ms-Latn-BN","ms-Latn-MY","ms-Latn-SG","mt-MT","my-MM","nb-NO","nb-SJ","nd-ZW","ne-IN","ne-NP","nl-AW","nl-BE","nl-BQ","nl-CW","nl-NL","nl-SR","nl-SX","nn-NO","om-ET","om-KE","or-IN","os-GE","os-RU","pa-Arab","pa-Arab-PK","pa-Guru","pa-Guru-IN","pl-PL","ps-AF","pt-AO","pt-BR","pt-CV","pt-GW","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","qu-BO","qu-EC","qu-PE","rm-CH","rn-BI","ro-MD","ro-RO","ru-BY","ru-KG","ru-KZ","ru-MD","ru-RU","ru-UA","rw-RW","se-FI","se-NO","se-SE","sg-CF","si-LK","sk-SK","sl-SI","sn-ZW","so-DJ","so-ET","so-KE","so-SO","sq-AL","sq-MK","sq-XK","sr-Cyrl","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-RS","sr-Cyrl-XK","sr-Latn","sr-Latn-BA","sr-Latn-ME","sr-Latn-RS","sr-Latn-XK","sv-AX","sv-FI","sv-SE","sw-CD","sw-KE","sw-TZ","sw-UG","ta-IN","ta-LK","ta-MY","ta-SG","te-IN","th-TH","ti-ER","ti-ET","to-TO","tr-CY","tr-TR","ug-Arab","ug-Arab-CN","uk-UA","ur-IN","ur-PK","uz-Arab","uz-Arab-AF","uz-Cyrl","uz-Cyrl-UZ","uz-Latn","uz-Latn-UZ","vi-VN","yi-001","yo-BJ","yo-NG","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW","zu-ZA"],us_states_and_dc:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District of Columbia",abbreviation:"DC"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],territories:[{name:"American Samoa",abbreviation:"AS"},{name:"Federated States of Micronesia",abbreviation:"FM"},{name:"Guam",abbreviation:"GU"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Virgin Islands, U.S.",abbreviation:"VI"}],armed_forces:[{name:"Armed Forces Europe",abbreviation:"AE"},{name:"Armed Forces Pacific",abbreviation:"AP"},{name:"Armed Forces the Americas",abbreviation:"AA"}],country_regions:{it:[{name:"Valle d'Aosta",abbreviation:"VDA"},{name:"Piemonte",abbreviation:"PIE"},{name:"Lombardia",abbreviation:"LOM"},{name:"Veneto",abbreviation:"VEN"},{name:"Trentino Alto Adige",abbreviation:"TAA"},{name:"Friuli Venezia Giulia",abbreviation:"FVG"},{name:"Liguria",abbreviation:"LIG"},{name:"Emilia Romagna",abbreviation:"EMR"},{name:"Toscana",abbreviation:"TOS"},{name:"Umbria",abbreviation:"UMB"},{name:"Marche",abbreviation:"MAR"},{name:"Abruzzo",abbreviation:"ABR"},{name:"Lazio",abbreviation:"LAZ"},{name:"Campania",abbreviation:"CAM"},{name:"Puglia",abbreviation:"PUG"},{name:"Basilicata",abbreviation:"BAS"},{name:"Molise",abbreviation:"MOL"},{name:"Calabria",abbreviation:"CAL"},{name:"Sicilia",abbreviation:"SIC"},{name:"Sardegna",abbreviation:"SAR"}],mx:[{name:"Aguascalientes",abbreviation:"AGU"},{name:"Baja California",abbreviation:"BCN"},{name:"Baja California Sur",abbreviation:"BCS"},{name:"Campeche",abbreviation:"CAM"},{name:"Chiapas",abbreviation:"CHP"},{name:"Chihuahua",abbreviation:"CHH"},{name:"Ciudad de Mxico",abbreviation:"DIF"},{name:"Coahuila",abbreviation:"COA"},{name:"Colima",abbreviation:"COL"},{name:"Durango",abbreviation:"DUR"},{name:"Guanajuato",abbreviation:"GUA"},{name:"Guerrero",abbreviation:"GRO"},{name:"Hidalgo",abbreviation:"HID"},{name:"Jalisco",abbreviation:"JAL"},{name:"Mxico",abbreviation:"MEX"},{name:"Michoacn",abbreviation:"MIC"},{name:"Morelos",abbreviation:"MOR"},{name:"Nayarit",abbreviation:"NAY"},{name:"Nuevo Len",abbreviation:"NLE"},{name:"Oaxaca",abbreviation:"OAX"},{name:"Puebla",abbreviation:"PUE"},{name:"Quertaro",abbreviation:"QUE"},{name:"Quintana Roo",abbreviation:"ROO"},{name:"San Luis Potos",abbreviation:"SLP"},{name:"Sinaloa",abbreviation:"SIN"},{name:"Sonora",abbreviation:"SON"},{name:"Tabasco",abbreviation:"TAB"},{name:"Tamaulipas",abbreviation:"TAM"},{name:"Tlaxcala",abbreviation:"TLA"},{name:"Veracruz",abbreviation:"VER"},{name:"Yucatn",abbreviation:"YUC"},{name:"Zacatecas",abbreviation:"ZAC"}]},street_suffixes:{us:[{name:"Avenue",abbreviation:"Ave"},{name:"Boulevard",abbreviation:"Blvd"},{name:"Center",abbreviation:"Ctr"},{name:"Circle",abbreviation:"Cir"},{name:"Court",abbreviation:"Ct"},{name:"Drive",abbreviation:"Dr"},{name:"Extension",abbreviation:"Ext"},{name:"Glen",abbreviation:"Gln"},{name:"Grove",abbreviation:"Grv"},{name:"Heights",abbreviation:"Hts"},{name:"Highway",abbreviation:"Hwy"},{name:"Junction",abbreviation:"Jct"},{name:"Key",abbreviation:"Key"},{name:"Lane",abbreviation:"Ln"},{name:"Loop",abbreviation:"Loop"},{name:"Manor",abbreviation:"Mnr"},{name:"Mill",abbreviation:"Mill"},{name:"Park",abbreviation:"Park"},{name:"Parkway",abbreviation:"Pkwy"},{name:"Pass",abbreviation:"Pass"},{name:"Path",abbreviation:"Path"},{name:"Pike",abbreviation:"Pike"},{name:"Place",abbreviation:"Pl"},{name:"Plaza",abbreviation:"Plz"},{name:"Point",abbreviation:"Pt"},{name:"Ridge",abbreviation:"Rdg"},{name:"River",abbreviation:"Riv"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Trail",abbreviation:"Trl"},{name:"Turnpike",abbreviation:"Tpke"},{name:"View",abbreviation:"Vw"},{name:"Way",abbreviation:"Way"}],it:[{name:"Accesso",abbreviation:"Acc."},{name:"Alzaia",abbreviation:"Alz."},{name:"Arco",abbreviation:"Arco"},{name:"Archivolto",abbreviation:"Acv."},{name:"Arena",abbreviation:"Arena"},{name:"Argine",abbreviation:"Argine"},{name:"Bacino",abbreviation:"Bacino"},{name:"Banchi",abbreviation:"Banchi"},{name:"Banchina",abbreviation:"Ban."},{name:"Bastioni",abbreviation:"Bas."},{name:"Belvedere",abbreviation:"Belv."},{name:"Borgata",abbreviation:"B.ta"},{name:"Borgo",abbreviation:"B.go"},{name:"Calata",abbreviation:"Cal."},{name:"Calle",abbreviation:"Calle"},{name:"Campiello",abbreviation:"Cam."},{name:"Campo",abbreviation:"Cam."},{name:"Canale",abbreviation:"Can."},{name:"Carraia",abbreviation:"Carr."},{name:"Cascina",abbreviation:"Cascina"},{name:"Case sparse",abbreviation:"c.s."},{name:"Cavalcavia",abbreviation:"Cv."},{name:"Circonvallazione",abbreviation:"Cv."},{name:"Complanare",abbreviation:"C.re"},{name:"Contrada",abbreviation:"C.da"},{name:"Corso",abbreviation:"C.so"},{name:"Corte",abbreviation:"C.te"},{name:"Cortile",abbreviation:"C.le"},{name:"Diramazione",abbreviation:"Dir."},{name:"Fondaco",abbreviation:"F.co"},{name:"Fondamenta",abbreviation:"F.ta"},{name:"Fondo",abbreviation:"F.do"},{name:"Frazione",abbreviation:"Fr."},{name:"Isola",abbreviation:"Is."},{name:"Largo",abbreviation:"L.go"},{name:"Litoranea",abbreviation:"Lit."},{name:"Lungolago",abbreviation:"L.go lago"},{name:"Lungo Po",abbreviation:"l.go Po"},{name:"Molo",abbreviation:"Molo"},{name:"Mura",abbreviation:"Mura"},{name:"Passaggio privato",abbreviation:"pass. priv."},{name:"Passeggiata",abbreviation:"Pass."},{name:"Piazza",abbreviation:"P.zza"},{name:"Piazzale",abbreviation:"P.le"},{name:"Ponte",abbreviation:"P.te"},{name:"Portico",abbreviation:"P.co"},{name:"Rampa",abbreviation:"Rampa"},{name:"Regione",abbreviation:"Reg."},{name:"Rione",abbreviation:"R.ne"},{name:"Rio",abbreviation:"Rio"},{name:"Ripa",abbreviation:"Ripa"},{name:"Riva",abbreviation:"Riva"},{name:"Rond",abbreviation:"Rond"},{name:"Rotonda",abbreviation:"Rot."},{name:"Sagrato",abbreviation:"Sagr."},{name:"Salita",abbreviation:"Sal."},{name:"Scalinata",abbreviation:"Scal."},{name:"Scalone",abbreviation:"Scal."},{name:"Slargo",abbreviation:"Sl."},{name:"Sottoportico",abbreviation:"Sott."},{name:"Strada",abbreviation:"Str."},{name:"Stradale",abbreviation:"Str.le"},{name:"Strettoia",abbreviation:"Strett."},{name:"Traversa",abbreviation:"Trav."},{name:"Via",abbreviation:"V."},{name:"Viale",abbreviation:"V.le"},{name:"Vicinale",abbreviation:"Vic.le"},{name:"Vicolo",abbreviation:"Vic."}],uk:[{name:"Avenue",abbreviation:"Ave"},{name:"Close",abbreviation:"Cl"},{name:"Court",abbreviation:"Ct"},{name:"Crescent",abbreviation:"Cr"},{name:"Drive",abbreviation:"Dr"},{name:"Garden",abbreviation:"Gdn"},{name:"Gardens",abbreviation:"Gdns"},{name:"Green",abbreviation:"Gn"},{name:"Grove",abbreviation:"Gr"},{name:"Lane",abbreviation:"Ln"},{name:"Mount",abbreviation:"Mt"},{name:"Place",abbreviation:"Pl"},{name:"Park",abbreviation:"Pk"},{name:"Ridge",abbreviation:"Rdg"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Valley",abbreviation:"Val"}]},months:[{name:"January",short_name:"Jan",numeric:"01",days:31},{name:"February",short_name:"Feb",numeric:"02",days:28},{name:"March",short_name:"Mar",numeric:"03",days:31},{name:"April",short_name:"Apr",numeric:"04",days:30},{name:"May",short_name:"May",numeric:"05",days:31},{name:"June",short_name:"Jun",numeric:"06",days:30},{name:"July",short_name:"Jul",numeric:"07",days:31},{name:"August",short_name:"Aug",numeric:"08",days:31},{name:"September",short_name:"Sep",numeric:"09",days:30},{name:"October",short_name:"Oct",numeric:"10",days:31},{name:"November",short_name:"Nov",numeric:"11",days:30},{name:"December",short_name:"Dec",numeric:"12",days:31}],cc_types:[{name:"American Express",short_name:"amex",prefix:"34",length:15},{name:"Bankcard",short_name:"bankcard",prefix:"5610",length:16},{name:"China UnionPay",short_name:"chinaunion",prefix:"62",length:16},{name:"Diners Club Carte Blanche",short_name:"dccarte",prefix:"300",length:14},{name:"Diners Club enRoute",short_name:"dcenroute",prefix:"2014",length:15},{name:"Diners Club International",short_name:"dcintl",prefix:"36",length:14},{name:"Diners Club United States & Canada",short_name:"dcusc",prefix:"54",length:16},{name:"Discover Card",short_name:"discover",prefix:"6011",length:16},{name:"InstaPayment",short_name:"instapay",prefix:"637",length:16},{name:"JCB",short_name:"jcb",prefix:"3528",length:16},{name:"Laser",short_name:"laser",prefix:"6304",length:16},{name:"Maestro",short_name:"maestro",prefix:"5018",length:16},{name:"Mastercard",short_name:"mc",prefix:"51",length:16},{name:"Solo",short_name:"solo",prefix:"6334",length:16},{name:"Switch",short_name:"switch",prefix:"4903",length:16},{name:"Visa",short_name:"visa",prefix:"4",length:16},{name:"Visa Electron",short_name:"electron",prefix:"4026",length:16}],currency_types:[{code:"AED",name:"United Arab Emirates Dirham"},{code:"AFN",name:"Afghanistan Afghani"},{code:"ALL",name:"Albania Lek"},{code:"AMD",name:"Armenia Dram"},{code:"ANG",name:"Netherlands Antilles Guilder"},{code:"AOA",name:"Angola Kwanza"},{code:"ARS",name:"Argentina Peso"},{code:"AUD",name:"Australia Dollar"},{code:"AWG",name:"Aruba Guilder"},{code:"AZN",name:"Azerbaijan New Manat"},{code:"BAM",name:"Bosnia and Herzegovina Convertible Marka"},{code:"BBD",name:"Barbados Dollar"},{code:"BDT",name:"Bangladesh Taka"},{code:"BGN",name:"Bulgaria Lev"},{code:"BHD",name:"Bahrain Dinar"},{code:"BIF",name:"Burundi Franc"},{code:"BMD",name:"Bermuda Dollar"},{code:"BND",name:"Brunei Darussalam Dollar"},{code:"BOB",name:"Bolivia Boliviano"},{code:"BRL",name:"Brazil Real"},{code:"BSD",name:"Bahamas Dollar"},{code:"BTN",name:"Bhutan Ngultrum"},{code:"BWP",name:"Botswana Pula"},{code:"BYR",name:"Belarus Ruble"},{code:"BZD",name:"Belize Dollar"},{code:"CAD",name:"Canada Dollar"},{code:"CDF",name:"Congo/Kinshasa Franc"},{code:"CHF",name:"Switzerland Franc"},{code:"CLP",name:"Chile Peso"},{code:"CNY",name:"China Yuan Renminbi"},{code:"COP",name:"Colombia Peso"},{code:"CRC",name:"Costa Rica Colon"},{code:"CUC",name:"Cuba Convertible Peso"},{code:"CUP",name:"Cuba Peso"},{code:"CVE",name:"Cape Verde Escudo"},{code:"CZK",name:"Czech Republic Koruna"},{code:"DJF",name:"Djibouti Franc"},{code:"DKK",name:"Denmark Krone"},{code:"DOP",name:"Dominican Republic Peso"},{code:"DZD",name:"Algeria Dinar"},{code:"EGP",name:"Egypt Pound"},{code:"ERN",name:"Eritrea Nakfa"},{code:"ETB",name:"Ethiopia Birr"},{code:"EUR",name:"Euro Member Countries"},{code:"FJD",name:"Fiji Dollar"},{code:"FKP",name:"Falkland Islands (Malvinas) Pound"},{code:"GBP",name:"United Kingdom Pound"},{code:"GEL",name:"Georgia Lari"},{code:"GGP",name:"Guernsey Pound"},{code:"GHS",name:"Ghana Cedi"},{code:"GIP",name:"Gibraltar Pound"},{code:"GMD",name:"Gambia Dalasi"},{code:"GNF",name:"Guinea Franc"},{code:"GTQ",name:"Guatemala Quetzal"},{code:"GYD",name:"Guyana Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"HNL",name:"Honduras Lempira"},{code:"HRK",name:"Croatia Kuna"},{code:"HTG",name:"Haiti Gourde"},{code:"HUF",name:"Hungary Forint"},{code:"IDR",name:"Indonesia Rupiah"},{code:"ILS",name:"Israel Shekel"},{code:"IMP",name:"Isle of Man Pound"},{code:"INR",name:"India Rupee"},{code:"IQD",name:"Iraq Dinar"},{code:"IRR",name:"Iran Rial"},{code:"ISK",name:"Iceland Krona"},{code:"JEP",name:"Jersey Pound"},{code:"JMD",name:"Jamaica Dollar"},{code:"JOD",name:"Jordan Dinar"},{code:"JPY",name:"Japan Yen"},{code:"KES",name:"Kenya Shilling"},{code:"KGS",name:"Kyrgyzstan Som"},{code:"KHR",name:"Cambodia Riel"},{code:"KMF",name:"Comoros Franc"},{code:"KPW",name:"Korea (North) Won"},{code:"KRW",name:"Korea (South) Won"},{code:"KWD",name:"Kuwait Dinar"},{code:"KYD",name:"Cayman Islands Dollar"},{code:"KZT",name:"Kazakhstan Tenge"},{code:"LAK",name:"Laos Kip"},{code:"LBP",name:"Lebanon Pound"},{code:"LKR",name:"Sri Lanka Rupee"},{code:"LRD",name:"Liberia Dollar"},{code:"LSL",name:"Lesotho Loti"},{code:"LTL",name:"Lithuania Litas"},{code:"LYD",name:"Libya Dinar"},{code:"MAD",name:"Morocco Dirham"},{code:"MDL",name:"Moldova Leu"},{code:"MGA",name:"Madagascar Ariary"},{code:"MKD",name:"Macedonia Denar"},{code:"MMK",name:"Myanmar (Burma) Kyat"},{code:"MNT",name:"Mongolia Tughrik"},{code:"MOP",name:"Macau Pataca"},{code:"MRO",name:"Mauritania Ouguiya"},{code:"MUR",name:"Mauritius Rupee"},{code:"MVR",name:"Maldives (Maldive Islands) Rufiyaa"},{code:"MWK",name:"Malawi Kwacha"},{code:"MXN",name:"Mexico Peso"},{code:"MYR",name:"Malaysia Ringgit"},{code:"MZN",name:"Mozambique Metical"},{code:"NAD",name:"Namibia Dollar"},{code:"NGN",name:"Nigeria Naira"},{code:"NIO",name:"Nicaragua Cordoba"},{code:"NOK",name:"Norway Krone"},{code:"NPR",name:"Nepal Rupee"},{code:"NZD",name:"New Zealand Dollar"},{code:"OMR",name:"Oman Rial"},{code:"PAB",name:"Panama Balboa"},{code:"PEN",name:"Peru Nuevo Sol"},{code:"PGK",name:"Papua New Guinea Kina"},{code:"PHP",name:"Philippines Peso"},{code:"PKR",name:"Pakistan Rupee"},{code:"PLN",name:"Poland Zloty"},{code:"PYG",name:"Paraguay Guarani"},{code:"QAR",name:"Qatar Riyal"},{code:"RON",name:"Romania New Leu"},{code:"RSD",name:"Serbia Dinar"},{code:"RUB",name:"Russia Ruble"},{code:"RWF",name:"Rwanda Franc"},{code:"SAR",name:"Saudi Arabia Riyal"},{code:"SBD",name:"Solomon Islands Dollar"},{code:"SCR",name:"Seychelles Rupee"},{code:"SDG",name:"Sudan Pound"},{code:"SEK",name:"Sweden Krona"},{code:"SGD",name:"Singapore Dollar"},{code:"SHP",name:"Saint Helena Pound"},{code:"SLL",name:"Sierra Leone Leone"},{code:"SOS",name:"Somalia Shilling"},{code:"SPL",name:"Seborga Luigino"},{code:"SRD",name:"Suriname Dollar"},{code:"STD",name:"So Tom and Prncipe Dobra"},{code:"SVC",name:"El Salvador Colon"},{code:"SYP",name:"Syria Pound"},{code:"SZL",name:"Swaziland Lilangeni"},{code:"THB",name:"Thailand Baht"},{code:"TJS",name:"Tajikistan Somoni"},{code:"TMT",name:"Turkmenistan Manat"},{code:"TND",name:"Tunisia Dinar"},{code:"TOP",name:"Tonga Pa'anga"},{code:"TRY",name:"Turkey Lira"},{code:"TTD",name:"Trinidad and Tobago Dollar"},{code:"TVD",name:"Tuvalu Dollar"},{code:"TWD",name:"Taiwan New Dollar"},{code:"TZS",name:"Tanzania Shilling"},{code:"UAH",name:"Ukraine Hryvnia"},{code:"UGX",name:"Uganda Shilling"},{code:"USD",name:"United States Dollar"},{code:"UYU",name:"Uruguay Peso"},{code:"UZS",name:"Uzbekistan Som"},{code:"VEF",name:"Venezuela Bolivar"},{code:"VND",name:"Viet Nam Dong"},{code:"VUV",name:"Vanuatu Vatu"},{code:"WST",name:"Samoa Tala"},{code:"XAF",name:"Communaut Financire Africaine (BEAC) CFA Franc BEAC"},{code:"XCD",name:"East Caribbean Dollar"},{code:"XDR",name:"International Monetary Fund (IMF) Special Drawing Rights"},{code:"XOF",name:"Communaut Financire Africaine (BCEAO) Franc"},{code:"XPF",name:"Comptoirs Franais du Pacifique (CFP) Franc"},{code:"YER",name:"Yemen Rial"},{code:"ZAR",name:"South Africa Rand"},{code:"ZMW",name:"Zambia Kwacha"},{code:"ZWD",name:"Zimbabwe Dollar"}],colorNames:["AliceBlue","Black","Navy","DarkBlue","MediumBlue","Blue","DarkGreen","Green","Teal","DarkCyan","DeepSkyBlue","DarkTurquoise","MediumSpringGreen","Lime","SpringGreen","Aqua","Cyan","MidnightBlue","DodgerBlue","LightSeaGreen","ForestGreen","SeaGreen","DarkSlateGray","LimeGreen","MediumSeaGreen","Turquoise","RoyalBlue","SteelBlue","DarkSlateBlue","MediumTurquoise","Indigo","DarkOliveGreen","CadetBlue","CornflowerBlue","RebeccaPurple","MediumAquaMarine","DimGray","SlateBlue","OliveDrab","SlateGray","LightSlateGray","MediumSlateBlue","LawnGreen","Chartreuse","Aquamarine","Maroon","Purple","Olive","Gray","SkyBlue","LightSkyBlue","BlueViolet","DarkRed","DarkMagenta","SaddleBrown","Ivory","White","DarkSeaGreen","LightGreen","MediumPurple","DarkViolet","PaleGreen","DarkOrchid","YellowGreen","Sienna","Brown","DarkGray","LightBlue","GreenYellow","PaleTurquoise","LightSteelBlue","PowderBlue","FireBrick","DarkGoldenRod","MediumOrchid","RosyBrown","DarkKhaki","Silver","MediumVioletRed","IndianRed","Peru","Chocolate","Tan","LightGray","Thistle","Orchid","GoldenRod","PaleVioletRed","Crimson","Gainsboro","Plum","BurlyWood","LightCyan","Lavender","DarkSalmon","Violet","PaleGoldenRod","LightCoral","Khaki","AliceBlue","HoneyDew","Azure","SandyBrown","Wheat","Beige","WhiteSmoke","MintCream","GhostWhite","Salmon","AntiqueWhite","Linen","LightGoldenRodYellow","OldLace","Red","Fuchsia","Magenta","DeepPink","OrangeRed","Tomato","HotPink","Coral","DarkOrange","LightSalmon","Orange","LightPink","Pink","Gold","PeachPuff","NavajoWhite","Moccasin","Bisque","MistyRose","BlanchedAlmond","PapayaWhip","LavenderBlush","SeaShell","Cornsilk","LemonChiffon","FloralWhite","Snow","Yellow","LightYellow"],company:["3Com Corp","3M Company","A.G. Edwards Inc.","Abbott Laboratories","Abercrombie & Fitch Co.","ABM Industries Incorporated","Ace Hardware Corporation","ACT Manufacturing Inc.","Acterna Corp.","Adams Resources & Energy, Inc.","ADC Telecommunications, Inc.","Adelphia Communications Corporation","Administaff, Inc.","Adobe Systems Incorporated","Adolph Coors Company","Advance Auto Parts, Inc.","Advanced Micro Devices, Inc.","AdvancePCS, Inc.","Advantica Restaurant Group, Inc.","The AES Corporation","Aetna Inc.","Affiliated Computer Services, Inc.","AFLAC Incorporated","AGCO Corporation","Agilent Technologies, Inc.","Agway Inc.","Apartment Investment and Management Company","Air Products and Chemicals, Inc.","Airborne, Inc.","Airgas, Inc.","AK Steel Holding Corporation","Alaska Air Group, Inc.","Alberto-Culver Company","Albertson's, Inc.","Alcoa Inc.","Alleghany Corporation","Allegheny Energy, Inc.","Allegheny Technologies Incorporated","Allergan, Inc.","ALLETE, Inc.","Alliant Energy Corporation","Allied Waste Industries, Inc.","Allmerica Financial Corporation","The Allstate Corporation","ALLTEL Corporation","The Alpine Group, Inc.","Amazon.com, Inc.","AMC Entertainment Inc.","American Power Conversion Corporation","Amerada Hess Corporation","AMERCO","Ameren Corporation","America West Holdings Corporation","American Axle & Manufacturing Holdings, Inc.","American Eagle Outfitters, Inc.","American Electric Power Company, Inc.","American Express Company","American Financial Group, Inc.","American Greetings Corporation","American International Group, Inc.","American Standard Companies Inc.","American Water Works Company, Inc.","AmerisourceBergen Corporation","Ames Department Stores, Inc.","Amgen Inc.","Amkor Technology, Inc.","AMR Corporation","AmSouth Bancorp.","Amtran, Inc.","Anadarko Petroleum Corporation","Analog Devices, Inc.","Anheuser-Busch Companies, Inc.","Anixter International Inc.","AnnTaylor Inc.","Anthem, Inc.","AOL Time Warner Inc.","Aon Corporation","Apache Corporation","Apple Computer, Inc.","Applera Corporation","Applied Industrial Technologies, Inc.","Applied Materials, Inc.","Aquila, Inc.","ARAMARK Corporation","Arch Coal, Inc.","Archer Daniels Midland Company","Arkansas Best Corporation","Armstrong Holdings, Inc.","Arrow Electronics, Inc.","ArvinMeritor, Inc.","Ashland Inc.","Astoria Financial Corporation","AT&T Corp.","Atmel Corporation","Atmos Energy Corporation","Audiovox Corporation","Autoliv, Inc.","Automatic Data Processing, Inc.","AutoNation, Inc.","AutoZone, Inc.","Avaya Inc.","Avery Dennison Corporation","Avista Corporation","Avnet, Inc.","Avon Products, Inc.","Baker Hughes Incorporated","Ball Corporation","Bank of America Corporation","The Bank of New York Company, Inc.","Bank One Corporation","Banknorth Group, Inc.","Banta Corporation","Barnes & Noble, Inc.","Bausch & Lomb Incorporated","Baxter International Inc.","BB&T Corporation","The Bear Stearns Companies Inc.","Beazer Homes USA, Inc.","Beckman Coulter, Inc.","Becton, Dickinson and Company","Bed Bath & Beyond Inc.","Belk, Inc.","Bell Microproducts Inc.","BellSouth Corporation","Belo Corp.","Bemis Company, Inc.","Benchmark Electronics, Inc.","Berkshire Hathaway Inc.","Best Buy Co., Inc.","Bethlehem Steel Corporation","Beverly Enterprises, Inc.","Big Lots, Inc.","BJ Services Company","BJ's Wholesale Club, Inc.","The Black & Decker Corporation","Black Hills Corporation","BMC Software, Inc.","The Boeing Company","Boise Cascade Corporation","Borders Group, Inc.","BorgWarner Inc.","Boston Scientific Corporation","Bowater Incorporated","Briggs & Stratton Corporation","Brightpoint, Inc.","Brinker International, Inc.","Bristol-Myers Squibb Company","Broadwing, Inc.","Brown Shoe Company, Inc.","Brown-Forman Corporation","Brunswick Corporation","Budget Group, Inc.","Burlington Coat Factory Warehouse Corporation","Burlington Industries, Inc.","Burlington Northern Santa Fe Corporation","Burlington Resources Inc.","C. H. Robinson Worldwide Inc.","Cablevision Systems Corp","Cabot Corp","Cadence Design Systems, Inc.","Calpine Corp.","Campbell Soup Co.","Capital One Financial Corp.","Cardinal Health Inc.","Caremark Rx Inc.","Carlisle Cos. Inc.","Carpenter Technology Corp.","Casey's General Stores Inc.","Caterpillar Inc.","CBRL Group Inc.","CDI Corp.","CDW Computer Centers Inc.","CellStar Corp.","Cendant Corp","Cenex Harvest States Cooperatives","Centex Corp.","CenturyTel Inc.","Ceridian Corp.","CH2M Hill Cos. Ltd.","Champion Enterprises Inc.","Charles Schwab Corp.","Charming Shoppes Inc.","Charter Communications Inc.","Charter One Financial Inc.","ChevronTexaco Corp.","Chiquita Brands International Inc.","Chubb Corp","Ciena Corp.","Cigna Corp","Cincinnati Financial Corp.","Cinergy Corp.","Cintas Corp.","Circuit City Stores Inc.","Cisco Systems Inc.","Citigroup, Inc","Citizens Communications Co.","CKE Restaurants Inc.","Clear Channel Communications Inc.","The Clorox Co.","CMGI Inc.","CMS Energy Corp.","CNF Inc.","Coca-Cola Co.","Coca-Cola Enterprises Inc.","Colgate-Palmolive Co.","Collins & Aikman Corp.","Comcast Corp.","Comdisco Inc.","Comerica Inc.","Comfort Systems USA Inc.","Commercial Metals Co.","Community Health Systems Inc.","Compass Bancshares Inc","Computer Associates International Inc.","Computer Sciences Corp.","Compuware Corp.","Comverse Technology Inc.","ConAgra Foods Inc.","Concord EFS Inc.","Conectiv, Inc","Conoco Inc","Conseco Inc.","Consolidated Freightways Corp.","Consolidated Edison Inc.","Constellation Brands Inc.","Constellation Emergy Group Inc.","Continental Airlines Inc.","Convergys Corp.","Cooper Cameron Corp.","Cooper Industries Ltd.","Cooper Tire & Rubber Co.","Corn Products International Inc.","Corning Inc.","Costco Wholesale Corp.","Countrywide Credit Industries Inc.","Coventry Health Care Inc.","Cox Communications Inc.","Crane Co.","Crompton Corp.","Crown Cork & Seal Co. Inc.","CSK Auto Corp.","CSX Corp.","Cummins Inc.","CVS Corp.","Cytec Industries Inc.","D&K Healthcare Resources, Inc.","D.R. Horton Inc.","Dana Corporation","Danaher Corporation","Darden Restaurants Inc.","DaVita Inc.","Dean Foods Company","Deere & Company","Del Monte Foods Co","Dell Computer Corporation","Delphi Corp.","Delta Air Lines Inc.","Deluxe Corporation","Devon Energy Corporation","Di Giorgio Corporation","Dial Corporation","Diebold Incorporated","Dillard's Inc.","DIMON Incorporated","Dole Food Company, Inc.","Dollar General Corporation","Dollar Tree Stores, Inc.","Dominion Resources, Inc.","Domino's Pizza LLC","Dover Corporation, Inc.","Dow Chemical Company","Dow Jones & Company, Inc.","DPL Inc.","DQE Inc.","Dreyer's Grand Ice Cream, Inc.","DST Systems, Inc.","DTE Energy Co.","E.I. Du Pont de Nemours and Company","Duke Energy Corp","Dun & Bradstreet Inc.","DURA Automotive Systems Inc.","DynCorp","Dynegy Inc.","E*Trade Group, Inc.","E.W. Scripps Company","Earthlink, Inc.","Eastman Chemical Company","Eastman Kodak Company","Eaton Corporation","Echostar Communications Corporation","Ecolab Inc.","Edison International","EGL Inc.","El Paso Corporation","Electronic Arts Inc.","Electronic Data Systems Corp.","Eli Lilly and Company","EMC Corporation","Emcor Group Inc.","Emerson Electric Co.","Encompass Services Corporation","Energizer Holdings Inc.","Energy East Corporation","Engelhard Corporation","Enron Corp.","Entergy Corporation","Enterprise Products Partners L.P.","EOG Resources, Inc.","Equifax Inc.","Equitable Resources Inc.","Equity Office Properties Trust","Equity Residential Properties Trust","Estee Lauder Companies Inc.","Exelon Corporation","Exide Technologies","Expeditors International of Washington Inc.","Express Scripts Inc.","ExxonMobil Corporation","Fairchild Semiconductor International Inc.","Family Dollar Stores Inc.","Farmland Industries Inc.","Federal Mogul Corp.","Federated Department Stores Inc.","Federal Express Corp.","Felcor Lodging Trust Inc.","Ferro Corp.","Fidelity National Financial Inc.","Fifth Third Bancorp","First American Financial Corp.","First Data Corp.","First National of Nebraska Inc.","First Tennessee National Corp.","FirstEnergy Corp.","Fiserv Inc.","Fisher Scientific International Inc.","FleetBoston Financial Co.","Fleetwood Enterprises Inc.","Fleming Companies Inc.","Flowers Foods Inc.","Flowserv Corp","Fluor Corp","FMC Corp","Foamex International Inc","Foot Locker Inc","Footstar Inc.","Ford Motor Co","Forest Laboratories Inc.","Fortune Brands Inc.","Foster Wheeler Ltd.","FPL Group Inc.","Franklin Resources Inc.","Freeport McMoran Copper & Gold Inc.","Frontier Oil Corp","Furniture Brands International Inc.","Gannett Co., Inc.","Gap Inc.","Gateway Inc.","GATX Corporation","Gemstar-TV Guide International Inc.","GenCorp Inc.","General Cable Corporation","General Dynamics Corporation","General Electric Company","General Mills Inc","General Motors Corporation","Genesis Health Ventures Inc.","Gentek Inc.","Gentiva Health Services Inc.","Genuine Parts Company","Genuity Inc.","Genzyme Corporation","Georgia Gulf Corporation","Georgia-Pacific Corporation","Gillette Company","Gold Kist Inc.","Golden State Bancorp Inc.","Golden West Financial Corporation","Goldman Sachs Group Inc.","Goodrich Corporation","The Goodyear Tire & Rubber Company","Granite Construction Incorporated","Graybar Electric Company Inc.","Great Lakes Chemical Corporation","Great Plains Energy Inc.","GreenPoint Financial Corp.","Greif Bros. Corporation","Grey Global Group Inc.","Group 1 Automotive Inc.","Guidant Corporation","H&R Block Inc.","H.B. Fuller Company","H.J. Heinz Company","Halliburton Co.","Harley-Davidson Inc.","Harman International Industries Inc.","Harrah's Entertainment Inc.","Harris Corp.","Harsco Corp.","Hartford Financial Services Group Inc.","Hasbro Inc.","Hawaiian Electric Industries Inc.","HCA Inc.","Health Management Associates Inc.","Health Net Inc.","Healthsouth Corp","Henry Schein Inc.","Hercules Inc.","Herman Miller Inc.","Hershey Foods Corp.","Hewlett-Packard Company","Hibernia Corp.","Hillenbrand Industries Inc.","Hilton Hotels Corp.","Hollywood Entertainment Corp.","Home Depot Inc.","Hon Industries Inc.","Honeywell International Inc.","Hormel Foods Corp.","Host Marriott Corp.","Household International Corp.","Hovnanian Enterprises Inc.","Hub Group Inc.","Hubbell Inc.","Hughes Supply Inc.","Humana Inc.","Huntington Bancshares Inc.","Idacorp Inc.","IDT Corporation","IKON Office Solutions Inc.","Illinois Tool Works Inc.","IMC Global Inc.","Imperial Sugar Company","IMS Health Inc.","Ingles Market Inc","Ingram Micro Inc.","Insight Enterprises Inc.","Integrated Electrical Services Inc.","Intel Corporation","International Paper Co.","Interpublic Group of Companies Inc.","Interstate Bakeries Corporation","International Business Machines Corp.","International Flavors & Fragrances Inc.","International Multifoods Corporation","Intuit Inc.","IT Group Inc.","ITT Industries Inc.","Ivax Corp.","J.B. Hunt Transport Services Inc.","J.C. Penny Co.","J.P. Morgan Chase & Co.","Jabil Circuit Inc.","Jack In The Box Inc.","Jacobs Engineering Group Inc.","JDS Uniphase Corp.","Jefferson-Pilot Co.","John Hancock Financial Services Inc.","Johnson & Johnson","Johnson Controls Inc.","Jones Apparel Group Inc.","KB Home","Kellogg Company","Kellwood Company","Kelly Services Inc.","Kemet Corp.","Kennametal Inc.","Kerr-McGee Corporation","KeyCorp","KeySpan Corp.","Kimball International Inc.","Kimberly-Clark Corporation","Kindred Healthcare Inc.","KLA-Tencor Corporation","K-Mart Corp.","Knight-Ridder Inc.","Kohl's Corp.","KPMG Consulting Inc.","Kroger Co.","L-3 Communications Holdings Inc.","Laboratory Corporation of America Holdings","Lam Research Corporation","LandAmerica Financial Group Inc.","Lands' End Inc.","Landstar System Inc.","La-Z-Boy Inc.","Lear Corporation","Legg Mason Inc.","Leggett & Platt Inc.","Lehman Brothers Holdings Inc.","Lennar Corporation","Lennox International Inc.","Level 3 Communications Inc.","Levi Strauss & Co.","Lexmark International Inc.","Limited Inc.","Lincoln National Corporation","Linens 'n Things Inc.","Lithia Motors Inc.","Liz Claiborne Inc.","Lockheed Martin Corporation","Loews Corporation","Longs Drug Stores Corporation","Louisiana-Pacific Corporation","Lowe's Companies Inc.","LSI Logic Corporation","The LTV Corporation","The Lubrizol Corporation","Lucent Technologies Inc.","Lyondell Chemical Company","M & T Bank Corporation","Magellan Health Services Inc.","Mail-Well Inc.","Mandalay Resort Group","Manor Care Inc.","Manpower Inc.","Marathon Oil Corporation","Mariner Health Care Inc.","Markel Corporation","Marriott International Inc.","Marsh & McLennan Companies Inc.","Marsh Supermarkets Inc.","Marshall & Ilsley Corporation","Martin Marietta Materials Inc.","Masco Corporation","Massey Energy Company","MasTec Inc.","Mattel Inc.","Maxim Integrated Products Inc.","Maxtor Corporation","Maxxam Inc.","The May Department Stores Company","Maytag Corporation","MBNA Corporation","McCormick & Company Incorporated","McDonald's Corporation","The McGraw-Hill Companies Inc.","McKesson Corporation","McLeodUSA Incorporated","M.D.C. Holdings Inc.","MDU Resources Group Inc.","MeadWestvaco Corporation","Medtronic Inc.","Mellon Financial Corporation","The Men's Wearhouse Inc.","Merck & Co., Inc.","Mercury General Corporation","Merrill Lynch & Co. Inc.","Metaldyne Corporation","Metals USA Inc.","MetLife Inc.","Metris Companies Inc","MGIC Investment Corporation","MGM Mirage","Michaels Stores Inc.","Micron Technology Inc.","Microsoft Corporation","Milacron Inc.","Millennium Chemicals Inc.","Mirant Corporation","Mohawk Industries Inc.","Molex Incorporated","The MONY Group Inc.","Morgan Stanley Dean Witter & Co.","Motorola Inc.","MPS Group Inc.","Murphy Oil Corporation","Nabors Industries Inc","Nacco Industries Inc","Nash Finch Company","National City Corp.","National Commerce Financial Corporation","National Fuel Gas Company","National Oilwell Inc","National Rural Utilities Cooperative Finance Corporation","National Semiconductor Corporation","National Service Industries Inc","Navistar International Corporation","NCR Corporation","The Neiman Marcus Group Inc.","New Jersey Resources Corporation","New York Times Company","Newell Rubbermaid Inc","Newmont Mining Corporation","Nextel Communications Inc","Nicor Inc","Nike Inc","NiSource Inc","Noble Energy Inc","Nordstrom Inc","Norfolk Southern Corporation","Nortek Inc","North Fork Bancorporation Inc","Northeast Utilities System","Northern Trust Corporation","Northrop Grumman Corporation","NorthWestern Corporation","Novellus Systems Inc","NSTAR","NTL Incorporated","Nucor Corp","Nvidia Corp","NVR Inc","Northwest Airlines Corp","Occidental Petroleum Corp","Ocean Energy Inc","Office Depot Inc.","OfficeMax Inc","OGE Energy Corp","Oglethorpe Power Corp.","Ohio Casualty Corp.","Old Republic International Corp.","Olin Corp.","OM Group Inc","Omnicare Inc","Omnicom Group","On Semiconductor Corp","ONEOK Inc","Oracle Corp","Oshkosh Truck Corp","Outback Steakhouse Inc.","Owens & Minor Inc.","Owens Corning","Owens-Illinois Inc","Oxford Health Plans Inc","Paccar Inc","PacifiCare Health Systems Inc","Packaging Corp. of America","Pactiv Corp","Pall Corp","Pantry Inc","Park Place Entertainment Corp","Parker Hannifin Corp.","Pathmark Stores Inc.","Paychex Inc","Payless Shoesource Inc","Penn Traffic Co.","Pennzoil-Quaker State Company","Pentair Inc","Peoples Energy Corp.","PeopleSoft Inc","Pep Boys Manny, Moe & Jack","Potomac Electric Power Co.","Pepsi Bottling Group Inc.","PepsiAmericas Inc.","PepsiCo Inc.","Performance Food Group Co.","Perini Corp","PerkinElmer Inc","Perot Systems Corp","Petco Animal Supplies Inc.","Peter Kiewit Sons', Inc.","PETsMART Inc","Pfizer Inc","Pacific Gas & Electric Corp.","Pharmacia Corp","Phar Mor Inc.","Phelps Dodge Corp.","Philip Morris Companies Inc.","Phillips Petroleum Co","Phillips Van Heusen Corp.","Phoenix Companies Inc","Pier 1 Imports Inc.","Pilgrim's Pride Corporation","Pinnacle West Capital Corp","Pioneer-Standard Electronics Inc.","Pitney Bowes Inc.","Pittston Brinks Group","Plains All American Pipeline LP","PNC Financial Services Group Inc.","PNM Resources Inc","Polaris Industries Inc.","Polo Ralph Lauren Corp","PolyOne Corp","Popular Inc","Potlatch Corp","PPG Industries Inc","PPL Corp","Praxair Inc","Precision Castparts Corp","Premcor Inc.","Pride International Inc","Primedia Inc","Principal Financial Group Inc.","Procter & Gamble Co.","Pro-Fac Cooperative Inc.","Progress Energy Inc","Progressive Corporation","Protective Life Corp","Provident Financial Group","Providian Financial Corp.","Prudential Financial Inc.","PSS World Medical Inc","Public Service Enterprise Group Inc.","Publix Super Markets Inc.","Puget Energy Inc.","Pulte Homes Inc","Qualcomm Inc","Quanta Services Inc.","Quantum Corp","Quest Diagnostics Inc.","Questar Corp","Quintiles Transnational","Qwest Communications Intl Inc","R.J. Reynolds Tobacco Company","R.R. Donnelley & Sons Company","Radio Shack Corporation","Raymond James Financial Inc.","Raytheon Company","Reader's Digest Association Inc.","Reebok International Ltd.","Regions Financial Corp.","Regis Corporation","Reliance Steel & Aluminum Co.","Reliant Energy Inc.","Rent A Center Inc","Republic Services Inc","Revlon Inc","RGS Energy Group Inc","Rite Aid Corp","Riverwood Holding Inc.","RoadwayCorp","Robert Half International Inc.","Rock-Tenn Co","Rockwell Automation Inc","Rockwell Collins Inc","Rohm & Haas Co.","Ross Stores Inc","RPM Inc.","Ruddick Corp","Ryder System Inc","Ryerson Tull Inc","Ryland Group Inc.","Sabre Holdings Corp","Safeco Corp","Safeguard Scientifics Inc.","Safeway Inc","Saks Inc","Sanmina-SCI Inc","Sara Lee Corp","SBC Communications Inc","Scana Corp.","Schering-Plough Corp","Scholastic Corp","SCI Systems Onc.","Science Applications Intl. Inc.","Scientific-Atlanta Inc","Scotts Company","Seaboard Corp","Sealed Air Corp","Sears Roebuck & Co","Sempra Energy","Sequa Corp","Service Corp. International","ServiceMaster Co","Shaw Group Inc","Sherwin-Williams Company","Shopko Stores Inc","Siebel Systems Inc","Sierra Health Services Inc","Sierra Pacific Resources","Silgan Holdings Inc.","Silicon Graphics Inc","Simon Property Group Inc","SLM Corporation","Smith International Inc","Smithfield Foods Inc","Smurfit-Stone Container Corp","Snap-On Inc","Solectron Corp","Solutia Inc","Sonic Automotive Inc.","Sonoco Products Co.","Southern Company","Southern Union Company","SouthTrust Corp.","Southwest Airlines Co","Southwest Gas Corp","Sovereign Bancorp Inc.","Spartan Stores Inc","Spherion Corp","Sports Authority Inc","Sprint Corp.","SPX Corp","St. Jude Medical Inc","St. Paul Cos.","Staff Leasing Inc.","StanCorp Financial Group Inc","Standard Pacific Corp.","Stanley Works","Staples Inc","Starbucks Corp","Starwood Hotels & Resorts Worldwide Inc","State Street Corp.","Stater Bros. Holdings Inc.","Steelcase Inc","Stein Mart Inc","Stewart & Stevenson Services Inc","Stewart Information Services Corp","Stilwell Financial Inc","Storage Technology Corporation","Stryker Corp","Sun Healthcare Group Inc.","Sun Microsystems Inc.","SunGard Data Systems Inc.","Sunoco Inc.","SunTrust Banks Inc","Supervalu Inc","Swift Transportation, Co., Inc","Symbol Technologies Inc","Synovus Financial Corp.","Sysco Corp","Systemax Inc.","Target Corp.","Tech Data Corporation","TECO Energy Inc","Tecumseh Products Company","Tektronix Inc","Teleflex Incorporated","Telephone & Data Systems Inc","Tellabs Inc.","Temple-Inland Inc","Tenet Healthcare Corporation","Tenneco Automotive Inc.","Teradyne Inc","Terex Corp","Tesoro Petroleum Corp.","Texas Industries Inc.","Texas Instruments Incorporated","Textron Inc","Thermo Electron Corporation","Thomas & Betts Corporation","Tiffany & Co","Timken Company","TJX Companies Inc","TMP Worldwide Inc","Toll Brothers Inc","Torchmark Corporation","Toro Company","Tower Automotive Inc.","Toys 'R' Us Inc","Trans World Entertainment Corp.","TransMontaigne Inc","Transocean Inc","TravelCenters of America Inc.","Triad Hospitals Inc","Tribune Company","Trigon Healthcare Inc.","Trinity Industries Inc","Trump Hotels & Casino Resorts Inc.","TruServ Corporation","TRW Inc","TXU Corp","Tyson Foods Inc","U.S. Bancorp","U.S. Industries Inc.","UAL Corporation","UGI Corporation","Unified Western Grocers Inc","Union Pacific Corporation","Union Planters Corp","Unisource Energy Corp","Unisys Corporation","United Auto Group Inc","United Defense Industries Inc.","United Parcel Service Inc","United Rentals Inc","United Stationers Inc","United Technologies Corporation","UnitedHealth Group Incorporated","Unitrin Inc","Universal Corporation","Universal Forest Products Inc","Universal Health Services Inc","Unocal Corporation","Unova Inc","UnumProvident Corporation","URS Corporation","US Airways Group Inc","US Oncology Inc","USA Interactive","USFreighways Corporation","USG Corporation","UST Inc","Valero Energy Corporation","Valspar Corporation","Value City Department Stores Inc","Varco International Inc","Vectren Corporation","Veritas Software Corporation","Verizon Communications Inc","VF Corporation","Viacom Inc","Viad Corp","Viasystems Group Inc","Vishay Intertechnology Inc","Visteon Corporation","Volt Information Sciences Inc","Vulcan Materials Company","W.R. Berkley Corporation","W.R. Grace & Co","W.W. Grainger Inc","Wachovia Corporation","Wakenhut Corporation","Walgreen Co","Wallace Computer Services Inc","Wal-Mart Stores Inc","Walt Disney Co","Walter Industries Inc","Washington Mutual Inc","Washington Post Co.","Waste Management Inc","Watsco Inc","Weatherford International Inc","Weis Markets Inc.","Wellpoint Health Networks Inc","Wells Fargo & Company","Wendy's International Inc","Werner Enterprises Inc","WESCO International Inc","Western Digital Inc","Western Gas Resources Inc","WestPoint Stevens Inc","Weyerhauser Company","WGL Holdings Inc","Whirlpool Corporation","Whole Foods Market Inc","Willamette Industries Inc.","Williams Companies Inc","Williams Sonoma Inc","Winn Dixie Stores Inc","Wisconsin Energy Corporation","Wm Wrigley Jr Company","World Fuel Services Corporation","WorldCom Inc","Worthington Industries Inc","WPS Resources Corporation","Wyeth","Wyndham International Inc","Xcel Energy Inc","Xerox Corp","Xilinx Inc","XO Communications Inc","Yellow Corporation","York International Corp","Yum Brands Inc.","Zale Corporation","Zions Bancorporation"],fileExtension:{raster:["bmp","gif","gpl","ico","jpeg","psd","png","psp","raw","tiff"],vector:["3dv","amf","awg","ai","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","odg","svg","xar"],"3d":["3dmf","3dm","3mf","3ds","an8","aoi","blend","cal3d","cob","ctm","iob","jas","max","mb","mdx","obj","x","x3d"],document:["doc","docx","dot","html","xml","odt","odm","ott","csv","rtf","tex","xhtml","xps"]},timezones:[{name:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{name:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{name:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{name:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{name:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{name:"Pacific Standard Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{name:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{name:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{name:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{name:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{name:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{name:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{name:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{name:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{name:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{name:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{name:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{name:"Paraguay Standard Time",abbr:"PST",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{name:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{name:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{name:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{name:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{name:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{name:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{name:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{name:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{name:"Greenland Standard Time",abbr:"GDT",offset:-2,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{name:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{name:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{name:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{name:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old"},{name:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{name:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{name:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{name:"UTC",abbr:"CUT",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{name:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Edinburgh, Lisbon, London",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Lisbon","Europe/London"]},{name:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{name:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{name:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{name:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{name:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{name:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{name:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{name:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{name:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{name:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{name:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{name:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe"},{name:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{name:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{name:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!0,text:"(UTC+02:00) Istanbul",utc:["Europe/Istanbul"]},{name:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{name:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{name:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{name:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{name:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+03:00) Kaliningrad, Minsk",utc:["Europe/Kaliningrad","Europe/Minsk"]},{name:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{name:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{name:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{name:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{name:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{name:"Russian Standard Time",abbr:"RST",offset:4,isdst:!1,text:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",utc:["Europe/Moscow","Europe/Samara","Europe/Simferopol","Europe/Volgograd"]},{name:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{name:"Georgian Standard Time",abbr:"GST",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{name:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{name:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{name:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{name:"Pakistan Standard Time",abbr:"PST",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{name:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Calcutta"]},{name:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{name:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Katmandu"]},{name:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Astana",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{name:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{name:"Ekaterinburg Standard Time",abbr:"EST",offset:6,isdst:!1,text:"(UTC+06:00) Ekaterinburg",utc:["Asia/Yekaterinburg"]},{name:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{name:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{name:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{name:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{name:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{name:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{name:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{name:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{name:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{name:"North Asia East Standard Time",abbr:"NAEST",offset:9,isdst:!1,text:"(UTC+09:00) Irkutsk",utc:["Asia/Irkutsk"]},{name:"Tokyo Standard Time",abbr:"TST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{name:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{name:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{name:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{name:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{name:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{name:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{name:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{name:"Yakutsk Standard Time",abbr:"YST",offset:10,isdst:!1,text:"(UTC+10:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{name:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{name:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{name:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{name:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{name:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{name:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{name:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old"},{name:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{name:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}],profession:["Airline Pilot","Academic Team","Accountant","Account Executive","Actor","Actuary","Acquisition Analyst","Administrative Asst.","Administrative Analyst","Administrator","Advertising Director","Aerospace Engineer","Agent","Agricultural Inspector","Agricultural Scientist","Air Traffic Controller","Animal Trainer","Anthropologist","Appraiser","Architect","Art Director","Artist","Astronomer","Athletic Coach","Auditor","Author","Baker","Banker","Bankruptcy Attorney","Benefits Manager","Biologist","Bio-feedback Specialist","Biomedical Engineer","Biotechnical Researcher","Broadcaster","Broker","Building Manager","Building Contractor","Building Inspector","Business Analyst","Business Planner","Business Manager","Buyer","Call Center Manager","Career Counselor","Cash Manager","Ceramic Engineer","Chief Executive Officer","Chief Operation Officer","Chef","Chemical Engineer","Chemist","Child Care Manager","Chief Medical Officer","Chiropractor","Cinematographer","City Housing Manager","City Manager","Civil Engineer","Claims Manager","Clinical Research Assistant","Collections Manager","Compliance Manager","Comptroller","Computer Manager","Commercial Artist","Communications Affairs Director","Communications Director","Communications Engineer","Compensation Analyst","Computer Programmer","Computer Ops. Manager","Computer Engineer","Computer Operator","Computer Graphics Specialist","Construction Engineer","Construction Manager","Consultant","Consumer Relations Manager","Contract Administrator","Copyright Attorney","Copywriter","Corporate Planner","Corrections Officer","Cosmetologist","Credit Analyst","Cruise Director","Chief Information Officer","Chief Technology Officer","Customer Service Manager","Cryptologist","Dancer","Data Security Manager","Database Manager","Day Care Instructor","Dentist","Designer","Design Engineer","Desktop Publisher","Developer","Development Officer","Diamond Merchant","Dietitian","Direct Marketer","Director","Distribution Manager","Diversity Manager","Economist","EEO Compliance Manager","Editor","Education Adminator","Electrical Engineer","Electro Optical Engineer","Electronics Engineer","Embassy Management","Employment Agent","Engineer Technician","Entrepreneur","Environmental Analyst","Environmental Attorney","Environmental Engineer","Environmental Specialist","Escrow Officer","Estimator","Executive Assistant","Executive Director","Executive Recruiter","Facilities Manager","Family Counselor","Fashion Events Manager","Fashion Merchandiser","Fast Food Manager","Film Producer","Film Production Assistant","Financial Analyst","Financial Planner","Financier","Fine Artist","Wildlife Specialist","Fitness Consultant","Flight Attendant","Flight Engineer","Floral Designer","Food & Beverage Director","Food Service Manager","Forestry Technician","Franchise Management","Franchise Sales","Fraud Investigator","Freelance Writer","Fund Raiser","General Manager","Geologist","General Counsel","Geriatric Specialist","Gerontologist","Glamour Photographer","Golf Club Manager","Gourmet Chef","Graphic Designer","Grounds Keeper","Hazardous Waste Manager","Health Care Manager","Health Therapist","Health Service Administrator","Hearing Officer","Home Economist","Horticulturist","Hospital Administrator","Hotel Manager","Human Resources Manager","Importer","Industrial Designer","Industrial Engineer","Information Director","Inside Sales","Insurance Adjuster","Interior Decorator","Internal Controls Director","International Acct.","International Courier","International Lawyer","Interpreter","Investigator","Investment Banker","Investment Manager","IT Architect","IT Project Manager","IT Systems Analyst","Jeweler","Joint Venture Manager","Journalist","Labor Negotiator","Labor Organizer","Labor Relations Manager","Lab Services Director","Lab Technician","Land Developer","Landscape Architect","Law Enforcement Officer","Lawyer","Lead Software Engineer","Lead Software Test Engineer","Leasing Manager","Legal Secretary","Library Manager","Litigation Attorney","Loan Officer","Lobbyist","Logistics Manager","Maintenance Manager","Management Consultant","Managed Care Director","Managing Partner","Manufacturing Director","Manpower Planner","Marine Biologist","Market Res. Analyst","Marketing Director","Materials Manager","Mathematician","Membership Chairman","Mechanic","Mechanical Engineer","Media Buyer","Medical Investor","Medical Secretary","Medical Technician","Mental Health Counselor","Merchandiser","Metallurgical Engineering","Meteorologist","Microbiologist","MIS Manager","Motion Picture Director","Multimedia Director","Musician","Network Administrator","Network Specialist","Network Operator","New Product Manager","Novelist","Nuclear Engineer","Nuclear Specialist","Nutritionist","Nursing Administrator","Occupational Therapist","Oceanographer","Office Manager","Operations Manager","Operations Research Director","Optical Technician","Optometrist","Organizational Development Manager","Outplacement Specialist","Paralegal","Park Ranger","Patent Attorney","Payroll Specialist","Personnel Specialist","Petroleum Engineer","Pharmacist","Photographer","Physical Therapist","Physician","Physician Assistant","Physicist","Planning Director","Podiatrist","Political Analyst","Political Scientist","Politician","Portfolio Manager","Preschool Management","Preschool Teacher","Principal","Private Banker","Private Investigator","Probation Officer","Process Engineer","Producer","Product Manager","Product Engineer","Production Engineer","Production Planner","Professional Athlete","Professional Coach","Professor","Project Engineer","Project Manager","Program Manager","Property Manager","Public Administrator","Public Safety Director","PR Specialist","Publisher","Purchasing Agent","Publishing Director","Quality Assurance Specialist","Quality Control Engineer","Quality Control Inspector","Radiology Manager","Railroad Engineer","Real Estate Broker","Recreational Director","Recruiter","Redevelopment Specialist","Regulatory Affairs Manager","Registered Nurse","Rehabilitation Counselor","Relocation Manager","Reporter","Research Specialist","Restaurant Manager","Retail Store Manager","Risk Analyst","Safety Engineer","Sales Engineer","Sales Trainer","Sales Promotion Manager","Sales Representative","Sales Manager","Service Manager","Sanitation Engineer","Scientific Programmer","Scientific Writer","Securities Analyst","Security Consultant","Security Director","Seminar Presenter","Ship's Officer","Singer","Social Director","Social Program Planner","Social Research","Social Scientist","Social Worker","Sociologist","Software Developer","Software Engineer","Software Test Engineer","Soil Scientist","Special Events Manager","Special Education Teacher","Special Projects Director","Speech Pathologist","Speech Writer","Sports Event Manager","Statistician","Store Manager","Strategic Alliance Director","Strategic Planning Director","Stress Reduction Specialist","Stockbroker","Surveyor","Structural Engineer","Superintendent","Supply Chain Director","System Engineer","Systems Analyst","Systems Programmer","System Administrator","Tax Specialist","Teacher","Technical Support Specialist","Technical Illustrator","Technical Writer","Technology Director","Telecom Analyst","Telemarketer","Theatrical Director","Title Examiner","Tour Escort","Tour Guide Director","Traffic Manager","Trainer Translator","Transportation Manager","Travel Agent","Treasurer","TV Programmer","Underwriter","Union Representative","University Administrator","University Dean","Urban Planner","Veterinarian","Vendor Relations Director","Viticulturist","Warehouse Manager"],animals:{ocean:["Acantharea","Anemone","Angelfish King","Ahi Tuna","Albacore","American Oyster","Anchovy","Armored Snail","Arctic Char","Atlantic Bluefin Tuna","Atlantic Cod","Atlantic Goliath Grouper","Atlantic Trumpetfish","Atlantic Wolffish","Baleen Whale","Banded Butterflyfish","Banded Coral Shrimp","Banded Sea Krait","Barnacle","Barndoor Skate","Barracuda","Basking Shark","Bass","Beluga Whale","Bluebanded Goby","Bluehead Wrasse","Bluefish","Bluestreak Cleaner-Wrasse","Blue Marlin","Blue Shark","Blue Spiny Lobster","Blue Tang","Blue Whale","Broadclub Cuttlefish","Bull Shark","Chambered Nautilus","Chilean Basket Star","Chilean Jack Mackerel","Chinook Salmon","Christmas Tree Worm","Clam","Clown Anemonefish","Clown Triggerfish","Cod","Coelacanth","Cockscomb Cup Coral","Common Fangtooth","Conch","Cookiecutter Shark","Copepod","Coral","Corydoras","Cownose Ray","Crab","Crown-of-Thorns Starfish","Cushion Star","Cuttlefish","California Sea Otters","Dolphin","Dolphinfish","Dory","Devil Fish","Dugong","Dumbo Octopus","Dungeness Crab","Eccentric Sand Dollar","Edible Sea Cucumber","Eel","Elephant Seal","Elkhorn Coral","Emperor Shrimp","Estuarine Crocodile","Fathead Sculpin","Fiddler Crab","Fin Whale","Flameback","Flamingo Tongue Snail","Flashlight Fish","Flatback Turtle","Flatfish","Flying Fish","Flounder","Fluke","French Angelfish","Frilled Shark","Fugu (also called Pufferfish)","Gar","Geoduck","Giant Barrel Sponge","Giant Caribbean Sea Anemone","Giant Clam","Giant Isopod","Giant Kingfish","Giant Oarfish","Giant Pacific Octopus","Giant Pyrosome","Giant Sea Star","Giant Squid","Glowing Sucker Octopus","Giant Tube Worm","Goblin Shark","Goosefish","Great White Shark","Greenland Shark","Grey Atlantic Seal","Grouper","Grunion","Guineafowl Puffer","Haddock","Hake","Halibut","Hammerhead Shark","Hapuka","Harbor Porpoise","Harbor Seal","Hatchetfish","Hawaiian Monk Seal","Hawksbill Turtle","Hector's Dolphin","Hermit Crab","Herring","Hoki","Horn Shark","Horseshoe Crab","Humpback Anglerfish","Humpback Whale","Icefish","Imperator Angelfish","Irukandji Jellyfish","Isopod","Ivory Bush Coral","Japanese Spider Crab","Jellyfish","John Dory","Juan Fernandez Fur Seal","Killer Whale","Kiwa Hirsuta","Krill","Lagoon Triggerfish","Lamprey","Leafy Seadragon","Leopard Seal","Limpet","Ling","Lionfish","Lions Mane Jellyfish","Lobe Coral","Lobster","Loggerhead Turtle","Longnose Sawshark","Longsnout Seahorse","Lophelia Coral","Marrus Orthocanna","Manatee","Manta Ray","Marlin","Megamouth Shark","Mexican Lookdown","Mimic Octopus","Moon Jelly","Mollusk","Monkfish","Moray Eel","Mullet","Mussel","Megaladon","Napoleon Wrasse","Nassau Grouper","Narwhal","Nautilus","Needlefish","Northern Seahorse","North Atlantic Right Whale","Northern Red Snapper","Norway Lobster","Nudibranch","Nurse Shark","Oarfish","Ocean Sunfish","Oceanic Whitetip Shark","Octopus","Olive Sea Snake","Orange Roughy","Ostracod","Otter","Oyster","Pacific Angelshark","Pacific Blackdragon","Pacific Halibut","Pacific Sardine","Pacific Sea Nettle Jellyfish","Pacific White Sided Dolphin","Pantropical Spotted Dolphin","Patagonian Toothfish","Peacock Mantis Shrimp","Pelagic Thresher Shark","Penguin","Peruvian Anchoveta","Pilchard","Pink Salmon","Pinniped","Plankton","Porpoise","Polar Bear","Portuguese Man o' War","Pycnogonid Sea Spider","Quahog","Queen Angelfish","Queen Conch","Queen Parrotfish","Queensland Grouper","Ragfish","Ratfish","Rattail Fish","Ray","Red Drum","Red King Crab","Ringed Seal","Risso's Dolphin","Ross Seals","Sablefish","Salmon","Sand Dollar","Sandbar Shark","Sawfish","Sarcastic Fringehead","Scalloped Hammerhead Shark","Seahorse","Sea Cucumber","Sea Lion","Sea Urchin","Seal","Shark","Shortfin Mako Shark","Shovelnose Guitarfish","Shrimp","Silverside Fish","Skipjack Tuna","Slender Snipe Eel","Smalltooth Sawfish","Smelts","Sockeye Salmon","Southern Stingray","Sponge","Spotted Porcupinefish","Spotted Dolphin","Spotted Eagle Ray","Spotted Moray","Squid","Squidworm","Starfish","Stickleback","Stonefish","Stoplight Loosejaw","Sturgeon","Swordfish","Tan Bristlemouth","Tasseled Wobbegong","Terrible Claw Lobster","Threespot Damselfish","Tiger Prawn","Tiger Shark","Tilefish","Toadfish","Tropical Two-Wing Flyfish","Tuna","Umbrella Squid","Velvet Crab","Venus Flytrap Sea Anemone","Vigtorniella Worm","Viperfish","Vampire Squid","Vaquita","Wahoo","Walrus","West Indian Manatee","Whale","Whale Shark","Whiptail Gulper","White-Beaked Dolphin","White-Ring Garden Eel","White Shrimp","Wobbegong","Wrasse","Wreckfish","Xiphosura","Yellowtail Damselfish","Yelloweye Rockfish","Yellow Cup Black Coral","Yellow Tube Sponge","Yellowfin Tuna","Zebrashark","Zooplankton"],desert:["Aardwolf","Addax","African Wild Ass","Ant","Antelope","Armadillo","Baboon","Badger","Bat","Bearded Dragon","Beetle","Bird","Black-footed Cat","Boa","Brown Bear","Bustard","Butterfly","Camel","Caracal","Caracara","Caterpillar","Centipede","Cheetah","Chipmunk","Chuckwalla","Climbing Mouse","Coati","Cobra","Cotton Rat","Cougar","Courser","Crane Fly","Crow","Dassie Rat","Dove","Dunnart","Eagle","Echidna","Elephant","Emu","Falcon","Fly","Fox","Frogmouth","Gecko","Geoffroy's Cat","Gerbil","Grasshopper","Guanaco","Gundi","Hamster","Hawk","Hedgehog","Hyena","Hyrax","Jackal","Kangaroo","Kangaroo Rat","Kestrel","Kowari","Kultarr","Leopard","Lion","Macaw","Meerkat","Mouse","Oryx","Ostrich","Owl","Pronghorn","Python","Rabbit","Raccoon","Rattlesnake","Rhinoceros","Sand Cat","Spectacled Bear","Spiny Mouse","Starling","Stick Bug","Tarantula","Tit","Toad","Tortoise","Tyrant Flycatcher","Viper","Vulture","Waxwing","Xerus","Zebra"],grassland:["Aardvark","Aardwolf","Accentor","African Buffalo","African Wild Dog","Alpaca","Anaconda","Ant","Anteater","Antelope","Armadillo","Baboon","Badger","Bandicoot","Barbet","Bat","Bee","Bee-eater","Beetle","Bird","Bison","Black-footed Cat","Black-footed Ferret","Bluebird","Boa","Bowerbird","Brown Bear","Bush Dog","Bushshrike","Bustard","Butterfly","Buzzard","Caracal","Caracara","Cardinal","Caterpillar","Cheetah","Chipmunk","Civet","Climbing Mouse","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Common Genet","Cotton Rat","Cougar","Courser","Coyote","Crane","Crane Fly","Cricket","Crow","Culpeo","Death Adder","Deer","Deer Mouse","Dingo","Dinosaur","Dove","Drongo","Duck","Duiker","Dunnart","Eagle","Echidna","Elephant","Elk","Emu","Falcon","Finch","Flea","Fly","Flying Frog","Fox","Frog","Frogmouth","Garter Snake","Gazelle","Gecko","Geoffroy's Cat","Gerbil","Giant Tortoise","Giraffe","Grasshopper","Grison","Groundhog","Grouse","Guanaco","Guinea Pig","Hamster","Harrier","Hartebeest","Hawk","Hedgehog","Helmetshrike","Hippopotamus","Hornbill","Hyena","Hyrax","Impala","Jackal","Jaguar","Jaguarundi","Kangaroo","Kangaroo Rat","Kestrel","Kultarr","Ladybug","Leopard","Lion","Macaw","Meerkat","Mouse","Newt","Oryx","Ostrich","Owl","Pangolin","Pheasant","Prairie Dog","Pronghorn","Przewalski's Horse","Python","Quoll","Rabbit","Raven","Rhinoceros","Shelduck","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Tamandua","Tasmanian Devil","Thornbill","Thrush","Toad","Tortoise"],forest:["Agouti","Anaconda","Anoa","Ant","Anteater","Antelope","Armadillo","Asian Black Bear","Aye-aye","Babirusa","Baboon","Badger","Bandicoot","Banteng","Barbet","Basilisk","Bat","Bearded Dragon","Bee","Bee-eater","Beetle","Bettong","Binturong","Bird-of-paradise","Bongo","Bowerbird","Bulbul","Bush Dog","Bushbaby","Bushshrike","Butterfly","Buzzard","Caecilian","Cardinal","Cassowary","Caterpillar","Centipede","Chameleon","Chimpanzee","Cicada","Civet","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Colugo","Cotinga","Cotton Rat","Cougar","Crane Fly","Cricket","Crocodile","Crow","Cuckoo","Cuscus","Death Adder","Deer","Dhole","Dingo","Dinosaur","Drongo","Duck","Duiker","Eagle","Echidna","Elephant","Finch","Flat-headed Cat","Flea","Flowerpecker","Fly","Flying Frog","Fossa","Frog","Frogmouth","Gaur","Gecko","Gorilla","Grison","Hawaiian Honeycreeper","Hawk","Hedgehog","Helmetshrike","Hornbill","Hyrax","Iguana","Jackal","Jaguar","Jaguarundi","Kestrel","Ladybug","Lemur","Leopard","Lion","Macaw","Mandrill","Margay","Monkey","Mouse","Mouse Deer","Newt","Okapi","Old World Flycatcher","Orangutan","Owl","Pangolin","Peafowl","Pheasant","Possum","Python","Quokka","Rabbit","Raccoon","Red Panda","Red River Hog","Rhinoceros","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Sun Bear","Tamandua","Tamarin","Tapir","Tarantula","Thrush","Tiger","Tit","Toad","Tortoise","Toucan","Trogon","Trumpeter","Turaco","Turtle","Tyrant Flycatcher","Viper","Vulture","Wallaby","Warbler","Wasp","Waxwing","Weaver","Weaver-finch","Whistler","White-eye","Whydah","Woodswallow","Worm","Wren","Xenops","Yellowjacket","Accentor","African Buffalo","American Black Bear","Anole","Bird","Bison","Boa","Brown Bear","Chipmunk","Common Genet","Copperhead","Coyote","Deer Mouse","Dormouse","Elk","Emu","Fisher","Fox","Garter Snake","Giant Panda","Giant Tortoise","Groundhog","Grouse","Guanaco","Himalayan Tahr","Kangaroo","Koala","Numbat","Quoll","Raccoon dog","Tasmanian Devil","Thornbill","Turkey","Vole","Weasel","Wildcat","Wolf","Wombat","Woodchuck","Woodpecker"],farm:["Alpaca","Buffalo","Banteng","Cow","Cat","Chicken","Carp","Camel","Donkey","Dog","Duck","Emu","Goat","Gayal","Guinea","Goose","Horse","Honey","Llama","Pig","Pigeon","Rhea","Rabbit","Sheep","Silkworm","Turkey","Yak","Zebu"],pet:["Bearded Dragon","Birds","Burro","Cats","Chameleons","Chickens","Chinchillas","Chinese Water Dragon","Cows","Dogs","Donkey","Ducks","Ferrets","Fish","Geckos","Geese","Gerbils","Goats","Guinea Fowl","Guinea Pigs","Hamsters","Hedgehogs","Horses","Iguanas","Llamas","Lizards","Mice","Mule","Peafowl","Pigs and Hogs","Pigeons","Ponies","Pot Bellied Pig","Rabbits","Rats","Sheep","Skinks","Snakes","Stick Insects","Sugar Gliders","Tarantula","Turkeys","Turtles"],zoo:["Aardvark","African Wild Dog","Aldabra Tortoise","American Alligator","American Bison","Amur Tiger","Anaconda","Andean Condor","Asian Elephant","Baby Doll Sheep","Bald Eagle","Barred Owl","Blue Iguana","Boer Goat","California Sea Lion","Caribbean Flamingo","Chinchilla","Collared Lemur","Coquerel's Sifaka","Cuban Amazon Parrot","Ebony Langur","Fennec Fox","Fossa","Gelada","Giant Anteater","Giraffe","Gorilla","Grizzly Bear","Henkel's Leaf-tailed Gecko","Indian Gharial","Indian Rhinoceros","King Cobra","King Vulture","Komodo Dragon","Linne's Two-toed Sloth","Lion","Little Penguin","Madagascar Tree Boa","Magellanic Penguin","Malayan Tapir","Malayan Tiger","Matschies Tree Kangaroo","Mini Donkey","Monarch Butterfly","Nile crocodile","North American Porcupine","Nubian Ibex","Okapi","Poison Dart Frog","Polar Bear","Pygmy Marmoset","Radiated Tortoise","Red Panda","Red Ruffed Lemur","Ring-tailed Lemur","Ring-tailed Mongoose","Rock Hyrax","Small Clawed Asian Otter","Snow Leopard","Snowy Owl","Southern White-faced Owl","Southern White Rhinocerous","Squirrel Monkey","Tufted Puffin","White Cheeked Gibbon","White-throated Bee Eater","Zebra"]},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919,7927,7933,7937,7949,7951,7963,7993,8009,8011,8017,8039,8053,8059,8069,8081,8087,8089,8093,8101,8111,8117,8123,8147,8161,8167,8171,8179,8191,8209,8219,8221,8231,8233,8237,8243,8263,8269,8273,8287,8291,8293,8297,8311,8317,8329,8353,8363,8369,8377,8387,8389,8419,8423,8429,8431,8443,8447,8461,8467,8501,8513,8521,8527,8537,8539,8543,8563,8573,8581,8597,8599,8609,8623,8627,8629,8641,8647,8663,8669,8677,8681,8689,8693,8699,8707,8713,8719,8731,8737,8741,8747,8753,8761,8779,8783,8803,8807,8819,8821,8831,8837,8839,8849,8861,8863,8867,8887,8893,8923,8929,8933,8941,8951,8963,8969,8971,8999,9001,9007,9011,9013,9029,9041,9043,9049,9059,9067,9091,9103,9109,9127,9133,9137,9151,9157,9161,9173,9181,9187,9199,9203,9209,9221,9227,9239,9241,9257,9277,9281,9283,9293,9311,9319,9323,9337,9341,9343,9349,9371,9377,9391,9397,9403,9413,9419,9421,9431,9433,9437,9439,9461,9463,9467,9473,9479,9491,9497,9511,9521,9533,9539,9547,9551,9587,9601,9613,9619,9623,9629,9631,9643,9649,9661,9677,9679,9689,9697,9719,9721,9733,9739,9743,9749,9767,9769,9781,9787,9791,9803,9811,9817,9829,9833,9839,9851,9857,9859,9871,9883,9887,9901,9907,9923,9929,9931,9941,9949,9967,9973,10007],emotions:["love","joy","surprise","anger","sadness","fear"]},v=Object.prototype.hasOwnProperty,b=Object.keys||function(e){var t=[];for(var i in e)v.call(e,i)&&t.push(i);return t};function x(e,t){var i=Array.isArray(e),r=t||(i?new Array(e.length):{});return i?function(e,t){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}(e,r):function(e,t){for(var i,r=b(e),n=0,a=r.length;n<a;n++)t[i=r[n]]=e[i]||t[i]}(e,r),r}u.prototype.get=function(e){return x(g[e])},u.prototype.mac_address=function(e){(e=c(e)).separator||(e.separator=e.networkVersion?".":":");return e.networkVersion?this.n(this.string,3,{pool:"ABCDEF1234567890",length:4}).join(e.separator):this.n(this.string,6,{pool:"ABCDEF1234567890",length:2}).join(e.separator)},u.prototype.normal=function(e){if(h((e=c(e,{mean:0,dev:1,pool:[]})).pool.constructor!==Array,"Chance: The pool option must be a valid array."),h("number"!=typeof e.mean,"Chance: Mean (mean) must be a number"),h("number"!=typeof e.dev,"Chance: Standard deviation (dev) must be a number"),e.pool.length>0)return this.normal_pool(e);var t,i,r,n=e.mean,a=e.dev;do{t=(i=2*this.random()-1)*i+(r=2*this.random()-1)*r}while(t>=1);return a*(i*Math.sqrt(-2*Math.log(t)/t))+n},u.prototype.normal_pool=function(e){var t=0;do{var i=Math.round(this.normal({mean:e.mean,dev:e.dev}));if(i<e.pool.length&&i>=0)return e.pool[i];t++}while(t<100);throw new RangeError("Chance: Your pool is too small for the given mean and standard deviation. Please adjust.")},u.prototype.radio=function(e){var t="";switch((e=c(e,{side:"?"})).side.toLowerCase()){case"east":case"e":t="W";break;case"west":case"w":t="K";break;default:t=this.character({pool:"KW"})}return t+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})},u.prototype.set=function(e,t){"string"==typeof e?g[e]=t:g=x(e,g)},u.prototype.tv=function(e){return this.radio(e)},u.prototype.cnpj=function(){var e=this.n(this.natural,8,{max:9}),t=2+6*e[7]+7*e[6]+8*e[5]+9*e[4]+2*e[3]+3*e[2]+4*e[1]+5*e[0];(t=11-t%11)>=10&&(t=0);var i=2*t+3+7*e[7]+8*e[6]+9*e[5]+2*e[4]+3*e[3]+4*e[2]+5*e[1]+6*e[0];return(i=11-i%11)>=10&&(i=0),""+e[0]+e[1]+"."+e[2]+e[3]+e[4]+"."+e[5]+e[6]+e[7]+"/0001-"+t+i},u.prototype.emotion=function(){return this.pick(this.get("emotions"))},u.prototype.mersenne_twister=function(e){return new S(e)},u.prototype.blueimp_md5=function(){return new P};var S=function(e){void 0===e&&(e=Math.floor(Math.random()*Math.pow(10,13))),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};S.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++)e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0},S.prototype.init_by_array=function(e,t){var i,r,n=1,a=0;for(this.init_genrand(19650218),i=this.N>t?this.N:t;i;i--)r=this.mt[n-1]^this.mt[n-1]>>>30,this.mt[n]=(this.mt[n]^(1664525*((4294901760&r)>>>16)<<16)+1664525*(65535&r))+e[a]+a,this.mt[n]>>>=0,a++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),a>=t&&(a=0);for(i=this.N-1;i;i--)r=this.mt[n-1]^this.mt[n-1]>>>30,this.mt[n]=(this.mt[n]^(1566083941*((4294901760&r)>>>16)<<16)+1566083941*(65535&r))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1);this.mt[0]=2147483648},S.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti===this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^e>>>1^t[1&e];for(;i<this.N-1;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},S.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},S.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},S.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},S.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},S.prototype.genrand_res53=function(){return(67108864*(this.genrand_int32()>>>5)+(this.genrand_int32()>>>6))*(1/9007199254740992)};var P=function(){};P.prototype.VERSION="1.0.1",P.prototype.safe_add=function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},P.prototype.bit_roll=function(e,t){return e<<t|e>>>32-t},P.prototype.md5_cmn=function(e,t,i,r,n,a){return this.safe_add(this.bit_roll(this.safe_add(this.safe_add(t,e),this.safe_add(r,a)),n),i)},P.prototype.md5_ff=function(e,t,i,r,n,a,o){return this.md5_cmn(t&i|~t&r,e,t,n,a,o)},P.prototype.md5_gg=function(e,t,i,r,n,a,o){return this.md5_cmn(t&r|i&~r,e,t,n,a,o)},P.prototype.md5_hh=function(e,t,i,r,n,a,o){return this.md5_cmn(t^i^r,e,t,n,a,o)},P.prototype.md5_ii=function(e,t,i,r,n,a,o){return this.md5_cmn(i^(t|~r),e,t,n,a,o)},P.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var i,r,n,a,o,s=1732584193,l=-271733879,u=-1732584194,c=271733878;for(i=0;i<e.length;i+=16)r=s,n=l,a=u,o=c,s=this.md5_ff(s,l,u,c,e[i],7,-680876936),c=this.md5_ff(c,s,l,u,e[i+1],12,-389564586),u=this.md5_ff(u,c,s,l,e[i+2],17,606105819),l=this.md5_ff(l,u,c,s,e[i+3],22,-1044525330),s=this.md5_ff(s,l,u,c,e[i+4],7,-176418897),c=this.md5_ff(c,s,l,u,e[i+5],12,1200080426),u=this.md5_ff(u,c,s,l,e[i+6],17,-1473231341),l=this.md5_ff(l,u,c,s,e[i+7],22,-45705983),s=this.md5_ff(s,l,u,c,e[i+8],7,1770035416),c=this.md5_ff(c,s,l,u,e[i+9],12,-1958414417),u=this.md5_ff(u,c,s,l,e[i+10],17,-42063),l=this.md5_ff(l,u,c,s,e[i+11],22,-1990404162),s=this.md5_ff(s,l,u,c,e[i+12],7,1804603682),c=this.md5_ff(c,s,l,u,e[i+13],12,-40341101),u=this.md5_ff(u,c,s,l,e[i+14],17,-1502002290),l=this.md5_ff(l,u,c,s,e[i+15],22,1236535329),s=this.md5_gg(s,l,u,c,e[i+1],5,-165796510),c=this.md5_gg(c,s,l,u,e[i+6],9,-1069501632),u=this.md5_gg(u,c,s,l,e[i+11],14,643717713),l=this.md5_gg(l,u,c,s,e[i],20,-373897302),s=this.md5_gg(s,l,u,c,e[i+5],5,-701558691),c=this.md5_gg(c,s,l,u,e[i+10],9,38016083),u=this.md5_gg(u,c,s,l,e[i+15],14,-660478335),l=this.md5_gg(l,u,c,s,e[i+4],20,-405537848),s=this.md5_gg(s,l,u,c,e[i+9],5,568446438),c=this.md5_gg(c,s,l,u,e[i+14],9,-1019803690),u=this.md5_gg(u,c,s,l,e[i+3],14,-187363961),l=this.md5_gg(l,u,c,s,e[i+8],20,1163531501),s=this.md5_gg(s,l,u,c,e[i+13],5,-1444681467),c=this.md5_gg(c,s,l,u,e[i+2],9,-51403784),u=this.md5_gg(u,c,s,l,e[i+7],14,1735328473),l=this.md5_gg(l,u,c,s,e[i+12],20,-1926607734),s=this.md5_hh(s,l,u,c,e[i+5],4,-378558),c=this.md5_hh(c,s,l,u,e[i+8],11,-2022574463),u=this.md5_hh(u,c,s,l,e[i+11],16,1839030562),l=this.md5_hh(l,u,c,s,e[i+14],23,-35309556),s=this.md5_hh(s,l,u,c,e[i+1],4,-1530992060),c=this.md5_hh(c,s,l,u,e[i+4],11,1272893353),u=this.md5_hh(u,c,s,l,e[i+7],16,-155497632),l=this.md5_hh(l,u,c,s,e[i+10],23,-1094730640),s=this.md5_hh(s,l,u,c,e[i+13],4,681279174),c=this.md5_hh(c,s,l,u,e[i],11,-358537222),u=this.md5_hh(u,c,s,l,e[i+3],16,-722521979),l=this.md5_hh(l,u,c,s,e[i+6],23,76029189),s=this.md5_hh(s,l,u,c,e[i+9],4,-640364487),c=this.md5_hh(c,s,l,u,e[i+12],11,-421815835),u=this.md5_hh(u,c,s,l,e[i+15],16,530742520),l=this.md5_hh(l,u,c,s,e[i+2],23,-995338651),s=this.md5_ii(s,l,u,c,e[i],6,-198630844),c=this.md5_ii(c,s,l,u,e[i+7],10,1126891415),u=this.md5_ii(u,c,s,l,e[i+14],15,-1416354905),l=this.md5_ii(l,u,c,s,e[i+5],21,-57434055),s=this.md5_ii(s,l,u,c,e[i+12],6,1700485571),c=this.md5_ii(c,s,l,u,e[i+3],10,-1894986606),u=this.md5_ii(u,c,s,l,e[i+10],15,-1051523),l=this.md5_ii(l,u,c,s,e[i+1],21,-2054922799),s=this.md5_ii(s,l,u,c,e[i+8],6,1873313359),c=this.md5_ii(c,s,l,u,e[i+15],10,-30611744),u=this.md5_ii(u,c,s,l,e[i+6],15,-1560198380),l=this.md5_ii(l,u,c,s,e[i+13],21,1309151649),s=this.md5_ii(s,l,u,c,e[i+4],6,-145523070),c=this.md5_ii(c,s,l,u,e[i+11],10,-1120210379),u=this.md5_ii(u,c,s,l,e[i+2],15,718787259),l=this.md5_ii(l,u,c,s,e[i+9],21,-343485551),s=this.safe_add(s,r),l=this.safe_add(l,n),u=this.safe_add(u,a),c=this.safe_add(c,o);return[s,l,u,c]},P.prototype.binl2rstr=function(e){var t,i="";for(t=0;t<32*e.length;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i},P.prototype.rstr2binl=function(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<8*e.length;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i},P.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},P.prototype.rstr_hmac_md5=function(e,t){var i,r,n=this.rstr2binl(e),a=[],o=[];for(a[15]=o[15]=void 0,n.length>16&&(n=this.binl_md5(n,8*e.length)),i=0;i<16;i+=1)a[i]=909522486^n[i],o[i]=1549556828^n[i];return r=this.binl_md5(a.concat(this.rstr2binl(t)),512+8*t.length),this.binl2rstr(this.binl_md5(o.concat(r),640))},P.prototype.rstr2hex=function(e){var t,i,r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r},P.prototype.str2rstr_utf8=function(e){return unescape(encodeURIComponent(e))},P.prototype.raw_md5=function(e){return this.rstr_md5(this.str2rstr_utf8(e))},P.prototype.hex_md5=function(e){return this.rstr2hex(this.raw_md5(e))},P.prototype.raw_hmac_md5=function(e,t){return this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t))},P.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.raw_hmac_md5(e,t))},P.prototype.md5=function(e,t,i){return t?i?this.raw_hmac_md5(t,e):this.hex_hmac_md5(t,e):i?this.raw_md5(e):this.hex_md5(e)},e.exports&&(t=e.exports=u),t.Chance=u,"undefined"!=typeof importScripts&&(chance=new u,self.Chance=u),"object"==typeof window&&"object"==typeof window.document&&(window.Chance=u,window.chance=new u)}()}));const X_={groupByCaseBegin:"CASE",groupByOutKeyword:"OUT",groupByCaseEnd:"ELSE 'OUT' END",groupByWhenCase:"${ groupByFieldsForStatistics } WHEN (${ y } ${ yMinOperand } ${ yValue } AND ${ y } ${ yMaxOperand } ${ yValuePlusStep } AND ${ x } ${ xMinOperand } ${ xValue } AND ${ x } ${ xMaxOperand } ${ xValuePlusStep }) THEN '${ xValue }|${ xValuePlusStep}|${ yValue }|${ yValuePlusStep }'"};function J_(e){const{groupByFieldsForStatistics:t,x:i,y:r,xValue:n,yValue:a,xStep:o,yStep:s,endOfRow:l,endOfColumn:u}=e;let c=""===t?X_.groupByCaseBegin:t;return c=Qu(X_.groupByWhenCase,{groupByFieldsForStatistics:c,x:i,y:r,xValue:""+n,yValue:""+a,xValuePlusStep:""+(n+(!0===u?0:o)),yValuePlusStep:""+(a+(!0===l?0:s)),xMinOperand:!0===u?"=":">=",yMinOperand:!0===l?"=":">=",xMaxOperand:!0===u?"=":"<",yMaxOperand:!0===l?"=":"<"}),c}function Q_(e){return a(this,void 0,void 0,(function*(){const{groupByFieldsForStatistics:t,dataOutStatistics:i,queryObject:r,customFilter:n,x:a,y:o,xMin:s,xMax:l,yMin:u,yMax:c,extent:h}=e;let d=Ac([`${a} >= ${s}`,`${a} <= ${l}`]);a!==o&&(d=Ac([d,`${o} >= ${u}`,`${o} <= ${c}`]));return Vc({queryObject:r,chartQuery:{groupByFieldsForStatistics:[t],outStatistics:i,where:d,extent:h},filter:n,noBatch:!0})}))}function Z_(e){var t,i,r,n,o,s,l;return a(this,void 0,void 0,(function*(){const{x:u,y:c,statsMap:h,featureLayer:d,queryObject:p,customFilter:f,extent:m}=e,{dataContextXMinField:y,dataContextXMaxField:g,dataContextYMinField:v,dataContextYMaxField:b,dataContextCountDistinctX:x,dataContextCountDistinctY:S,queryNumberOfFeatures:P,queryNumberOfAggregatedFeatures:_}=Ub.scatterPlotAggregationFields;let C=[];const w=null!==(t=null==h?void 0:h.get(y))&&void 0!==t?t:NaN,I=null!==(i=null==h?void 0:h.get(g))&&void 0!==i?i:NaN,A=null!==(r=null==h?void 0:h.get(P))&&void 0!==r?r:NaN,T=null!==(n=null==h?void 0:h.get(v))&&void 0!==n?n:w,O=null!==(o=null==h?void 0:h.get(b))&&void 0!==o?o:I;if(!1===Number.isNaN(w+I+T+O)){const{maxScatterPointsAfterAggregation:e,maxScatterCellsPerQuery:t}={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500},i=e,r=Math.floor(Math.sqrt(i)),n=yield function(e){return a(this,void 0,void 0,(function*(){const{x:t,y:i,queryObject:r,customFilter:n,extent:a}=e,{dataContextCountDistinctX:o,dataContextCountDistinctY:s}=Ub.scatterPlotAggregationFields,l=[{statisticType:Sm,outStatisticFieldName:o,onStatisticField:t},{statisticType:Sm,outStatisticFieldName:s,onStatisticField:i}];return yield jc({queryObject:r,filter:n,extent:a,statsList:l,returnDistinctValues:!0})}))}({x:u,y:c,queryObject:p,customFilter:f,extent:m}),o=Math.min(null!==(s=n.get(S))&&void 0!==s?s:NaN,r),h=Math.min(null!==(l=n.get(x))&&void 0!==l?l:NaN,r),y=h*o,g=(I-w)/(h-1),v=(O-T)/(o-1);let b=0;const P=[{onStatisticField:"1",outStatisticFieldName:_,statisticType:Sm}];d.fields.forEach(e=>{const t=e.name;P.push({onStatisticField:t,outStatisticFieldName:t,statisticType:Cm})});const D=[];let k=!0,F=w,E=T,M="",j=1,L=1,R=Number.MAX_SAFE_INTEGER,V=Number.MIN_SAFE_INTEGER,B=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;for(;L<=h&&!0===k;){for(E=T,j=1;j<=o&&!0===k;)M=J_({groupByFieldsForStatistics:M,x:u,y:c,xValue:F,yValue:E,xStep:g,yStep:v,endOfRow:j===o,endOfColumn:L===h}),F<R&&(R=F),F+g>V&&(V=F+g),E<B&&(B=E),E+g>N&&(N=E+v),b+=1,b%t!=0&&b!==y&&b!==A||(M=`${M} ${X_.groupByCaseEnd}`,D.push(Q_({groupByFieldsForStatistics:M,dataOutStatistics:P,queryObject:p,customFilter:f,x:u,y:c,xMin:R,xMax:V,yMin:B,yMax:N,extent:m})),R=Number.MAX_SAFE_INTEGER,V=Number.MIN_SAFE_INTEGER,B=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,M="",b===y&&(k=!1)),E+=v,j+=1;F+=g,L+=1}C=(yield Promise.all(D)).flat()}return C}))}var eC=q_((function(e,t){!function(e){var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var r={order:2,precision:2,period:null};function n(e,t){var i=[],r=[];e.forEach((function(e,n){null!==e[1]&&(r.push(e),i.push(t[n]))}));var n=r.reduce((function(e,t){return e+t[1]}),0)/r.length,a=r.reduce((function(e,t){var i=t[1]-n;return e+i*i}),0);return 1-r.reduce((function(e,t,r){var n=i[r],a=t[1]-n[1];return e+a*a}),0)/a}function a(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}var o={linear:function(e,t){for(var i=[0,0,0,0,0],r=0,o=0;o<e.length;o++)null!==e[o][1]&&(r++,i[0]+=e[o][0],i[1]+=e[o][1],i[2]+=e[o][0]*e[o][0],i[3]+=e[o][0]*e[o][1],i[4]+=e[o][1]*e[o][1]);var s=r*i[2]-i[0]*i[0],l=r*i[3]-i[0]*i[1],u=0===s?0:a(l/s,t.precision),c=a(i[1]/r-u*i[0]/r,t.precision),h=function(e){return[a(e,t.precision),a(u*e+c,t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],r2:a(n(e,d),t.precision),string:0===c?"y = "+u+"x":"y = "+u+"x + "+c}},exponential:function(e,t){for(var i=[0,0,0,0,0,0],r=0;r<e.length;r++)null!==e[r][1]&&(i[0]+=e[r][0],i[1]+=e[r][1],i[2]+=e[r][0]*e[r][0]*e[r][1],i[3]+=e[r][1]*Math.log(e[r][1]),i[4]+=e[r][0]*e[r][1]*Math.log(e[r][1]),i[5]+=e[r][0]*e[r][1]);var o=i[1]*i[2]-i[5]*i[5],s=Math.exp((i[2]*i[3]-i[5]*i[4])/o),l=(i[1]*i[4]-i[5]*i[3])/o,u=a(s,t.precision),c=a(l,t.precision),h=function(e){return[a(e,t.precision),a(u*Math.exp(c*e),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],string:"y = "+u+"e^("+c+"x)",r2:a(n(e,d),t.precision)}},logarithmic:function(e,t){for(var i=[0,0,0,0],r=e.length,o=0;o<r;o++)null!==e[o][1]&&(i[0]+=Math.log(e[o][0]),i[1]+=e[o][1]*Math.log(e[o][0]),i[2]+=e[o][1],i[3]+=Math.pow(Math.log(e[o][0]),2));var s=a((r*i[1]-i[2]*i[0])/(r*i[3]-i[0]*i[0]),t.precision),l=a((i[2]-s*i[0])/r,t.precision),u=function(e){return[a(e,t.precision),a(a(l+s*Math.log(e),t.precision),t.precision)]},c=e.map((function(e){return u(e[0])}));return{points:c,predict:u,equation:[l,s],string:"y = "+l+" + "+s+" ln(x)",r2:a(n(e,c),t.precision)}},power:function(e,t){for(var i=[0,0,0,0,0],r=e.length,o=0;o<r;o++)null!==e[o][1]&&(i[0]+=Math.log(e[o][0]),i[1]+=Math.log(e[o][1])*Math.log(e[o][0]),i[2]+=Math.log(e[o][1]),i[3]+=Math.pow(Math.log(e[o][0]),2));var s=(r*i[1]-i[0]*i[2])/(r*i[3]-Math.pow(i[0],2)),l=(i[2]-s*i[0])/r,u=a(Math.exp(l),t.precision),c=a(s,t.precision),h=function(e){return[a(e,t.precision),a(a(u*Math.pow(e,c),t.precision),t.precision)]},d=e.map((function(e){return h(e[0])}));return{points:d,predict:h,equation:[u,c],string:"y = "+u+"x^"+c,r2:a(n(e,d),t.precision)}},polynomial:function(e,t){for(var r=[],o=[],s=0,l=0,u=e.length,c=t.order+1,h=0;h<c;h++){for(var d=0;d<u;d++)null!==e[d][1]&&(s+=Math.pow(e[d][0],h)*e[d][1]);r.push(s),s=0;for(var p=[],f=0;f<c;f++){for(var m=0;m<u;m++)null!==e[m][1]&&(l+=Math.pow(e[m][0],h+f));p.push(l),l=0}o.push(p)}o.push(r);for(var y=function(e,t){for(var i=e,r=e.length-1,n=[t],a=0;a<r;a++){for(var o=a,s=a+1;s<r;s++)Math.abs(i[a][s])>Math.abs(i[a][o])&&(o=s);for(var l=a;l<r+1;l++){var u=i[l][a];i[l][a]=i[l][o],i[l][o]=u}for(var c=a+1;c<r;c++)for(var h=r;h>=a;h--)i[h][c]-=i[h][a]*i[a][c]/i[a][a]}for(var d=r-1;d>=0;d--){for(var p=0,f=d+1;f<r;f++)p+=i[f][d]*n[f];n[d]=(i[r][d]-p)/i[d][d]}return n}(o,c).map((function(e){return a(e,t.precision)})),g=function(e){return[a(e,t.precision),a(y.reduce((function(t,i,r){return t+i*Math.pow(e,r)}),0),t.precision)]},v=e.map((function(e){return g(e[0])})),b="y = ",x=y.length-1;x>=0;x--)b+=x>1?y[x]+"x^"+x+" + ":1===x?y[x]+"x + ":y[x];return{string:b,points:v,predict:g,equation:[].concat(i(y)).reverse(),r2:a(n(e,v),t.precision)}}};e.exports=Object.keys(o).reduce((function(e,i){return t({_round:a},e,(l=function(e,n){return o[i](e,t({},r,n))},(s=i)in(n={})?Object.defineProperty(n,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[s]=l,n));var n,s,l}),{})}(e)}));const tC={dataFormat:"json",outputFormat:"json",typeKey:"analyticType",typeValue:"LinRegR2",fieldValue:"onAnalyticField",slopeProperty:"Slope",interceptProperty:"Intercept",r2Property:"R2"};function iC(e){const{data:t,x:i,y:r,statsMap:n}=e;let a=NaN,o=[{[i]:NaN,[r]:NaN},{[i]:NaN,[r]:NaN}];if(void 0!==t){const e=t.filter(e=>!0===Number.isFinite(e[i])&&!0===Number.isFinite(e[r])).map(e=>[e[i],e[r]]),s=eC.linear(e,{precision:Ub.scatterPlotSeries.regressionPrecision});a=s.r2;const{points:l}=s;o=function(e){var t,i,r,n,a,o,s,l,u,c,h,d;const{x:p,y:f,statsMap:m,fullTrendlinePoints:y}=e,{dataContextXMinField:g,dataContextXMaxField:v,dataContextYMinField:b,dataContextYMaxField:x}=Ub.scatterPlotAggregationFields,S=null!==(t=m.get(g))&&void 0!==t?t:NaN,P=null!==(i=m.get(v))&&void 0!==i?i:NaN,_=null!==(r=m.get(b))&&void 0!==r?r:NaN,C=null!==(n=m.get(x))&&void 0!==n?n:NaN,w=y.filter(e=>e[0]>=S&&e[1]>=_&&e[0]<=P&&e[1]<=C);return[{[p]:null!==(o=null===(a=null==w?void 0:w[0])||void 0===a?void 0:a[0])&&void 0!==o?o:NaN,[f]:null!==(l=null===(s=null==w?void 0:w[0])||void 0===s?void 0:s[1])&&void 0!==l?l:NaN},{[p]:null!==(c=null===(u=null==w?void 0:w[w.length-1])||void 0===u?void 0:u[0])&&void 0!==c?c:NaN,[f]:null!==(d=null===(h=null==w?void 0:w[w.length-1])||void 0===h?void 0:h[1])&&void 0!==d?d:NaN}]}({x:i,y:r,fullTrendlinePoints:l,statsMap:n})}return{r2:a,trendLinePoints:o}}function rC(e){return a(this,void 0,void 0,(function*(){const t=yield function(e){var t;return a(this,void 0,void 0,(function*(){const{dataSource:i,queryObject:r}=e;let n=!1;if(i.type===ky&&void 0===i.featureLayer.featureCollection){const e=yield fc(r);if(!1===e.isTable){const i=`${e.url}/${e.layerId}?f=json`;try{const[e]=yield Co([Vo]),r=(yield e(i)).data,a=!0===(null===(t=null==r?void 0:r.advancedQueryCapabilities)||void 0===t?void 0:t.supportsQueryAnalytic),o=void 0===(null==r?void 0:r.sqlParserVersion);n=!0===a&&!0===o}catch(e){}}}return n}))}(e),{x:i,y:r,statsMap:n}=e;let o={r2:NaN,trendLinePoints:[{[i]:NaN,[r]:NaN},{[i]:NaN,[r]:NaN}]},s=!1;if(!0===t)try{o=yield function(e){var t,i,r,n,o,s,l,u,c,h;return a(this,void 0,void 0,(function*(){const{statsMap:a,queryObject:d,x:p,y:f,dataSource:m,filter:y}=e,{dataFormat:g,outputFormat:v,typeKey:b,typeValue:x,fieldValue:S,slopeProperty:P,interceptProperty:_,r2Property:C}=tC,w=`[{"${b}": "${x}", "${S}":"${p},${f}"}]`,I=yield fc(d),A={query:{where:Ac([m.filter,y,I.definitionExpression])}},T=`${I.url}/${I.layerId}/queryAnalytic?outAnalytics=${w}&dataFormat=${g}&f=${v}`;let O=NaN,D=[{[p]:NaN,[f]:NaN},{[p]:NaN,[f]:NaN}];const[k]=yield Co([Vo]),F=yield k(T,A),E=null===(r=null===(i=null===(t=F.data)||void 0===t?void 0:t.features)||void 0===i?void 0:i[0])||void 0===r?void 0:r.attributes;if(void 0!==E){const e=null!==(n=E[P])&&void 0!==n?n:NaN,t=null!==(o=E[_])&&void 0!==o?o:NaN;O=null!==(s=E[C])&&void 0!==s?s:NaN;const{dataContextXMinField:i,dataContextXMaxField:r,dataContextYMinField:d,dataContextYMaxField:m}=Ub.scatterPlotAggregationFields,y=null!==(l=a.get(i))&&void 0!==l?l:NaN,g=null!==(u=a.get(r))&&void 0!==u?u:NaN,v=null!==(c=a.get(d))&&void 0!==c?c:NaN,b=null!==(h=a.get(m))&&void 0!==h?h:NaN,x=(g-y)/100;let S=y-x,w=NaN;for(;!1==(w>=v&&w<=b)&&S<=g;)S+=x,w=e*S+t;let I=g+x,A=NaN;for(;!1==(A>=v&&A<=b)&&I>=y;)I-=x,A=e*I+t;D=[{[p]:S,[f]:w},{[p]:I,[f]:A}]}return{r2:O,trendLinePoints:D}}))}(e)}catch(e){s=!0}return!1!==t&&!0!==s||!1!==function(e){var t;const{maxScatterPointsBeforeAggregation:i}={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500},{queryNumberOfFeatures:r}=Ub.scatterPlotAggregationFields;return(null!==(t=e.get(r))&&void 0!==t?t:NaN)>=i}(n)||(o=iC(e)),o}))}function nC(e){var t;return a(this,void 0,void 0,(function*(){let i=!1,r=[];const{dataSource:n,filter:o,filteredData:s,queryObject:l,extent:u,statsMap:c}=e,{series:h}=e,{x:d,y:p}=h;switch(n.type){case ky:{const e=Date.now(),s=yield fc(l),f=Ac([n.filter,o,`${d} IS NOT NULL AND ${p} IS NOT NULL`]),{queryNumberOfFeatures:m}=Ub.scatterPlotAggregationFields,y=null!==(t=null==c?void 0:c.get(m))&&void 0!==t?t:NaN;if(!1===Number.isNaN(y)&&y>0){const{maxScatterPointsBeforeAggregation:e}={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500};y<e?r=yield function(e){return a(this,void 0,void 0,(function*(){const{x:t,y:i,featureLayer:r,queryObject:n,customFilter:a,seriesQuery:o,featureCount:s,extent:l}=e;let u=[];const c=[t,i,r.objectIdField],{rendererField:h,rendererNormalizationField:d}=cc(r.renderer);return void 0!==h&&c.push(h),void 0!==d&&c.push(d),u=yield Vc({queryObject:n,chartQuery:Object.assign(Object.assign({},o),{orderByFields:[`${t} ${Ty}`],extent:l}),filter:a,outFields:c,featureCount:s}),u}))}({x:d,y:p,featureLayer:s,queryObject:l,customFilter:f,featureCount:y,seriesQuery:h.query,extent:u}):(i=!0,r=yield Z_({x:d,y:p,featureLayer:s,queryObject:l,customFilter:f,statsMap:c}))}const g=Date.now();console.warn(`=> #1 Total time for 'fetchRawScatterPlotData' only: ${g-e}ms`);break}case Dy:r=!0!==Lb(s)?null!=s?s:[]:n.data}return{rawData:r,hasBeenAggregated:i}}))}function aC(e){var t;return a(this,void 0,void 0,(function*(){const{dataSource:i,filter:r,filteredData:n,queryObject:o}=e,s=Date.now(),{series:l}=e,{x:u,y:c}=l,h=null===(t=l.query)||void 0===t?void 0:t.extent,d=yield function(e){return a(this,void 0,void 0,(function*(){const{dataSource:t,filter:i,queryObject:r,extent:n}=e;let a=new Map;if(t.type===ky){const{series:o}=e,s=Ac([t.filter,i]),{dataContextXMinField:l,dataContextXMaxField:u,dataContextYMinField:c,dataContextYMaxField:h,queryNumberOfFeatures:d}=Ub.scatterPlotAggregationFields,{x:p,y:f}=o,m=[{statisticType:Sm,onStatisticField:"1",outStatisticFieldName:d},{statisticType:_m,outStatisticFieldName:l,onStatisticField:p},{statisticType:Cm,outStatisticFieldName:u,onStatisticField:p}];p!==f&&m.push({statisticType:_m,outStatisticFieldName:c,onStatisticField:f},{statisticType:Cm,outStatisticFieldName:h,onStatisticField:f}),a=yield jc({queryObject:r,filter:s,extent:n,statsList:m})}return a}))}(e);let p=[];const{rawData:f,hasBeenAggregated:m}=yield nC({queryObject:o,dataSource:i,series:l,filter:r,extent:h,filteredData:n,statsMap:d});p=i.type===Dy?f:yield function(e){return a(this,void 0,void 0,(function*(){const{queryObject:t,rawData:i,x:r,y:n,hasBeenAggregated:o}=e,[s]=yield Co([Ao]),l=(yield fc(t)).objectIdField,{queryCalculatedExpr:u}=Ub.scatterPlotAggregationFields,{groupByOutKeyword:c}=X_,h=new K_.Chance("arcgis-charts-scatter-seed");let d=yield Promise.all(i.map(e=>a(this,void 0,void 0,(function*(){let t=Object.assign({},e.attributes);if(!0===o){if(u in t&&t[u]!==c){let[e,i,a,o]=t[u].split("|");e=Math.min(e,i),i=Math.max(e,i),a=Math.min(a,o),o=Math.max(a,o),t=Object.assign(Object.assign({},t),{xMin:e,xMax:i,yMin:a,yMax:o}),t[r]!==e&&t[r]!==i&&(t[r]=h.floating({min:0,max:1})*(i-e)+e),t[n]!==a&&t[n]!==o&&(t[n]=h.floating({min:0,max:1})*(o-a)+a)}}else t[tc.uniqueIdsName]=t[l];const i=yield qx(e,s);return void 0!==i&&(t[Lx]=i),t}))));return d=d.filter(e=>e[u]!==c),d}))}({queryObject:o,rawData:f,x:u,y:c,hasBeenAggregated:m}),XP({arrayToSort:p,orderByFields:[l.x+" ASC"]});const{r2:y,trendLinePoints:g}=yield rC({data:p,statsMap:d,queryObject:o,x:u,y:c,dataSource:i,filter:r});return console.warn(`=> #3 Total time in TransFormScatterPlotData which includes getDisplayedSymbol: ${Date.now()-s}ms`),{data:p,r2:y,trendLinePoints:g}}))}function oC(e){const t=e.toString().split("."),i=Number.parseInt(t[1],10);t[1]=(!1===Number.isNaN(i)&&i-1>0?i-1:0).toString();return Number.parseFloat(t.join("."))}function sC(e){let t="field";switch(e){case by:t="natural-log";break;case xy:t="square-root"}return t}function lC(e,t){let i=e;switch(t){case by:i=Math.log(e);break;case xy:i=Math.sqrt(e)}return i}function uC(e){return a(this,void 0,void 0,(function*(){const{nonNullCount:t,queryObject:i,data:r,x:n,transformation:a}=e;let o=NaN;if(void 0!==r)o=function(e,t){const i=EP(e.map(e=>{let i=NaN;return null!==e.attributes&&"object"==typeof e.attributes&&"number"==typeof e.attributes[t]&&(i=e.attributes[t]),i}));return null!=i?i:NaN}(r,n);else if(void 0!==i&&void 0!==t){const{dataSource:r,filter:s,series:l}=e,u=t%2+2,c=Math.floor(t/2),h=Ac([null==r?void 0:r.filter,s,n+" is not null"]);o=(yield Vc({queryObject:i,chartQuery:Object.assign(Object.assign({},null==l?void 0:l.query),{orderByFields:[`${n} ${Ty}`]}),outFields:[n],filter:h,featureCount:u,num:u,start:c-1})).map(e=>e.attributes[n]).reduce((e,t)=>e+lC(t,a),0)/u}return o}))}function cC(e){return a(this,void 0,void 0,(function*(){const{dataSource:t,filter:i,queryObject:r}=e,n=e.series,{x:o,query:s}=n,l=null==s?void 0:s.extent;let u=!0,c=!1,h=NaN,d=NaN,p=[];switch(t.type){case ky:{let e=Ac([t.filter,i]);const{compatible:s,stats:p}=yield function(e){var t,i,r,n;return a(this,void 0,void 0,(function*(){const{dataTransformationType:a,queryObject:o,fieldName:s,filter:l,extent:u}=e;let c=!0;const h=gc(yield mc(o)),d=`${Sm}_${h}`,p=`${Sm}_${s}`,f=`${_m}_${s}`,m=`${Cm}_${s}`,y=yield jc({queryObject:o,filter:l,extent:u,statsList:[{statisticType:Sm,onStatisticField:h,outStatisticFieldName:d},{statisticType:Sm,onStatisticField:s,outStatisticFieldName:p},{statisticType:_m,onStatisticField:s,outStatisticFieldName:f},{statisticType:Cm,onStatisticField:s,outStatisticFieldName:m}]}),g=null!==(t=y.get(d))&&void 0!==t?t:NaN,v=null!==(i=y.get(p))&&void 0!==i?i:NaN,b=null!==(r=y.get(f))&&void 0!==r?r:NaN,x=null!==(n=y.get(m))&&void 0!==n?n:NaN;return(a===by&&b<=0||a===xy&&b<0)&&(c=!1),{compatible:c,stats:{countExcludingNulls:v,countIncludingNulls:g,min:b,max:x}}}))}({dataTransformationType:n.dataTransformationType,queryObject:r,filter:e,extent:l,fieldName:o});u=s,d=p.countIncludingNulls,h=p.countExcludingNulls,c=d>1&&h<2,e=Ac([e,o+" is not null"]);break}case Dy:d=t.data.length,p=function(e){const{field:t,data:i,transformation:r,isInlineData:n}=e,a=[...i];for(let e=0;e<a.length;e+=1){let i=n?a[e][t]:a[e].attributes[t];null!=i&&(i=lC(i,r),!0===n?a[e][t]=i:a[e].attributes[t]=i)}return a}({field:o,data:t.data,transformation:n.dataTransformationType,isInlineData:!0})}return{rawData:p,dataCompatibleWithTransformation:u,dataCountIncompatible:c,countExcludingNulls:h,countIncludingNulls:d}}))}function hC(e,t){const i={valid:!1};return!0===t&&(i.invalidType=zd),e===by?i.invalidType=Ud:e===xy&&(i.invalidType=Gd),i}function dC(e){var t,i,r,n,o,s;return a(this,void 0,void 0,(function*(){const{series:l,rawData:u,queryObject:c,countExcludingNulls:h,countIncludingNulls:d}=e,{x:p,dataTransformationType:f,binCount:m}=l;let y={valid:!0};if(void 0!==c){const t=yield fc(c),i=yield function(e){return a(this,void 0,void 0,(function*(){const[t,i]=yield Co([To,Oo]);return new i({map:new t({layers:e})})}))}(),[r,n]=yield Co([Do,ko]),o=function(e){const{series:t,rawData:i,layer:r,view:n}=e,{x:a}=t;let o={layer:r,view:n,field:a};return t.dataTransformationType!==vy&&(o=Object.assign(Object.assign({},o),{normalizationType:sC(t.dataTransformationType)})),o}({series:l,rawData:u,layer:t,view:i});let s=yield n(o);s=function(e){var t,i,r,n,a,o,s;const l=Object.assign({},e);return l.avg=null!==(t=l.avg)&&void 0!==t?t:NaN,l.count=null!==(i=l.count)&&void 0!==i?i:NaN,l.max=null!==(r=l.max)&&void 0!==r?r:NaN,l.min=null!==(n=l.min)&&void 0!==n?n:NaN,l.stddev=null!==(a=l.stddev)&&void 0!==a?a:NaN,l.sum=null!==(o=l.sum)&&void 0!==o?o:NaN,l.variance=null!==(s=l.variance)&&void 0!==s?s:NaN,l}(s);const{avg:p,count:m,stddev:g,min:v,max:b,sum:x}=s;if(0===m)y=Object.assign({},hC(f));else{const n=function(e){var t;const{series:i,rawData:r,layer:n,view:a,minValue:o,maxValue:s,valueExpression:l}=e,{x:u}=i;let c={layer:n,view:a,field:u,minValue:o,maxValue:s,numBins:null!==(t=i.binCount)&&void 0!==t?t:Ub.histogramBinCount,classificationMethod:"equal-interval"};return i.dataTransformationType!==vy&&(c=Object.assign(Object.assign({},c),{normalizationType:sC(i.dataTransformationType)})),c}({series:l,layer:t,view:i,rawData:u,minValue:oC(v),maxValue:b,valueExpression:o.valueExpression}),a=yield r(n),s=function(e,t){const{series:i,rawData:r,queryObject:n,filter:a,dataSource:o}=e,{x:s}=i;let l={x:s};return l=Object.assign(Object.assign({},l),{nonNullCount:t,queryObject:n,dataSource:o,filter:a,transformation:i.dataTransformationType}),l}(e,m),c=function(e,t){let i=NaN;return void 0!==e&&void 0!==t&&(i=e-t),i}(d,h);y.data={mean:p,stddev:g,min:v,max:b,median:yield uC(s),bins:a.bins,count:h,nulls:c,sum:x}}}else if(void 0!==u){const e=u.map(e=>e[p]);let a=[];a=function(e){return AP().thresholds((t,i,r)=>MP(e).map(t=>i+t/e*(r-i)))}(null!=m?m:Ub.histogramBinCount)(e).map(e=>{var t,i;return{count:e.length,minValue:null!==(t=e.x0)&&void 0!==t?t:NaN,maxValue:null!==(i=e.x1)&&void 0!==i?i:NaN}});const l=null!==(t=FP(e))&&void 0!==t?t:NaN,c=null!==(i=yP(e))&&void 0!==i?i:NaN,h=null!==(r=EP(e))&&void 0!==r?r:NaN,d=null!==(n=OP(e))&&void 0!==n?n:NaN,f=null!==(o=TP(e))&&void 0!==o?o:NaN,g=null!==(s=jP(e))&&void 0!==s?s:NaN,v=jP(a.map(e=>e.count));y.data={mean:l,median:h,stddev:c,min:d,max:f,bins:a,count:u.length,nulls:u.length-v,sum:g}}return y}))}function pC(e,t){e.background.fill=ux(null!=t?t:Ub.backgroundColor)}function fC(e=ec().locale){return a(this,void 0,void 0,(function*(){let t=yield Promise.resolve().then((function(){return NP}));switch(e){case Xu.Arabic:t=yield i.e(5).then(i.bind(null,89));break;case Xu.Bosnian:t=yield i.e(6).then(i.bind(null,90));break;case Xu.Catalan:t=yield i.e(7).then(i.bind(null,91));break;case Xu.Czech:t=yield i.e(8).then(i.bind(null,92));break;case Xu.Danish:t=yield i.e(9).then(i.bind(null,93));break;case Xu.German:t=yield i.e(10).then(i.bind(null,94));break;case Xu.EnglishUSA:t=yield i.e(11).then(i.bind(null,95));break;case Xu.Spanish:t=yield i.e(12).then(i.bind(null,96));break;case Xu.Estonian:t=yield i.e(13).then(i.bind(null,97));break;case Xu.Finnish:t=yield i.e(14).then(i.bind(null,98));break;case Xu.French:t=yield i.e(15).then(i.bind(null,99));break;case Xu.Hebrew:t=yield i.e(16).then(i.bind(null,100));break;case Xu.Croatian:t=yield i.e(17).then(i.bind(null,101));break;case Xu.Hungarian:t=yield i.e(18).then(i.bind(null,102));break;case Xu.Indonesian:t=yield i.e(19).then(i.bind(null,103));break;case Xu.Italian:t=yield i.e(20).then(i.bind(null,104));break;case Xu.Japanese:t=yield i.e(21).then(i.bind(null,105));break;case Xu.Korean:t=yield i.e(22).then(i.bind(null,106));break;case Xu.Lithuanian:t=yield i.e(23).then(i.bind(null,107));break;case Xu.Latvian:t=yield i.e(24).then(i.bind(null,108));break;case Xu.NorwegianBokml:t=yield i.e(25).then(i.bind(null,109));break;case Xu.Dutch:t=yield i.e(26).then(i.bind(null,110));break;case Xu.Polish:t=yield i.e(27).then(i.bind(null,111));break;case Xu.PortugueseBrazil:t=yield i.e(28).then(i.bind(null,112));break;case Xu.PortuguesePortugal:t=yield i.e(29).then(i.bind(null,113));break;case Xu.Romanian:t=yield i.e(30).then(i.bind(null,114));break;case Xu.Russian:t=yield i.e(31).then(i.bind(null,115));break;case Xu.Slovenian:t=yield i.e(32).then(i.bind(null,116));break;case Xu.Swedish:t=yield i.e(33).then(i.bind(null,117));break;case Xu.Thai:t=yield i.e(34).then(i.bind(null,118));break;case Xu.Turkish:t=yield i.e(35).then(i.bind(null,119));break;case Xu.Ukrainian:t=yield i.e(36).then(i.bind(null,120));break;case Xu.Vietnamese:t=yield i.e(37).then(i.bind(null,121));break;case Xu.ChineseChina:t=yield i.e(38).then(i.bind(null,122));break;case Xu.ChineseHongKong:t=yield i.e(39).then(i.bind(null,123));break;case Xu.ChineseTaiwan:t=yield i.e(40).then(i.bind(null,124))}return t}))}function mC(e){return void 0!==e&&null!==e.offsetParent}function yC(e,t){var i;const r=null===(i=e.svgContainer)||void 0===i?void 0:i.SVGContainer;void 0!==r&&(r.style.position=null!=t?t:"relative")}function gC(e){return a(this,void 0,void 0,(function*(){const{queryObject:t,dataSource:i,series:r,options:n}=e,o=oc(r);let s,l={valid:!0},u=[];if(!0===(null==n?void 0:n.filterBySelection))if(i.type===ky){const e=pS(null==n?void 0:n.selectedDataItems);if(e.length>0){s=`${gc(yield mc(t))} IN (${e.join(",")})`}}else void 0!==n.selectedDataItems&&!0!==Lb(n.selectedDataItems)&&(u=n.selectedDataItems);switch(o){case yy:i.type===Dy&&!1===i.processed?l.data=g_({dataSource:i,series:r,filteredData:u}):l=yield x_({queryObject:t,dataSource:i,series:r,filter:s});break;case py:l.data=yield aC({queryObject:t,dataSource:i,series:r[0],filter:s,filteredData:u});break;case gy:l=yield function(e){return a(this,void 0,void 0,(function*(){const{dataSource:t,filter:i,queryObject:r}=e,n=e.series,{rawData:a,dataCompatibleWithTransformation:o,dataCountIncompatible:s,countIncludingNulls:l,countExcludingNulls:u}=yield cC({queryObject:r,dataSource:t,series:n,filter:i});let c={valid:!0};return c=!1===o||!0===s?hC(n.dataTransformationType,s):yield dC({series:n,rawData:a,queryObject:r,filter:i,dataSource:t,countIncludingNulls:l,countExcludingNulls:u}),c}))}({queryObject:t,dataSource:i,series:r[0],filter:s,filteredData:u});break;case fy:i.type===Dy?l.data=g_({dataSource:i,series:r}):l=yield x_({queryObject:t,dataSource:i,series:r});break;case my:l.data=yield __({queryObject:t,dataSource:i,series:r[0]})}return l}))}function vC(e){return a(this,void 0,void 0,(function*(){const{dataSource:t,series:i,queryObject:r,chartContainer:n,options:a}=e;let o={valid:!0};if(t.type===Dy&&!0===t.processed){const e=oc(i);e===yy&&(o.count=t.data.length*i.length),o.data=t.data,!0!==(null==a?void 0:a.filterBySelection)||e!==yy&&e!==py||(o=yield gC({dataSource:t,series:i,options:a}))}else if(void 0!==Oc.queryAbortController&&Oc.queryAbortController.abort(),Oc.queryAbortController=new AbortController,Oc.abortSignal=Oc.queryAbortController.signal,o=yield gC({queryObject:r,dataSource:t,options:a,series:i}),void 0!==o.data){!function(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ix.DataProcessComplete,Ax(e)))}(function(e,t){let i=e;if(oc(t)===yy){if(Cc(t)===Ko){const{originalCategoryValue:r,originalDateValue:n,dateValueForQuery:a}=Ub;i=e.map(e=>{var i;const o=Object.assign(Object.assign({},e),{[t[0].x]:null!==(i=e[n])&&void 0!==i?i:e[r]});return delete o[a],delete o[n],delete o[r],o})}}return i}(o.data,i),n)}return o}))}function bC(e){const{chart:t,axesTypes:i,chartType:r,isRotated:n}=e;switch(r){case py:!function(e,t){V_({chart:e,axesTypes:t})}(t,i);break;case gy:!function(e){const{chart:t,axesTypes:i,isRotated:r}=e;V_({chart:t,axesTypes:i,isRotated:r});const n=!0===r?t.yAxes.getIndex(0):t.xAxes.getIndex(0);void 0!==n&&(n.renderer.ticks.template.disabled=!0)}({chart:t,axesTypes:i,isRotated:n});break;case yy:!function(e){const{chart:t,axesTypes:i,isRotated:r}=e;if(!1===H_(i))throw new Error("Bar Chart is initialized with an invalid combination of axes types.");V_({chart:t,axesTypes:i,isRotated:r})}({chart:t,axesTypes:i,isRotated:n});break;case my:!function(e,t){R_({axes:e.xAxes,valueFormat:t})}(t,i[0])}}function xC(e){const{chart:t,chartConfig:i,chartConfig:{axes:r},rotationChanged:n,chartType:a,isRotated:o}=e;switch(a){case py:!function(e,t){W_({chart:e,axes:t})}(t,r);break;case gy:void 0!==t.data&&function(e){const{chart:t,axes:i,histogramBins:r,isRotated:n}=e,a=function(e){const t=e.map(e=>e.minValue),i=e[e.length-1].maxValue;return t.push(i),t}(r);W_({chart:t,axes:i,isRotated:n});const o=!0===n?t.yAxes.getIndex(0):t.xAxes.getIndex(0);if(void 0!==o){!function(e,t){if(e.renderer.labels.template.disabled=!0,0!==t.length){e.strictMinMax=!0;const{0:i,[t.length-1]:r}=t;e.min=i,e.max=r}else e.min=NaN,e.max=NaN,e.strictMinMax=!1}(o,a),E_({valueAxis:o,axisConfig:!0===n?i[1]:i[0],ticks:a});const e=e=>{z_({axis:e.target,axisVisibility:i[0].visible,axisLabelVisibility:i[0].labels.visible})};o.events.once("dataitemsvalidated",e),o.events.off("sizechanged"),o.events.on("sizechanged",e)}}({chart:t,axes:r,histogramBins:t.data,isRotated:o});break;case yy:G_({chart:t,chartConfig:i,rotationChanged:n,isRotated:o});break;case my:{const e=null==r?void 0:r[0];void 0!==e&&function(e,t){void 0!==e.xAxes.getIndex(0)&&(!0===RS(e.xAxes.getIndex(0),t.valueFormat)&&R_({axes:e.xAxes,valueFormat:t.valueFormat}),N_({axis:e.xAxes.getIndex(0),axisConfig:t}))}(t,e);break}}}function SC(e,t,i){let r;const{series:n}=t,a=oc(n);for(let t=e.series.length-1;t>=0;t-=1)e.series.removeIndex(t).dispose();switch(a){case yy:{r=[e.xAxes.getIndex(0),e.yAxes.getIndex(0)];const t=function(e){var t;const{seriesConfig:i,axisPair:r,hideLoaderHandle:n}=e,a=[];for(let e=0;e<i.length;e+=1){const o=i[e],s=new Of;jx(s,n),s.id=o.id,[s.xAxis,s.yAxis]=r;const l=rx(o);!0===l?s.dataFields.valueX=o.y:s.dataFields.valueY=o.y;const u=!0===l?r[1]:r[0];if(void 0!==u){const e=fS(u,l);s.dataFields[e]=o.x}s.dataFields.customValue=null===(t=null==o?void 0:o.query)||void 0===t?void 0:t.where,s.columns.template.tooltipPosition=Ub.tooltipPosition,s.columns.template.cursorOverStyle=Yr.pointer,s.cursorTooltipEnabled=!1,uS(s.columns.template),a.push(s)}return a}({seriesConfig:n,axisPair:r,hideLoaderHandle:i});e.series.pushAll(t);break}case py:{r=[e.xAxes.getIndex(0),e.yAxes.getIndex(0)];const t=t_({chart:e,seriesConfig:n[0],axisPair:r,hideLoaderHandle:i});e.series.pushAll(t),e.bulletsContainer.zIndex=1,e.seriesContainer.zIndex=2;break}case gy:{r=[e.xAxes.getIndex(0),e.yAxes.getIndex(0)];const t=qP({seriesConfig:n[0],axisPair:r,hideLoaderHandle:i});e.series.pushAll(t);break}case fy:{const t=function(e,t){const{x:i,y:r,visible:n}=e,a=new af;jx(a,t),a.dataFields.value=r,a.dataFields.category=i;const o=Ub.pieChart;return a.innerRadius=m(o.innerRadius).percent,a.startAngle=o.min,a.endAngle=360+a.startAngle,a.hidden=!1===n,a}(n[0],i);e.series.push(t);break}case my:e.hands.push(new Xp)}var o;(o=e)instanceof jp&&o.series.each(e=>{!0!==Jb(e,"isOverlay")&&(void 0===e.tooltip&&(e.tooltip=new ua),e.tooltip.label.maxWidth=Ub.tooltipWidth,e.tooltip.label.wrap=!0)})}function PC(e){return a(this,void 0,void 0,(function*(){const{chart:t,chartConfig:i,chartConfig:{series:r,axes:n},rotationChanged:o,chartData:s,queryObject:l,options:u,dataUpdateNeeded:c,commonStrings:h}=e,d=t.series.values;switch(oc(r)){case yy:yield function(e){return a(this,void 0,void 0,(function*(){const{seriesConfig:t,columnSeries:i,dataSource:r,queryObject:n,axes:o,rotationChanged:s,options:l,dataUpdateNeeded:u,commonStrings:c}=e,h=o[1].valueFormat,d=o[0].valueFormat;let p,f=new Map,y={};if(r.type===ky&&(p=yield mc(n),t[0].colorType===Sy)){const e=yield fc(n);y=cc(e.renderer),f=$x(t,e)}const g=rx(t[0]),v=Cc(t),b=new Map,x=new Map,S=[];for(let e=0;e<t.length;e+=1){const P=i[e],_=t[e];switch(ix(P,_.visible),mS(P,_.name),P.columns.template.width=m(100),P.hiddenInLegend=1===t.length,_.multipleBarType){case wy:P.stacked=!1,s===g?P.dataFields.valueYShow=void 0:P.dataFields.valueXShow=void 0;break;case Iy:P.stacked=!0,s===g?P.dataFields.valueYShow=void 0:P.dataFields.valueXShow=void 0,P.updateStacking();break;case Ay:P.stacked=!0,!0===g?P.dataFields.valueXShow="totalPercent":P.dataFields.valueYShow="totalPercent",P.updateStacking()}const C={columnSeries:P,iSeries:e,numberOfSeries:t.length,seriesSymbolMapForLegend:b,seriesSymbolMapForEvent:x,queryObject:n,dataSource:r,dataUpdateNeeded:u,symbolProps:{seriesConfig:_,y:_.y,dataSource:r,rendererStylingInfo:f,rendererInfo:y,queryType:v,seriesIndex:e},options:l};if(P.columns.length>0?S.push(rP(C)):P.events.once("validated",()=>a(this,void 0,void 0,(function*(){yield rP(C)}))),(null==d?void 0:d.type)===dy){const e=new en;Xb(P,{dateFormatCallback:t=>e.format(t,d.intlOptions)})}if((null==h?void 0:h.type)===hy){const e=new Zr;e.numberFormat=h.intlOptions,Xb(P,{tooltipValueYNumberFormatCallback:t=>e.format(t)})}wx({series:P,isRotated:g,isStacked100:_.multipleBarType===Ay,dataLabelsConfig:_.dataLabels,yAxisValueFormat:h}),BS({currentSeriesConfig:_,queryType:v,currentColumn:P,isRotated:g,xAxisValueFormat:d,axes:o,fieldList:p,commonStrings:c})}yield Promise.all(S)}))}({seriesConfig:i.series,columnSeries:d,dataSource:i.dataSource,queryObject:l,axes:n,rotationChanged:o,options:u,dataUpdateNeeded:c,commonStrings:h});break;case py:yield function(e){return a(this,void 0,void 0,(function*(){const{seriesConfig:t,dataSource:i,chartSeries:r,axes:n,chartData:o,options:s,queryObject:l,dataUpdateNeeded:u}=e;let c=[];void 0!==l&&(c=yield mc(l));for(let e=0;e<2;e+=1){const h=r[e];if(!0===Jb(h,"isOverlay"))ZP({trendLine:h,seriesConfig:t,valueFormat:ac(),chartData:o});else{const e=ox(h);void 0!==e&&(h.events.once("validated",()=>a(this,void 0,void 0,(function*(){let r;const n=[],a=!0!==(null==s?void 0:s.filterBySelection)&&void 0!==(null==s?void 0:s.selectedDataItems)&&s.selectedDataItems.length>0,o=!1!==u||!1===Rb(null==s?void 0:s.selectedDataItems,Kb(h.chart,"selectedDataItems"));let c,d=[];if(!0===a&&(d=pS(null==s?void 0:s.selectedDataItems),c=i.type===ky?i.filter:void 0),e.clones.each((e,u)=>{var h,p;let f;t.colorType===Sy&&(f=null===(p=null===(h=e.dataItem)||void 0===h?void 0:h.dataContext)||void 0===p?void 0:p[Lx]),!0===JP(e.dataItem)?(e.hide(),e.visible=!1):(r=i_({element:e,dataIndex:u,seriesConfig:t,dataSource:i,rendererElementColor:f}),!0===a&&n.push(tP({selectedData:null==s?void 0:s.selectedDataItems,selectedUniqueIds:d,needToFetchOIDsForSelection:o,elementSelectionProps:{element:e,uniqueFeature:!0,queryObject:l,xAxisField:t.x,yAxisField:t.y,queryFilter:c,chartType:py}})))}),yield Promise.all(n),void 0!==r){const e=new Map;e.set(0,r),kx(e,h.chart.htmlContainer)}}))),ix(e,t.visible),QP(n,h),KP({axes:n,webChartSeries:t,marker:e,lineSeries:h,fieldList:c})),wx({series:h,dataLabelsConfig:t.dataLabels,yAxisValueFormat:n[1].valueFormat}),ix(h,t.visible)}}}))}({seriesConfig:r[0],dataSource:i.dataSource,chartSeries:d,axes:n,chartData:s,queryObject:l,options:u,dataUpdateNeeded:c});break;case gy:yield function(e){return a(this,void 0,void 0,(function*(){const{seriesConfig:t,chartSeries:i,axes:r,dataSource:n,chartData:o,options:s,queryObject:l,dataUpdateNeeded:u}=e,c=t.overlays;let h,d=[];void 0!==l&&(d=yield mc(l),h=yield fc(l));for(let e=0;e<6;e+=1){const p=i[e];if(!0===Jb(p,"isOverlay")){const t=Jb(p,"type");let i={type:uy,created:!1,symbol:{type:ry}};if(t===cP)void 0===c.comparisonDistribution.symbol.color&&(c.comparisonDistribution.symbol.color=rc(e)),$P({lineSeries:p,overlay:c.comparisonDistribution,seriesData:o});else{switch(t){case sP:i=c.mean;break;case lP:i=c.median;break;case uP:i=c.standardDeviation}void 0===i.symbol.color&&(i.symbol.color=rc(e)),UP({lineSeries:p,valueFormat:ac(),overlay:i,chartData:o})}}else{let e=new Map;n.type===ky&&t.colorType===Sy&&(e=$x([t],h)),mS(p,t.name),p.events.once("validated",()=>a(this,void 0,void 0,(function*(){let i;const r=!0!==(null==s?void 0:s.filterBySelection)&&void 0!==(null==s?void 0:s.selectedDataItems)&&s.selectedDataItems.length>0,a=!1!==u||!1===Rb(null==s?void 0:s.selectedDataItems,Kb(p.chart,"selectedDataItems"));let o,c=[];!0===r&&(c=pS(null==s?void 0:s.selectedDataItems),o=n.type===ky?n.filter:void 0);const h=[];if(p.columns.each((u,d)=>{i=CS({element:u,seriesConfig:t,dataIndex:d,dataSource:n,rendererStylingInfo:e}).fillSymbol,!0===r&&h.push(tP({selectedData:null==s?void 0:s.selectedDataItems,selectedUniqueIds:c,needToFetchOIDsForSelection:a,elementSelectionProps:{element:u,uniqueFeature:!0,queryObject:l,queryFilter:o,xAxisField:t.x,dataTransformationType:t.dataTransformationType,chartType:gy}}))}),yield Promise.all(h),void 0!==i){const e=new Map;e.set(0,i),kx(e,p.chart.htmlContainer)}}))),ix(p,t.visible),wx({series:p,dataLabelsConfig:t.dataLabels,yAxisValueFormat:r[1].valueFormat}),zP({axes:r,columnSeries:p,seriesConfig:t,fieldList:d}),HP(r,p)}}}))}({seriesConfig:r[0],chartSeries:d,axes:n,dataSource:i.dataSource,chartData:s,queryObject:l,options:u,dataUpdateNeeded:c});break;case fy:l_({chart:t,seriesConfig:r[0],pieSeries:d[0],dataSource:i.dataSource,queryObject:l});break;case my:S_(t,s)}}))}function _C(e){var t;return a(this,void 0,void 0,(function*(){const{chartConfig:i,chart:r,options:n,globalOptions:a,queryObject:o,commonStrings:s}=e,l=Ex(r);l.showLoader();const{title:u,subTitle:c,footer:h,dataSource:d,series:p,background:f}=i,m=function(e){const t=Hb(Ub.headerContainer,e),i=gx(Ub.title,t),r=gx(Ub.subtitle,t);var n;return n=t,!1===!0?n.toFront():n.toBack(),{headerContainer:t,title:i,subTitle:r}}(r);xx(m,{title:u,subTitle:c});const y=function(e){const t=Hb(Ub.footerContainer,e);return{footerContainer:t,footer:gx(Ub.footer,t)}}(r);Sx(y,h);const g=AS(r),{valid:v,invalidType:b,data:x,count:S}=yield vC({dataSource:d,series:p,queryObject:o,chartContainer:r.htmlContainer,options:n});if(Yb(r,{elementCount:S,initialized:v}),!1===v)yield s_({chart:r,invalidType:b,elementCount:S,seriesCount:p.length});else{const e=oc(p),u=rx(p[0]);let c;switch(e===yy&&(c=Cc(p)),Yb(r,{config:i,isRotated:u,isNonAggregatedChart:c===Ko}),e){case gy:r.data=x.bins;break;case py:r.data=x.data;break;case yy:case fy:r.data=x}void 0!==i.axes&&(bC({chart:r,axesTypes:[i.axes[0].valueFormat,null===(t=i.axes[1])||void 0===t?void 0:t.valueFormat],chartType:e,isRotated:u}),xC({chart:r,chartConfig:i,chartType:e,isRotated:u})),SC(r,i,l.hideLoader),yield PC({chart:r,chartConfig:i,rotationChanged:!1,queryObject:o,chartData:e===py||e===gy||e===my?x:void 0,options:n,commonStrings:s}),TS({legendElements:g,firstSeries:p[0],webChartLegend:i.legend}),function(e){e.background.fill=ux(Ub.backgroundColor)}(r),pC(r,f),e!==my&&KS(r,u),r.dateFormatter.intlLocales=window.navigator.language,function(e,t){!0===t&&(e.tapToActivate=!0,e.tapTimeout=3e3,e.responsive.enabled=!0)}(r,null==a?void 0:a.enableResponsiveFeatures),r instanceof Jp!=!0&&!0!==Mx(r.series)||(l.hideLoader(),Ox(r.htmlContainer))}return{headerElements:m,footerElements:y,legendElements:g,loaderHandle:l}}))}function CC(e){return a(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,queryObject:r,options:n,globalOptions:a}=e,{createMessage:o}=null!=n?n:{},s=yield r_(),l=yield fC();if(void 0===t)throw new Error(s.errors.divNode);const u=$a(t,jp);u.maskBullets=!1,void 0!==u.modal&&(u.modal.classPrefix="modal",yC(u,"static"),u.modal.events.on("opened",()=>{yC(u,"relative")}),u.modal.events.on("closed",()=>{yC(u,"static")})),u.events.on("inited",(function(){u.zoomOutButton.deepInvalidate()}));const c=yield o_({chart:u,chartConfig:i,queryObject:r,createMessage:o});let h;return!0===c.valid&&(h=yield _C({chartConfig:i,chart:u,queryObject:r,options:n,globalOptions:a,commonStrings:l}),Yb(u,{config:hb(i),filterBySelection:null==n?void 0:n.filterBySelection,selectedDataItems:null==n?void 0:n.selectedDataItems}),function(e){qS(e);const t=$S(e);t.events.on(Kx,i=>{const r=i.target;if(void 0!==r.xRange){r.selection.isMeasured=!0,r.selection.validate();const t=di(r.selection.bbox,r.selection);XS({chart:e,cursorSelectionRectangle:t})}t.selection.hide()})}(u),function(e){e.zoomOutButton.hoverable=!0,e.events.on(Yx,t=>{if(!1===function(e){return!0===e.zoomOutButton.isHover||!0===e.legend.isHover}(e)){const i={x:t.svgPoint.x,y:t.svgPoint.y,width:0,height:0},r=!0===t.event.ctrlKey||!0===t.event.metaKey;XS({chart:e,cursorSelectionRectangle:i,multiSelect:r})}})}(u)),Tx(c,u.htmlContainer),{chart:u,chartElements:h}}))}function wC(e){return a(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,queryObject:r,options:n,globalOptions:a}=e;if(void 0===t)throw new Error("Creating a chart requires an HTML Div node");const o=$a(t,sf),s=yield o_({chart:o,chartConfig:i,queryObject:r});let l;return!0===s.valid&&(l=yield _C({chartConfig:i,chart:o,queryObject:r,options:n,globalOptions:a}),Yb(o,{config:hb(i)})),Tx(s,o.htmlContainer),{chart:o,chartElements:l}}))}function IC(e){var t,i,r;return a(this,void 0,void 0,(function*(){const{chartContainer:n,chartConfig:a,queryObject:o,options:s,globalOptions:l}=e;if(void 0===n)throw new Error("Creating a chart requires an HTML Div node.");const u=$a(n,Jp);u.maskBullets=!1;const c=yield o_({chart:u,chartConfig:a,queryObject:o});let h;if(!0===c.valid){const e=Ub.gauge;P_(u,{innerRadius:m(null!==(t=null==a?void 0:a.innerRadius)&&void 0!==t?t:e.innerRadius).percent,startAngle:null!==(i=null==a?void 0:a.startAngle)&&void 0!==i?i:e.min,endAngle:null!==(r=null==a?void 0:a.endAngle)&&void 0!==r?r:e.max}),h=yield _C({chartConfig:a,chart:u,queryObject:o,options:s,globalOptions:l}),Yb(u,{config:hb(a)})}return Tx(c,u.htmlContainer),{chart:u,chartElements:h}}))}function AC(e){return a(this,void 0,void 0,(function*(){const{chart:t,chartElements:i,newConfig:r,options:n,queryObject:a,forceDataUpdate:o,commonStrings:s}=e,{createMessage:l}=null!=n?n:{};a_(t);const u=yield o_({chart:t,chartConfig:r,queryObject:a,createMessage:l});if(!0===u.valid&&void 0!==r){i.loaderHandle.showLoader();const e=Kb(t,"config"),l=e.series,{dataSource:u}=r,c=r.series,h=oc(c),d=rx(c[0]);Yb(t,{isRotated:d});const{dataUpdateNeeded:p,updateNeededDetails:f}=nx({forceDataUpdate:o,chart:t,options:n,oldConfig:e,newConfig:r}),{xOrYChanged:m}=f.common,{numberOfSeriesChanged:y,rotationChanged:g}=f.barChart;let v,b,x=h!==yy&&h!==gy;if(h===yy&&(b=Cc(c)),Yb(t,{isNonAggregatedChart:b===Ko}),!0===p){const{count:e,valid:i,invalidType:r,data:o}=yield vC({dataSource:u,series:c,queryObject:a,chartContainer:t.htmlContainer,options:n});Yb(t,{elementCount:e,initialized:i}),x=i,!0===x?v=o:yield s_({chart:t,invalidType:r,elementCount:e,seriesCount:c.length})}else if(h===yy){const e=Kb(t,"elementCount");if(void 0!==e&&(x=uc(e,r.series.length)),!0===x){const e=function(e,t){const i=[],r=new Map,n=new Map;return e.forEach((e,t)=>n.set(e.id,t)),t.forEach((e,t)=>{var a;let o=n.get(e.id);void 0!==o&&(o=null!==(a=r.get(o))&&void 0!==a?a:o,o!==t&&(i.push([o,t]),r.set(t,o)))}),i}(l,c);e.length>0&&(!function(e,t){for(let i=0;i<t.length;i+=1){const r=t[i][0],n=t[i][1],a=e.length;r>=0&&r<a&&n>=0&&n<a&&e.swap(t[i][0],t[i][1])}}(t.series,e),t.feedLegend())}else yield s_({chart:t,invalidType:Hd,elementCount:e,seriesCount:c.length}),i.loaderHandle.hideLoader()}if(!1===p||!0===x){if(!0===p)switch(h){case gy:t.data=v.bins;break;case py:t.data=v.data;break;case yy:t.data=v}void 0!==r.axes&&xC({chart:t,chartConfig:r,rotationChanged:g,chartType:h,isRotated:d}),(void 0===t.series||t.series.length<=0||!0===m||!0===y||!0===g)&&(!0===g&&t.invalidateData(),SC(t,r,i.loaderHandle.hideLoader)),yield PC({chart:t,chartConfig:r,rotationChanged:g,queryObject:a,chartData:h===py||h===gy?v:void 0,options:n,dataUpdateNeeded:p,commonStrings:s}),KS(t,d),xx(i.headerElements,{title:r.title,subTitle:r.subTitle}),Sx(i.footerElements,r.footer),TS({legendElements:i.legendElements,firstSeries:r.series[0],webChartLegend:r.legend}),pC(t,r.background)}Yb(t,{config:hb(r),filterBySelection:null==n?void 0:n.filterBySelection,selectedDataItems:null==n?void 0:n.selectedDataItems}),!0===Mx(t.series)&&(i.loaderHandle.hideLoader(),Ox(t.htmlContainer))}Tx(u,t.htmlContainer);const c=$S(t);c.behavior!==WS&&c.behavior!==NS&&c.behavior!==zS||sx(t)}))}function TC(e){return a(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,queryObject:r,options:n,globalOptions:a}=e;var o;let s;Bi.commercialLicense=!1!==(null==a?void 0:a.hideLicenceWatermark),Bi.queue=!1!==(null==a?void 0:a.queueChartCreation),Bi.autoDispose=!0===(null==a?void 0:a.autoDisposeChart),!0===(null==a?void 0:a.useAnimatedCharts)?(o=xm,-1===lt.themes.indexOf(o)&&lt.themes.push(o)):function(e){fe(lt.themes,e)}(xm);switch(void 0!==(null==i?void 0:i.series)?oc(i.series):void 0){case fy:s=yield wC({chartContainer:t,chartConfig:i,queryObject:r,options:n,globalOptions:a});break;case my:s=yield IC({chartContainer:t,chartConfig:i,queryObject:r,options:n,globalOptions:a});break;default:s=yield CC({chartContainer:t,chartConfig:i,queryObject:r,options:n,globalOptions:a})}const l=ec();return s.chart.rtl=!0===l.rtl,s}))}function OC(e){return a(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,options:r,globalOptions:n}=e,{featureLayer:o,view:s}=null!=r?r:{},l=Date.now();let u,c,h,d;void 0!==o&&(d=wc(o));const p=Xd(i,d);(null==p?void 0:p.dataSource.type)!==ky&&void 0===o||(h=yield dc({chartConfig:p,featureLayer:o,view:s}),yield x(p,r));let f=yield TC({chartContainer:t,chartConfig:p,queryObject:h,options:r,globalOptions:n}),{chart:m,chartElements:y}=f;const g=!1===mC(t);function v(){!0!==m.isDisposed()&&(m.dispose(),void 0!==y&&(y.loaderHandle.hideLoader(),f.chartElements=void 0))}function b(e){return a(this,void 0,void 0,(function*(){const{newConfig:i,forceDataUpdate:r,updateOptions:n,updateGlobalOptions:o}=e;let{commonStrings:s}=e;void 0===s&&(s=yield fC());const l=Kb(m,"initialized"),u=Kb(m,"config");let c;const d=null==u?void 0:u.series;void 0!==d&&(c=oc(d));const p=null==i?void 0:i.series,g=void 0!==p?oc(p):void 0;if(!0===m.isDisposed()||void 0===y||!1===l||c!==g){if(v(),!1===(null==n?void 0:n.autoRecreateChart)){throw new Ec(Fc)}f=yield TC({chartContainer:t,chartConfig:i,queryObject:h,options:n}),m=f.chart,y=f.chartElements,Yb(m,{queryObject:h})}else switch(c){case yy:case py:case gy:yield AC({chart:m,chartElements:y,queryObject:h,newConfig:i,forceDataUpdate:r,options:n,globalOptions:o,commonStrings:s});break;case fy:yield function(e){return a(this,void 0,void 0,(function*(){const{chart:t,chartElements:i,newConfig:r,queryObject:n,forceDataUpdate:a}=e;a_(t);const o=yield o_({chart:t,chartConfig:r,queryObject:n});if(!0===o.valid&&void 0!==r){i.loaderHandle.showLoader();const e=Kb(t,"config"),{dataSource:o}=r,s=r.series;let l;const{dataUpdateNeeded:u}=nx({forceDataUpdate:a,chart:t,oldConfig:e,newConfig:r});!0===u&&(l=(yield vC({dataSource:o,series:s,queryObject:n})).data,SC(t,r,i.loaderHandle.hideLoader)),yield PC({chart:t,queryObject:n,chartConfig:r}),!0!==u&&o.type!==Dy||(t.data=l),xx(i.headerElements,{title:r.title,subTitle:r.subTitle}),Sx(i.footerElements,r.footer),TS({legendElements:i.legendElements,firstSeries:r.series[0],webChartLegend:r.legend}),pC(t,r.background),Yb(t,{config:hb(r)}),!0===Mx(t.series)&&(i.loaderHandle.hideLoader(),Ox(t.htmlContainer))}Tx(o,t.htmlContainer)}))}({chart:m,chartElements:y,queryObject:h,forceDataUpdate:r,newConfig:i,globalOptions:o});break;case my:yield function(e){return a(this,void 0,void 0,(function*(){const{chart:t,chartElements:i,newConfig:r,queryObject:n,forceDataUpdate:a}=e;a_(t);const o=yield o_({chart:t,chartConfig:r,queryObject:n});if(!0===o.valid&&void 0!==r){i.loaderHandle.showLoader();const e=Kb(t,"config"),{dataSource:o}=r,s=r.series,l=oc(s),{dataUpdateNeeded:u}=nx({forceDataUpdate:a,chart:t,oldConfig:e,newConfig:r});let c;!0===u&&(c=(yield vC({dataSource:o,series:s,queryObject:n,chartContainer:t.htmlContainer})).data),void 0!==r.axes&&xC({chart:t,chartConfig:r,chartType:l});P_(t,{innerRadius:r.innerRadius,startAngle:r.startAngle,endAngle:r.endAngle}),S_(t,c),xx(i.headerElements,{title:r.title,subTitle:r.subTitle}),Sx(i.footerElements,r.footer),TS({legendElements:i.legendElements,firstSeries:r.series[0],webChartLegend:r.legend}),pC(t,r.background),Yb(t,{config:hb(r)}),i.loaderHandle.hideLoader(),Ox(t.htmlContainer)}Tx(o,t.htmlContainer)}))}({chart:m,chartElements:y,newConfig:i,queryObject:h,forceDataUpdate:r,globalOptions:o})}}))}function x(e,t){return a(this,void 0,void 0,(function*(){const i=yield pc(h);if(void 0!==h){const r=()=>a(this,void 0,void 0,(function*(){return b({newConfig:e,updateOptions:t,forceDataUpdate:!0})}));!0===i?(void 0!==c&&c.remove(),c=h.watch("definitionExpression",r)):(void 0!==u&&u.remove(),u=h.watch("updating",e=>a(this,void 0,void 0,(function*(){!1===e&&(yield r())}))))}}))}Yb(m,{chartWasCreatedWhileHidden:g}),function(e,t){if(void 0!==e&&void 0!==t&&window.IntersectionObserver){new IntersectionObserver((function(t){t[0].intersectionRatio>0&&(!0===Kb(e,"chartWasCreatedWhileHidden")?e.events.once("validated",()=>{e.reinit()}):!0===Kb(e,"chartWasUpdatedWhileHidden")&&e.reinit(),Yb(e,{chartWasUpdatedWhileHidden:!1,chartWasCreatedWhileHidden:!1}))}),{root:null}).observe(t)}}(m,t),Yb(m,{queryObject:h}),m.dummyData.t0=l;const S=Date.now();return console.warn(`=> #2 Total time for 'createChart' without rendering: ${S-l}ms`),{update:function(e){return a(this,void 0,void 0,(function*(){const{newChartConfig:i,updateOptions:r,updateGlobalOptions:n}=e,{featureLayer:s,view:l}=null!=r?r:{};m.dummyData.t0=Date.now();const u=!1===mC(t);Yb(m,{chartWasUpdatedWhileHidden:u}),void 0!==o&&(d=wc(o));const c=Xd(i,d),p=yield pc(h);yield function(e){return a(this,void 0,void 0,(function*(){const{featureLayerUpdate:t,newConfig:i,viewUpdate:r,updateOptions:n}=e;void 0===t&&(null==i?void 0:i.dataSource.type)!==ky||(h=yield dc({featureLayer:t,view:r,chartConfig:i}),Yb(m,{queryObject:h}),yield x(i,n))}))}({featureLayerUpdate:s,newConfig:c,viewUpdate:l});const f=yield pc(h),y=!0===p&&!1===f;yield b({newConfig:c,updateOptions:r,forceDataUpdate:y,updateGlobalOptions:n}),m.interactionsEnabled=-1===navigator.userAgent.search("Firefox")||!0!==(null==r?void 0:r.disableInteractions)}))},dispose:v,notify:function(e,t,i){var r;void 0!==m.modal&&!0!==m.isDisposed()&&(m.modal.closable=null!==(r=null==i?void 0:i.closable)&&void 0!==r&&r,void 0!==e?m.openModal(e,t):m.closeModal())},resetZoom:function(){sx(m)},enableZoom:function(){void 0!==m&&!0!==m.isDisposed()&&YS(m)},enableSelection:function(){void 0!==m&&!0!==m.isDisposed()&&qS(m)},clearSelection:function(){return a(this,void 0,void 0,(function*(){void 0!==m&&!0!==m.isDisposed()&&m instanceof jp&&(yield XS({chart:m,cursorSelectionRectangle:void 0}))}))},switchSelection:function(){return a(this,void 0,void 0,(function*(){void 0!==(null==m?void 0:m.series)&&!0!==m.isDisposed()&&(yield eP(m.series))}))},addSelectionEventListeners:function(){m instanceof jp&&function(e){if(void 0!==e){e.xAxes.each(e=>iP(e,!0)),e.yAxes.each(e=>iP(e,!0));const t=$S(e);t.disabled=!1,e.events.enableType(Yx),t.events.enableType(Kx)}}(m)},removeSelectionEventListeners:function(){m instanceof jp&&function(e){if(void 0!==e){e.xAxes.each(e=>iP(e,!0)),e.yAxes.each(e=>iP(e,!0));const t=$S(e);t.disabled=!0,e.events.disableType(Yx),t.events.disableType(Kx)}}(m)}}}))}Bi.classNamePrefix="arcgis-charts-"}).call(this,i(1),i(2)(e),i(4).Buffer)},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,i){"use strict";(function(e,r){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function n(e,t,i,r){return new(i||(i=Promise))((function(n,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}i.d(t,"a",(function(){return qn})),i.d(t,"b",(function(){return Xo})),i.d(t,"c",(function(){return Ko})),i.d(t,"d",(function(){return Jo})),i.d(t,"e",(function(){return $n})),i.d(t,"f",(function(){return de})),i.d(t,"g",(function(){return Pe})),i.d(t,"h",(function(){return Ar})),i.d(t,"i",(function(){return Ir})),i.d(t,"j",(function(){return wr})),i.d(t,"k",(function(){return Un})),i.d(t,"l",(function(){return ea})),i.d(t,"m",(function(){return Sn})),i.d(t,"n",(function(){return zn})),i.d(t,"o",(function(){return ns})),i.d(t,"p",(function(){return kn})),i.d(t,"q",(function(){return Lr})),i.d(t,"r",(function(){return jr})),i.d(t,"s",(function(){return Mr})),i.d(t,"t",(function(){return gn})),i.d(t,"u",(function(){return kr})),i.d(t,"v",(function(){return On})),i.d(t,"w",(function(){return Tr})),i.d(t,"x",(function(){return Nr})),i.d(t,"y",(function(){return yn})),i.d(t,"z",(function(){return pn})),i.d(t,"A",(function(){return rs})),i.d(t,"B",(function(){return fn})),i.d(t,"C",(function(){return sn})),i.d(t,"D",(function(){return Zr})),i.d(t,"E",(function(){return un})),i.d(t,"F",(function(){return ln})),i.d(t,"G",(function(){return Ur})),i.d(t,"H",(function(){return Hr})),i.d(t,"I",(function(){return Br})),i.d(t,"J",(function(){return $r})),i.d(t,"K",(function(){return Wr})),i.d(t,"L",(function(){return dn})),i.d(t,"M",(function(){return hn})),i.d(t,"N",(function(){return Jr})),i.d(t,"O",(function(){return Gr})),i.d(t,"P",(function(){return qr})),i.d(t,"Q",(function(){return Qr})),i.d(t,"R",(function(){return Kr})),i.d(t,"S",(function(){return cn})),i.d(t,"T",(function(){return Yr})),i.d(t,"U",(function(){return zr})),i.d(t,"V",(function(){return en})),i.d(t,"W",(function(){return an})),i.d(t,"X",(function(){return Xr})),i.d(t,"Y",(function(){return wn})),i.d(t,"Z",(function(){return Nn})),i.d(t,"ab",(function(){return Mn})),i.d(t,"bb",(function(){return Tn})),i.d(t,"cb",(function(){return xn})),i.d(t,"db",(function(){return Dn})),i.d(t,"eb",(function(){return Dr})),i.d(t,"fb",(function(){return Gn})),i.d(t,"gb",(function(){return Wn})),i.d(t,"hb",(function(){return Fn})),i.d(t,"ib",(function(){return Vr})),i.d(t,"jb",(function(){return In})),i.d(t,"kb",(function(){return Bn})),i.d(t,"lb",(function(){return Cn})),i.d(t,"mb",(function(){return mn})),i.d(t,"nb",(function(){return jn})),i.d(t,"ob",(function(){return Ln})),i.d(t,"pb",(function(){return Pn})),i.d(t,"qb",(function(){return Vn})),i.d(t,"rb",(function(){return An})),i.d(t,"sb",(function(){return bn})),i.d(t,"tb",(function(){return En})),i.d(t,"ub",(function(){return _n})),i.d(t,"vb",(function(){return he})),i.d(t,"wb",(function(){return Hn})),i.d(t,"xb",(function(){return vn})),i.d(t,"yb",(function(){return Rn})),i.d(t,"zb",(function(){return Qn})),i.d(t,"Ab",(function(){return Er})),i.d(t,"Bb",(function(){return Kn})),i.d(t,"Cb",(function(){return Zn})),i.d(t,"Db",(function(){return Rr})),i.d(t,"Eb",(function(){return ta})),i.d(t,"Fb",(function(){return is}));const a="esriFieldTypeDate",o="esriFieldTypeDouble",s="esriFieldTypeInteger",l="esriFieldTypeOID",u="esriFieldTypeSingle",c="esriFieldTypeSmallInteger",h="count",d="sum",p="min",f="max",m="avg",y="var",g="percentile_cont",v="percentile_disc",b="no_aggregation",x="esriSLSSolid",S="esriSMSCircle",P="esriSFSSolid",_="center",C="middle",w="esriSLS",I="esriSMS",A="esriSFS",T="esriTS",O="normal",D="normal",k="none",F="unique-value",E="class-breaks",M="chart",j="chartText",L="chartOverlay",R="chartOverlays",V="chartLegend",B="chartAxis",N="category",W="number",z="date",H="scatterSeries",G="pieSeries",U="gaugeSeries",$="barSeries",q="histogramSeries",Y={None:"none",Log:"logarithmic",Sqrt:"squareRoot"},K="colorMatch",X="right",J="sideBySide",Q="featureLayer",Z={statisticType:h,sortingOrder:"ASC"};function ee(e){if("next"===e.toLowerCase())return"next";var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function te(e){return void 0===e&&(e="4.17"),"https://js.arcgis.com/"+e+"/"}function ie(e){return!e||ee(e)?function(e){void 0===e&&(e="4.17");var t=te(e),i=ee(e);return"next"!==i&&3===i.major?""+t+(i.minor<=10?"js/":"")+"esri/css/esri.css":t+"esri/themes/light/main.css"}(e):e}function re(e,t){var i=ie(e),r=function(e){return document.querySelector('link[href*="'+e+'"]')}(i);return r||function(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}(r=function(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}(i),t),r}var ne={Promise:"undefined"!=typeof window?window.Promise:void 0},ae={};function oe(e,t,i){var r;i&&(r=function(e,t){var i=function(r){t(r.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",i,!1)};return e.addEventListener("error",i,!1),i}(e,i));var n=function(){t(e),e.removeEventListener("load",n,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",n,!1)}function se(){return document.querySelector("script[data-esri-loader]")}function le(){var e=window.require;return e&&e.on}function ue(e){void 0===e&&(e={});var t={};[ae,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}));var i=t.version,r=t.url||te(i);return new ne.Promise((function(e,n){var a=se();if(a){var o=a.getAttribute("src");o!==r?n(new Error("The ArcGIS API for JavaScript is already loaded ("+o+").")):le()?e(a):oe(a,e,n)}else if(le())n(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=t.css;if(s)re(!0===s?i:s,t.insertCssBefore);t.dojoConfig&&(window.dojoConfig=t.dojoConfig),oe(a=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}(r),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),n),document.body.appendChild(a)}}))}function ce(e){return new ne.Promise((function(t,i){var r=window.require.on("error",i);window.require(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.remove(),t(e)}))}))}function he(e){return n(this,void 0,void 0,(function*(){return function(e,t){if(void 0===t&&(t={}),le())return ce(e);var i=se(),r=i&&i.getAttribute("src");return!t.url&&r&&(t.url=r),ue(t).then((function(){return ce(e)}))}(e,{version:"next",css:!0})}))}const de={Field:"esri/layers/support/Field",FeatureSet:"esri/tasks/support/FeatureSet",FieldUtils:"esri/layers/support/fieldUtils",SymbolUtils:"esri/symbols/support/symbolUtils",Config:"esri/config",PortalItem:"esri/portal/PortalItem",Map:"esri/Map",MapView:"esri/views/MapView",Histogram:"esri/smartMapping/statistics/histogram",SummaryStatistics:"esri/smartMapping/statistics/summaryStatistics",FeatureLayer:"esri/layers/FeatureLayer",Query:"esri/tasks/support/Query",StatisticDefinition:"esri/tasks/support/StatisticDefinition",Extent:"esri/geometry/Extent",Graphic:"esri/Graphic",RendererJsonUtils:"esri/renderers/support/jsonUtils",Error:"esri/core/Error",PromiseUtils:"esri/core/promiseUtils",Request:"esri/request"};function pe(e,t,i,r){var n,a=null==(n=r)||"number"==typeof n||"boolean"==typeof n?r:i(r),o=t.get(a);return void 0===o&&(o=e.call(this,r),t.set(a,o)),o}function fe(e,t,i){var r=Array.prototype.slice.call(arguments,3),n=i(r),a=t.get(n);return void 0===a&&(a=e.apply(this,r),t.set(n,a)),a}function me(e,t,i,r,n){return i.bind(t,e,r,n)}function ye(e,t){return me(e,this,1===e.length?pe:fe,t.cache.create(),t.serializer)}function ge(){return JSON.stringify(arguments)}function ve(){this.cache=Object.create(null)}ve.prototype.has=function(e){return e in this.cache},ve.prototype.get=function(e){return this.cache[e]},ve.prototype.set=function(e,t){this.cache[e]=t};var be={create:function(){return new ve}},xe=function(e,t){var i=t&&t.cache?t.cache:be,r=t&&t.serializer?t.serializer:ge;return(t&&t.strategy?t.strategy:ye)(e,{cache:i,serializer:r})},Se={variadic:function(e,t){return me(e,this,fe,t.cache.create(),t.serializer)},monadic:function(e,t){return me(e,this,pe,t.cache.create(),t.serializer)}};xe.strategies=Se;const Pe={Simple:0,NoAggregation:1,SplitByFieldValues:2,SplitByNumericalFields:3};var _e="object"==typeof e&&e&&e.Object===Object&&e,Ce="object"==typeof self&&self&&self.Object===Object&&self,we=_e||Ce||Function("return this")(),Ie=we.Symbol,Ae=Object.prototype,Te=Ae.hasOwnProperty,Oe=Ae.toString,De=Ie?Ie.toStringTag:void 0;var ke=Object.prototype.toString;var Fe=Ie?Ie.toStringTag:void 0;function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Fe&&Fe in Object(e)?function(e){var t=Te.call(e,De),i=e[De];try{e[De]=void 0;var r=!0}catch(e){}var n=Oe.call(e);return r&&(t?e[De]=i:delete e[De]),n}(e):function(e){return ke.call(e)}(e)}function Me(e){return null!=e&&"object"==typeof e}function je(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}var Le=Array.isArray,Re=Ie?Ie.prototype:void 0,Ve=Re?Re.toString:void 0;function Be(e){if("string"==typeof e)return e;if(Le(e))return je(e,Be)+"";if(function(e){return"symbol"==typeof e||Me(e)&&"[object Symbol]"==Ee(e)}(e))return Ve?Ve.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ne(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return e}function ze(e){if(!Ne(e))return!1;var t=Ee(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var He,Ge=we["__core-js_shared__"],Ue=(He=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||""))?"Symbol(src)_1."+He:"";var $e=Function.prototype.toString;function qe(e){if(null!=e){try{return $e.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ye=/^\[object .+?Constructor\]$/,Ke=Function.prototype,Xe=Object.prototype,Je=Ke.toString,Qe=Xe.hasOwnProperty,Ze=RegExp("^"+Je.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function et(e){return!(!Ne(e)||(t=e,Ue&&Ue in t))&&(ze(e)?Ze:Ye).test(qe(e));var t}function tt(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return et(i)?i:void 0}var it=tt(we,"WeakMap"),rt=Object.create,nt=function(){function e(){}return function(t){if(!Ne(t))return{};if(rt)return rt(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function at(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var ot=Date.now;var st,lt,ut,ct=function(){try{var e=tt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ht=(st=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:We,lt=0,ut=0,function(){var e=ot(),t=16-(e-ut);if(ut=e,t>0){if(++lt>=800)return arguments[0]}else lt=0;return st.apply(void 0,arguments)});var dt=/^(?:0|[1-9]\d*)$/;function pt(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&dt.test(e))&&e>-1&&e%1==0&&e<t}function ft(e,t,i){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function mt(e,t){return e===t||e!=e&&t!=t}var yt=Object.prototype.hasOwnProperty;function gt(e,t,i){var r=e[t];yt.call(e,t)&&mt(r,i)&&(void 0!==i||t in e)||ft(e,t,i)}function vt(e,t,i,r){var n=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),n?ft(i,s,l):gt(i,s,l)}return i}var bt=Math.max;function xt(e,t){return ht(function(e,t,i){return t=bt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=bt(r.length-t,0),o=Array(a);++n<a;)o[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=i(o),at(e,this,s)}}(e,t,We),e+"")}function St(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Pt(e){return null!=e&&St(e.length)&&!ze(e)}function _t(e,t,i){if(!Ne(i))return!1;var r=typeof t;return!!("number"==r?Pt(i)&&pt(t,i.length):"string"==r&&t in i)&&mt(i[t],e)}var Ct=Object.prototype;function wt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ct)}function It(e){return Me(e)&&"[object Arguments]"==Ee(e)}var At=Object.prototype,Tt=At.hasOwnProperty,Ot=At.propertyIsEnumerable,Dt=It(function(){return arguments}())?It:function(e){return Me(e)&&Tt.call(e,"callee")&&!Ot.call(e,"callee")};var kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ft=kt&&"object"==typeof r&&r&&!r.nodeType&&r,Et=Ft&&Ft.exports===kt?we.Buffer:void 0,Mt=(Et?Et.isBuffer:void 0)||function(){return!1},jt={};function Lt(e){return function(t){return e(t)}}jt["[object Float32Array]"]=jt["[object Float64Array]"]=jt["[object Int8Array]"]=jt["[object Int16Array]"]=jt["[object Int32Array]"]=jt["[object Uint8Array]"]=jt["[object Uint8ClampedArray]"]=jt["[object Uint16Array]"]=jt["[object Uint32Array]"]=!0,jt["[object Arguments]"]=jt["[object Array]"]=jt["[object ArrayBuffer]"]=jt["[object Boolean]"]=jt["[object DataView]"]=jt["[object Date]"]=jt["[object Error]"]=jt["[object Function]"]=jt["[object Map]"]=jt["[object Number]"]=jt["[object Object]"]=jt["[object RegExp]"]=jt["[object Set]"]=jt["[object String]"]=jt["[object WeakMap]"]=!1;var Rt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vt=Rt&&"object"==typeof r&&r&&!r.nodeType&&r,Bt=Vt&&Vt.exports===Rt&&_e.process,Nt=function(){try{var e=Vt&&Vt.require&&Vt.require("util").types;return e||Bt&&Bt.binding&&Bt.binding("util")}catch(e){}}(),Wt=Nt&&Nt.isTypedArray,zt=Wt?Lt(Wt):function(e){return Me(e)&&St(e.length)&&!!jt[Ee(e)]},Ht=Object.prototype.hasOwnProperty;function Gt(e,t){var i=Le(e),r=!i&&Dt(e),n=!i&&!r&&Mt(e),a=!i&&!r&&!n&&zt(e),o=i||r||n||a,s=o?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!Ht.call(e,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||pt(u,l))||s.push(u);return s}function Ut(e,t){return function(i){return e(t(i))}}var $t=Ut(Object.keys,Object),qt=Object.prototype.hasOwnProperty;function Yt(e){if(!wt(e))return $t(e);var t=[];for(var i in Object(e))qt.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Kt(e){return Pt(e)?Gt(e):Yt(e)}var Xt=Object.prototype.hasOwnProperty;function Jt(e){if(!Ne(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=wt(e),i=[];for(var r in e)("constructor"!=r||!t&&Xt.call(e,r))&&i.push(r);return i}function Qt(e){return Pt(e)?Gt(e,!0):Jt(e)}var Zt,ei=(Zt=function(e,t,i,r){vt(t,Qt(t),e,r)},xt((function(e,t){var i=-1,r=t.length,n=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(n=Zt.length>3&&"function"==typeof n?(r--,n):void 0,a&&_t(t[0],t[1],a)&&(n=r<3?void 0:n,r=1),e=Object(e);++i<r;){var o=t[i];o&&Zt(e,o,i,n)}return e}))),ti=tt(Object,"create");var ii=Object.prototype.hasOwnProperty;var ri=Object.prototype.hasOwnProperty;function ni(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ai(e,t){for(var i=e.length;i--;)if(mt(e[i][0],t))return i;return-1}ni.prototype.clear=function(){this.__data__=ti?ti(null):{},this.size=0},ni.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ni.prototype.get=function(e){var t=this.__data__;if(ti){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return ii.call(t,e)?t[e]:void 0},ni.prototype.has=function(e){var t=this.__data__;return ti?void 0!==t[e]:ri.call(t,e)},ni.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ti&&void 0===t?"__lodash_hash_undefined__":t,this};var oi=Array.prototype.splice;function si(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}si.prototype.clear=function(){this.__data__=[],this.size=0},si.prototype.delete=function(e){var t=this.__data__,i=ai(t,e);return!(i<0)&&(i==t.length-1?t.pop():oi.call(t,i,1),--this.size,!0)},si.prototype.get=function(e){var t=this.__data__,i=ai(t,e);return i<0?void 0:t[i][1]},si.prototype.has=function(e){return ai(this.__data__,e)>-1},si.prototype.set=function(e,t){var i=this.__data__,r=ai(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this};var li=tt(we,"Map");function ui(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function ci(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function hi(e){return null==e?"":Be(e)}function di(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}ci.prototype.clear=function(){this.size=0,this.__data__={hash:new ni,map:new(li||si),string:new ni}},ci.prototype.delete=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},ci.prototype.get=function(e){return ui(this,e).get(e)},ci.prototype.has=function(e){return ui(this,e).has(e)},ci.prototype.set=function(e,t){var i=ui(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this};var pi=Ut(Object.getPrototypeOf,Object),fi=Function.prototype,mi=Object.prototype,yi=fi.toString,gi=mi.hasOwnProperty,vi=yi.call(Object);function bi(e){if(!Me(e))return!1;var t=Ee(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!Me(e)||"[object Object]"!=Ee(e))return!1;var t=pi(e);if(null===t)return!0;var i=gi.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&yi.call(i)==vi}(e)}var xi=xt((function(e,t){try{return at(e,void 0,t)}catch(e){return bi(e)?e:new Error(e)}}));function Si(e){var t=this.__data__=new si(e);this.size=t.size}Si.prototype.clear=function(){this.__data__=new si,this.size=0},Si.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Si.prototype.get=function(e){return this.__data__.get(e)},Si.prototype.has=function(e){return this.__data__.has(e)},Si.prototype.set=function(e,t){var i=this.__data__;if(i instanceof si){var r=i.__data__;if(!li||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new ci(r)}return i.set(e,t),this.size=i.size,this};var Pi="object"==typeof exports&&exports&&!exports.nodeType&&exports,_i=Pi&&"object"==typeof r&&r&&!r.nodeType&&r,Ci=_i&&_i.exports===Pi?we.Buffer:void 0,wi=Ci?Ci.allocUnsafe:void 0;function Ii(){return[]}var Ai=Object.prototype.propertyIsEnumerable,Ti=Object.getOwnPropertySymbols,Oi=Ti?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,r=null==e?0:e.length,n=0,a=[];++i<r;){var o=e[i];t(o,i,e)&&(a[n++]=o)}return a}(Ti(e),(function(t){return Ai.call(e,t)})))}:Ii;var Di=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)di(t,Oi(e)),e=pi(e);return t}:Ii;function ki(e,t,i){var r=t(e);return Le(e)?r:di(r,i(e))}function Fi(e){return ki(e,Kt,Oi)}function Ei(e){return ki(e,Qt,Di)}var Mi=tt(we,"DataView"),ji=tt(we,"Promise"),Li=tt(we,"Set"),Ri=qe(Mi),Vi=qe(li),Bi=qe(ji),Ni=qe(Li),Wi=qe(it),zi=Ee;(Mi&&"[object DataView]"!=zi(new Mi(new ArrayBuffer(1)))||li&&"[object Map]"!=zi(new li)||ji&&"[object Promise]"!=zi(ji.resolve())||Li&&"[object Set]"!=zi(new Li)||it&&"[object WeakMap]"!=zi(new it))&&(zi=function(e){var t=Ee(e),i="[object Object]"==t?e.constructor:void 0,r=i?qe(i):"";if(r)switch(r){case Ri:return"[object DataView]";case Vi:return"[object Map]";case Bi:return"[object Promise]";case Ni:return"[object Set]";case Wi:return"[object WeakMap]"}return t});var Hi=zi,Gi=Object.prototype.hasOwnProperty;var Ui=we.Uint8Array;function $i(e){var t=new e.constructor(e.byteLength);return new Ui(t).set(new Ui(e)),t}var qi=/\w*$/;var Yi=Ie?Ie.prototype:void 0,Ki=Yi?Yi.valueOf:void 0;function Xi(e,t,i){var r,n,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return $i(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var i=t?$i(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var i=t?$i(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(e,i);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(a=new(n=e).constructor(n.source,qi.exec(n))).lastIndex=n.lastIndex,a;case"[object Set]":return new o;case"[object Symbol]":return r=e,Ki?Object(Ki.call(r)):{}}}var Ji=Nt&&Nt.isMap,Qi=Ji?Lt(Ji):function(e){return Me(e)&&"[object Map]"==Hi(e)};var Zi=Nt&&Nt.isSet,er=Zi?Lt(Zi):function(e){return Me(e)&&"[object Set]"==Hi(e)},tr={};function ir(e,t,i,r,n,a){var o,s=1&t,l=2&t,u=4&t;if(i&&(o=n?i(e,r,n,a):i(e)),void 0!==o)return o;if(!Ne(e))return e;var c=Le(e);if(c){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Gi.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!s)return function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}(e,o)}else{var h=Hi(e),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(Mt(e))return function(e,t){if(t)return e.slice();var i=e.length,r=wi?wi(i):new e.constructor(i);return e.copy(r),r}(e,s);if("[object Object]"==h||"[object Arguments]"==h||d&&!n){if(o=l||d?{}:function(e){return"function"!=typeof e.constructor||wt(e)?{}:nt(pi(e))}(e),!s)return l?function(e,t){return vt(e,Di(e),t)}(e,function(e,t){return e&&vt(t,Qt(t),e)}(o,e)):function(e,t){return vt(e,Oi(e),t)}(e,function(e,t){return e&&vt(t,Kt(t),e)}(o,e))}else{if(!tr[h])return n?e:{};o=Xi(e,h,s)}}a||(a=new Si);var p=a.get(e);if(p)return p;a.set(e,o),er(e)?e.forEach((function(r){o.add(ir(r,t,i,r,e,a))})):Qi(e)&&e.forEach((function(r,n){o.set(n,ir(r,t,i,n,e,a))}));var f=u?l?Ei:Fi:l?keysIn:Kt,m=c?void 0:f(e);return function(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););}(m||e,(function(r,n){m&&(r=e[n=r]),gt(o,n,ir(r,t,i,n,e,a))})),o}tr["[object Arguments]"]=tr["[object Array]"]=tr["[object ArrayBuffer]"]=tr["[object DataView]"]=tr["[object Boolean]"]=tr["[object Date]"]=tr["[object Float32Array]"]=tr["[object Float64Array]"]=tr["[object Int8Array]"]=tr["[object Int16Array]"]=tr["[object Int32Array]"]=tr["[object Map]"]=tr["[object Number]"]=tr["[object Object]"]=tr["[object RegExp]"]=tr["[object Set]"]=tr["[object String]"]=tr["[object Symbol]"]=tr["[object Uint8Array]"]=tr["[object Uint8ClampedArray]"]=tr["[object Uint16Array]"]=tr["[object Uint32Array]"]=!0,tr["[object Error]"]=tr["[object Function]"]=tr["[object WeakMap]"]=!1;function rr(e){return ir(e,5)}var nr,ar=(nr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==nr?void 0:nr[e]}),or=/[&<>"']/g,sr=RegExp(or.source);var lr=Object.prototype.hasOwnProperty;function ur(e){if(null==e)return!0;if(Pt(e)&&(Le(e)||"string"==typeof e||"function"==typeof e.splice||Mt(e)||zt(e)||Dt(e)))return!e.length;var t=Hi(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(wt(e))return!Yt(e).length;for(var i in e)if(lr.call(e,i))return!1;return!0}var cr=Object.prototype,hr=cr.hasOwnProperty;function dr(e,t,i,r){return void 0===e||mt(e,cr[i])&&!hr.call(r,i)?t:e}var pr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function fr(e){return"\\"+pr[e]}var mr=/<%=([\s\S]+?)%>/g,yr={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:mr,variable:"",imports:{_:{escape:function(e){return(e=hi(e))&&sr.test(e)?e.replace(or,ar):e}}}},gr=/\b__p \+= '';/g,vr=/\b(__p \+=) '' \+/g,br=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sr=/($^)/,Pr=/['\n\r\u2028\u2029\\]/g,_r=Object.prototype.hasOwnProperty;function Cr(e,t,i){var r=yr.imports._.templateSettings||yr;i&&_t(e,t,i)&&(t=void 0),e=hi(e),t=ei({},t,r,dr);var n,a,o=ei({},t.imports,r.imports,dr),s=Kt(o),l=function(e,t){return je(t,(function(t){return e[t]}))}(o,s),u=0,c=t.interpolate||Sr,h="__p += '",d=RegExp((t.escape||Sr).source+"|"+c.source+"|"+(c===mr?xr:Sr).source+"|"+(t.evaluate||Sr).source+"|$","g"),p=_r.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(d,(function(t,i,r,o,s,l){return r||(r=o),h+=e.slice(u,l).replace(Pr,fr),i&&(n=!0,h+="' +\n__e("+i+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var f=_r.call(t,"variable")&&t.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(gr,""):h).replace(vr,"$1").replace(br,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=xi((function(){return Function(s,p+"return "+h).apply(void 0,l)}));if(m.source=h,bi(m))throw m;return m}const wr={AxisLabels:"axisLabels",AxisTitle:"axisTitle",ChartTitle:"chartTitle",DataLabels:"dataLabels",LegendTitle:"legendTitle",LegendText:"legendText",DescriptionText:"descriptionText"},Ir={Arabic:"ar",Bosnian:"bs",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Slovenian:"sl",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},Ar=[Ir.Arabic,Ir.Hebrew];function Tr(e,t){return Cr(e)(t)}function Or(e){let t=Ir.English;if(void 0!==e){const i=Object.values(Ir),r=i.filter(e=>-1!==e.indexOf("-"));if(-1!==e.indexOf("-")){const[t,i]=e.split("-");e=`${t}-${i.toUpperCase()}`}if(!0===r.includes(e))t=e;else{const r=function(e){const t=null==e?void 0:e.match(/^([a-z]{2})-([A-Z]{2})$/);let i=Ir.English;return null!=t&&(null==t?void 0:t.length)>1?i=t[1]:2===(null==e?void 0:e.length)&&e.toLowerCase()===e&&(i=e),i}(e);!0===i.includes(r)&&(t=r)}}return t}function Dr(e=document.documentElement){var t,i;var r;const n=Or(null!==(i=null===(t=(r="[lang]",function e(t){let i;return i=void 0===t||t===document||t===window?null:t.closest(r)||e(t.getRootNode().host),i}(e)))||void 0===t?void 0:t.lang)&&void 0!==i?i:window.navigator.language);return{locale:n,rtl:Ar.includes(n)}}function kr(e,t){return n(this,void 0,void 0,(function*(){const i=e.tagName.toLowerCase(),{locale:r}=Dr(e);return yield function(e){return n(this,void 0,void 0,(function*(){const{path:t,locale:i,baseURL:r}=e;let n={};try{const e=yield fetch(`${r}t9n/${t}.t9n.${i}.json`);n=yield e.json()}catch(e){const i=yield fetch(`${r}t9n/${t}.t9n.${Ir.English}.json`);n=yield i.json()}return n}))}({path:i,locale:r,baseURL:t})}))}function Fr(e=Dr().locale){return n(this,void 0,void 0,(function*(){let t=yield i.e(121).then(i.bind(null,125));switch(e){case Ir.Arabic:t=yield i.e(115).then(i.bind(null,126));break;case Ir.Bosnian:t=yield i.e(116).then(i.bind(null,127));break;case Ir.Catalan:t=yield i.e(117).then(i.bind(null,128));break;case Ir.Czech:t=yield i.e(118).then(i.bind(null,129));break;case Ir.Danish:t=yield i.e(119).then(i.bind(null,130));break;case Ir.German:t=yield i.e(120).then(i.bind(null,131));break;case Ir.EnglishUSA:t=yield i.e(122).then(i.bind(null,132));break;case Ir.Spanish:t=yield i.e(123).then(i.bind(null,133));break;case Ir.Estonian:t=yield i.e(124).then(i.bind(null,134));break;case Ir.Finnish:t=yield i.e(125).then(i.bind(null,135));break;case Ir.French:t=yield i.e(126).then(i.bind(null,136));break;case Ir.Hebrew:t=yield i.e(127).then(i.bind(null,137));break;case Ir.Croatian:t=yield i.e(128).then(i.bind(null,138));break;case Ir.Hungarian:t=yield i.e(129).then(i.bind(null,139));break;case Ir.Indonesian:t=yield i.e(130).then(i.bind(null,140));break;case Ir.Italian:t=yield i.e(131).then(i.bind(null,141));break;case Ir.Japanese:t=yield i.e(132).then(i.bind(null,142));break;case Ir.Korean:t=yield i.e(133).then(i.bind(null,143));break;case Ir.Lithuanian:t=yield i.e(134).then(i.bind(null,144));break;case Ir.Latvian:t=yield i.e(135).then(i.bind(null,145));break;case Ir.NorwegianBokml:t=yield i.e(136).then(i.bind(null,146));break;case Ir.Dutch:t=yield i.e(137).then(i.bind(null,147));break;case Ir.Polish:t=yield i.e(138).then(i.bind(null,148));break;case Ir.PortugueseBrazil:t=yield i.e(139).then(i.bind(null,149));break;case Ir.PortuguesePortugal:t=yield i.e(140).then(i.bind(null,150));break;case Ir.Romanian:t=yield i.e(141).then(i.bind(null,151));break;case Ir.Russian:t=yield i.e(142).then(i.bind(null,152));break;case Ir.Slovenian:t=yield i.e(143).then(i.bind(null,153));break;case Ir.Swedish:t=yield i.e(144).then(i.bind(null,154));break;case Ir.Thai:t=yield i.e(145).then(i.bind(null,155));break;case Ir.Turkish:t=yield i.e(146).then(i.bind(null,156));break;case Ir.Ukrainian:t=yield i.e(147).then(i.bind(null,157));break;case Ir.Vietnamese:t=yield i.e(148).then(i.bind(null,158));break;case Ir.ChineseChina:t=yield i.e(149).then(i.bind(null,159));break;case Ir.ChineseHongKong:t=yield i.e(150).then(i.bind(null,160));break;case Ir.ChineseTaiwan:t=yield i.e(151).then(i.bind(null,161))}return t}))}const Er={maxRecordCountFactor:5,maxParallelRequests:4,maxRecords:2e3,orderByJSAPIDelimiter:" ",outStatistics:{statisticType:Z.statisticType,onStatisticField:"OBJECTID",outStatisticFieldName:"arcgis_charts_outStatisticFieldName_default_key"},uniqueIdsName:"arcgisChartsUniqueIds"},Mr=.7,jr=75,Lr=[156,156,156,255],Rr=[[166,206,227,255],[31,120,180,255],[178,223,138,255],[51,160,44,255],[251,154,153,255],[227,26,28,255],[253,191,111,255],[255,127,0,255],[202,178,214,255],[106,61,154,255]];function Vr(e=0,t){const i=e>=0?e:0,[r,n,a,o]=Rr[i%Rr.length];return[r,n,a,void 0!==t?255*t:o]}function Br(e){return[0,0,0,255*(null!=e?e:Mr)]}function Nr(e=1){return[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*e)]}function Wr(e){const t={family:"Arial, Helvetica, sans-serif",size:10,style:O,weight:D,decoration:k};switch(e){case wr.ChartTitle:t.size=18;break;case wr.AxisTitle:t.size=14;break;case wr.LegendText:t.size=12;break;case wr.LegendTitle:t.size=13;break;case wr.DescriptionText:t.size=11}return t}function zr(e="",t=Wr()){return{type:T,color:Br(),text:e,font:t,horizontalAlignment:_}}function Hr(e){const{text:t,visible:i,font:r}=null!=e?e:{text:"",visible:!0,font:Wr()};return{type:j,visible:i,content:zr(t,r)}}function Gr(e){var t,i,r;const n=null!==(t=null==e?void 0:e.useRandomColor)&&void 0!==t&&t,a=null==e?void 0:e.useRampColor,o=null!==(i=null==e?void 0:e.width)&&void 0!==i?i:1;let s=null!==(r=null==e?void 0:e.color)&&void 0!==r?r:Br(1);return!0===n?s=Nr():void 0!==a&&(s=Vr(a.colorIndex)),void 0!==(null==e?void 0:e.opacity)&&(s[3]=null==e?void 0:e.opacity),{type:w,style:x,color:s,width:o}}function Ur(){return{type:N,characterLimit:11}}function $r(){return{type:z,intlOptions:{}}}function qr(){return{type:W,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:3}}}function Yr(){return{type:W,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}}}function Kr(){return{type:W,intlOptions:{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}}}function Xr(e="Value Axis",t){const i=Hr({text:e,visible:!0,font:Wr(wr.AxisTitle)}),r=Hr({text:e,visible:!0,font:Wr(wr.AxisLabels)});return!0===t?(i.content.horizontalAlignment=void 0,i.content.verticalAlignment=C):i.content.horizontalAlignment=_,{type:B,visible:!0,title:i,labels:r,valueFormat:qr(),lineSymbol:Gr({color:Lr})}}function Jr(){return{type:V,visible:!0,title:Hr({text:"",visible:!0,font:Wr(wr.LegendTitle)}),body:zr("",Wr(wr.LegendText)),position:X,maxHeight:NaN}}function Qr(e){return{type:L,visible:!0,created:!1,symbol:Gr({useRampColor:{colorIndex:e}})}}function Zr(){return[255,255,255,255]}function en(){return n(this,void 0,void 0,(function*(){return(yield Fr()).defaultTitle}))}function tn(){return"Chart "+Date.now()}function rn(e){const t=rr(e);var i;return e.type===Q&&(t.featureLayer.layerType="ArcGISFeatureLayer",t.featureLayer.id=void 0!==e.featureLayer.id?e.featureLayer.id:void 0!==e.featureLayer.url?(i=e.featureLayer.url).substring(i.lastIndexOf("/")+1):0),t}function nn(e=!1){return{type:I,style:S,color:!0===e?Nr(Mr):Vr(0,Mr),size:7}}function an(e=!1){return{type:R,trendLine:{type:L,created:!1,visible:!0,symbol:{type:w,style:x,color:!0===e?Nr():Vr(1),width:2}}}}function on(e){return{type:H,id:e,name:e,x:"",y:"",colorType:K,markerSymbol:nn(),overlays:an(),dataLabels:Hr({text:"",visible:!1,font:Wr(wr.DataLabels)})}}function sn(e){const t=[],i=Xr("Count",!0),r=Gr({opacity:jr});switch(e){case $:i.minimum=0,i.grid=r,t.push(function(e="Category Axis"){const t=Hr({text:e,visible:!0,font:Wr(wr.AxisTitle)});t.content.horizontalAlignment=_;const i=Hr({text:e,visible:!0,font:Wr(wr.AxisLabels)});return{type:B,visible:!0,title:t,labels:i,valueFormat:Ur(),lineSymbol:Gr({color:Lr})}}("X Axis"),i);break;case H:{const e=Xr("X Axis");e.grid=r,i.grid=r,t.push(e,i);break}case q:i.grid=r,t.push(Xr("X Axis"),i)}return t}function ln(e){var t;return n(this,void 0,void 0,(function*(){const i=null!==(t=e.objectIDField)&&void 0!==t?t:"ObjectID",r=`${h}_${i}_0`,n=(yield Fr()).countSeries;return{type:$,id:n,name:n,query:{outStatistics:[{statisticType:h,onStatisticField:i,outStatisticFieldName:r}],orderByFields:[],groupByFieldsForStatistics:[]},x:"",y:r,colorType:K,multipleBarType:J,fillSymbol:{type:A,style:P,color:Vr(e.seriesIndex,Mr)},dataLabels:Hr({text:"",visible:!1,font:Wr(wr.DataLabels)}),rotated:!1}}))}function un(e,t=tn()){return n(this,void 0,void 0,(function*(){return{version:"1.0.0",type:M,id:t,title:Hr({text:yield en(),visible:!0,font:Wr(wr.ChartTitle)}),subTitle:Hr(),footer:Hr({text:"",visible:!0,font:Wr(wr.DescriptionText)}),background:[255,255,255,255],axes:sn($),dataSource:rn(e),series:[],legend:Jr()}}))}function cn(e,t=tn()){return n(this,void 0,void 0,(function*(){return{version:"1.0.0",type:M,id:t,title:Hr({text:yield en(),visible:!0,font:Wr(wr.ChartTitle)}),subTitle:Hr(),footer:Hr({text:"",visible:!0,font:Wr(wr.DescriptionText)}),background:[255,255,255,255],axes:sn(H),dataSource:rn(e),series:[on(t)],legend:Jr()}}))}function hn(){return{type:q,id:q,name:q,x:"",binCount:32,overlays:{type:R,mean:Qr(1),median:Qr(2),standardDeviation:Qr(3),comparisonDistribution:Qr(4)},dataTransformationType:Y.None,fillSymbol:{type:A,style:P,color:Vr(0,Mr)},colorType:K,dataLabels:Hr({text:"",visible:!1,font:Wr(wr.DataLabels)}),rotated:!1}}function dn(e,t=tn()){return n(this,void 0,void 0,(function*(){return{version:"1.0.0",type:M,id:t,title:Hr({text:yield en(),visible:!0,font:Wr(wr.ChartTitle)}),subTitle:Hr(),footer:Hr({text:"",visible:!0,font:Wr(wr.DescriptionText)}),background:[255,255,255,255],axes:sn(q),dataSource:rn(e),series:[hn()],legend:Jr()}}))}function pn(){return{maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500}}function fn(e){return n(this,void 0,void 0,(function*(){const t=yield Fr();let i;switch(e){case m:i=t.statistics.mean;break;case g:i=t.statistics.median;break;case d:i=t.statistics.sum;break;case p:i=t.statistics.minimum;break;case f:i=t.statistics.maximum;break;case y:i=t.statistics.variance;break;case v:i=t.statistics.discretePercentitle;break;case b:i=t.statistics.noAggregation;break;case h:default:i=t.statistics.count}return i}))}function mn(e){let t;return void 0!==e&&e.length>0&&(t=e[0].type),t}function yn(e){let t;return e.type===$&&(t=e.multipleBarType),t}function gn(e){let t=e;return t=t.replace(/'/g,"''"),t=t.replace(/[/\\"|[\]\\]/g,"\\$&"),t}function vn(e){const{value:t,keepSurroundingQuotes:i,escapeSQL:r}=e;let n=t.trim(),a="";return"'"===n.charAt(0)&&"'"===n.charAt(n.length-1)&&(n=n.slice(1,-1),!0===i&&(a="'")),!1!==r&&(n=gn(n)),n=`${a}${n}${a}`,n}function bn(e,t){let i=!1;const{maxBarUniqueSeriesCountTotal:r,maxBarTwoSeriesCountPerSeries:n,maxBarTwoSeriesCountTotal:a,maxBarThreePlusSeriesCountPerSeries:o,maxBarThreePlusSeriesCountTotal:s}={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500},l=e/t;return 1===t?i=e<=r:2===t?i=e<=a&&l<=n:t>2&&(i=e<=s&&l<=o),i}function xn(e,t){var i,r;return null!==(r=null===(i=e.find(e=>e.name===t))||void 0===i?void 0:i.alias)&&void 0!==r?r:t}function Sn(e){let t=!1;switch(mn(e)){case G:case $:t=e.length>1;break;case q:case H:{const i=e[0];t=Object.values(i.overlays).some(e=>!0===e.created);break}}return t}function Pn(e){const t=e.replace("#","");return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16),255]}function _n(e,t){let i=!1;if(void 0!==t){i=e.includes(mn(null==t?void 0:t.series));const r=mn(t.series);if(r===H){const e="sizePolicy"in t.series[0];i=i&&!1===e}else if(r===q){const e=Object.values(Y).includes(t.series[0].dataTransformationType);i=i&&!0===e}}return i}function Cn(e){let t,i,r;return void 0!==e&&(t=e.type,t!==F&&t!==E||(i=e.field,t===E&&(r=e.normalizationField))),{rendererType:t,rendererField:i,rendererNormalizationField:r}}const wn=xe(e=>n(void 0,void 0,void 0,(function*(){var t;const i=e.featureCollection;let r,n;if(void 0!==i&&void 0!==(null===(t=i.layers)||void 0===t?void 0:t[0])){const e=i.layers[0];r=e.featureSet,n=e.layerDefinition}else n=e.layerDefinition;const a={};if(void 0!==r){const[e]=yield he([de.FeatureSet]);a.source=e.fromJSON(r).features;const[t]=yield he([de.Field]);void 0!==(null==n?void 0:n.fields)&&(a.fields=n.fields.map(e=>t.fromJSON(e)))}else a.id=e.id,a.layerId=null==n?void 0:n.id,void 0!==e.url&&(a.url=e.url),void 0!==e.itemId&&void 0!==(null==n?void 0:n.id)&&(a.portalItem={id:e.itemId});if(void 0!==n){const e=n.drawingInfo;if(void 0!==(null==e?void 0:e.renderer)){const[t]=yield he([de.RendererJsonUtils]);a.renderer=t.fromJSON(e.renderer)}}const[o]=yield he([de.FeatureLayer]);return new o(a)})));function In(e){return n(this,void 0,void 0,(function*(){const{featureLayer:t,view:i,chartConfig:r}=e;let n;if((null==r?void 0:r.dataSource.type)===Q)if(void 0!==t)if(void 0!==i&&!1===t.isTable){t.outFields=["*"];n=yield i.whenLayerView(t)}else n=t;else void 0!==r.dataSource.featureLayer&&(n=yield wn(r.dataSource.featureLayer));return n}))}function An(e){return n(this,void 0,void 0,(function*(){const[t]=yield he([de.FeatureLayer]);return e instanceof t}))}function Tn(e){return n(this,void 0,void 0,(function*(){return!0===(yield An(e))?e:e.layer}))}function On(e,t){var i,r;return n(this,void 0,void 0,(function*(){const n=yield Tn(e);yield n.load();let a=n.fields.map(e=>e.toJSON());return!0===t&&void 0!==(null===(i=null==n?void 0:n.popupTemplate)||void 0===i?void 0:i.fieldInfos)&&(a=null===(r=null==n?void 0:n.popupTemplate)||void 0===r?void 0:r.fieldInfos.filter(e=>n.fieldsIndex.get(e.fieldName)).map(e=>{const t=n.fieldsIndex.get(e.fieldName);return t.alias=e.label,t.toJSON()})),a}))}function Dn(e,t){return n(this,void 0,void 0,(function*(){let i;return i=void 0!==e.featureLayer?yield wn(e.featureLayer):e,On(i,t)}))}function kn(e){return e.reduce((e,t)=>new Map([...e,[t.name,t]]),new Map)}function Fn(e){var t;const i=e.find(e=>e.type===l);return null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""}function En(e){return[u,o,c,s].includes(e.type)}function Mn(e){return e.filter(e=>e.type===a).map(e=>e.name)}function jn(e,t){let i="";return void 0!==e&&!0===e.includes("=")&&(i=!1!==t?vn({value:e.split("=")[0]}):e.split("=")[0].trim()),i}function Ln(e){const{where:t,normalize:i,keepSurroundingQuotes:r,escapeSQL:n}=e;let a="";return void 0!==t&&!0===t.includes("=")&&(a=t.split("=")[1].trim(),!1!==i&&(a=vn({value:a,keepSurroundingQuotes:r,escapeSQL:n}))),a}function Rn(e){const t=jn(e),i=Ln({where:e,normalize:!0,keepSurroundingQuotes:!0});let r="";return""!==t&&""!==i&&(r=`${t} = ${i}`),r}function Vn(e){let t=!1;if(void 0===e||""===e)t=!0;else if(!0===e.includes("=")){t=jn(e,!1)===Ln({where:e,normalize:!1})}return t}function Bn(e){var t,i;let r=Pe.Simple;return!1===Vn(null===(t=e[0].query)||void 0===t?void 0:t.where)?r=Pe.SplitByFieldValues:void 0===(null===(i=e[0].query)||void 0===i?void 0:i.outStatistics)?r=Pe.NoAggregation:e.length>1&&(r=Pe.SplitByNumericalFields),r}function Nn(e){var t;const i={type:"featureLayer",featureLayer:{id:null==e?void 0:e.id,layerDefinition:{id:null==e?void 0:e.layerId},layerType:"ArcGISFeatureLayer",itemId:null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.serviceItemId}};return void 0!==(null==e?void 0:e.url)&&(i.featureLayer.url=e.url),i}function Wn(e){var t;let i=null!==(t=null==e?void 0:e.sourceJSON.maxRecordCount)&&void 0!==t?t:Er.maxRecords;return(null==e?void 0:e.sourceJSON.advancedQueryCapabilities.supportsMaxRecordCountFactor)&&(i=(null==e?void 0:e.sourceJSON.maxRecordCount)*Er.maxRecordCountFactor),i}function zn(e){let t;const i=new Set(e);return null==i||i.forEach(e=>{null!=e&&""!==e&&(t=void 0===t?e:`${t} AND (${e})`)}),null!=t?t:"1 = 1"}function Hn(e){var t,i;return n(this,void 0,void 0,(function*(){const{queryObject:r,chartQuery:n,outFields:a,start:o,num:s,maxRecordCountFactor:l,filter:u,returnDistinctValues:c,cacheHint:h}=e,[d]=yield he([de.Query]),p=new d;p.returnGeometry=!1;const f=yield Tn(r);if(p.where=zn([null==n?void 0:n.where,u,f.definitionExpression]),p.outFields=null!=a?a:["*"],p.groupByFieldsForStatistics=null!==(t=null==n?void 0:n.groupByFieldsForStatistics)&&void 0!==t?t:p.groupByFieldsForStatistics,p.orderByFields=null!==(i=null==n?void 0:n.orderByFields)&&void 0!==i?i:[],p.returnDistinctValues=null!=c&&c,void 0!==(null==n?void 0:n.outStatistics)){const[e]=yield he([de.StatisticDefinition]);p.outStatistics=n.outStatistics.map(t=>e.fromJSON(t))}if(void 0!==(null==n?void 0:n.extent)){const[e]=yield he([de.Extent]);p.geometry=new e(n.extent)}return void 0!==l&&(p.maxRecordCountFactor=l),p.cacheHint=!1!==h,void 0!==r&&void 0!==o&&(p.start=o,p.num=null!=s?s:Wn(f)),p}))}function Gn(e){let t;return!0===(null==e?void 0:e.sourceJSON.advancedQueryCapabilities.supportsMaxRecordCountFactor)&&(t=Er.maxRecordCountFactor),t}const Un={},$n={Default:"defaultError",LayerLoadFailure:"layerLoadFailure",QueryFeaturesError:"queryFeaturesError",ChartDisposed:"ChartDisposeError"};class qn extends Error{constructor(e,t,i){super(t),this.name=e,this.details=i}}function Yn(e=Dr().locale){return n(this,void 0,void 0,(function*(){let t=yield i.e(158).then(i.bind(null,162));switch(e){case Ir.Arabic:t=yield i.e(152).then(i.bind(null,163));break;case Ir.Bosnian:t=yield i.e(153).then(i.bind(null,164));break;case Ir.Catalan:t=yield i.e(154).then(i.bind(null,165));break;case Ir.Czech:t=yield i.e(155).then(i.bind(null,166));break;case Ir.Danish:t=yield i.e(156).then(i.bind(null,167));break;case Ir.German:t=yield i.e(157).then(i.bind(null,168));break;case Ir.EnglishUSA:t=yield i.e(159).then(i.bind(null,169));break;case Ir.Spanish:t=yield i.e(160).then(i.bind(null,170));break;case Ir.Estonian:t=yield i.e(161).then(i.bind(null,171));break;case Ir.Finnish:t=yield i.e(162).then(i.bind(null,172));break;case Ir.French:t=yield i.e(163).then(i.bind(null,173));break;case Ir.Hebrew:t=yield i.e(164).then(i.bind(null,174));break;case Ir.Croatian:t=yield i.e(165).then(i.bind(null,175));break;case Ir.Hungarian:t=yield i.e(166).then(i.bind(null,176));break;case Ir.Indonesian:t=yield i.e(167).then(i.bind(null,177));break;case Ir.Italian:t=yield i.e(168).then(i.bind(null,178));break;case Ir.Japanese:t=yield i.e(169).then(i.bind(null,179));break;case Ir.Korean:t=yield i.e(170).then(i.bind(null,180));break;case Ir.Lithuanian:t=yield i.e(171).then(i.bind(null,181));break;case Ir.Latvian:t=yield i.e(172).then(i.bind(null,182));break;case Ir.NorwegianBokml:t=yield i.e(173).then(i.bind(null,183));break;case Ir.Dutch:t=yield i.e(174).then(i.bind(null,184));break;case Ir.Polish:t=yield i.e(175).then(i.bind(null,185));break;case Ir.PortugueseBrazil:t=yield i.e(176).then(i.bind(null,186));break;case Ir.PortuguesePortugal:t=yield i.e(177).then(i.bind(null,187));break;case Ir.Romanian:t=yield i.e(178).then(i.bind(null,188));break;case Ir.Russian:t=yield i.e(179).then(i.bind(null,189));break;case Ir.Slovenian:t=yield i.e(180).then(i.bind(null,190));break;case Ir.Swedish:t=yield i.e(181).then(i.bind(null,191));break;case Ir.Thai:t=yield i.e(182).then(i.bind(null,192));break;case Ir.Turkish:t=yield i.e(183).then(i.bind(null,193));break;case Ir.Ukrainian:t=yield i.e(184).then(i.bind(null,194));break;case Ir.Vietnamese:t=yield i.e(185).then(i.bind(null,195));break;case Ir.ChineseChina:t=yield i.e(186).then(i.bind(null,196));break;case Ir.ChineseHongKong:t=yield i.e(187).then(i.bind(null,197));break;case Ir.ChineseTaiwan:t=yield i.e(188).then(i.bind(null,198))}return t}))}function Kn(e){return n(this,void 0,void 0,(function*(){const{queryObject:t,statsList:i,filter:r,extent:n,returnDistinctValues:a}=e,o=new Map;if(void 0!==t&&void 0!==i&&i.length>0){const e=[];i.forEach(t=>{const{statisticType:i,onStatisticField:r,outStatisticFieldName:n}=t;e.push({statisticType:i,onStatisticField:r,outStatisticFieldName:n})});const s={where:r,extent:n,outStatistics:e},l=yield Hn({queryObject:t,chartQuery:s,returnDistinctValues:a});let u;try{u=yield t.queryFeatures(l,{signal:Un.abortSignal})}catch(e){const[t]=yield he([de.PromiseUtils]);if(!1===t.isAbortError(e)){const t=yield Yn();throw new qn($n.QueryFeaturesError,t.queryError,e)}}const c=null==u?void 0:u.features[0].attributes;i.forEach(e=>{const{outStatisticFieldName:t}=e;t in c&&o.set(t,c[t])})}return o}))}function Xn(e){return n(this,void 0,void 0,(function*(){const{queryObject:t,chartQuery:i,outFields:r,start:n,num:a,returnDistinctValues:o,returnUniqueIdsOnly:s}=e;let l=[];if(void 0!==t){const e=Gn(yield Tn(t)),u=yield Hn({queryObject:t,chartQuery:i,outFields:r,start:n,num:a,maxRecordCountFactor:e,returnDistinctValues:o});try{if(!0===s)l=yield t.queryObjectIds(u);else{l=(yield t.queryFeatures(u,{signal:Un.abortSignal})).features}}catch(e){const[t]=yield he([de.PromiseUtils]);if(!1===t.isAbortError(e)){const t=yield Yn();throw new qn($n.QueryFeaturesError,t.queryError,e)}}}return l}))}function Jn(e){return n(this,void 0,void 0,(function*(){let t=0;const i=[],{featureCount:r,maxRecords:n}=e;let{start:a}=e,o=[];for(;t<Er.maxParallelRequests&&a<r;){const r=Object.assign(Object.assign({},e),{start:a,num:n});i.push(Xn(r)),a+=n,t+=1}return o=(yield Promise.all(i)).reduce((e,t)=>[...e,...t],[]),o}))}function Qn(e){var t;return n(this,void 0,void 0,(function*(){const{queryObject:i,chartQuery:r,outFields:n,filter:a,returnDistinctValues:o,returnUniqueIdsOnly:s,featureCount:l,num:u,start:c,noBatch:d}=e,p=yield Hn({queryObject:i,chartQuery:r,outFields:n,filter:a,returnDistinctValues:o}),f=Object.assign(Object.assign({},r),{where:p.where});let m=[];if(void 0!==i){const e=yield Tn(i),p=Fn(yield On(i)),y=null!==(t=null!=l?l:(yield Kn({queryObject:i,filter:zn([a,null==r?void 0:r.where]),statsList:[{statisticType:h,onStatisticField:p,outStatisticFieldName:h}]})).get(h))&&void 0!==t?t:NaN,g=Wn(e);if(!0!==d&&y>g&&!0===e.capabilities.query.supportsPagination){let e=0,t=0;const r=Math.ceil(y/g),a=Math.ceil(r/Er.maxParallelRequests),l=[];for(;t<a;){e=t*Er.maxParallelRequests*g;const r=Jn(Object.assign(Object.assign({chartQuery:f,outFields:n},{queryObject:i,start:e,maxRecords:g,featureCount:y,returnDistinctValues:o}),{returnUniqueIdsOnly:s}));l.push(r),t+=1}m=(yield Promise.all(l)).flat()}else y>0&&(m=yield Xn({queryObject:i,chartQuery:f,outFields:n,returnDistinctValues:o,returnUniqueIdsOnly:s,num:u,start:c}))}return m}))}function Zn(e){return n(this,void 0,void 0,(function*(){const{queryObject:t,extent:i,filter:r,uniqueFeature:n}=e,a={where:r,extent:i};return yield Qn({queryObject:t,chartQuery:a,returnDistinctValues:!0,returnUniqueIdsOnly:!0,featureCount:!0===n?1:void 0})}))}function ea(){void 0!==Un.queryAbortController&&Un.queryAbortController.abort(),Un.queryAbortController=new AbortController,Un.abortSignal=Un.queryAbortController.signal}function ta(e){return n(this,void 0,void 0,(function*(){const{queryObject:t,extent:i,filter:r,field:n}=e,a={where:r,extent:i};return(yield Qn({queryObject:t,chartQuery:a,outFields:[n],returnDistinctValues:!0})).map(e=>e.attributes[n])}))}const ia={$schema:"http://json-schema.org/draft-07/schema#",definitions:{RESTFieldType:{enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"RESTFieldType"},RESTStatisticType:{enum:["avg","count","max","min","no_aggregation","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"RESTStatisticType"},RESTSimpleLineSymbolStyle:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"RESTSimpleLineSymbolStyle"},RESTSimpleMarkerSymbolStyle:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"RESTSimpleMarkerSymbolStyle"},RESTSimpleFillSymbolStyle:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"RESTSimpleFillSymbolStyle"},RESTHorizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"RESTHorizontalAlignment"},RESTVerticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"RESTVerticalAlignment"},RESTSymbolType:{enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string",title:"RESTSymbolType"},RESTFontStyle:{enum:["italic","normal","oblique"],type:"string",title:"RESTFontStyle"},RESTFontWeight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"RESTFontWeight"},RESTFontDecoration:{enum:["line-through","none","underline"],type:"string",title:"RESTFontDecoration"},RESTRendererType:{enum:["class-breaks","dictionary","dot-density","heatmap","simple","unique-value"],type:"string",title:"RESTRendererType"},WebChartTypes:{enum:["barSeries","boxPlotSeries","category","chart","chartAxis","chartGuide","chartLegend","chartOverlay","chartOverlays","chartText","date","gaugeSeries","histogramSeries","lineSeries","number","pieSeries","probabilityPlotSeries","profileGraphSeries","scatterSeries"],type:"string",title:"WebChartTypes"},WebChartDataTransformations:{title:"WebChartDataTransformations",enum:["logarithmic","none","squareRoot"],type:"string"},WebChartColoringPatterns:{title:"WebChartColoringPatterns",enum:["colorMatch","singleColor"],type:"string"},WebChartLegendPositions:{title:"WebChartLegendPositions",enum:["bottom","left","right","top"],type:"string"},WebChartBarSeriesKinds:{title:"WebChartBarSeriesKinds",enum:["sideBySide","stacked","stacked100"],type:"string"},WebChartProbabilityPlotKinds:{title:"WebChartProbabilityPlotKinds",enum:["normalQQPlot","qqPlot"],type:"string"},WebChartSortOrderKinds:{enum:["ASC","DESC"],type:"string",title:"WebChartSortOrderKinds"},WebChartDataSourceTypes:{enum:["featureLayer","inline"],type:"string",title:"WebChartDataSourceTypes"},RGBObject:{description:"JSON representation of the color object",title:"RGBObject",type:"object",properties:{r:{type:"number",title:"r"},g:{type:"number",title:"g"},b:{type:"number",title:"b"},a:{default:1,type:"number",title:"a"}},additionalProperties:!1,required:["b","g","r"]},RGBArray:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]},title:"RGBArray"},WebChartConfigFields:{description:"Is an object which dictate which data-item field should be used for defining a property of the rendered element (line, point, bars, etc). Used in inline data source mode only.",title:"WebChartConfigFields",type:"object",properties:{fillColor:{type:"string",title:"fillColor"},fillOpacity:{type:"string",title:"fillOpacity"},fillStyle:{type:"string",title:"fillStyle"},markerSize:{type:"string",title:"markerSize"},outlineColor:{type:"string",title:"outlineColor"},outlineOpacity:{type:"string",title:"outlineOpacity"},outlineWidth:{type:"string",title:"outlineWidth"},outlineStyle:{type:"string",title:"outlineStyle"}},additionalProperties:!1},WebChartDataItemColor:{anyOf:[{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]}},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]}},{type:"string"}],title:"WebChartDataItemColor"},WebChartDataItemValue:{anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]}},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]}},{type:["null","string","number","boolean"]}],title:"WebChartDataItemValue"},WebChartDataItem:{description:"JSON representation of a typical data item",title:"WebChartDataItem",type:"object",additionalProperties:{anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]}},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"}]}},{type:["null","string","number","boolean"]}]}},WebChartScatterPlotDataItem:{description:"JSON representation of the processed data for a Scatter plot",title:"WebChartScatterPlotDataItem",type:"object",properties:{r2:{type:"number",title:"r2"},trendLinePoints:{type:"array",items:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartDataItem"}],minItems:2,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartDataItem"}]},title:"trendLinePoints"},data:{type:"array",items:{$ref:"#/definitions/WebChartDataItem"},title:"data"}},additionalProperties:!1,required:["data","r2","trendLinePoints"]},WebChartBin:{description:"JSON representation of a Histogram bin",title:"WebChartBin",type:"object",properties:{count:{type:"number",title:"count"},minValue:{description:"Min value in the bin",type:"number",title:"minValue"},maxValue:{description:"Max value in the bin",type:"number",title:"maxValue"},symbol:{description:"JSON representation of a typical data item",$ref:"#/definitions/WebChartDataItem",title:"symbol"}},additionalProperties:!1,required:["count","maxValue","minValue"]},WebChartHistogramDataItem:{description:"JSON representation of the processed data for a Histogram",title:"WebChartHistogramDataItem",type:"object",properties:{mean:{type:"number",title:"mean"},median:{type:"number",title:"median"},stddev:{type:"number",title:"stddev"},max:{type:"number",title:"max"},min:{type:"number",title:"min"},sum:{description:"Sum of the values of all the points",type:"number",title:"sum"},count:{description:"Number of all the points/features in un-binned data (including only non-null entries)",type:"number",title:"count"},nulls:{description:"Number of null entries in the pool of points",type:"number",title:"nulls"},bins:{type:"array",items:{$ref:"#/definitions/WebChartBin"},title:"bins"}},additionalProperties:!1,required:["bins","max","mean","median","min","stddev"]},WebChartDataTypes:{anyOf:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartScatterPlotDataItem"},{$ref:"#/definitions/WebChartHistogramDataItem"},{type:"array",items:{$ref:"#/definitions/WebChartDataItem"}},{type:"number"}],title:"WebChartDataTypes"},WebChartInlineDataSource:{description:"JSON representation of the inline data source",title:"WebChartInlineDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source. It is **inline** for inline data (arrays of POJOs).",type:"string",enum:["inline"],title:"type"},processed:{description:"Indicates whether the data is already processed and be used right away. If it is `false`, then the data needs to go through some transformation before being assigned to chart/series.",type:"boolean",title:"processed"},configFields:{description:"An object that is used to pass custom configuration like selecting the fill color based on a dataSource field.",$ref:"#/definitions/WebChartConfigFields",title:"configFields"},data:{description:"Structure containing all the data for the chart. It can be pre-processed (see `WebChartDataTypes`) or not (WebChartDataItem[])",anyOf:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartScatterPlotDataItem"},{$ref:"#/definitions/WebChartHistogramDataItem"},{type:"array",items:{$ref:"#/definitions/WebChartDataItem"}},{type:"number"}],title:"data"}},additionalProperties:!1,required:["data","processed","type"]},WebChartFeatureLayerDataSource:{description:"JSON representation of the feature layer data source",title:"WebChartFeatureLayerDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source. It is **featureLayer** for [Feature Layer](https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-FeatureLayer.html) data.",type:"string",enum:["featureLayer"],title:"type"},featureLayer:{$ref:"#/definitions/IFeatureLayer",description:"Carries the properties necessary to build a JSAPI Feature Layer in order to fetch the chart data.",title:"featureLayer"},filter:{description:"A string representing **any legal SQL where clause** which helps filter a sub-set of the original data which is to be adopted for all types of data visualizations. This `where` clause is **AND**-ed with series' level `where` clause during the chart's data processing routines. Whenever a data query is made by the chart, this `where` clause is respected.",type:"string",title:"filter"}},additionalProperties:!1,required:["featureLayer","type"]},WebChartDataSources:{anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartFeatureLayerDataSource"}],title:"WebChartDataSources"},WebChartText:{description:"Stores info on how some text is rendered on the chart and whether it is visible or not.",title:"WebChartText",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartText object. For ChartText object, it is chartText.",type:"string",enum:["chartText"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},content:{$ref:"#/definitions/ITextSymbol",description:"Contains the styling info and text content. Details on **esriTS** are [here](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm).",title:"content"}},additionalProperties:!1,required:["content","type"]},WebChartLegend:{description:"JSON representation of the Chart's legend box",title:"WebChartLegend",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartLegend object. For ChartLegend object, it is **chartLegend**.",type:"string",enum:["chartLegend"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},title:{description:"Contains styling info on how the title of the legend box should be rendered",$ref:"#/definitions/WebChartText",title:"title"},body:{$ref:"#/definitions/ITextSymbol",description:"Contains styling info on how legend body (excluding the **title**) should be rendered",title:"body"},position:{$ref:"#/definitions/WebChartLegendPositions",description:'Positions the legends at `"right"`, `"left"`, `"top"`, or `"bottom"` of the chart.',title:"position"},maxHeight:{default:50,type:["null","number"],title:"maxHeight"}},additionalProperties:!1,required:["body","position","type"]},WebChartOverlay:{description:"JSON represewntation of the chart's overlays like trendling scatter plot, and median in histogram",title:"WebChartOverlay",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartOverlay object. For ChartOverlay object, it is chartOverlay.",type:"string",enum:["chartOverlay"],title:"type"},created:{description:"Determines whether the overlay is created under the hood. It may or may not be visible.",default:!1,type:"boolean",title:"created"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},symbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the overlay should be rendered",title:"symbol"}},additionalProperties:!1,required:["symbol","type"]},NumberFormatOptions:{description:"Defines how the numerical(value) axis data should be formatted.",title:"NumberFormatOptions",type:"object",properties:{type:{description:"Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is number. It can help us to differentiate numerical (value) axis from other types of axes viz., date-time axis and category axis.",type:"string",enum:["number"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.NumberFormatOptions",description:"Represents the JS native [Intl.NumberFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat), which is based on [CLDR](http://cldr.unicode.org/translation/numbers-currency/number-patterns) specifications.",title:"intlOptions"}},additionalProperties:!1,required:["intlOptions","type"]},DateTimeFormatOptions:{description:"Defines how the DateTime axis data should be formatted.",title:"DateTimeFormatOptions",type:"object",properties:{type:{description:"Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is date. It can help us to differentiate date-time axis from other types of axes viz., numeric (value) axis and category axis.",type:"string",enum:["date"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.DateTimeFormatOptions",description:"Represent the JS native [Intl.DateTimeFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormatt), which is based on [CLDR](http://cldr.unicode.org/translation/date-time-1/date-time-patterns) specifications.",title:"intlOptions"}},additionalProperties:!1,required:["intlOptions","type"]},CategoryFormatOptions:{description:"Defines how the category axis data (Categories) should be formatted.",title:"CategoryFormatOptions",type:"object",properties:{type:{description:"It can help us to differentiate category axis from other types of axes, viz., date-time axis and numeric (value) axis.",type:"string",enum:["category"],title:"type"},characterLimit:{description:"Represents a positive integer which represents the limit on the number of characters to be displayed for all the category strings. The truncated string are appended with `...`. If property is not present or `null`, no truncation is done.",minimum:1,multipleOf:1,type:["null","number"],title:"characterLimit"}},additionalProperties:!1,required:["type"]},WebChartGuide:{description:"JSON representation of the chart's guide object. Can be used to represent both line and fill guides.",title:"WebChartGuide",type:"object",properties:{type:{description:"Represents a unique string identifier for the Guide object. For Guide class, it is **chartGuide**.",type:"string",enum:["chartGuide"],title:"type"},start:{description:"Determines the value where the guide should begin.",anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:["null","string","number"]}],title:"start"},end:{description:"Determines the value where the guide should end. If it is not specified, we get a line guide, otherwise we get a fill/rectangular guide.",anyOf:[{description:"Enables basic storage and retrieval of dates and times.",type:"string",format:"date-time"},{type:["null","string","number"]}],title:"end"},style:{description:"Determines how the guide should be rendered. Line guide requires [esriSLS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format, and fill guide requires [esriSFS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format.",anyOf:[{$ref:"#/definitions/ISimpleFillSymbol"},{$ref:"#/definitions/ISimpleLineSymbol"}],title:"style"},name:{description:"A unique string identifier which is used to refer to a particular guide. It is displayed in the Chart Authoring UI to differentiate between different guides.",type:"string",title:"name"},label:{description:"Defines a text label for the given guide. It is displayed on the chart next to the concerned guide and is styled using **esriTS** format.",$ref:"#/definitions/ITextSymbol",title:"label"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},above:{description:"Determines whether the guide should be rendered on top of (overlapping) the series or under the series.",default:!1,type:"boolean",title:"above"}},additionalProperties:!1,required:["name","start","style","type"]},WebChartAxis:{description:"JSON representation of the chart's axis object",title:"WebChartAxis",type:"object",properties:{type:{description:"Represents a unique string identifier for the ChartAxis object. For ChartAxis object, it is chartAxis.",type:"string",enum:["chartAxis"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},isLogarithmic:{description:"Specifies whether the axis has a logarithmic scale or not.",default:!1,type:"boolean",title:"isLogarithmic"},title:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the title of the axis should be rendered",title:"title"},valueFormat:{description:"Specifies how numerical/categorical/date-time values should be formatted.",anyOf:[{$ref:"#/definitions/NumberFormatOptions"},{$ref:"#/definitions/DateTimeFormatOptions"},{$ref:"#/definitions/CategoryFormatOptions"}],title:"valueFormat"},minimum:{description:"The minimum value which the axis should represent, when it is not defined or null, then the minimum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"minimum"},maximum:{description:"The maximum value which the axis should represent, when it is not defined or null, then the maximum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"maximum"},grid:{description:"Dictates how the grid lines associated with a particular axis should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"grid"},guides:{description:"Represent an array of guides that should be rendered onto the axis.",type:"array",items:{$ref:"#/definitions/WebChartGuide"},title:"guides"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the axis line should be rendered.",title:"lineSymbol"},labels:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the axis labels should be rendered.",title:"labels"}},additionalProperties:!1,required:["labels","lineSymbol","title","type","valueFormat"]},WebChartQuery:{description:"Chart query object inspired by [JSAPI Query](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html) class.",title:"WebChartQuery",type:"object",properties:{where:{description:"Acts as a filter on the base data for attribute-based filtering.",type:"string",title:"where"},groupByFieldsForStatistics:{description:"An array of fields which determine how the base data is grouped. Only one **groupBy** Field is supported, but ArcGIS JSAPI [supports multiple groupBy fields](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#groupByFieldsForStatistics). While splitting by multiple group-by fields is possible, it is not being done because of the number of series it will give rise to (equal to the length of the Cartesian product set) possibly making the visualization hard to interpret.",maxItems:1,type:"array",items:{type:"string"},title:"groupByFieldsForStatistics"},outStatistics:{description:"Represents an array of statitics definitions which dictate how a particular field should be aggregated. Refer to [JSAPI Statistics Definition class](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-StatisticDefinition.html) for more info.",type:"array",items:{$ref:"#/definitions/IStatisticDefinition"},title:"outStatistics"},orderByFields:{description:"Represents the sorting order of the output result. More info present in [JSAPI docs](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#orderByFields). The format of any entry in this array is `field_name sorting_order`. When `sorting_order` is not defined, it is assumed to be ascending",examples:["STATE_NAME DESC","CITY_NAME ASC","CITY_NAME"],type:"array",items:{type:"string"},title:"orderByFields"},extent:{description:"Acts as a filter on the base data for spatial filtering. Only the features matching the given extent will be displayed on the chart. It is a [JSAPI Extent object](https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Extent.html)",$ref:"#/definitions/IExtent",title:"extent"}},additionalProperties:!1},WebChartSeries:{description:"JSON representation of the chart's series object. All other series extends this interface.",type:"object",properties:{type:{type:"string",title:"type"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","name","type","x"],title:"WebChartSeries"},WebChartBarChartSeries:{description:"[Bar chart](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/bar-chart.htm) shows the categorical distribution of String/DateTime data.",title:"WebChartBarChartSeries",type:"object",properties:{type:{description:"Represents a unique string identifier for the BarChartSeries object. For BarSeries object, it is **barSeries**.",type:"string",enum:["barSeries"],title:"type"},y:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},multipleBarType:{$ref:"#/definitions/WebChartBarSeriesKinds",description:'Specifies how the bars/columns should be placed when multiple bar series are rendered in the same chart, say when "split by" operation is executed on any field or when multiple attributes/fields corresponding to the same set of classes are to be visualized.',title:"multipleBarType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},dataLabels:{$ref:"#/definitions/WebChartText",description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",title:"dataLabels"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"}},additionalProperties:!1,required:["colorType","dataLabels","fillSymbol","id","multipleBarType","name","type","x","y"]},HistogramOverlays:{description:"Object containing Histogram overlays",title:"HistogramOverlays",type:"object",properties:{type:{type:"string",enum:["chartOverlays"],title:"type"},mean:{$ref:"#/definitions/WebChartOverlay",title:"mean"},median:{$ref:"#/definitions/WebChartOverlay",title:"median"},standardDeviation:{$ref:"#/definitions/WebChartOverlay",title:"standardDeviation"},comparisonDistribution:{$ref:"#/definitions/WebChartOverlay",title:"comparisonDistribution"}},additionalProperties:!1,required:["comparisonDistribution","mean","median","standardDeviation","type"]},WebChartHistogramSeries:{description:"[Histogram](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/histogram.htm) shows the numerical(frequency) distribution of a numerical field.",title:"WebChartHistogramSeries",type:"object",properties:{type:{description:"Represents a unique string identifier for the HistogramSeries object. For BarSeries object, it is **histogramSeries**.",type:"string",enum:["histogramSeries"],title:"type"},binCount:{description:"Bin count must be a positive integer.",minimum:1,multipleOf:1,default:32,type:["null","number"],title:"binCount"},overlays:{$ref:"#/definitions/HistogramOverlays",description:"Specifies the chart overlays. Histogram supports 4 overlays: **mean**, **median**, **standardDeviation** and **comparisonDistribution**.",title:"overlays"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",description:"Specifies how the data should be transformed (e.g. square root, log, etc.) before binning.",title:"dataTransformationType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","dataTransformationType","fillSymbol","id","name","overlays","type","x"]},ScatterPlotOverlays:{description:"Object containing Scatter Plot overlays",title:"ScatterPlotOverlays",type:"object",properties:{type:{type:"string",enum:["chartOverlays"],title:"type"},trendLine:{$ref:"#/definitions/WebChartOverlay",title:"trendLine"}},additionalProperties:!1,required:["trendLine","type"]},WebChartScatterPlotSeries:{description:"[Scatter plot](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/scatter-plot.htm) shows the relationship between two numerical fields.",title:"WebChartScatterPlotSeries",type:"object",properties:{type:{description:"Represents a unique string identifier for the ScatterSeries object. For ScatterSeries object, it is **scatterSeries**.",type:"string",enum:["scatterSeries"],title:"type"},y:{description:"Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",description:'Specifies how each data point in the scatter plot should be rendered. The type is `"esriSMS"` and it is adopted from the [REST API Types](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm#GUID-C8D40B32-5F4B-45EB-8048-6D5A8763E13B).',title:"markerSymbol"},overlays:{$ref:"#/definitions/ScatterPlotOverlays",description:"Specifies all the chart overlays. The scatter plot implements only 1 overlay, **trendLine**.",title:"overlays"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","markerSymbol","name","overlays","type","x","y"]},WebChartPieChartSeries:{description:"JSON representation of the Pie Chart series",title:"WebChartPieChartSeries",type:"object",properties:{type:{type:"string",enum:["pieSeries"],title:"type"},y:{type:"string",title:"y"},innerRadius:{default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:0,type:["null","number"],title:"startAngle"},endAngle:{default:360,type:["null","number"],title:"endAngle"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the slices should be rendered",title:"fillSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","fillSymbol","id","name","type","x","y"]},WebChartGaugeSeries:{description:"JSON representation of the Gauge series",title:"WebChartGaugeSeries",type:"object",properties:{type:{type:"string",enum:["gaugeSeries"],title:"type"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","name","type","x"]},WebChartLineChartSeries:{description:"JSON representation of the Line Chart series",title:"WebChartLineChartSeries",type:"object",properties:{type:{type:"string",enum:["lineSeries"],title:"type"},y:{anyOf:[{type:"array",items:{type:"string"}},{type:"string"}],title:"y"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"lineSymbol"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","id","lineSymbol","markerSymbol","name","type","x","y"]},WebChartBoxPlotSeries:{description:"JSON representation of the Box plot series",title:"WebChartBoxPlotSeries",type:"object",properties:{type:{type:"string",enum:["boxPlotSeries"],title:"type"},y:{anyOf:[{type:"array",items:{type:"string"}},{type:"string"}],title:"y"},showOutliers:{type:"boolean",title:"showOutliers"},showInnerPoints:{type:"boolean",title:"showInnerPoints"},showMean:{type:"boolean",title:"showMean"},standardizeValues:{type:"boolean",title:"standardizeValues"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"},rotated:{type:"boolean",title:"rotated"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","fillSymbol","id","name","showInnerPoints","showMean","showOutliers","standardizeValues","type","x","y"]},WebChartProbabilityPlotSeries:{description:"JSON representation of the Probability plot series",title:"WebChartProbabilityPlotSeries",type:"object",properties:{type:{type:"string",enum:["probabilityPlotSeries"],title:"type"},y:{type:"string",title:"y"},probabilityPlotType:{$ref:"#/definitions/WebChartProbabilityPlotKinds",title:"probabilityPlotType"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",title:"dataTransformationType"},showReferenceLine:{type:"boolean",title:"showReferenceLine"},standardizeValues:{type:"boolean",title:"standardizeValues"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},referenceLineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"referenceLineSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","dataTransformationType","id","markerSymbol","name","probabilityPlotType","referenceLineSymbol","showReferenceLine","standardizeValues","type","x","y"]},WebChartProfileGraphSeries:{description:"JSON representation of the Profile graph series",title:"WebChartProfileGraphSeries",type:"object",properties:{type:{type:"string",enum:["profileGraphSeries"],title:"type"},y:{type:"string",title:"y"},horizontalUnits:{type:"string",title:"horizontalUnits"},verticalUnits:{type:"string",title:"verticalUnits"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"lineSymbol"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},id:{description:"A unique string indetifies used to differentiate between multiple series.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Specifies a query object associated with a particular series contaning info on what data to fetch for that series.",$ref:"#/definitions/WebChartQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the feature layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies whether and how the data label should be shown over the individual scatter points or bar/histogram columns, line vertices, etc. It is **not** related to hovering. If enabled, it is always present over the data point/column/line/etc.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},additionalProperties:!1,required:["colorType","horizontalUnits","id","lineSymbol","markerSymbol","name","type","verticalUnits","x","y"]},WebMapWebChart:{description:"Gives a JSON representation of the Chart object without the dataSource Object. Used in the Webmap Viewer workflows.",type:"object",properties:{version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"}},additionalProperties:!1,required:["series","type","version"],title:"WebMapWebChart"},WebChart:{description:"Gives a JSON representation of the Chart object. Used by ArcGIS Charts packages.",type:"object",properties:{dataSource:{description:"Property representing the datasource. Can be Feature layer or vanilla POJOs.",anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartFeatureLayerDataSource"}],title:"dataSource"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"}},additionalProperties:!1,required:["dataSource","series","type","version"],title:"WebChart"},WebMapWebGaugeChart:{description:"JSON representation of Gauge",type:"object",properties:{innerRadius:{default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:-180,type:["null","number"],title:"startAngle"},endAngle:{default:180,type:["null","number"],title:"endAngle"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"}},additionalProperties:!1,required:["series","type","version"],title:"WebMapWebGaugeChart"},WebGaugeChart:{type:"object",properties:{innerRadius:{default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:-180,type:["null","number"],title:"startAngle"},endAngle:{default:180,type:["null","number"],title:"endAngle"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["1.0.0"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},legend:{description:"Specifies the Legend information for the chart.",$ref:"#/definitions/WebChartLegend",title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,additionalItems:{anyOf:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}]},title:"axes"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},title:"series"},dataSource:{description:"Property representing the datasource. Can be Feature layer or vanilla POJOs.",anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartFeatureLayerDataSource"}],title:"dataSource"}},additionalProperties:!1,required:["dataSource","series","type","version"],title:"WebGaugeChart"},CalculatedMinMaxBoundsPayload:{type:"object",properties:{isXAxis:{type:"boolean",title:"isXAxis"},minimum:{type:["null","number"],title:"minimum"},maximum:{type:["null","number"],title:"maximum"}},additionalProperties:!1,required:["isXAxis"],title:"CalculatedMinMaxBoundsPayload"},ChartDeletePayload:{type:"object",properties:{chartId:{type:"string",title:"chartId"}},additionalProperties:!1,required:["chartId"],title:"ChartDeletePayload"},IFeatureLayer:{description:"Feature layers can be created by referencing a layer from either a map service or a feature service or by specifying a feature collection object.\nUse a map service if you just want to retrieve geometries and attributes from the server and symbolize them yourself. Use a feature service if\nyou want to take advantage of symbols from the service's source map document. Also, use a feature service if you plan on doing editing with the\nfeature layer. Feature layers honor any feature templates configured in the source map document. Feature collection objects are used to create\na feature layer based on the supplied definition.",title:"IFeatureLayer",type:"object",properties:{capabilities:{description:"A comma-separated string listing which editing operations are allowed on an editable feature service.",type:"string",title:"capabilities"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},disablePopup:{description:"Indicates whether to allow a client to ignore popups defined by the service item.",enum:[!0],type:"boolean",title:"disablePopup"},featureCollection:{description:"A featureCollection object defining a layer of features whose geometry and attributes are either stored directly within the web map or with an item. Feature Collections can be created from CSVs, shapefiles, GPX, or map notes.",title:"featureCollection"},featureCollectionType:{description:"Indicates the type of features in the feature collection. If featureCollectionType is missing, it means the feature collection is a regular single-layer or multi-layer feature collection.",enum:["markup","notes","route"],type:"string",title:"featureCollectionType"},layerDefinition:{description:"A layerDefinition object defining the attribute schema and drawing information for the layer.",$ref:"#/definitions/ILayerDefinition",title:"layerDefinition"},layerType:{description:"String indicating the layer type.",type:"string",enum:["ArcGISFeatureLayer"],title:"layerType"},mode:{description:"0 is snapshot mode. 1 is on-demand mode. 2 is selection-only mode. Used with ArcGIS feature services and individual layers in ArcGIS map services.",enum:[0,1,2],type:"number",title:"mode"},popupInfo:{description:"A popupInfo object defining the content of popup windows when you click or query a feature.",$ref:"#/definitions/IPopupInfo",title:"popupInfo"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled.",type:"number",title:"refreshInterval"},showLabels:{description:"Labels will display if this property is set to true and the layer also has a labelingInfo property associated with it. This property can get stored in the web map config and in the item/data.",enum:[!0],type:"boolean",title:"showLabels"},visibleLayers:{description:"An array of sublayer ids that should appear visible. Used with feature layers that are based on feature collections.",type:"array",items:{type:"number"},title:"visibleLayers"},id:{description:"A unique identifying string for the layer.",title:"id"},name:{description:"Layer name",type:"string",title:"name"},itemId:{description:"Optional string containing the item ID of the service if it's registered on ArcGIS Online or your organization's portal.",type:"string",title:"itemId"},maxScale:{description:"Integer property used to determine the maximum scale at which the layer is displayed.",type:"number",title:"maxScale"},minScale:{description:"Integer property used to determine the minimum scale at which the layer is displayed.",type:"number",title:"minScale"},opacity:{description:"The degree of transparency applied to the layer on the client side, where 0 is full transparency and 1 is no transparency.",type:"number",title:"opacity"},showLegend:{description:"Boolean property indicating whether to display in the legend.",type:"boolean",title:"showLegend"},title:{description:"A user-friendly string title for the layer that can be used in a table of contents.",type:"string",title:"title"},type:{description:"Deprecated, use layerType instead.",type:"string",title:"type"},visibility:{description:"Boolean property determining whether the layer is initially visible in the web map.",type:"boolean",title:"visibility"},url:{description:"The URL to the layer. Not applicable to all layer types.",type:"string",title:"url"},timeAnimation:{description:"This property is applicable to layers that support time. If 'true', timeAnimation is enabled.",type:"boolean",title:"timeAnimation"}},additionalProperties:!1,required:["id","layerType"]},IDefinitionEditor:{description:"The definitionEditor stores interactive filters at the same level as layerDefinition.",title:"IDefinitionEditor",type:"object",properties:{inputs:{description:"An array of input objects.",type:"array",items:{$ref:"#/definitions/IDefinitionInput"},title:"inputs"},parameterizedExpression:{description:"A string value representing the where clause for the interactive filter.",type:"string",title:"parameterizedExpression"}},additionalProperties:!1},IDefinitionInput:{title:"IDefinitionInput",type:"object",properties:{hint:{description:"A string value representing a hint for the input.",type:"string",title:"hint"},parameters:{description:"An array of parameter objects.",type:"array",items:{$ref:"#/definitions/IDefinitionParameter"},title:"parameters"},prompt:{description:"A string value representing the prompt for the input.",type:"string",title:"prompt"}},additionalProperties:!1},IDefinitionParameter:{title:"IDefinitionParameter",type:"object",properties:{defaultValue:{description:"The default value that is automatically given if nothing is provided.",type:["string","number"],title:"defaultValue"},fieldName:{description:"A string value representing the name of the field to query.",type:"string",title:"fieldName"},parameterId:{description:"Number given to uniquely identify the specified parameter.",title:"parameterId"},type:{description:"The field type for the specified field parameter.",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"type"},utcValue:{description:"An integer value representing exact UNIX time used when defaultValue is a date string.",type:"number",title:"utcValue"}},additionalProperties:!1},ILayerDefinition:{description:'`ILayerDefinition` can also be imported from the following packages:\n\n```js\nimport { ILayerDefinition } from "@esri/arcgis-rest-service-admin";\nimport { ILayerDefinition } from "@esri/arcgis-rest-feature-layer";\n```',title:"ILayerDefinition",type:"object",properties:{allowGeometryUpdates:{description:"Boolean value indicating whether the geometry of the features in the layer can be edited.",type:"boolean",title:"allowGeometryUpdates"},capabilities:{description:"A comma separated list of supported capabilities, e.g. Query,Editing.",type:"string",title:"capabilities"},copyrightText:{description:"String value for the copyright text information for the layer.",type:"string",title:"copyrightText"},currentVersion:{description:"Numeric value indicating the server version of the layer.",type:"number",title:"currentVersion"},defaultVisibility:{description:"Boolean value indicating whether the layer's visibility is turned on.",type:"boolean",title:"defaultVisibility"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},definitionExpression:{description:"SQL-based definition expression string that narrows the data to be displayed in the layer.",type:"string",title:"definitionExpression"},description:{description:"String value of the layer as defined in the map service.",type:"string",title:"description"},displayField:{description:"A string value that summarizes the feature.",type:"string",title:"displayField"},drawingInfo:{description:"Contains drawing, labeling, and transparency information.",title:"drawingInfo"},extent:{description:"An object defining the rectangular area.",anyOf:[{$ref:"#/definitions/IExtent"},{type:"null"}],title:"extent"},editingInfo:{description:"An object defining the editing info (last edit date).",$ref:"#/definitions/IEditingInfo",title:"editingInfo"},featureReduction:{description:"Feature reductions declutter the screen by hiding features that would otherwise intersect with other features on screen.",title:"featureReduction"},fields:{description:"An array of field objects containing information about the attribute fields for the feature collection or layer.",type:"array",items:{$ref:"#/definitions/IField"},title:"fields"},geometryType:{description:"A string defining the type of geometry. Possible geometry types are: esriGeometryPoint, esriGeometryMultipoint, esriGeometryPolyline, esriGeometryPolygon, and esriGeometryEnvelope.",enum:["esriGeometryEnvelope","esriGeometryMultipoint","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"],type:"string",title:"geometryType"},globalIdField:{description:"The unique identifier for a feature or table row within a geodatabase.",type:"string",title:"globalIdField"},hasAttachments:{description:"Indicates whether attachments should be loaded for the layer.",type:"boolean",title:"hasAttachments"},hasStaticData:{description:"Boolean value indicating whether data changes. True if it does not.",type:"boolean",title:"hasStaticData"},htmlPopupType:{description:"String value indicating the HTML popup type.",enum:["esriServerHTMLPopupTypeAsHTMLText","esriServerHTMLPopupTypeAsURL","esriServerHTMLPopupTypeNone"],type:"string",title:"htmlPopupType"},id:{description:"The identifier assigned to the layer.",type:"number",title:"id"},isDataVersioned:{description:"Boolean value indicating whether the data is versioned.",type:"boolean",title:"isDataVersioned"},maxRecordCount:{description:"Numeric value indicating tbe maximum number of records that will be returned at once for a query.",type:"number",title:"maxRecordCount"},maxScale:{description:"Represents the maximum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"maxScale"},minScale:{description:"Represents the minimum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"minScale"},name:{description:"Contains a unique name for the layer that can be displayed in a legend.",type:"string",title:"name"},objectIdField:{description:"Indicates the name of the object ID field in the dataset.",type:"string",title:"objectIdField"},overrideSymbols:{description:"Dictates whether a client can support having an end user modify symbols on individual features.",type:"boolean",title:"overrideSymbols"},rangeInfos:{description:"Indicates range information",title:"rangeInfos"},source:{description:"An object indicating the layerDefinition's layer source.",title:"source"},spatialReference:{description:"An object containing the WKID or WKT identifying the spatial reference of the layer's geometry.",$ref:"#/definitions/ISpatialReference",title:"spatialReference"},supportedQueryFormats:{description:"String value indicating the output formats that are supported in a query.",type:"string",title:"supportedQueryFormats"},supportsAdvancedQueries:{description:"Boolean value indicating whether the layer supports orderByFields in a query operation.",type:"boolean",title:"supportsAdvancedQueries"},supportsAttachmentsByUploadId:{description:"Boolean value indicating whether the layer supports uploading attachments with the Uploads operation. This can then be used in the Add Attachment and Update Attachment operations.",type:"boolean",title:"supportsAttachmentsByUploadId"},supportsCalculate:{description:"Boolean value indicating whether the layer supports the Calculate REST operation when updating features.",type:"boolean",title:"supportsCalculate"},supportsRollbackOnFailureParameter:{description:"Boolean value indicating whether the layer supports rolling back edits made on a feature layer if some of the edits fail.",type:"boolean",title:"supportsRollbackOnFailureParameter"},supportsStatistics:{description:"Boolean value indicating whether feature layer query operations support statistical functions.",type:"boolean",title:"supportsStatistics"},supportsValidateSql:{description:"Boolean value indicating whether the validateSQL operation is supported across a feature service layer.",type:"boolean",title:"supportsValidateSql"},templates:{description:"A property of the layer definition when there are no types defined; otherwise, templates are defined as properties of the types.",type:"array",items:{$ref:"#/definitions/ITemplate"},title:"templates"},timeInfo:{description:"The time info metadata of the layer. May be set for feature layers inside a feature collection item.",title:"timeInfo"},type:{description:"Indicates whether the layerDefinition applies to a Feature Layer or a Table.",enum:["Feature Layer","Table"],type:"string",title:"type"},typeIdField:{description:"Contains the name of the field holding the type ID for the features.",type:"string",title:"typeIdField"},types:{description:"Contains information about an attribute field.",title:"types"},visibilityField:{description:"String value indicating the attribute field that is used to control the visibility of a feature.\nIf applicable, when rendering a feature the client should use this field to control visibility.\nThe field's values are 0 = do not display, 1 = display.",type:"string",title:"visibilityField"},relationships:{type:"array",items:{},title:"relationships"},editFieldsInfo:{type:"object",properties:{creationDateField:{type:"string",title:"creationDateField"},creatorField:{type:"string",title:"creatorField"},editDateField:{type:"string",title:"editDateField"},editorField:{type:"string",title:"editorField"}},additionalProperties:!1,title:"editFieldsInfo"},parentLayerId:{type:"number",title:"parentLayerId"},ownershipBasedAccessControlForFeatures:{type:"boolean",title:"ownershipBasedAccessControlForFeatures"},syncCanReturnChanges:{type:"boolean",title:"syncCanReturnChanges"},archivingInfo:{type:"object",properties:{supportsQueryWithHistoricMoment:{type:"boolean",title:"supportsQueryWithHistoricMoment"},startArchivingMoment:{type:"number",title:"startArchivingMoment"}},additionalProperties:!1,title:"archivingInfo"},supportsValidateSQL:{type:"boolean",title:"supportsValidateSQL"},advancedQueryCapabilities:{type:"object",properties:{supportsPagination:{type:"boolean",title:"supportsPagination"},supportsTrueCurve:{type:"boolean",title:"supportsTrueCurve"},supportsQueryWithDistance:{type:"boolean",title:"supportsQueryWithDistance"},supportsReturningQueryExtent:{type:"boolean",title:"supportsReturningQueryExtent"},supportsStatistics:{type:"boolean",title:"supportsStatistics"},supportsOrderBy:{type:"boolean",title:"supportsOrderBy"},supportsDistinct:{type:"boolean",title:"supportsDistinct"},supportsSqlExpression:{type:"boolean",title:"supportsSqlExpression"},supportsPercentileStatistics:{type:"boolean",title:"supportsPercentileStatistics"}},additionalProperties:!1,title:"advancedQueryCapabilities"},allowTrueCurvesUpdates:{type:"boolean",title:"allowTrueCurvesUpdates"},onlyAllowTrueCurveUpdatesByTrueCurveClients:{type:"boolean",title:"onlyAllowTrueCurveUpdatesByTrueCurveClients"},supportsApplyEditsWithGlobalIds:{type:"boolean",title:"supportsApplyEditsWithGlobalIds"},subtypeField:{type:"string",title:"subtypeField"},indexes:{type:"array",items:{},title:"indexes"},dateFieldsTimeReference:{type:"object",properties:{timeZone:{type:"string",title:"timeZone"},respectsDaylightSaving:{type:"boolean",title:"respectsDaylightSaving"}},additionalProperties:!1,title:"dateFieldsTimeReference"},useStandardizedQueries:{type:"boolean",title:"useStandardizedQueries"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"}},additionalProperties:!1},IExtent:{description:'Extents are used to define rectangles and bounding boxes.\n\n`IExtent` can also be imported from the following packages:\n\n```js\nimport { IExtent } from "@esri/arcgis-rest-geocoding";\nimport { IExtent } from "@esri/arcgis-rest-service-admin";\nimport { IExtent } from "@esri/arcgis-rest-feature-layer";\n```',title:"IExtent",type:"object",properties:{xmin:{type:"number",title:"xmin"},ymin:{type:"number",title:"ymin"},zmin:{type:"number",title:"zmin"},xmax:{type:"number",title:"xmax"},ymax:{type:"number",title:"ymax"},zmax:{type:"number",title:"zmax"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},additionalProperties:!1,required:["xmax","xmin","ymax","ymin"]},ISpatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',title:"ISpatialReference",type:"object",properties:{wkid:{type:"number",title:"wkid"},latestWkid:{type:"number",title:"latestWkid"},vcsWkid:{type:"number",title:"vcsWkid"},latestVcsWkid:{type:"number",title:"latestVcsWkid"},wkt:{type:"string",title:"wkt"},latestWkt:{type:"string",title:"latestWkt"}},additionalProperties:!1},IEditingInfo:{title:"IEditingInfo",type:"object",properties:{lastEditDate:{description:"date of last edit to the layer",type:"number",title:"lastEditDate"}},additionalProperties:!1},IField:{description:'Contains information about an attribute field.\n\n`IField` can also be imported from the following packages:\n\n```js\nimport { IField } from "@esri/arcgis-rest-feature-layer";\n```',title:"IField",type:"object",properties:{name:{description:"A string defining the field name.",type:"string",title:"name"},type:{$ref:"#/definitions/FieldType",description:"A string defining the field type.",title:"type"},alias:{description:"A string defining the field alias.",type:"string",title:"alias"},domain:{description:"The domain objects if applicable.",title:"domain"},editable:{description:"A Boolean defining whether this field is editable.",type:"boolean",title:"editable"},exactMatch:{description:"A Boolean defining whether or not the field is an exact match.",type:"boolean",title:"exactMatch"},length:{description:"A number defining how many characters are allowed in a string. field.",type:"number",title:"length"},nullable:{description:"A Boolean defining whether this field can have a null value.",type:"boolean",title:"nullable"},defaultValue:{description:"The value written in for new records by default.",title:"defaultValue"}},additionalProperties:!1,required:["name","type"]},FieldType:{description:"Field type.",title:"FieldType",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string"},ITemplate:{description:"Templates describe features that can be created in a layer. They are generally used with feature collections and editable web-based CSV layers.\nTemplates are not used with ArcGIS feature services as these already have templates defined in the service. They are also defined as properties\nof the layer definition when there are no defined types. Otherwise, templates are defined as properties of the types.",title:"ITemplate",type:"object",properties:{description:{description:"A string value containing a detailed description of the template.",title:"description"},drawingTool:{description:"An optional string that can define a client-side drawing tool to be used with this feature. For example, map notes used by the Online Map Viewer use this to represent the viewer's different drawing tools.",enum:["esriFeatureEditToolAutoCompletePolygon","esriFeatureEditToolCircle","esriFeatureEditToolDownArrow","esriFeatureEditToolEllipse","esriFeatureEditToolFreehand","esriFeatureEditToolLeftArrow","esriFeatureEditToolLine","esriFeatureEditToolNone","esriFeatureEditToolPoint","esriFeatureEditToolPolygon","esriFeatureEditToolRectangle","esriFeatureEditToolRightArrow","esriFeatureEditToolText","esriFeatureEditToolTriangle","esriFeatureEditToolUpArrow"],type:"string",title:"drawingTool"},name:{description:"A string containing a user-friendly name for the template.",type:"string",title:"name"},prototype:{description:"A feature object representing a prototypical feature for the template.",$ref:"#/definitions/IFeature",title:"prototype"}},additionalProperties:!1},IFeature:{description:'a spatial entity and its corresponding properties\n\n`IFeature` can also be imported from the following packages:\n\n```js\nimport { IFeature } from "@esri/arcgis-rest-feature-layer";\nimport { IFeature } from "@esri/arcgis-rest-routing";\n```',title:"IFeature",type:"object",properties:{geometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/IGeometry",title:"geometry"},attributes:{type:"object",additionalProperties:{},title:"attributes"},symbol:{$ref:"#/definitions/ISymbol",title:"symbol"}},additionalProperties:!1,required:["attributes"]},IGeometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',title:"IGeometry",type:"object",properties:{spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},additionalProperties:!1},ISymbol:{title:"ISymbol",type:"object",properties:{type:{$ref:"#/definitions/SymbolType",title:"type"},style:{type:"string",title:"style"}},additionalProperties:!1,required:["type"]},SymbolType:{title:"SymbolType",enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string"},IPopupInfo:{description:"Defines the look and feel of popup windows when a user clicks or queries a feature.",title:"IPopupInfo",type:"object",properties:{description:{description:"A string that appears in the body of the popup window as a description. It is also possible to specify the description as HTML-formatted content.",type:["null","string"],title:"description"},expressionInfos:{description:"List of Arcade expressions added to the pop-up.",type:"array",items:{$ref:"#/definitions/IPopupExpressionInfo"},title:"expressionInfos"},fieldInfos:{description:"Array of fieldInfo information properties. This information is provided by the service layer definition. When the description uses name/value pairs, the order of the array is how the fields display in the editable Map Viewer popup and the resulting popup. It is also possible to specify HTML-formatted content.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},layerOptions:{description:"Additional options that can be defined for the popup layer.",type:"object",properties:{showNoDataRecords:{description:"Indicates whether or not the NoData records should be displayed.",type:"boolean",title:"showNoDataRecords"}},additionalProperties:!1,required:["showNoDataRecords"],title:"layerOptions"},mediaInfos:{description:"Array of various mediaInfo to display. Can be of type image, piechart, barchart, columnchart, or linechart. The order given is the order in which is displays.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},popupElements:{description:"An array of popupElement objects that represent an ordered list of popup elements.",type:"array",items:{$ref:"#/definitions/IPopupElement"},title:"popupElements"},relatedRecordsInfo:{description:"Indicates whether to enable related records if they exist on a layer.",$ref:"#/definitions/IRelatedRecordsInfo",title:"relatedRecordsInfo"},showAttachments:{description:"Indicates whether attachments will be loaded for feature layers that have attachments.",type:"boolean",title:"showAttachments"},title:{description:"A string that appears at the top of the popup window as a title.",type:"string",title:"title"}},additionalProperties:!1},IPopupExpressionInfo:{description:"Arcade expression added to the pop-up.",title:"IPopupExpressionInfo",type:"object",properties:{expression:{description:"The Arcade expression.",type:"string",title:"expression"},name:{description:"Unique identifier for the expression.",type:"string",title:"name"},returnType:{description:"Return type of the Arcade expression, can be number or string. Defaults to string value. Number values are assumed to be double. This can be determined by the authoring client by executing the expression using a sample feature(s), although it can be corrected by the user. Knowing the returnType allows the authoring client to present fields in relevant contexts. For example, numeric fields in numeric contexts such as charts.",enum:["number","string"],type:"string",title:"returnType"},title:{description:"Title of the expression.",type:"string",title:"title"}},additionalProperties:!1},IFieldInfo:{description:"Defines how a field in the dataset participates (or does not participate) in a popup window.",title:"IFieldInfo",type:"object",properties:{fieldName:{description:"A string containing the field name as defined by the service. Anywhere that a fieldname is referenced as {field-name} in popupInfo, an Arcade expression can also be referenced as{expression/}`.",title:"fieldName"},format:{description:"A format object used with numerical or date fields to provide more detail about how the value should be displayed in a web map popup window.",$ref:"#/definitions/IFieldFormat",title:"format"},isEditable:{description:"A Boolean determining whether users can edit this field. Not applicable to Arcade expressions.",type:"boolean",title:"isEditable"},label:{description:"A string containing the field alias. This can be overridden by the web map author. Not applicable to Arcade expressions as title is used instead.",type:"string",title:"label"},stringFieldOption:{description:"A string determining what type of input box editors see when editing the field. Applies only to string fields. Not applicable to Arcade expressions.",enum:["richtext","textarea","textbox"],type:"string",title:"stringFieldOption"},tooltip:{description:"A string providing an editing hint for editors of the field. Not applicable to Arcade expressions.",type:"string",title:"tooltip"},visible:{description:"A Boolean determining whether the field is visible in the popup window.",type:"boolean",title:"visible"}},additionalProperties:!1},IFieldFormat:{description:"The format object can be used with numerical or date fields to provide more detail about how values should be displayed in popup windows.",title:"IFieldFormat",type:"object",properties:{dateFormat:{description:"A string used with date fields to specify how the date should appear in popup windows.",enum:["dayShortMonthYear","longDate","longMonthDayYear","longMonthYear","shortDate","shortDateLE","shortDateLELongTime","shortDateLELongTime24","shortDateLEShortTime","shortDateLEShortTime24","shortDateLongTime","shortDateLongTime24","shortDateShortTime","shortDateShortTime24","shortMonthYear","year"],type:"string",title:"dateFormat"},digitSeparator:{description:"A Boolean used with numerical fields. A value of true allows the number to have a digit (or thousands) separator when the value appears in popup windows.\nDepending on the locale, this separator is a decimal point or a comma. A value of false means that no separator will be used.",type:"boolean",title:"digitSeparator"},places:{description:"An integer used with numerical fields to specify the number of supported decimal places that should appear in popup windows. Any places beyond this value are rounded.",type:"number",title:"places"}},additionalProperties:!1},IMediaInfo:{description:"Defines an image or a chart to be displayed in a popup window.",title:"IMediaInfo",type:"object",properties:{caption:{description:"A string caption describing the media.",title:"caption"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled. If the property does not exist, it's equivalent to having a value of 0. Only applicable when type is set to image.",title:"refreshInterval"},title:{description:"A string title for the media.",type:["null","string"],title:"title"},type:{description:"A string defining the type of media.",enum:["barchart","columnchart","image","linechart","piechart"],type:"string",title:"type"},value:{description:"A value object containing information about how the image should be retrieved or how the chart should be constructed.",anyOf:[{$ref:"#/definitions/IMediaInfoValue"},{type:"null"}],title:"value"}},additionalProperties:!1},IMediaInfoValue:{description:"The value object contains information for popup windows about how images should be retrieved or charts constructed.",title:"IMediaInfoValue",type:"object",properties:{fields:{description:"Used with charts. An array of strings, with each string containing the name of a field to display in the chart.",type:"array",items:{type:"string"},title:"fields"},linkURL:{description:"Used with images. A string containing a URL to be launched in a browser when a user clicks the image.",type:"string",title:"linkURL"},normalizeField:{description:"Used with charts. An optional string containing the name of a field. The values of all fields in the chart will be normalized (divided) by the value of this field.",type:"string",title:"normalizeField"},sourceURL:{description:"Used with images. A string containing the URL to the image.",type:"string",title:"sourceURL"},tooltipField:{description:"String value indicating the tooltip for a chart specified from another field. This field is needed when related records are not sued. It is used for showing tooltips from another field in the same layer or related layer/table.",type:"string",title:"tooltipField"}},additionalProperties:!1},IPopupElement:{description:"Popup elements allow users to author popups, using multiple elements such as tabular views, string description, media (charts and images), and attachments of the attributes\nand control the order in which they appear. Specifically, popupElements do the following:\n1) provide the ability to explicitly add a field/ value table in addition to a description,\n2) allow adding multiple description elements, and\n3) allow a user to author and consume elements of a popup in the order of their choosing.",title:"IPopupElement",type:"object",properties:{displayType:{description:"This property applies to elements of type attachments. A string value indicating how to display the attachment.\nPossible values are, preview, and list. If list is specified, attachments show as links.",enum:["list","preview"],type:"string",title:"displayType"},fieldInfos:{description:"This property applies to elements of type fields. It is an array of popupInfo.fieldInfo objects representing a field/value pair displayed as a table within the popupElement.\nIf the fieldInfos property is not provided, the popupElement will display whatever is specified directly in the popupInfo.fieldInfos property.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},mediaInfos:{description:"This property applies to elements of type media. An array of popupInfo.mediaInfo objects representing an image or chart for display.\nIf no mediaInfos property is provided, the popupElement will display whatever is specified in the popupInfo.mediaInfo property.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},text:{description:"This property applies to elements of type text. This is string value indicating the text to be displayed within the popupElement.\nIf no text property is provided, the popupElement will display whatever is specified in the popupInfo.description property.",type:"string",title:"text"},type:{description:"String value indicating which elements to use.",enum:["attachments","fields","media","text"],type:"string",title:"type"}},additionalProperties:!1},IRelatedRecordsInfo:{description:"The sort in the popupInfo for the parent feature. This impacts the sorting order for the returned child records.",title:"IRelatedRecordsInfo",type:"object",properties:{orderByFields:{description:"Array of orderByFields objects indicating the field display order for the related records and whether they should be sorted in ascending 'asc' or descending 'desc' order.",type:"array",items:{$ref:"#/definitions/IOrderByField"},title:"orderByFields"},showRelatedRecords:{description:"Required boolean value indicating whether to display related records. If true, client should let the user navigate to the related records. Defaults to true if the layer participates in a relationship AND the related layer/table has already been added to the map (either as an operationalLayer or as a table).",type:"boolean",title:"showRelatedRecords"}},additionalProperties:!1,required:["showRelatedRecords"]},IOrderByField:{description:"Object indicating the field display order for the related records and whether they should be sorted in ascending or descending order.",title:"IOrderByField",type:"object",properties:{field:{description:"The attribute value of the field selected that will drive the sorting of related records.",type:"string",title:"field"},order:{description:"Set the ascending or descending sort order of the returned related records.",enum:["asc","desc"],type:"string",title:"order"}},additionalProperties:!1},ITextSymbol:{title:"ITextSymbol",type:"object",properties:{type:{type:"string",enum:["esriTS"],title:"type"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},backgroundColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"backgroundColor"},borderLineSize:{type:"number",title:"borderLineSize"},borderLineColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"borderLineColor"},haloSize:{type:"number",title:"haloSize"},haloColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"haloColor"},verticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"verticalAlignment"},horizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"horizontalAlignment"},rightToLeft:{type:"boolean",title:"rightToLeft"},kerning:{type:"boolean",title:"kerning"},font:{$ref:"#/definitions/IFont",title:"font"},text:{type:"string",title:"text"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"},style:{type:"string",title:"style"}},additionalProperties:!1,required:["type"]},IFont:{title:"IFont",type:"object",properties:{family:{type:"string",title:"family"},size:{type:"number",title:"size"},style:{enum:["italic","normal","oblique"],type:"string",title:"style"},weight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"weight"},decoration:{enum:["line-through","none","underline"],type:"string",title:"decoration"}},additionalProperties:!1},ISimpleLineSymbol:{title:"ISimpleLineSymbol",type:"object",properties:{type:{type:"string",enum:["esriSLS"],title:"type"},style:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},width:{type:"number",title:"width"}},additionalProperties:!1,required:["type"]},"Intl.NumberFormatOptions":{title:"Intl.NumberFormatOptions",type:"object",properties:{localeMatcher:{type:"string",title:"localeMatcher"},style:{type:"string",title:"style"},currency:{type:"string",title:"currency"},currencyDisplay:{type:"string",title:"currencyDisplay"},currencySign:{type:"string",title:"currencySign"},useGrouping:{type:"boolean",title:"useGrouping"},minimumIntegerDigits:{type:"number",title:"minimumIntegerDigits"},minimumFractionDigits:{type:"number",title:"minimumFractionDigits"},maximumFractionDigits:{type:"number",title:"maximumFractionDigits"},minimumSignificantDigits:{type:"number",title:"minimumSignificantDigits"},maximumSignificantDigits:{type:"number",title:"maximumSignificantDigits"},compactDisplay:{type:"string",title:"compactDisplay"},notation:{type:"string",title:"notation"},signDisplay:{type:"string",title:"signDisplay"},unit:{type:"string",title:"unit"},unitDisplay:{type:"string",title:"unitDisplay"}},additionalProperties:!1},"Intl.DateTimeFormatOptions":{title:"Intl.DateTimeFormatOptions",type:"object",properties:{localeMatcher:{type:"string",title:"localeMatcher"},weekday:{type:"string",title:"weekday"},era:{type:"string",title:"era"},year:{type:"string",title:"year"},month:{type:"string",title:"month"},day:{type:"string",title:"day"},hour:{type:"string",title:"hour"},minute:{type:"string",title:"minute"},second:{type:"string",title:"second"},timeZoneName:{type:"string",title:"timeZoneName"},formatMatcher:{type:"string",title:"formatMatcher"},hour12:{type:"boolean",title:"hour12"},timeZone:{type:"string",title:"timeZone"}},additionalProperties:!1},ISimpleFillSymbol:{title:"ISimpleFillSymbol",type:"object",properties:{type:{type:"string",enum:["esriSFS"],title:"type"},style:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"}},additionalProperties:!1,required:["type"]},IStatisticDefinition:{title:"IStatisticDefinition",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc).",enum:["avg","count","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},additionalProperties:!1,required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},additionalProperties:!1,required:["onStatisticField","outStatisticFieldName","statisticType"]},ISimpleMarkerSymbol:{title:"ISimpleMarkerSymbol",type:"object",properties:{type:{type:"string",enum:["esriSMS"],title:"type"},style:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,additionalItems:{anyOf:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}]},title:"color"},size:{type:"number",title:"size"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"}},additionalProperties:!1,required:["type"]}},$ref:"#/definitions/WebChart"};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;function ra(e){var t={exports:{}};return e(t,t.exports),t.exports
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */}var na=ra((function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,n=1;n<r;++n)t[n]=t[n].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function i(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function a(e){var r=t("[0-9]","[A-Fa-f]"),n=i(i("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+i("%[89A-Fa-f]"+r+"%"+r+r)+"|"+i("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=(i("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),i(i(n+"|"+t(l,a,"[\\:]"))+"*"),i(i("25[0-5]")+"|"+i("2[0-4][0-9]")+"|"+i("1[0-9][0-9]")+"|"+i("0?[1-9][0-9]")+"|0?0?[0-9]")),c=i(u+"\\."+u+"\\."+u+"\\."+u),h=i(r+"{1,4}"),d=i(i(h+"\\:"+h)+"|"+c),p=i(i(h+"\\:")+"{6}"+d),f=i("\\:\\:"+i(h+"\\:")+"{5}"+d),m=i(i(h)+"?\\:\\:"+i(h+"\\:")+"{4}"+d),y=i(i(i(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+i(h+"\\:")+"{3}"+d),g=i(i(i(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+i(h+"\\:")+"{2}"+d),v=i(i(i(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+d),b=i(i(i(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+d),x=i(i(i(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),S=i(i(i(h+"\\:")+"{0,6}"+h)+"?\\:\\:"),P=i([p,f,m,y,g,v,b,x,S].join("|")),_=i(i(l+"|"+n)+"+"),C=(i("[vV]"+r+"+\\."+t(l,a,"[\\:]")+"+"),i(i(n+"|"+t(l,a))+"*"),i(n+"|"+t(l,a,"[\\:\\@]")));return i(i(n+"|"+t(l,a,"[\\@]"))+"+"),i(i(C+"|"+t("[\\/\\?]",s))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,o),"g"),PCT_ENCODED:new RegExp(n,"g"),IPV4ADDRESS:new RegExp("^("+c+")$"),IPV6ADDRESS:new RegExp("^\\[?("+P+")"+i(i("\\%25|\\%(?!"+r+"{2})")+"("+_+")")+"?\\]?$")}}var o=a(!1),s=a(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=/^xn--/,h=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function y(e){throw new RangeError(p[e])}function g(e,t){var i=e.split("@"),r="";i.length>1&&(r=i[0]+"@",e=i[1]);var n=function(e,t){for(var i=[],r=e.length;r--;)i[r]=t(e[r]);return i}((e=e.replace(d,".")).split("."),t).join(".");return r+n}function v(e){for(var t=[],i=0,r=e.length;i<r;){var n=e.charCodeAt(i++);if(n>=55296&&n<=56319&&i<r){var a=e.charCodeAt(i++);56320==(64512&a)?t.push(((1023&n)<<10)+(1023&a)+65536):(t.push(n),i--)}else t.push(n)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,i){var r=0;for(e=i?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))},S=function(e){var t,i=[],r=e.length,n=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&y("not-basic"),i.push(e.charCodeAt(l));for(var c=s>0?s+1:0;c<r;){for(var h=n,d=1,p=36;;p+=36){c>=r&&y("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((u-n)/d))&&y("overflow"),n+=m*d;var g=p<=o?1:p>=o+26?26:p-o;if(m<g)break;var v=36-g;d>f(u/v)&&y("overflow"),d*=v}var b=i.length+1;o=x(n-h,b,0==h),f(n/b)>u-a&&y("overflow"),a+=f(n/b),n%=b,i.splice(n++,0,a)}return String.fromCodePoint.apply(String,i)},P=function(e){var t=[],i=(e=v(e)).length,r=128,n=0,a=72,o=!0,s=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;d<128&&t.push(m(d))}}catch(e){s=!0,l=e}finally{try{!o&&h.return&&h.return()}finally{if(s)throw l}}var p=t.length,g=p;for(p&&t.push("-");g<i;){var S=u,P=!0,_=!1,C=void 0;try{for(var w,I=e[Symbol.iterator]();!(P=(w=I.next()).done);P=!0){var A=w.value;A>=r&&A<S&&(S=A)}}catch(e){_=!0,C=e}finally{try{!P&&I.return&&I.return()}finally{if(_)throw C}}var T=g+1;S-r>f((u-n)/T)&&y("overflow"),n+=(S-r)*T,r=S;var O=!0,D=!1,k=void 0;try{for(var F,E=e[Symbol.iterator]();!(O=(F=E.next()).done);O=!0){var M=F.value;if(M<r&&++n>u&&y("overflow"),M==r){for(var j=n,L=36;;L+=36){var R=L<=a?1:L>=a+26?26:L-a;if(j<R)break;var V=j-R,B=36-R;t.push(m(b(R+V%B,0))),j=f(V/B)}t.push(m(b(j,0))),a=x(n,T,g==p),n=0,++g}}}catch(e){D=!0,k=e}finally{try{!O&&E.return&&E.return()}finally{if(D)throw k}}++n,++r}return t.join("")},_=function(e){return g(e,(function(e){return h.test(e)?"xn--"+P(e):e}))},C=function(e){return g(e,(function(e){return c.test(e)?S(e.slice(4).toLowerCase()):e}))},w={};function I(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",i=0,r=e.length;i<r;){var n=parseInt(e.substr(i+1,2),16);if(n<128)t+=String.fromCharCode(n),i+=3;else if(n>=194&&n<224){if(r-i>=6){var a=parseInt(e.substr(i+4,2),16);t+=String.fromCharCode((31&n)<<6|63&a)}else t+=e.substr(i,6);i+=6}else if(n>=224){if(r-i>=9){var o=parseInt(e.substr(i+4,2),16),s=parseInt(e.substr(i+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&s)}else t+=e.substr(i,9);i+=9}else t+=e.substr(i,3),i+=3}return t}function T(e,t){function i(e){var i=A(e);return i.match(t.UNRESERVED)?i:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,i).replace(t.NOT_USERINFO,I).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_HOST,I).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,i).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,I).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,i).replace(t.NOT_QUERY,I).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,i).replace(t.NOT_FRAGMENT,I).replace(t.PCT_ENCODED,n)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function D(e,t){var i=e.match(t.IPV4ADDRESS)||[],r=l(i,2)[1];return r?r.split(".").map(O).join("."):e}function k(e,t){var i=e.match(t.IPV6ADDRESS)||[],r=l(i,3),n=r[1],a=r[2];if(n){for(var o=n.toLowerCase().split("::").reverse(),s=l(o,2),u=s[0],c=s[1],h=c?c.split(":").map(O):[],d=u.split(":").map(O),p=t.IPV4ADDRESS.test(d[d.length-1]),f=p?7:8,m=d.length-f,y=Array(f),g=0;g<f;++g)y[g]=h[g]||d[m+g]||"";p&&(y[f-1]=D(y[f-1],t));var v=y.reduce((function(e,t,i){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===i?r.length++:e.push({index:i,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var x=y.slice(0,v.index),S=y.slice(v.index+v.length);b=x.join(":")+"::"+S.join(":")}else b=y.join(":");return a&&(b+="%"+a),b}return e}var F=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,E=void 0==="".match(/(){0}/)[1];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},r=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var n=e.match(F);if(n){E?(i.scheme=n[1],i.userinfo=n[3],i.host=n[4],i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=n[7],i.fragment=n[8],isNaN(i.port)&&(i.port=n[5])):(i.scheme=n[1]||void 0,i.userinfo=-1!==e.indexOf("@")?n[3]:void 0,i.host=-1!==e.indexOf("//")?n[4]:void 0,i.port=parseInt(n[5],10),i.path=n[6]||"",i.query=-1!==e.indexOf("?")?n[7]:void 0,i.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),i.host&&(i.host=k(D(i.host,r),r)),void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||i.path||void 0!==i.query?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&(i.error=i.error||"URI is not a "+t.reference+" reference.");var a=w[(t.scheme||i.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)T(i,r);else{if(i.host&&(t.domainHost||a&&a.domainHost))try{i.host=_(i.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII via punycode: "+e}T(i,o)}a&&a.parse&&a.parse(i,t)}else i.error=i.error||"URI can not be parsed.";return i}function j(e,t){var i=!1!==t.iri?s:o,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(k(D(String(e.host),i),i).replace(i.IPV6ADDRESS,(function(e,t,i){return"["+t+(i?"%25"+i:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var L=/^\.\.?\//,R=/^\/\.(\/|$)/,V=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function N(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(R))e=e.replace(R,"/");else if(e.match(V))e=e.replace(V,"/"),t.pop();else if("."===e||".."===e)e="";else{var i=e.match(B);if(!i)throw new Error("Unexpected dot segment condition");var r=i[0];e=e.slice(r.length),t.push(r)}return t.join("")}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.iri?s:o,r=[],n=w[(t.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(i.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?C(e.host):_(e.host.replace(i.PCT_ENCODED,A).toLowerCase())}catch(i){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+i}T(e,i),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var a=j(e,t);if(void 0!==a&&("suffix"!==t.reference&&r.push("//"),r.push(a),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||n&&n.absolutePath||(l=N(l)),void 0===a&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function z(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],n={};return r||(e=M(W(e,i),i),t=M(W(t,i),i)),!(i=i||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=N(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=N(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=N(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=N(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function H(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,A)}var G={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},$={},q="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Y="[0-9A-Fa-f]",K=i(i("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+i("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+i("%"+Y+Y)),X=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),J=new RegExp(q,"g"),Q=new RegExp(K,"g"),Z=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),ee=new RegExp(t("[^]",q,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=ee;function ie(e){var t=A(e);return t.match(J)?t:e}var re={scheme:"mailto",parse:function(e,t){var i=e,r=i.to=i.path?i.path.split(","):[];if(i.path=void 0,i.query){for(var n=!1,a={},o=i.query.split("&"),s=0,l=o.length;s<l;++s){var u=o[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),h=0,d=c.length;h<d;++h)r.push(c[h]);break;case"subject":i.subject=H(u[1],t);break;case"body":i.body=H(u[1],t);break;default:n=!0,a[H(u[0],t)]=H(u[1],t)}}n&&(i.headers=a)}i.query=void 0;for(var p=0,f=r.length;p<f;++p){var m=r[p].split("@");if(m[0]=H(m[0]),t.unicodeSupport)m[1]=H(m[1],t).toLowerCase();else try{m[1]=_(H(m[1],t).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=m.join("@")}return i},serialize:function(e,t){var i,r=e,a=null!=(i=e.to)?i instanceof Array?i:"number"!=typeof i.length||i.split||i.setInterval||i.call?[i]:Array.prototype.slice.call(i):[];if(a){for(var o=0,s=a.length;o<s;++o){var l=String(a[o]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(Q,ie).replace(Q,n).replace(Z,I),h=l.slice(u+1);try{h=t.iri?C(h):_(H(h,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=c+"@"+h}r.path=a.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var p=[];for(var f in d)d[f]!==$[f]&&p.push(f.replace(Q,ie).replace(Q,n).replace(ee,I)+"="+d[f].replace(Q,ie).replace(Q,n).replace(te,I));return p.length&&(r.query=p.join("&")),r}},ne=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var i=e.path&&e.path.match(ne),r=e;if(i){var n=t.scheme||r.scheme||"urn",a=i[1].toLowerCase(),o=i[2],s=n+":"+(t.nid||a),l=w[s];r.nid=a,r.nss=o,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var i=t.scheme||e.scheme||"urn",r=e.nid,n=i+":"+(t.nid||r),a=w[n];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(r||t.nid)+":"+s,o}},oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var i=e;return i.uuid=i.nss,i.nss=void 0,t.tolerant||i.uuid&&i.uuid.match(oe)||(i.error=i.error||"UUID is not valid."),i},serialize:function(e,t){var i=e;return i.nss=(e.uuid||"").toLowerCase(),i}};w[G.scheme]=G,w[U.scheme]=U,w[re.scheme]=re,w[ae.scheme]=ae,w[se.scheme]=se,e.SCHEMES=w,e.pctEncChar=I,e.pctDecChars=A,e.parse=M,e.removeDotSegments=N,e.serialize=W,e.resolveComponents=z,e.resolve=function(e,t,i){var r=function(e,t){var i=e;if(t)for(var r in t)i[r]=t[r];return i}({scheme:"null"},i);return W(z(M(e,r),M(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=W(M(e,t),t):"object"===r(e)&&(e=M(W(e,t),t)),e},e.equal=function(e,t,i){return"string"==typeof e?e=W(M(e,i),i):"object"===r(e)&&(e=W(e,i)),"string"==typeof t?t=W(M(t,i),i):"object"===r(t)&&(t=W(t,i)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,I)},e.unescapeComponent=H,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),aa=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var r,n,a;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(n=r;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,a[n]))return!1;for(n=r;0!=n--;){var o=a[n];if(!e(t[o],i[o]))return!1}return!0}return t!=t&&i!=i},oa={copy:function(e,t){for(var i in t=t||{},e)t[i]=e[i];return t},checkDataType:sa,checkDataTypes:function(e,t,i){switch(e.length){case 1:return sa(e[0],t,i,!0);default:var r="",n=ua(e);for(var a in n.array&&n.object&&(r=n.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)r+=(r?" && ":"")+sa(a,t,i,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var i=[],r=0;r<t.length;r++){var n=t[r];(la[n]||"array"===e&&"array"===n)&&(i[i.length]=n)}if(i.length)return i}else{if(la[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:ua,getProperty:da,escapeQuotes:pa,equal:aa,ucs2length:function(e){for(var t,i=0,r=e.length,n=0;n<r;)i++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<r&&56320==(64512&(t=e.charCodeAt(n)))&&n++;return i},varOccurences:function(e,t){t+="[^0-9]";var i=e.match(new RegExp(t,"g"));return i?i.length:0},varReplace:function(e,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),i+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var i in e)if(t[i])return!0},schemaHasRulesExcept:function(e,t,i){if("boolean"==typeof e)return!e&&"not"!=i;for(var r in e)if(r!=i&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var i in e)if(!t[i])return i},toQuotedString:fa,getPathExpr:function(e,t,i,r){return ga(e,i?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,i){var r=fa(i?"/"+va(t):da(t));return ga(e,r)},getData:function(e,t,i){var r,n,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!ma.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,a="rootData"}else{if(!(o=e.match(ya)))throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],"#"==(n=o[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return i[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!n)return a}for(var s=a,l=n.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(a+=da(ba(c)),s+=" && "+a)}return s},unescapeFragment:function(e){return ba(decodeURIComponent(e))},unescapeJsonPointer:ba,escapeFragment:function(e){return encodeURIComponent(va(e))},escapeJsonPointer:va};function sa(e,t,i,r){var n=r?" !== ":" === ",a=r?" || ":" && ",o=r?"!":"",s=r?"":"!";switch(e){case"null":return t+n+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+a+"typeof "+t+n+'"object"'+a+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+a+s+"("+t+" % 1)"+a+t+n+t+(i?a+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+n+'"'+e+'"'+(i?a+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+n+'"'+e+'"'}}var la=ua(["string","number","integer","boolean","null"]);function ua(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=!0;return t}var ca=/^[a-z$_][a-z$_0-9]*$/i,ha=/'|\\/g;function da(e){return"number"==typeof e?"["+e+"]":ca.test(e)?"."+e:"['"+pa(e)+"']"}function pa(e){return e.replace(ha,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function fa(e){return"'"+pa(e)+"'"}var ma=/^\/(?:[^~]|~0|~1)*$/,ya=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ga(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function va(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function ba(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var xa=function(e){oa.copy(e,this)};var Sa=ra((function(e){var t=e.exports=function(e,i,r){"function"==typeof i&&(r=i,i={}),function e(i,r,n,a,o,s,l,u,c,h){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var d in r(a,o,s,l,u,c,h),a){var p=a[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var f=0;f<p.length;f++)e(i,r,n,p[f],o+"/"+d+"/"+f,s,o,d,a,f)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(i,r,n,p[m],o+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,a,m)}else(d in t.keywords||i.allKeys&&!(d in t.skipKeywords))&&e(i,r,n,p,o+"/"+d,s,o,d,a)}n(a,o,s,l,u,c,h)}}(i,"function"==typeof(r=i.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),Pa=_a;function _a(e,t,i){var r=this._refs[i];if("string"==typeof r){if(!this._refs[r])return _a.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[i])instanceof xa)return Oa(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var n,a,o,s=Ca.call(this,t,i);return s&&(n=s.schema,t=s.root,o=s.baseId),n instanceof xa?a=n.validate||e.call(this,n.schema,t,void 0,o):void 0!==n&&(a=Oa(n,this._opts.inlineRefs)?n:e.call(this,n,t,void 0,o)),a}function Ca(e,t){var i=na.parse(t),r=ka(i),n=Da(this._getId(e.schema));if(0===Object.keys(e.schema).length||r!==n){var a=Ea(r),o=this._refs[a];if("string"==typeof o)return wa.call(this,e,o,i);if(o instanceof xa)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof xa))return;if(o.validate||this._compile(o),a==Ea(t))return{schema:o,root:e,baseId:n};e=o}if(!e.schema)return;n=Da(this._getId(e.schema))}return Aa.call(this,i,n,e.schema,e)}function wa(e,t,i){var r=Ca.call(this,e,t);if(r){var n=r.schema,a=r.baseId;e=r.root;var o=this._getId(n);return o&&(a=Ma(a,o)),Aa.call(this,i,a,n,e)}}_a.normalizeId=Ea,_a.fullPath=Da,_a.url=Ma,_a.ids=function(e){var t=Ea(this._getId(e)),i={"":t},r={"":Da(t,!1)},n={},a=this;return Sa(e,{allKeys:!0},(function(e,t,o,s,l,u,c){if(""!==t){var h=a._getId(e),d=i[s],p=r[s]+"/"+l;if(void 0!==c&&(p+="/"+("number"==typeof c?c:oa.escapeFragment(c))),"string"==typeof h){h=d=Ea(d?na.resolve(d,h):h);var f=a._refs[h];if("string"==typeof f&&(f=a._refs[f]),f&&f.schema){if(!aa(e,f.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=Ea(p))if("#"==h[0]){if(n[h]&&!aa(e,n[h]))throw new Error('id "'+h+'" resolves to more than one schema');n[h]=e}else a._refs[h]=p}i[t]=d,r[t]=p}})),n},_a.inlineRef=Oa,_a.schema=Ca;var Ia=oa.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Aa(e,t,i,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var n=e.fragment.split("/"),a=1;a<n.length;a++){var o=n[a];if(o){if(void 0===(i=i[o=oa.unescapeFragment(o)]))break;var s;if(!Ia[o]&&((s=this._getId(i))&&(t=Ma(t,s)),i.$ref)){var l=Ma(t,i.$ref),u=Ca.call(this,r,l);u&&(i=u.schema,r=u.root,t=u.baseId)}}}return void 0!==i&&i!==r.schema?{schema:i,root:r,baseId:t}:void 0}}var Ta=oa.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Oa(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var i;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(i=t[r])&&!e(i))return!1}else for(var n in t){if("$ref"==n)return!1;if("object"==typeof(i=t[n])&&!e(i))return!1}return!0}(e):t?function e(t){var i,r=0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(i=t[n])&&(r+=e(i)),r==1/0)return 1/0}else for(var a in t){if("$ref"==a)return 1/0;if(Ta[a])r++;else if("object"==typeof(i=t[a])&&(r+=e(i)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function Da(e,t){return!1!==t&&(e=Ea(e)),ka(na.parse(e))}function ka(e){return na.serialize(e).split("#")[0]+"#"}var Fa=/#\/?$/;function Ea(e){return e?e.replace(Fa,""):""}function Ma(e,t){return t=Ea(t),na.resolve(e,t)}var ja={Validation:Ra((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:Ra(La)};function La(e,t,i){this.message=i||La.message(e,t),this.missingRef=Pa.url(e,t),this.missingSchema=Pa.normalizeId(Pa.fullPath(this.missingRef))}function Ra(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}La.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var Va=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i,r="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&(i=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},a={key:r,value:e[r]};return i(n,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,o;if(Array.isArray(t)){for(o="[",i=0;i<t.length;i++)i&&(o+=","),o+=e(t[i])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(n&&n(t));for(o="",i=0;i<l.length;i++){var u=l[i],c=e(t[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return a.splice(s,1),"{"+o+"}"}}(e)},Ba=function(e,t,i){var r="",n=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",n&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){var u=e.level,c=e.dataLevel,h=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,m="data"+(c||""),y="valid"+u;if(!1===e.schema){e.isTop?f=!0:r+=" var "+y+" = false; ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=n?" return data; ":" validate.errors = null; return true; ":r+=" var "+y+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var v=e.isTop;u=e.level=0,c=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((c=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),n&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}y="valid"+u,f=!e.opts.allErrors;var x="",S="",P=e.schema.type,_=Array.isArray(P);if(P&&e.opts.nullable&&!0===e.schema.nullable&&(_?-1==P.indexOf("null")&&(P=P.concat("null")):"null"!=P&&(P=[P,"null"],_=!0)),_&&1==P.length&&(P=P[0],_=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),P){if(e.opts.coerceTypes)var C=e.util.coerceToTypes(e.opts.coerceTypes,P);var w=e.RULES.types[P];if(C||_||!0===w||w&&!J(w)){d=e.schemaPath+".type",p=e.errSchemaPath+"/type",d=e.schemaPath+".type",p=e.errSchemaPath+"/type";var I=_?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[I](P,m,e.opts.strictNumbers,!0)+") { ",C){var A="dataType"+u,T="coerced"+u;r+=" var "+A+" = typeof "+m+"; var "+T+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+A+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+A+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+T+" = "+m+"; } "),r+=" if ("+T+" !== undefined) ; ";var O=C;if(O)for(var D,k=-1,F=O.length-1;k<F;)"string"==(D=O[k+=1])?r+=" else if ("+A+" == 'number' || "+A+" == 'boolean') "+T+" = '' + "+m+"; else if ("+m+" === null) "+T+" = ''; ":"number"==D||"integer"==D?(r+=" else if ("+A+" == 'boolean' || "+m+" === null || ("+A+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==D&&(r+=" && !("+m+" % 1)"),r+=")) "+T+" = +"+m+"; "):"boolean"==D?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+T+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+T+" = true; ":"null"==D?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==D&&(r+=" else if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+m+" == null) "+T+" = ["+m+"]; ");r+=" else {   ",(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=_?""+P.join(","):""+P,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=_?""+P.join(","):""+P,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+T+" !== undefined) {  ";var E=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+T+"; ",c||(r+="if ("+E+" !== undefined)"),r+=" "+E+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+T+"; } "}else{(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=_?""+P.join(","):""+P,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=_?""+P.join(","):""+P,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!a)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(r+=" } if (errors === ",r+=v?"0":"errs_"+u,r+=") { ",S+="}");else{var M=e.RULES;if(M)for(var j=-1,L=M.length-1;j<L;)if(J(w=M[j+=1])){if(w.type&&(r+=" if ("+e.util.checkDataType(w.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==w.type&&e.schema.properties){h=e.schema.properties;var R=Object.keys(h);if(R)for(var V,B=-1,N=R.length-1;B<N;){if(void 0!==(H=h[V=R[B+=1]]).default){var W=m+e.util.getProperty(V);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+W+" === null || "+W+" === '' "),r+=" ) "+W+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(H.default)+" ":r+=" "+JSON.stringify(H.default)+" ",r+="; "}}}else if("array"==w.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){k=-1;for(var H,G=z.length-1;k<G;)if(void 0!==(H=z[k+=1]).default){W=m+"["+k+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+W;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+W+" === null || "+W+" === '' "),r+=" ) "+W+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(H.default)+" ":r+=" "+JSON.stringify(H.default)+" ",r+="; "}}}var U=w.rules;if(U)for(var $,q=-1,Y=U.length-1;q<Y;)if(Q($=U[q+=1])){var K=$.code(e,$.keyword,w.type);K&&(r+=" "+K+" ",f&&(x+="}"))}if(f&&(r+=" "+x+" ",x=""),w.type&&(r+=" } ",P&&P===w.type&&!C)){r+=" else { ";var X;d=e.schemaPath+".type",p=e.errSchemaPath+"/type";(X=X||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=_?""+P.join(","):""+P,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=_?""+P.join(","):""+P,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";g=r;r=X.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}f&&(r+=" if (errors === ",r+=v?"0":"errs_"+u,r+=") { ",S+="}")}}function J(e){for(var t=e.rules,i=0;i<t.length;i++)if(Q(t[i]))return!0}function Q(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var i=t.implements,r=0;r<i.length;r++)if(void 0!==e.schema[i[r]])return!0}(t)}return f&&(r+=" "+S+" "),v?(n?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+y+" = errors === errs_"+u+";",r},Na=oa.ucs2length,Wa=ja.Validation,za=function e(t,i,r,n){var a=this,o=this._opts,s=[void 0],l={},u=[],c={},h=[],d={},p=[];i=i||{schema:t,refVal:s,refs:l};var f=Ha.call(this,t,i,n),m=this._compilations[f.index];if(f.compiling)return m.callValidate=function e(){var t=m.validate,i=t.apply(this,arguments);return e.errors=t.errors,i};var y=this._formats,g=this.RULES;try{var v=x(t,i,r,n);m.validate=v;var b=m.callValidate;return b&&(b.schema=v.schema,b.errors=null,b.refs=v.refs,b.refVal=v.refVal,b.root=v.root,b.$async=v.$async,o.sourceCode&&(b.source=v.source)),v}finally{Ga.call(this,t,i,n)}function x(t,r,n,c){var d=!r||r&&r.schema==t;if(r.schema!=i.schema)return e.call(a,t,r,n,c);var f,m=!0===t.$async,v=Ba({isTop:!0,schema:t,isRoot:d,baseId:c,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:ja.MissingRef,RULES:g,validate:Ba,util:oa,resolve:Pa,resolveRef:S,usePattern:C,useDefault:w,useCustomRule:I,opts:o,formats:y,logger:a.logger,self:a});v=Xa(s,Ya)+Xa(u,$a)+Xa(h,qa)+Xa(p,Ka)+v,o.processCode&&(v=o.processCode(v,t));try{f=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",v)(a,g,y,i,s,h,p,aa,Na,Wa),s[0]=f}catch(e){throw a.logger.error("Error compiling schema, function code:",v),e}return f.schema=t,f.errors=null,f.refs=l,f.refVal=s,f.root=d?f:r,m&&(f.$async=!0),!0===o.sourceCode&&(f.source={code:v,patterns:u,defaults:h}),f}function S(t,n,u){n=Pa.url(t,n);var c,h,d=l[n];if(void 0!==d)return _(c=s[d],h="refVal["+d+"]");if(!u&&i.refs){var p=i.refs[n];if(void 0!==p)return _(c=i.refVal[p],h=P(n,c))}h=P(n);var f=Pa.call(a,x,i,n);if(void 0===f){var m=r&&r[n];m&&(f=Pa.inlineRef(m,o.inlineRefs)?m:e.call(a,m,i,r,t))}if(void 0!==f)return function(e,t){var i=l[e];s[i]=t}(n,f),_(f,h);!function(e){delete l[e]}(n)}function P(e,t){var i=s.length;return s[i]=t,l[e]=i,"refVal"+i}function _(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function C(e){var t=c[e];return void 0===t&&(t=c[e]=u.length,u[t]=e),"pattern"+t}function w(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return oa.toQuotedString(e);case"object":if(null===e)return"null";var t=Va(e),i=d[t];return void 0===i&&(i=d[t]=h.length,h[i]=e),"default"+i}}function I(e,t,i,r){if(!1!==a._opts.validateSchema){var n=e.definition.dependencies;if(n&&!n.every((function(e){return Object.prototype.hasOwnProperty.call(i,e)})))throw new Error("parent schema must have all required keywords: "+n.join(","));var s=e.definition.validateSchema;if(s)if(!s(t)){var l="keyword schema is invalid: "+a.errorsText(s.errors);if("log"!=a._opts.validateSchema)throw new Error(l);a.logger.error(l)}}var u,c=e.definition.compile,h=e.definition.inline,d=e.definition.macro;if(c)u=c.call(a,t,i,r);else if(d)u=d.call(a,t,i,r),!1!==o.validateSchema&&a.validateSchema(u,!0);else if(h)u=h.call(a,r,e.keyword,t,i);else if(!(u=e.definition.validate))return;if(void 0===u)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=p.length;return p[f]=u,{code:"customRule"+f,validate:u}}};function Ha(e,t,i){var r=Ua.call(this,e,t,i);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:i},{index:r,compiling:!1})}function Ga(e,t,i){var r=Ua.call(this,e,t,i);r>=0&&this._compilations.splice(r,1)}function Ua(e,t,i){for(var r=0;r<this._compilations.length;r++){var n=this._compilations[r];if(n.schema==e&&n.root==t&&n.baseId==i)return r}return-1}function $a(e,t){return"var pattern"+e+" = new RegExp("+oa.toQuotedString(t[e])+");"}function qa(e){return"var default"+e+" = defaults["+e+"];"}function Ya(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function Ka(e){return"var customRule"+e+" = customRules["+e+"];"}function Xa(e,t){if(!e.length)return"";for(var i="",r=0;r<e.length;r++)i+=t(r,e);return i}var Ja=ra((function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}})),Qa=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Za=[0,31,28,31,30,31,30,31,31,30,31,30,31],eo=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,to=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,io=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ro=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,no=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,ao=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,oo=/^(?:\/(?:[^~/]|~0|~1)*)*$/,so=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,lo=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,uo=co;function co(e){return e="full"==e?"full":"fast",oa.copy(co[e])}function ho(e){var t=e.match(Qa);if(!t)return!1;var i=+t[1],r=+t[2],n=+t[3];return r>=1&&r<=12&&n>=1&&n<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(i)?29:Za[r])}function po(e,t){var i=e.match(eo);if(!i)return!1;var r=i[1],n=i[2],a=i[3],o=i[5];return(r<=23&&n<=59&&a<=59||23==r&&59==n&&60==a)&&(!t||o)}co.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ro,url:no,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:to,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:go,uuid:ao,"json-pointer":oo,"json-pointer-uri-fragment":so,"relative-json-pointer":lo},co.full={date:ho,time:po,"date-time":function(e){var t=e.split(fo);return 2==t.length&&ho(t[0])&&po(t[1],!0)},uri:function(e){return mo.test(e)&&io.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":ro,url:no,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:to,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:go,uuid:ao,"json-pointer":oo,"json-pointer-uri-fragment":so,"relative-json-pointer":lo};var fo=/t|\s/i;var mo=/\/|:/;var yo=/[^\\]\\Z/;function go(e){if(yo.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var vo=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],y=e.opts.$data&&m&&m.$data,g=p?"<":">",v=p?">":"<",b=void 0;if(!d&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!y&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(y){var x=e.util.getData(m.$data,o,e.dataPathArr),S="exclusive"+a,P="exclType"+a,_="exclIsNumber"+a,C="' + "+(A="op"+a)+" + '";n+=" var schemaExcl"+a+" = "+x+"; ",n+=" var "+S+"; var "+P+" = typeof "+(x="schemaExcl"+a)+"; if ("+P+" != 'boolean' && "+P+" != 'undefined' && "+P+" != 'number') { ";var w;b=f;(w=w||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var I=n;n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" "+P+" == 'number' ? ( ("+S+" = "+r+" === undefined || "+x+" "+g+"= "+r+") ? "+h+" "+v+"= "+x+" : "+h+" "+v+" "+r+" ) : ( ("+S+" = "+x+" === true) ? "+h+" "+v+"= "+r+" : "+h+" "+v+" "+r+" ) || "+h+" !== "+h+") { var op"+a+" = "+S+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=f,u=e.errSchemaPath+"/"+f,r=x,d=y)}else{C=g;if((_="number"==typeof m)&&d){var A="'"+C+"'";n+=" if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+h+" "+v+"= "+m+" : "+h+" "+v+" "+r+" ) || "+h+" !== "+h+") { "}else{_&&void 0===s?(S=!0,b=f,u=e.errSchemaPath+"/"+f,r=m,v+="="):(_&&(r=Math[p?"min":"max"](m,s)),m===(!_||r)?(S=!0,b=f,u=e.errSchemaPath+"/"+f,v+="="):(S=!1,C+="="));A="'"+C+"'";n+=" if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" "+h+" "+v+" "+r+" || "+h+" !== "+h+") { "}}b=b||t,(w=w||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+A+", limit: "+r+", exclusive: "+S+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be "+C+" ",n+=d?"' + "+r:r+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";I=n;return n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},bo=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" "+h+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxItems"==t?"more":"fewer",n+=" than ",n+=d?"' + "+r+" + '":""+s,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var m=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},xo=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?n+=" "+h+".length ":n+=" ucs2length("+h+") ",n+=" "+p+" "+r+") { ";var f=t,m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be ",n+="maxLength"==t?"longer":"shorter",n+=" than ",n+=d?"' + "+r+" + '":""+s,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var y=n;return n=m.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},So=function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),n+=" Object.keys("+h+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxProperties"==t?"more":"fewer",n+=" than ",n+=d?"' + "+r+" + '":""+s,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var m=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},Po={$ref:function(e,t,i){var r,n,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),d="valid"+o;if("#"==l||"#/"==l)e.isRoot?(r=e.async,n="validate"):(r=!0===e.root.schema.$async,n="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f),(v=v||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var m=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);e.logger.warn(f),c&&(a+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var g="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=l,a+=" "+e.validate(y).replace(/validate\.schema/g,p.code)+" ",c&&(a+=" if ("+g+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,n=p.code}if(n){var v;(v=v||[]).push(a),a="",e.opts.passContext?a+=" "+n+".call(this, ":a+=" "+n+"( ",a+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var b=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=v.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+d+"; "),a+=" try { await "+b+"; ",c&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+d+" = false; "),a+=" } ",c&&(a+=" if ("+d+") { ")}else a+=" if (!"+b+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a},allOf:function(e,t,i){var r=" ",n=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,h=l.baseId,d=!0,p=n;if(p)for(var f,m=-1,y=p.length-1;m<y;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(d=!1,l.schema=f,l.schemaPath=a+"["+m+"]",l.errSchemaPath=o+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=h,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=d?" if (true) { ":" "+u.slice(0,-1)+" "),r},anyOf:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var y=p.baseId;r+=" var "+d+" = errors; var "+h+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var b,x=-1,S=v.length-1;x<S;)b=v[x+=1],p.schema=b,p.schemaPath=s+"["+x+"]",p.errSchemaPath=l+"/"+x,r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",f+="}";e.compositeRule=p.compositeRule=g,r+=" "+f+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else u&&(r+=" if (true) { ");return r},$comment:function(e,t,i){var r=" ",n=e.schema[t],a=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(n));return!0===e.opts.$comment?r+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r},const:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),d||(r+=" var schema"+n+" = validate.schema"+s+";"),r+="var "+h+" = equal("+c+", schema"+n+"); if (!"+h+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var f=r;return r=p.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},contains:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+n,y=p.dataLevel=e.dataLevel+1,g="data"+y,v=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+h+";",b){var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var S=c+"["+m+"]";p.dataPathArr[y]=m;var P=e.validate(p);p.baseId=v,e.util.varOccurences(P,g)<2?r+=" "+e.util.varReplace(P,g,S)+" ":r+=" var "+g+" = "+S+"; "+P+" ",r+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=x,r+="  if (!"+f+") {"}else r+=" if ("+c+".length == 0) {";var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},dependencies:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e),p="";d.level++;var f="valid"+d.level,m={},y={},g=e.opts.ownProperties;for(S in o)if("__proto__"!=S){var v=o[S],b=Array.isArray(v)?y:m;b[S]=v}r+="var "+h+" = errors;";var x=e.errorPath;for(var S in r+="var missing"+n+";",y)if((b=y[S]).length){if(r+=" if ( "+c+e.util.getProperty(S)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),u){r+=" && ( ";var P=b;if(P)for(var _=-1,C=P.length-1;_<C;){D=P[_+=1],_&&(r+=" || "),r+=" ( ( "+(M=c+(E=e.util.getProperty(D)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(D)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:E)+") ) "}r+=")) {  ";var w="missing"+n,I="' + "+w+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,w,!0):x+" + "+w);var A=A||[];A.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+I+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;r=A.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var O=b;if(O)for(var D,k=-1,F=O.length-1;k<F;){D=O[k+=1];var E=e.util.getProperty(D),M=(I=e.util.escapeQuotes(D),c+E);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,D,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(D)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+I+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(p+="}",r+=" else { ")}e.errorPath=x;var j=d.baseId;for(var S in m){v=m[S];(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(r+=" "+f+" = true; if ( "+c+e.util.getProperty(S)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),r+=") { ",d.schema=v,d.schemaPath=s+e.util.getProperty(S),d.errSchemaPath=l+"/"+e.util.escapeFragment(S),r+="  "+e.validate(d)+" ",d.baseId=j,r+=" }  ",u&&(r+=" if ("+f+") { ",p+="}"))}return u&&(r+="   "+p+" if ("+h+" == errors) {"),r},enum:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="i"+n,f="schema"+n;d||(r+=" var "+f+" = validate.schema"+s+";"),r+="var "+h+";",d&&(r+=" if (schema"+n+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+n+")) "+h+" = false; else {"),r+=h+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+c+", "+f+"["+p+"])) { "+h+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var y=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r},format:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var h,d=e.opts.$data&&o&&o.$data;d?(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",h="schema"+n):h=o;var p=e.opts.unknownFormats,f=Array.isArray(p);if(d){r+=" var "+(m="format"+n)+" = formats["+h+"]; var "+(y="isObject"+n)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+n)+" = "+y+" && "+m+".type || 'string'; if ("+y+") { ",e.async&&(r+=" var async"+n+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+h+" && !"+m+" ",f&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+g+" == '"+i+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+n+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m;if(!(m=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(f&&p.indexOf(o)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var y,g=(y="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(y){var v=!0===m.async;m=m.validate}if(g!=i)return u&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);y&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+h:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+h+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var S=r;return r=x.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r},if:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,y=e.schema.else,g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),v=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all)),b=p.baseId;if(g||v){var x;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+d+" = errors; var "+h+" = true;  ";var S=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=S,g?(r+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+h+" = "+f+"; ",g&&v?r+=" var "+(x="ifClause"+n)+" = 'then'; ":x="'then'",r+=" } ",v&&(r+=" else { ")):r+=" if (!"+f+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+h+" = "+f+"; ",g&&v?r+=" var "+(x="ifClause"+n)+" = 'else'; ":x="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+x+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+x+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r},items:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,y="i"+n,g=p.dataLevel=e.dataLevel+1,v="data"+g,b=e.baseId;if(r+="var "+d+" = errors;var "+h+";",Array.isArray(o)){var x=e.schema.additionalItems;if(!1===x){r+=" "+h+" = "+c+".length <= "+o.length+"; ";var S=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var P=P||[];P.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var _=r;r=P.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=S,u&&(f+="}",r+=" else { ")}var C=o;if(C)for(var w,I=-1,A=C.length-1;I<A;)if(w=C[I+=1],e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+I+") { ";var T=c+"["+I+"]";p.schema=w,p.schemaPath=s+"["+I+"]",p.errSchemaPath=l+"/"+I,p.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),p.dataPathArr[g]=I;var O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?r+=" "+e.util.varReplace(O,v,T)+" ":r+=" var "+v+" = "+T+"; "+O+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",f+="}")}if("object"==typeof x&&(e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all))){p.schema=x,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+y+" = "+o.length+"; "+y+" < "+c+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);T=c+"["+y+"]";p.dataPathArr[g]=y;O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?r+=" "+e.util.varReplace(O,v,T)+" ":r+=" var "+v+" = "+T+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",f+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+="  for (var "+y+" = 0; "+y+" < "+c+".length; "+y+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);T=c+"["+y+"]";p.dataPathArr[g]=y;O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?r+=" "+e.util.varReplace(O,v,T)+" ":r+=" var "+v+" = "+T+"; "+O+" ",u&&(r+=" if (!"+m+") break; "),r+=" }"}return u&&(r+=" "+f+" if ("+d+" == errors) {"),r},maximum:vo,minimum:vo,maxItems:bo,minItems:bo,maxLength:xo,minLength:xo,maxProperties:So,minProperties:So,multipleOf:function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;if(d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");n+="var division"+a+";if (",d&&(n+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),n+=" (division"+a+" = "+h+" / "+r+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+a+" !== parseInt(division"+a+") ",n+=" ) ",d&&(n+="  )  "),n+=" ) {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be multiple of ",n+=d?"' + "+r:r+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var f=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},not:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+h+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(f=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,f&&(d.opts.allErrors=f),e.compositeRule=d.compositeRule=m,r+=" if ("+p+") {   ";var y=y||[];y.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;r=y.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r},oneOf:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d="errs__"+n,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,y=p.baseId,g="prevValid"+n,v="passingSchemas"+n;r+="var "+d+" = errors , "+g+" = false , "+h+" = false , "+v+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var x=o;if(x)for(var S,P=-1,_=x.length-1;P<_;)S=x[P+=1],(e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all))?(p.schema=S,p.schemaPath=s+"["+P+"]",p.errSchemaPath=l+"/"+P,r+="  "+e.validate(p)+" ",p.baseId=y):r+=" var "+m+" = true; ",P&&(r+=" if ("+m+" && "+g+") { "+h+" = false; "+v+" = ["+v+", "+P+"]; } else { ",f+="}"),r+=" if ("+m+") { "+h+" = "+g+" = true; "+v+" = "+P+"; }";return e.compositeRule=p.compositeRule=b,r+=f+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},pattern:function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,n+="if ( ",d&&(n+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),n+=" !"+(d?"(new RegExp("+r+"))":e.usePattern(s))+".test("+h+") ) {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",n+=d?""+r:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match pattern \"",n+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+l:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var f=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},properties:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e),p="";d.level++;var f="valid"+d.level,m="key"+n,y="idx"+n,g=d.dataLevel=e.dataLevel+1,v="data"+g,b="dataProperties"+n,x=Object.keys(o||{}).filter(E),S=e.schema.patternProperties||{},P=Object.keys(S).filter(E),_=e.schema.additionalProperties,C=x.length||P.length,w=!1===_,I="object"==typeof _&&Object.keys(_).length,A=e.opts.removeAdditional,T=w||I||A,O=e.opts.ownProperties,D=e.baseId,k=e.schema.required;if(k&&(!e.opts.$data||!k.$data)&&k.length<e.opts.loopRequired)var F=e.util.toHash(k);function E(e){return"__proto__"!==e}if(r+="var "+h+" = errors;var "+f+" = true;",O&&(r+=" var "+b+" = undefined;"),T){if(r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+m+" = "+b+"["+y+"]; ":" for (var "+m+" in "+c+") { ",C){if(r+=" var isAdditional"+n+" = !(false ",x.length)if(x.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var M=x;if(M)for(var j=-1,L=M.length-1;j<L;)K=M[j+=1],r+=" || "+m+" == "+e.util.toQuotedString(K)+" "}if(P.length){var R=P;if(R)for(var V=-1,B=R.length-1;V<B;)ae=R[V+=1],r+=" || "+e.usePattern(ae)+".test("+m+") "}r+=" ); if (isAdditional"+n+") { "}if("all"==A)r+=" delete "+c+"["+m+"]; ";else{var N=e.errorPath,W="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),w)if(A)r+=" delete "+c+"["+m+"]; ";else{r+=" "+f+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(ie=ie||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+W+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var H=r;r=ie.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(r+=" break; ")}else if(I)if("failing"==A){r+=" var "+h+" = errors;  ";var G=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=_,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var U=c+"["+m+"]";d.dataPathArr[g]=m;var $=e.validate(d);d.baseId=D,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,U)+" ":r+=" var "+v+" = "+U+"; "+$+" ",r+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=d.compositeRule=G}else{d.schema=_,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);U=c+"["+m+"]";d.dataPathArr[g]=m;$=e.validate(d);d.baseId=D,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,U)+" ":r+=" var "+v+" = "+U+"; "+$+" ",u&&(r+=" if (!"+f+") break; ")}e.errorPath=N}C&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+f+") { ",p+="}")}var q=e.opts.useDefaults&&!e.compositeRule;if(x.length){var Y=x;if(Y)for(var K,X=-1,J=Y.length-1;X<J;){var Q=o[K=Y[X+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){var Z=e.util.getProperty(K),ee=(U=c+Z,q&&void 0!==Q.default);d.schema=Q,d.schemaPath=s+Z,d.errSchemaPath=l+"/"+e.util.escapeFragment(K),d.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(K);$=e.validate(d);if(d.baseId=D,e.util.varOccurences($,v)<2){$=e.util.varReplace($,v,U);var te=U}else{te=v;r+=" var "+v+" = "+U+"; "}if(ee)r+=" "+$+" ";else{if(F&&F[K]){r+=" if ( "+te+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(K)+"') "),r+=") { "+f+" = false; ";N=e.errorPath,z=l;var ie,re=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,K,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(ie=ie||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";H=r;r=ie.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=N,r+=" } else { "}else u?(r+=" if ( "+te+" === undefined ",O&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(K)+"') "),r+=") { "+f+" = true; } else { "):(r+=" if ("+te+" !== undefined ",O&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(K)+"') "),r+=" ) { ");r+=" "+$+" } "}}u&&(r+=" if ("+f+") { ",p+="}")}}if(P.length){var ne=P;if(ne)for(var ae,oe=-1,se=ne.length-1;oe<se;){Q=S[ae=ne[oe+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){d.schema=Q,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),r+=O?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+m+" = "+b+"["+y+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ae)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);U=c+"["+m+"]";d.dataPathArr[g]=m;$=e.validate(d);d.baseId=D,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,U)+" ":r+=" var "+v+" = "+U+"; "+$+" ",u&&(r+=" if (!"+f+") break; "),r+=" } ",u&&(r+=" else "+f+" = true; "),r+=" }  ",u&&(r+=" if ("+f+") { ",p+="}")}}}return u&&(r+=" "+p+" if ("+h+" == errors) {"),r},propertyNames:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="errs__"+n,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(r+="var "+h+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l;var f="key"+n,m="idx"+n,y="i"+n,g="' + "+f+" + '",v="data"+(d.dataLevel=e.dataLevel+1),b="dataProperties"+n,x=e.opts.ownProperties,S=e.baseId;x&&(r+=" var "+b+" = undefined; "),r+=x?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+f+" = "+b+"["+m+"]; ":" for (var "+f+" in "+c+") { ",r+=" var startErrs"+n+" = errors; ";var P=f,_=e.compositeRule;e.compositeRule=d.compositeRule=!0;var C=e.validate(d);d.baseId=S,e.util.varOccurences(C,v)<2?r+=" "+e.util.varReplace(C,v,P)+" ":r+=" var "+v+" = "+P+"; "+C+" ",e.compositeRule=d.compositeRule=_,r+=" if (!"+p+") { for (var "+y+"=startErrs"+n+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+="  if ("+h+" == errors) {"),r},required:function(e,t,i){var r=" ",n=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),h="valid"+n,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+n+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="schema"+n;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=o;if(m)for(var y,g=-1,v=m.length-1;g<v;){y=m[g+=1];var b=e.schema.properties[y];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(f[f.length]=y)}}else f=o;if(d||f.length){var x=e.errorPath,S=d||f.length>=e.opts.loopRequired,P=e.opts.ownProperties;if(u)if(r+=" var missing"+n+"; ",S){d||(r+=" var "+p+" = validate.schema"+s+"; ");var _="' + "+(O="schema"+n+"["+(I="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,O,e.opts.jsonPointers)),r+=" var "+h+" = true; ",d&&(r+=" if (schema"+n+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+n+")) "+h+" = false; else {"),r+=" for (var "+I+" = 0; "+I+" < "+p+".length; "+I+"++) { "+h+" = "+c+"["+p+"["+I+"]] !== undefined ",P&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+p+"["+I+"]) "),r+="; if (!"+h+") break; } ",d&&(r+="  }  "),r+="  if (!"+h+") {   ",(T=T||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;r=T.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var w=f;if(w)for(var I=-1,A=w.length-1;I<A;){k=w[I+=1],I&&(r+=" || "),r+=" ( ( "+(j=c+(M=e.util.getProperty(k)))+" === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(k)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?k:M)+") ) "}r+=") {  ";var T;_="' + "+(O="missing"+n)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,O,!0):x+" + "+O),(T=T||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";C=r;r=T.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(S){d||(r+=" var "+p+" = validate.schema"+s+"; ");var O;_="' + "+(O="schema"+n+"["+(I="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,O,e.opts.jsonPointers)),d&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+I+" = 0; "+I+" < "+p+".length; "+I+"++) { if ("+c+"["+p+"["+I+"]] === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+p+"["+I+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var D=f;if(D)for(var k,F=-1,E=D.length-1;F<E;){k=D[F+=1];var M=e.util.getProperty(k),j=(_=e.util.escapeQuotes(k),c+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,k,e.opts.jsonPointers)),r+=" if ( "+j+" === undefined ",P&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(k)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+_+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else u&&(r+=" if (true) {");return r},uniqueItems:function(e,t,i){var r,n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(n+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),n+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var y="checkDataType"+(m?"s":"");n+=" if ("+e.util[y](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(n+=" if (typeof item == 'string') item = '\"' + item; "),n+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",p&&(n+="  }  "),n+=" if (!"+d+") {   ";var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",n+=p?"validate.schema"+l:""+s,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var v=n;n=g.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},validate:Ba},_o=oa.toHash,Co=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],wo=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));var r,n=t[i].split("/"),a=e;for(r=1;r<n.length;r++)a=a[n[r]];for(r=0;r<Co.length;r++){var o=Co[r],s=a[o];s&&(a[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},Io=ja.MissingRef,Ao=function e(t,i,r){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof i&&(r=i,i=void 0);var a=o(t).then((function(){var e=n._addSchema(t,void 0,i);return e.validate||function e(t){try{return n._compile(t)}catch(e){if(e instanceof Io)return r(e);throw e}function r(r){var a=r.missingSchema;if(u(a))throw new Error("Schema "+a+" is loaded but "+r.missingRef+" cannot be resolved");var s=n._loadingSchemas[a];return s||(s=n._loadingSchemas[a]=n._opts.loadSchema(a)).then(l,l),s.then((function(e){if(!u(a))return o(e).then((function(){u(a)||n.addSchema(e,a,void 0,i)}))})).then((function(){return e(t)}));function l(){delete n._loadingSchemas[a]}function u(e){return n._refs[e]||n._schemas[e]}}}(e)}));r&&a.then((function(e){r(null,e)}),r);return a;function o(t){var i=t.$schema;return i&&!n.getSchema(i)?e.call(n,{$ref:i},!0):Promise.resolve()}};var To=function(e,t,i){var r,n,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,f="errs__"+o,m=e.opts.$data&&l&&l.$data;m?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=l;var y,g,v,b,x,S="definition"+o,P=this.definition,_="";if(m&&P.$data){x="keywordValidate"+o;var C=P.validateSchema;a+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+x+" = "+S+".validate;"}else{if(!(b=e.useCustomRule(this,l,e.schema,e)))return;n="validate.schema"+u,x=b.code,y=P.compile,g=P.inline,v=P.macro}var w=x+".errors",I="i"+o,A="ruleErr"+o,T=P.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(g||v||(a+=w+" = null;"),a+="var "+f+" = errors;var "+p+";",m&&P.$data&&(_+="}",a+=" if ("+n+" === undefined) { "+p+" = true; } else { ",C&&(_+="}",a+=" "+p+" = "+S+".validateSchema("+n+"); if ("+p+") { ")),g)P.statements?a+=" "+b.validate+" ":a+=" "+p+" = "+b.validate+"; ";else if(v){var O=e.util.copy(e);_="";O.level++;var D="valid"+O.level;O.schema=b.validate,O.schemaPath="";var k=e.compositeRule;e.compositeRule=O.compositeRule=!0;var F=e.validate(O).replace(/validate\.schema/g,x);e.compositeRule=O.compositeRule=k,a+=" "+F}else{(L=L||[]).push(a),a="",a+="  "+x+".call( ",e.opts.passContext?a+="this":a+="self",y||!1===P.schema?a+=" , "+d+" ":a+=" , "+n+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var E=s?"data"+(s-1||""):"parentData",M=s?e.dataPathArr[s]:"parentDataProperty",j=a+=" , "+E+" , "+M+" , rootData )  ";a=L.pop(),!1===P.errors?(a+=" "+p+" = ",T&&(a+="await "),a+=j+"; "):a+=T?" var "+(w="customErrors"+o)+" = null; try { "+p+" = await "+j+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+w+" = e.errors; else throw e; } ":" "+w+" = null; "+p+" = "+j+"; "}if(P.modifying&&(a+=" if ("+E+") "+d+" = "+E+"["+M+"];"),a+=""+_,P.valid)h&&(a+=" if (true) { ");else{var L;a+=" if ( ",void 0===P.valid?(a+=" !",a+=v?""+D:""+p):a+=" "+!P.valid+" ",a+=") { ",r=this.keyword,(L=L||[]).push(a),a="",(L=L||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var R=a;a=L.pop(),!e.compositeRule&&h?e.async?a+=" throw new ValidationError(["+R+"]); ":a+=" validate.errors = ["+R+"]; return false; ":a+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var V=a;a=L.pop(),g?P.errors?"full"!=P.errors&&(a+="  for (var "+I+"="+f+"; "+I+"<errors; "+I+"++) { var "+A+" = vErrors["+I+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+n+"; "+A+".data = "+d+"; "),a+=" } "):!1===P.errors?a+=" "+V+" ":(a+=" if ("+f+" == errors) { "+V+" } else {  for (var "+I+"="+f+"; "+I+"<errors; "+I+"++) { var "+A+" = vErrors["+I+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+n+"; "+A+".data = "+d+"; "),a+=" } } "):v?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===P.errors?a+=" "+V+" ":(a+=" if (Array.isArray("+w+")) { if (vErrors === null) vErrors = "+w+"; else vErrors = vErrors.concat("+w+"); errors = vErrors.length;  for (var "+I+"="+f+"; "+I+"<errors; "+I+"++) { var "+A+" = vErrors["+I+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+A+".schema = "+n+"; "+A+".data = "+d+"; "),a+=" } } else { "+V+" } "),a+=" } ",h&&(a+=" else { ")}return a};var Oo={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Do={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Oo.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Oo.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},ko=/^[a-z_$][a-z0-9_$-]*$/i,Fo=function(e,t){var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!ko.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var r=t.type;if(Array.isArray(r))for(var n=0;n<r.length;n++)o(e,r[n],t);else o(e,r,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function o(e,t,r){for(var n,a=0;a<i.length;a++){var o=i[a];if(o.type==t){n=o;break}}n||(n={type:t,rules:[]},i.push(n));var s={keyword:e,definition:r,custom:!0,code:To,implements:r.implements};n.rules.push(s),i.custom[e]=s}return i.keywords[e]=i.all[e]=!0,this},Eo=function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},Mo=function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var i=0;i<t.length;i++)for(var r=t[i].rules,n=0;n<r.length;n++)if(r[n].keyword==e){r.splice(n,1);break}return this},jo=function e(t,i){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(Do,!0);if(r(t))return!0;if(e.errors=r.errors,i)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1};var Lo={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Ro=Wo;Wo.prototype.validate=function(e,t){var i;if("string"==typeof e){if(!(i=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);i=r.validate||this._compile(r)}var n=i(t);!0!==i.$async&&(this.errors=i.errors);return n},Wo.prototype.compile=function(e,t){var i=this._addSchema(e,void 0,t);return i.validate||this._compile(i)},Wo.prototype.addSchema=function(e,t,i,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,i,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return qo(this,t=Pa.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,i,r,!0),this},Wo.prototype.addMetaSchema=function(e,t,i){return this.addSchema(e,t,i,!0),this},Wo.prototype.validateSchema=function(e,t){var i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(Vo)?Vo:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(i,e);if(!r&&t){var n="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return r},Wo.prototype.getSchema=function(e){var t=zo(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var i=Pa.schema.call(e,{schema:{}},t);if(i){var r=i.schema,n=i.root,a=i.baseId,o=za.call(e,r,n,void 0,a);return e._fragments[t]=new xa({ref:t,fragment:!0,schema:r,root:n,baseId:a,validate:o}),o}}(this,e)}},Wo.prototype.removeSchema=function(e){if(e instanceof RegExp)return Ho(this,this._schemas,e),Ho(this,this._refs,e),this;switch(typeof e){case"undefined":return Ho(this,this._schemas),Ho(this,this._refs),this._cache.clear(),this;case"string":var t=zo(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var i=this._opts.serialize,r=i?i(e):e;this._cache.del(r);var n=this._getId(e);n&&(n=Pa.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},Wo.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},Wo.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var i=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,n="",a=0;a<e.length;a++){var o=e[a];o&&(n+=r+o.dataPath+" "+o.message+i)}return n.slice(0,-i.length)},Wo.prototype._addSchema=function(e,t,i,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var n=this._opts.serialize,a=n?n(e):e,o=this._cache.get(a);if(o)return o;r=r||!1!==this._opts.addUsedSchema;var s=Pa.normalizeId(this._getId(e));s&&r&&qo(this,s);var l,u=!1!==this._opts.validateSchema&&!t;u&&!(l=s&&s==Pa.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=Pa.ids.call(this,e),h=new xa({id:s,schema:e,localRefs:c,cacheKey:a,meta:i});"#"!=s[0]&&r&&(this._refs[s]=h);this._cache.put(a,h),u&&l&&this.validateSchema(e,!0);return h},Wo.prototype._compile=function(e,t){if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,!0===e.schema.$async&&(n.$async=!0),n;var i,r;e.compiling=!0,e.meta&&(i=this._opts,this._opts=this._metaOpts);try{r=za.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=i)}return e.validate=r,e.refs=r.refs,e.refVal=r.refVal,e.root=r.root,r;function n(){var t=e.validate,i=t.apply(this,arguments);return n.errors=t.errors,i}},Wo.prototype.compileAsync=Ao,Wo.prototype.addKeyword=Fo,Wo.prototype.getKeyword=Eo,Wo.prototype.removeKeyword=Mo,Wo.prototype.validateKeyword=jo,Wo.ValidationError=ja.Validation,Wo.MissingRefError=ja.MissingRef,Wo.$dataMetaSchema=wo;var Vo="http://json-schema.org/draft-07/schema",Bo=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],No=["/properties"];function Wo(e){if(!(this instanceof Wo))return new Wo(e);var t,i;e=this._opts=oa.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:Yo,warn:Yo,error:Yo};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=uo(e.format),this._cache=e.cache||new Ja,this._loadingSchemas={},this._compilations=[],this.RULES=((t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}]).all=_o(i=["type","$comment"]),t.types=_o(["number","integer","string","array","object","boolean","null"]),t.forEach((function(e){e.rules=e.rules.map((function(e){var r;if("object"==typeof e){var n=Object.keys(e)[0];r=e[n],e=n,r.forEach((function(e){i.push(e),t.all[e]=!0}))}return i.push(e),t.all[e]={keyword:e,code:Po[e],implements:r}})),t.all.$comment={keyword:"$comment",code:Po.$comment},e.type&&(t.types[e.type]=e)})),t.keywords=_o(i.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t),this._getId=function(e){switch(e.schemaId){case"auto":return $o;case"id":return Go;default:return Uo}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=Va),this._metaOpts=function(e){for(var t=oa.copy(e._opts),i=0;i<Bo.length;i++)delete t[Bo[i]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var i=e._opts.formats[t];e.addFormat(t,i)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var i=e._opts.keywords[t];e.addKeyword(t,i)}}(this),function(e){var t;e._opts.$data&&(t=Lo,e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var i=Oo;e._opts.$data&&(i=wo(i,No));e.addMetaSchema(i,Vo,!0),e._refs["http://json-schema.org/schema"]=Vo}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var i in t)e.addSchema(t[i],i)}(this)}function zo(e,t){return t=Pa.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function Ho(e,t,i){for(var r in t){var n=t[r];n.meta||i&&!i.test(r)||(e._cache.del(n.cacheKey),delete t[r])}}function Go(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Uo(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function $o(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function qo(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function Yo(){}const Ko={NonNumericAggregation:"nonNumericAggregation",DuplicateSeriesID:"duplicateSeriesId"},Xo={Required:"required",MinLength:"minLength",MinItems:"minItems",MaxItems:"maxItems",Pattern:"pattern",AdditionalProperties:"additionalProperties",Enum:"enum",AnyOf:"anyOf"},Jo={BadData:"badData",HistogramEmptyField:"histogramEmptyField",BarElementExceedsLimit:"barElementExceedsLimit",NegativeValueInSqrtCalculation:"negativeValueInSqrtCalculation",NegativeValueInLogCalculation:"negativeValueInLogCalculation"};function Qo(e){const t=e.lastIndexOf("/");return-1!==t?e.slice(t+1):e}const Zo=function(){const e=new Ro({allErrors:!0});return(t,i)=>n(this,void 0,void 0,(function*(){let r=ia;var a,o;i===U&&(a=ia,o="WebGaugeChart",r=Object.assign(Object.assign({},a),{$ref:"#/definitions/"+o}));const s=e.compile(r);s(t);let l=[];return null!==s.errors&&void 0!==s.errors&&(l=yield function(e){return n(this,void 0,void 0,(function*(){const t=yield Yn();return e.map(e=>{let i=e;const r="."===e.dataPath[0]?e.dataPath.substring(1):e.dataPath;switch(e.keyword){case Xo.Required:i=Object.assign(Object.assign({},e),{message:Tr(t.requiredProperty,{dataPath:r,missingProperty:e.params.missingProperty})});break;case Xo.MinLength:i=Object.assign(Object.assign({},e),{message:Tr(t.minLength,{dataPath:r,limit:e.params.limit.toString()})});break;case Xo.MinItems:i=Object.assign(Object.assign({},e),{message:Tr(t.minItems,{dataPath:r,limit:e.params.limit.toString()})});break;case Xo.MaxItems:i=Object.assign(Object.assign({},e),{message:Tr(t.maxItems,{dataPath:r,limit:e.params.limit.toString()})});break;case Xo.Pattern:"\\w+"===e.params.pattern&&(i=Object.assign(Object.assign({},e),{message:Tr(t.whiteSpacePattern,{dataPath:r}),params:{}}));break;case Xo.AdditionalProperties:i=Object.assign(Object.assign({},e),{message:Tr(t.additionalProperty,{dataPath:r,additionalProperty:e.params.additionalProperty})});break;case Xo.Enum:i=Object.assign(Object.assign({},e),{message:Tr(t.enumValues,{dataPath:r,allowedValues:e.params.allowedValues.join(", ")})});break;case Xo.AnyOf:{let n=[];"#/properties/series/items/anyOf"===e.schemaPath?n=ia.definitions.WebChart.properties.series.items.anyOf.map(e=>Qo(e.$ref)):"#/properties/dataSource/anyOf"===e.schemaPath&&(n=ia.definitions.WebChart.properties.dataSource.anyOf.map(e=>Qo(e.$ref))),i=Object.assign(Object.assign({},e),{params:n,message:Tr(t.anyOfValues,{dataPath:r,schemaOptions:n.join(", ")})});break}}return i})}))}(s.errors)),l}))}();function es(e,t){return n(this,void 0,void 0,(function*(){let i=[];if(e.dataSource.type===Q&&void 0!==t){const r=yield function(e,t){var i;return n(this,void 0,void 0,(function*(){const r=kn(yield On(t)),n=[],a=yield Yn();for(let t=0;t<e.length;t+=1){const o=null===(i=e[t].query)||void 0===i?void 0:i.outStatistics;if(void 0!==o)for(let e=0;e<o.length;e+=1){const i=o[e],s=r.get(i.onStatisticField);if(void 0!==s&&!1===En(s)&&i.statisticType!==h){const r=`series[${t}].query.outStatistics[${e}]`;n.push({keyword:Ko.NonNumericAggregation,message:Tr(a.nonNumericAggregation,{dataPath:r}),dataPath:r,params:{fieldName:i.onStatisticField,fieldType:s.type,aggregationRequested:i.statisticType}})}}}return n}))}(e.series,t);i=i.concat(r)}return i=i.concat(yield function(e){return n(this,void 0,void 0,(function*(){const t=[],i=yield Yn();if(void 0!==e&&e.series.length>1){const r=new Set;let n=0;e.series.forEach((e,a)=>{if(r.add(e.id),r.size===n){const r=`series[${a}].id`;t.push({keyword:Ko.DuplicateSeriesID,message:Tr(i.duplicateSeriesID,{dataPath:r,seriesID:e.id,seriesName:e.name}),dataPath:r,params:{seriesId:e.id,seriesName:e.name}})}else n+=1})}return t}))}(e)),i}))}function ts(e,t){return n(this,void 0,void 0,(function*(){let i=[];if((null==e?void 0:e.dataSource.type)===Q&&void 0!==t){const e=yield function(e){var t,i,r;return n(this,void 0,void 0,(function*(){let n;const a=yield Yn(),o=yield Tn(e);try{yield o.load()}catch(e){const s=null!==(t=o.url)&&void 0!==t?t:"",l=null!==(r=null===(i=o.portalItem)||void 0===i?void 0:i.id)&&void 0!==r?r:"";n={keyword:$n.LayerLoadFailure,message:Tr(a.layerLoadFailure,{url:s,portalItemId:l}),params:{url:s,portalItemId:l}}}return n}))}(t);void 0!==e&&(i=i.concat(e))}return i}))}function is(e){return n(this,void 0,void 0,(function*(){const{input:t,seriesType:i,queryObject:r}=e,n=yield Zo(t,i);let a=[],o=[];return void 0!==t&&0===n.length&&(o=yield ts(t,r),o.length<0&&(a=yield es(t,r))),{valid:0===n.length&&0===a.length&&0===o.length,schemaErrors:n,customErrors:o,warnings:a}}))}function rs(e){return n(this,void 0,void 0,(function*(){const{invalidType:t,elementCount:i,seriesCount:r}=e,n=yield Yn();let a={keyword:Jo.BadData,message:n.defaultInvalidChart};switch(t){case Jo.BarElementExceedsLimit:{const e=new Intl.NumberFormat,t={maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxScatterCellsPerQuery:500};let o=NaN,s=NaN,l="";1===r?(l=n.uniqueSeriesBarCountCannotExceedLimit,o=t.maxBarUniqueSeriesCountTotal):2===r?(l=n.twoSeriesBarCountCannotExceedLimit,o=t.maxBarTwoSeriesCountTotal,s=t.maxBarTwoSeriesCountPerSeries):void 0!==r&&r>2&&(l=n.threePlusSeriesBarCountCannotExceedLimit,o=t.maxBarThreePlusSeriesCountTotal,s=t.maxBarThreePlusSeriesCountPerSeries);const u=e.format(o),c=e.format(s);a={keyword:Jo.BarElementExceedsLimit,message:Tr(l,{totalLimit:u,seriesLimit:c,elementCount:""+i}),params:{actualCount:null!=i?i:NaN,totalLimit:o,seriesLimit:s}};break}case Jo.NegativeValueInSqrtCalculation:a={keyword:Jo.NegativeValueInSqrtCalculation,message:n.negativeValueInDataForSqrtTransformation};break;case Jo.NegativeValueInLogCalculation:a={keyword:Jo.NegativeValueInLogCalculation,message:n.negativeValueInDataForLogTransformation};break;case Jo.HistogramEmptyField:a={keyword:Jo.HistogramEmptyField,message:n.histogramEmptyField}}return a}))}function ns(e,t){var i,r,n,a,o;const s=rr(e);if(void 0!==s){if(void 0===s.version&&(s.version="1.0.0"),void 0!==t)if(void 0===s.dataSource)s.dataSource=t;else if((null===(i=s.dataSource)||void 0===i?void 0:i.type)===Q&&void 0===(null===(n=null===(r=s.dataSource)||void 0===r?void 0:r.featureLayer)||void 0===n?void 0:n.id)&&void 0!==t.featureLayer){const{featureLayer:e}=t;let i;void 0!==(null===(o=null===(a=e.featureCollection)||void 0===a?void 0:a.layers)||void 0===o?void 0:o[0])&&(i=e.featureCollection.layers[0]);const r={id:e.id,layerType:"ArcGISFeatureLayer",itemId:e.itemId};if(void 0!==i){const{layerDefinition:t}=e.featureCollection.layers[0];r.featureCollection={layers:[{featureSet:i,layerDefinition:t}]}}else r.url=e.url,r.layerDefinition=e.layerDefinition;s.dataSource.featureLayer=r}!1===ur(s.axes)&&(s.axes=s.axes.map((e,t)=>{var i,r,n,a,o;const l=e;return delete l.calculateAutomaticMaximum,delete l.calculateAutomaticMinimum,(null===(i=s.series)||void 0===i?void 0:i[0].type)===$&&0===t&&(null===(r=l.valueFormat)||void 0===r?void 0:r.type)===W&&(l.valueFormat=Ur()),void 0!==(null===(o=null===(a=null===(n=l.title)||void 0===n?void 0:n.content)||void 0===a?void 0:a.font)||void 0===o?void 0:o.style)&&(l.title.content.font.style=l.title.content.font.style.toLowerCase()),l})),!1===ur(s.series)&&(s.series=s.series.map(e=>{var t,i,r;const n=e;return void 0===e.id&&(n.id="Series "+Date.now()),mn(s.series)===$&&"median"===(null===(r=null===(i=null===(t=n.query)||void 0===t?void 0:t.outStatistics)||void 0===i?void 0:i[0])||void 0===r?void 0:r.statisticType)&&(n.query.outStatistics[0].statisticType=g),n})),void 0!==s.legend&&!1===Number.isFinite(s.legend.maxHeight)&&(s.legend.maxHeight=NaN)}return s}}).call(this,i(1),i(2)(e))},function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i(8),n=i(9),a=i(5);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,i)}function u(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,i,r):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,i),n=(e=s(e,r)).write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=s(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function d(e,t){var i=t.length<0?0:0|p(t.length);e=s(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return W(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return A(this,t,i);case"latin1":case"binary":return T(this,t,i);case"base64":return w(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function g(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,r,n);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,r,n){var a,o=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,i/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){var c=-1;for(a=i;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(i+l>s&&(i=s-l),a=i;a>=0;a--){for(var h=!0,d=0;d<l;d++)if(u(e,a+d)!==u(t,d)){h=!1;break}if(h)return a}return-1}function b(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[i+o]=s}return o}function x(e,t,i,r){return z(N(t,e.length-i),e,i,r)}function S(e,t,i,r){return z(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function P(e,t,i,r){return S(e,t,i,r)}function _(e,t,i,r){return z(W(t),e,i,r)}function C(e,t,i,r){return z(function(e,t){for(var i,r,n,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),r=i>>8,n=i%256,a.push(n),a.push(r);return a}(t,e.length-i),e,i,r)}function w(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function I(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var a,o,s,l,u=e[n],c=null,h=u>239?4:u>223?3:u>191?2:1;if(n+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(a=e[n+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[n+1],o=e[n+2],128==(192&a)&&128==(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[n+1],o=e[n+2],s=e[n+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return i}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return u(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,r){return c(t),t<=0?s(e,t):void 0!==i?"string"==typeof r?s(e,t).fill(i,r):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,a=Math.min(i,r);n<a;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=l.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var o=e[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,r,n){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(n>>>=0)-(r>>>=0),o=(i>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,n),c=e.slice(t,i),h=0;h<s;++h)if(u[h]!==c[h]){a=u[h],o=c[h];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},l.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return x(this,e,t,i);case"ascii":return S(this,e,t,i);case"latin1":case"binary":return P(this,e,t,i);case"base64":return _(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function T(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function O(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",a=t;a<i;++a)n+=B(e[a]);return n}function D(e,t,i){for(var r=e.slice(t,i),n="",a=0;a<r.length;a+=2)n+=String.fromCharCode(r[a]+256*r[a+1]);return n}function k(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,i,r,n,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function E(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,a=Math.min(e.length-i,2);n<a;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function M(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,a=Math.min(e.length-i,4);n<a;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function j(e,t,i,r,n,a){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,i,r,a){return a||j(e,0,i,4),n.write(e,t,i,r,23,4),i+4}function R(e,t,i,r,a){return a||j(e,0,i,8),n.write(e,t,i,r,52,8),i+8}l.prototype.slice=function(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var n=t-e;i=new l(n,void 0);for(var a=0;a<n;++a)i[a]=this[a+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e],n=1,a=0;++a<t&&(n*=256);)r+=this[e+a]*n;return r},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},l.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e],n=1,a=0;++a<t&&(n*=256);)r+=this[e+a]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=t,n=1,a=this[e+--r];r>0&&(n*=256);)a+=this[e+--r]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||F(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,a=0;for(this[t]=255&e;++a<i&&(n*=256);)this[t+a]=e/n&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||F(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);F(this,e,t,i,n-1,-n)}var a=0,o=1,s=0;for(this[t]=255&e;++a<i&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+i},l.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);F(this,e,t,i,n-1,-n)}var a=i-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return R(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return R(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,a=r-i;if(this===e&&i<t&&t<r)for(n=a-1;n>=0;--n)e[n+t]=this[n+i];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},l.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var o=l.isBuffer(e)?e:N(new l(e,r).toString()),s=o.length;for(a=0;a<i-t;++a)this[a+t]=o[a%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var i;t=t||1/0;for(var r=e.length,n=null,a=[],o=0;o<r;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function W(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(this,i(1))},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},,,function(e,t,i){"use strict";t.byteLength=function(e){var t=u(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,r=u(e),o=r[0],s=r[1],l=new a(function(e,t,i){return 3*(t+i)/4-i}(0,o,s)),c=0,h=s>0?o-4:o;for(i=0;i<h;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[c++]=255&t);1===s&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,a=[],o=0,s=i-n;o<s;o+=16383)a.push(c(e,o,o+16383>s?s:o+16383));1===n?(t=e[i-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,i){for(var n,a,o=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=n)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,r,n){var a,o,s=8*n-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=i?n-1:0,d=i?-1:1,p=e[t+h];for(h+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=u}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,i,r,n,a){var o,s,l,u=8*a-n-1,c=(1<<u)-1,h=c>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*l-1)*Math.pow(2,n),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;e[i+p]=255&s,p+=f,s/=256,n-=8);for(o=o<<n|s,u+=n;u>0;e[i+p]=255&o,p+=f,o/=256,u-=8);e[i+p-f]|=128*m}},function(e,t,i){"use strict";i.r(t),i.d(t,"ChartEvents",(function(){return r.a})),i.d(t,"createChart",(function(){return r.i})),i.d(t,"createGaugeChart",(function(){return r.g})),i.d(t,"createPieChart",(function(){return r.f})),i.d(t,"createXYChart",(function(){return r.e})),i.d(t,"isCategoryValueFormat",(function(){return r.j})),i.d(t,"isDateValueFormat",(function(){return r.k})),i.d(t,"isNumberValueFormat",(function(){return r.l})),i.d(t,"ArcgisChartsError",(function(){return n.a})),i.d(t,"ConfigErrorKeywords",(function(){return n.b})),i.d(t,"ConfigWarningKeywords",(function(){return n.c})),i.d(t,"DataWarningKeywords",(function(){return n.d})),i.d(t,"ErrorKeywords",(function(){return n.e})),i.d(t,"JSAPIModules",(function(){return n.f})),i.d(t,"QueryType",(function(){return n.g})),i.d(t,"RTLLocales",(function(){return n.h})),i.d(t,"SupportedLocales",(function(){return n.i})),i.d(t,"TextElements",(function(){return n.j})),i.d(t,"abortControllerProperties",(function(){return n.k})),i.d(t,"abortPendingQueries",(function(){return n.l})),i.d(t,"canShowLegend",(function(){return n.m})),i.d(t,"combineFilters",(function(){return n.n})),i.d(t,"convertChartSpec",(function(){return n.o})),i.d(t,"createFeatureLayerFieldsMap",(function(){return n.p})),i.d(t,"defaultAxisLineColor",(function(){return n.q})),i.d(t,"defaultGridLineOpacity",(function(){return n.r})),i.d(t,"defaultOpacity",(function(){return n.s})),i.d(t,"escapeSQLString",(function(){return n.t})),i.d(t,"fetchComponentLocaleStrings",(function(){return n.u})),i.d(t,"fetchFeatureLayerFieldsInfo",(function(){return n.v})),i.d(t,"formatMessage",(function(){return n.w})),i.d(t,"generateRandomRestColor",(function(){return n.x})),i.d(t,"getBarSeriesType",(function(){return n.y})),i.d(t,"getChartLimits",(function(){return n.z})),i.d(t,"getDataWarningObject",(function(){return n.A})),i.d(t,"getDefaultAggregationTypeLabel",(function(){return n.B})),i.d(t,"getDefaultAxes",(function(){return n.C})),i.d(t,"getDefaultBackground",(function(){return n.D})),i.d(t,"getDefaultBarChart",(function(){return n.E})),i.d(t,"getDefaultBarChartSeries",(function(){return n.F})),i.d(t,"getDefaultCategoryFormat",(function(){return n.G})),i.d(t,"getDefaultChartText",(function(){return n.H})),i.d(t,"getDefaultColor",(function(){return n.I})),i.d(t,"getDefaultDateFormat",(function(){return n.J})),i.d(t,"getDefaultFont",(function(){return n.K})),i.d(t,"getDefaultHistogram",(function(){return n.L})),i.d(t,"getDefaultHistogramSeries",(function(){return n.M})),i.d(t,"getDefaultLegend",(function(){return n.N})),i.d(t,"getDefaultLineSymbol",(function(){return n.O})),i.d(t,"getDefaultNumberFormat",(function(){return n.P})),i.d(t,"getDefaultOverlay",(function(){return n.Q})),i.d(t,"getDefaultPercentNumberFormat",(function(){return n.R})),i.d(t,"getDefaultScatterPlot",(function(){return n.S})),i.d(t,"getDefaultStatNumberFormat",(function(){return n.T})),i.d(t,"getDefaultTextSymbol",(function(){return n.U})),i.d(t,"getDefaultTitle",(function(){return n.V})),i.d(t,"getDefaultTrendLine",(function(){return n.W})),i.d(t,"getDefaultValueAxis",(function(){return n.X})),i.d(t,"getFeatureLayer",(function(){return n.Y})),i.d(t,"getFeatureLayerDataSource",(function(){return n.Z})),i.d(t,"getFeatureLayerDateFields",(function(){return n.ab})),i.d(t,"getFeatureLayerFromQueryObject",(function(){return n.bb})),i.d(t,"getFieldAlias",(function(){return n.cb})),i.d(t,"getFieldsByFeatureLayerSource",(function(){return n.db})),i.d(t,"getLocaleInfo",(function(){return n.eb})),i.d(t,"getMaxRecordCountFactor",(function(){return n.fb})),i.d(t,"getMaxRecords",(function(){return n.gb})),i.d(t,"getObjectIdField",(function(){return n.hb})),i.d(t,"getOneRampColor",(function(){return n.ib})),i.d(t,"getQueryObject",(function(){return n.jb})),i.d(t,"getQueryType",(function(){return n.kb})),i.d(t,"getRendererInfo",(function(){return n.lb})),i.d(t,"getSeriesType",(function(){return n.mb})),i.d(t,"getSplitByField",(function(){return n.nb})),i.d(t,"getSplitByValue",(function(){return n.ob})),i.d(t,"hexToRGB",(function(){return n.pb})),i.d(t,"isAbsoluteTruthWhereClause",(function(){return n.qb})),i.d(t,"isFeatureLayer",(function(){return n.rb})),i.d(t,"isNumberOfBarsUnderLimit",(function(){return n.sb})),i.d(t,"isNumericField",(function(){return n.tb})),i.d(t,"isSupportedChart",(function(){return n.ub})),i.d(t,"loadJSAPIModules",(function(){return n.vb})),i.d(t,"mapQuery",(function(){return n.wb})),i.d(t,"normalizeString",(function(){return n.xb})),i.d(t,"normalizeWhereClause",(function(){return n.yb})),i.d(t,"queryAllFeatures",(function(){return n.zb})),i.d(t,"queryDefaults",(function(){return n.Ab})),i.d(t,"queryStatistics",(function(){return n.Bb})),i.d(t,"queryUniqueIDs",(function(){return n.Cb})),i.d(t,"ramp",(function(){return n.Db})),i.d(t,"uniqueValues",(function(){return n.Eb})),i.d(t,"validateWebChart",(function(){return n.Fb})),i.d(t,"WebChartCurrentVersion",(function(){return a})),i.d(t,"WebChartTypes",(function(){return v})),i.d(t,"WebChartDataTransformations",(function(){return b})),i.d(t,"WebChartColoringPatterns",(function(){return x})),i.d(t,"WebChartLegendPositions",(function(){return S})),i.d(t,"WebChartBarSeriesKinds",(function(){return P})),i.d(t,"WebChartProbabilityPlotKinds",(function(){return _})),i.d(t,"WebChartSortOrderKinds",(function(){return C})),i.d(t,"WebChartDataSourceTypes",(function(){return w})),i.d(t,"StatisticsDefaults",(function(){return I})),i.d(t,"RESTFieldType",(function(){return o})),i.d(t,"RESTStatisticType",(function(){return s})),i.d(t,"RESTSimpleLineSymbolStyle",(function(){return l})),i.d(t,"RESTSimpleMarkerSymbolStyle",(function(){return u})),i.d(t,"RESTSimpleFillSymbolStyle",(function(){return c})),i.d(t,"RESTHorizontalAlignment",(function(){return h})),i.d(t,"RESTVerticalAlignment",(function(){return d})),i.d(t,"RESTSymbolType",(function(){return p})),i.d(t,"RESTFontStyle",(function(){return f})),i.d(t,"RESTFontWeight",(function(){return m})),i.d(t,"RESTFontDecoration",(function(){return y})),i.d(t,"RESTRendererType",(function(){return g}));var r=i(0),n=i(3);const a="1.0.0",o={Blob:"esriFieldTypeBlob",Date:"esriFieldTypeDate",Double:"esriFieldTypeDouble",Geometry:"esriFieldTypeGeometry",GlobalID:"esriFieldTypeGlobalID",GUID:"esriFieldTypeGUID",Integer:"esriFieldTypeInteger",OID:"esriFieldTypeOID",Raster:"esriFieldTypeRaster",Single:"esriFieldTypeSingle",SmallInteger:"esriFieldTypeSmallInteger",String:"esriFieldTypeString",XML:"esriFieldTypeXML"},s={Count:"count",Sum:"sum",Minimum:"min",Maximum:"max",Average:"avg",StandardDeviation:"stddev",Variance:"var",ContinuousPercentile:"percentile_cont",DiscretePercentile:"percentile_disc",NoAggregation:"no_aggregation"},l={Dash:"esriSLSDash",DashDot:"esriSLSDashDot",DashDotDot:"esriSLSDashDotDot",Dot:"esriSLSDot",Null:"esriSLSNull",Solid:"esriSLSSolid"},u={Circle:"esriSMSCircle",Cross:"esriSMSCross",Diamond:"esriSMSDiamond",Square:"esriSMSSquare",X:"esriSMSX",Triangle:"esriSMSTriangle"},c={BackwardDiagonal:"esriSFSBackwardDiagonal",Cross:"esriSFSCross",DiagonalCross:"esriSFSDiagonalCross",ForwardDiagonal:"esriSFSForwardDiagonal",Horizontal:"esriSFSHorizontal",Null:"esriSFSNull",Solid:"esriSFSSolid",Vertical:"esriSFSVertical"},h={Left:"left",Right:"right",Center:"center",Justify:"justify"},d={Baseline:"baseline",Top:"top",Middle:"middle",Bottom:"bottom"},p={SLS:"esriSLS",SMS:"esriSMS",SFS:"esriSFS",PMS:"esriPMS",PFS:"esriPFS",TS:"esriTS"},f={Italic:"italic",Normal:"normal",Oblique:"oblique"},m={Bold:"bold",Bolder:"bolder",Lighter:"lighter",Normal:"normal"},y={LineThrough:"line-through",Underline:"underline",None:"none"},g={UniqueValue:"unique-value",Simple:"simple",ClassBreaks:"class-breaks",Heatmap:"heatmap",DotDensity:"dot-density",Dictionary:"dictionary"},v={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",Axis:"chartAxis",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries"},b={None:"none",Log:"logarithmic",Sqrt:"squareRoot"},x={Single:"singleColor",Match:"colorMatch"},S={Left:"left",Right:"right",Top:"top",Bottom:"bottom"},P={Side:"sideBySide",Stacked:"stacked",Stacked100:"stacked100"},_={General:"qqPlot",Normalized:"normalQQPlot"},C={Ascending:"ASC",Descending:"DESC"},w={Inline:"inline",FeatureLayer:"featureLayer"},I={statisticType:s.Count,sortingOrder:C.Ascending}}]))}}}));