/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-af6cf2.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-af6cf2"],{99004:(e,t,i)=>{i.d(t,{c:()=>r,g:()=>n});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},35838:(e,t,i)=>{i.r(t),i.d(t,{arcgis_new_item_pages_developer_credentials_summary:()=>v});var r=i(7263),n=i(99907),a=i(71700),o=i(51325),s=i(45080),l=i(43780),c=i(31670),d=i(11246),u=i(39274),p=i(50852),m=i(94788),g=i(73330),f=i(33901),h=i(97231);i(11935),i(46581),i(28926),i(70506),i(99004),i(65215),i(59673),i(59296),i(2174),i(49712),i(90079),i(57399),i(66488),i(67575),i(15437),i(73596),i(86537),i(91253),i(7652);const v=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.newItemToggleNavigationEnabled=(0,r.c)(this,"newItemToggleNavigationEnabled",7),this.workflowComplete=(0,r.c)(this,"workflowComplete",7),this.workflowCancel=(0,r.c)(this,"workflowCancel",7),this.generateToken=!0,this.isOAuthType=!1,this.workflowCancelled=!1,this.handleRequest=async()=>{const{newItemMode:e,developerCredentialsType:t}=a.a,{categories:i}=o.i,{portal:r}=c.c,{generateToken:n}=this;let u,m;this.isLoading=!0;try{(0,s.a)(),({addResponse:u,publishResponse:m}=await this.handleAddItem());const o=[null==u?void 0:u.id,null==m?void 0:m.id].filter((e=>e));if(i&&await(0,l.u)({portal:r,itemIds:o,categories:i}),this.workflowCancelled)(null==m?void 0:m.id)&&await(0,p.d)(m.id,{permanentDelete:!0}),u.id&&await(0,p.d)(u.id,{permanentDelete:!0}),this.workflowCancel.emit();else{let i;(0,s.c)(),c.c.telemetry&&await(0,d.t)(750),i=Object.assign({id:null==u?void 0:u.id,item:Object.assign({},a.a),response:u,newItemMode:e,generateToken:n,developerCredentialsType:t},m),this.workflowComplete.emit(i)}(0,g.r)()}catch(e){console.error(e),this.isLoading=!1,this.error=e,this.showLoader(!1)}},this.error=void 0,this.loading=!1,this.loaderType="indeterminate",this.loaderMessage=void 0,this.alertInfo=void 0,this.isLoading=!1}async componentWillLoad(){const{developerCredentialsType:e,selectedAppPrivileges:t,formattedItemPrivileges:i}=a.a;this.isOAuthType="oauth"===e,this.title=o.i.title,this.i18n=n.u.i18n.developerCredentialsSummary,this.isOAuthType&&(n.u.nextText="create",n.u.cancelText="cancel"),(i||[]).length>0&&h.i.some((e=>t.includes(e)))?this.appPrivileges=t.filter((e=>h.i.every((t=>e!==t)))):this.appPrivileges=t;const r=(this.appPrivileges||[]).concat(i||[]);a.a.developerPrivileges=r}async handleNext(){this.isOAuthType?this.handleRequest():this.newItemUpdatePage.emit("developerCredentialsGenerateTokenCheck")}async handleAddItem(){let e;return this.showLoader(!0,{loaderType:"indeterminate",loaderMessage:(0,f.r)(this.i18n.creating,a.a.type,"fileType")}),e=await this.addDeveloperCredentialApplication(),{addResponse:e,publishResponse:undefined}}async addDeveloperCredentialApplication(){const{developerCredentialsRedirectUrls:e,applicationEnvironment:t,apiKeyReferrerUrls:i,developerPrivileges:r}=a.a;try{return(0,u.b)(a.a,(0,m.g)(c.c.portal),this.isOAuthType?{appType:t,httpReferrers:i,redirect_uris:e,privileges:r}:{httpReferrers:i,privileges:r})}catch(e){return console.error(e),this.isLoading=!1,void(this.error=e)}}showLoader(e,t){t&&this.updateLoader(t.loaderType,t.loaderMessage),e?(this.newItemToggleNavigationEnabled.emit(!1),this.loading=!0):(this.newItemToggleNavigationEnabled.emit(!0),this.loading=!1)}updateLoader(e,t){this.loaderType=e,this.loaderMessage=t}renderRedirectUrlsList(){const{developerCredentialsRedirectUrls:e}=a.a;return(0,r.h)("div",{class:"content"},(e||[]).map(((t,i)=>{const n=1===e.length||i===e.length-1;return(0,r.h)("p",null," ",`${t}${n?"":", "}`," ")})))}renderPrivilegeList(e){const t=e.sort((function(e,t){const i=e.toLowerCase(),r=t.toLowerCase();return i<r?-1:i>r?1:0}));return(0,r.h)("ul",{class:"content"},(t||[]).map((e=>(0,r.h)("li",null,e))))}renderPrivilegeNotice(e){const{i18n:t}=this;return(0,r.h)("div",{class:"privilege-notice"},(0,r.h)("calcite-icon",{scale:"s",class:"notice-icon",icon:"exclamation-mark-triangle"}),e>1?t.privilegeDependencyNoticePlural:t.privilegeDependencyNoticeSingular)}render(){const{developerCredentialsRedirectUrls:e,formattedItemPrivileges:t,developerCredentialsType:i}=a.a,{title:n,i18n:o,isLoading:s,appPrivileges:l}=this,c=(t||[]).length,d=(l||[]).length,u=(l||[]).filter((e=>e.includes("admin"))).length,p=d-u,m=(l||[]).filter((e=>!e.includes("premium:user:"))).length,g=o.appPrivilegesSummary.replace("${generalPrivilegesLength}",String(p)).replace("${adminPrivilegesLength}",String(u)),f=o.itemPrivilegesSummary.replace("${selectedItemPrivilegesLength}",String(c));return(0,r.h)(r.H,{key:"da2aa2d9f699bee87d87961b80ad8d90d71368b6"},(0,r.h)("arcgis-new-item-loader",{key:"99954457176cdd0e1292b3ceeb625613cc553edb",active:s,text:o.registering}),(0,r.h)("div",{key:"a2a8a149ba10d48a4664e1edd2d6dc440c40efe3",class:"section"},(0,r.h)("arcgis-new-item-description",{key:"fd5ce38a6ae24e55d88112d90ca60338fcb02037",class:"section",header:o.summary,content:o.reviewSettings})),(0,r.h)("div",{key:"7acbea2cac0509fd2ae0b8a507d2b9b142b97635",class:"title-summary section"},(0,r.h)("arcgis-new-item-description",{key:"cacfa51392b3f03e4f894f1c3c5e15f6489b8f36",header:o.title,content:n})),e.length>0&&(0,r.h)("div",{key:"842b15b17a63d09acecc517306716c70b08462f7",class:"redirect-url-summary section"},(0,r.h)("p",{key:"95780ef5ff3ae0d9adf18c181b312b2e7b91b41d",class:"header"},o.redirectUrl),(0,r.h)("div",{key:"016a7f00f3a500597cedaffe159b757d37c668c8",class:"content"},(0,r.h)("p",{key:"14704d0e9bb4998c3500e64c5db63841845fcc7f"},this.renderRedirectUrlsList()))),d>0&&(0,r.h)("div",{key:"141554ea1c060b3ea6a437b6f91da504ec885889",class:"app-privileges-summary section"},(0,r.h)("p",{key:"0fddd84c17dc234c7c93ca320450b3f59d21e9a1",class:"header"},o.privileges),(0,r.h)("div",{key:"8ecf11f0b64e8519a14ff8032e5c1f2b0ddf93ef",class:"content"},g),"apiToken"===i&&m>0&&this.renderPrivilegeNotice(m),(0,r.h)("p",{key:"bf1ec17e4b10fcbd472d93e19f2be6ada040fb2b"},this.renderPrivilegeList(l))),c>0&&(0,r.h)("div",{key:"87370feb48d9174d777c2b7a7e63cf267f3bd931",class:"item-access-summary section"},(0,r.h)("p",{key:"482a5de68fda88e0de987881d4e4f0bbdcb937e8",class:"header"},o.itemAccess),(0,r.h)("div",{key:"b8d70060f4b7f07db62149101e3ec8319f3f0b30",class:"content"},(0,r.h)("p",{key:"1dfd04a97cd7ebfbf81a56aba3767684c4d8d3ca"},f,this.renderPrivilegeList(t)))),(0,r.h)("arcgis-new-item-alert",{key:"988c0cbcf5210ae232fff3ec09e428b7d7227cfe",heading:o.errorTitle,description:o.errorDescription,active:!!this.error,onAlertDismiss:()=>this.error=null}))}};v.style=".privilege-notice{margin-top:0.75rem;margin-bottom:0.75rem;display:flex;width:75%;flex-direction:row;align-items:center;background-color:var(--calcite-color-foreground-2);padding:1.25rem;font-size:0.875rem}.notice-icon{margin-inline-end:1rem;color:var(--calcite-color-status-danger)}.header{padding:0px;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);min-width:0px;margin-top:0px;margin-bottom:0px;overflow-wrap:anywhere;line-height:1.5}.content{font-size:0.875rem;margin-top:0.25rem;line-height:1.5}.content>p{margin-top:0px;margin-bottom:0px}.section{margin-bottom:1.5rem}"},97231:(e,t,i)=>{i.d(t,{a:()=>r,d:()=>o,i:()=>l,o:()=>a,r:()=>n,s:()=>s});const r=["basemap","geocodingNotStored","routing","serviceArea","geocodingStored","optimizedRouting","closestFacility","locationAllocation","multiVehicleRouting","costMatrix","places","geoEnrichment"],n=["basemap"],a=["geocodingNotStored"],o=["geocodingNotStored","routing","serviceArea"],s={basemap:"portal:apikey:basemaps",geocodingNotStored:"premium:user:geocode:temporary",routing:"premium:user:networkanalysis:routing",serviceArea:"premium:user:networkanalysis:servicearea",places:"premium:user:places",geocodingStored:"premium:user:geocode:stored",optimizedRouting:"premium:user:networkanalysis:optimizedrouting",closestFacility:"premium:user:networkanalysis:closestfacility",locationAllocation:"premium:user:networkanalysis:locationallocation",multiVehicleRouting:"premium:user:networkanalysis:vehiclerouting",costMatrix:"premium:user:networkanalysis:origindestinationcostmatrix",geoEnrichment:"premium:user:geoenrichment"},l=["portal:user:createItem","portal:user:viewOrgItems","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems","portal:admin:viewUsers","portal:user:viewOrgUsers"]},70506:(e,t,i)=>{i.d(t,{e:()=>a});var r,n=i(99004),a={exports:{}};r=a.exports,n.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},i="4.24",r="next";function n(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function a(e){return void 0===e&&(e=i),"https://js.arcgis.com/".concat(e,"/")}function o(e){void 0===e&&(e=i);var t=a(e),o=n(e);if(o!==r&&3===o.major){var s=o.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function l(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||n(e)?o(e):e}function u(e,t){var i=d(e),r=c(i);return r||l(r=s(i),t),r}var p={};function m(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function g(e,t,i){var r;i&&(r=f(e,i));var n=function(){t(e),e.removeEventListener("load",n,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",n,!1)}function f(e,t){var i=function(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",i,!1)};return e.addEventListener("error",i,!1),i}function h(e){void 0===e&&(e={}),p=e}function v(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function w(e){void 0===e&&(e={});var i={};[p,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}));var r=i.version,n=i.url||a(r);return new t.Promise((function(e,t){var a=v();if(a){var o=a.getAttribute("src");o!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):y()?e(a):g(a,e,t)}else if(y())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=i.css;s&&u(!0===s?r:s,i.insertCssBefore),g(a=m(n),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),t),document.body.appendChild(a)}}))}function b(e){return new t.Promise((function(t,i){var r=window.require.on("error",i);window.require(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.remove(),t(e)}))}))}function k(e,t){if(void 0===t&&(t={}),y())return b(e);var i=v(),r=i&&i.getAttribute("src");return!t.url&&r&&(t.url=r),w(t).then((function(){return b(e)}))}e.utils=t,e.loadModules=k,e.getScript=v,e.isLoaded=y,e.loadScript=w,e.setDefaultOptions=h,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(r)},33901:(e,t,i)=>{i.d(t,{r:()=>n});const r={fileName:/\$\{fileName\}/g,fileType:/\$\{type\}/g,typeList:/\$\{typeList\}/g,missingFields:/\$\{\missingFields\}/g},n=(e,t,i)=>{const n=new RegExp(r[i]);return null==e?void 0:e.replace(n,t)}},28926:(e,t,i)=>{i.d(t,{l:()=>n});var r=i(70506);const n=async(e,t)=>(await r.e.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},45080:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>p,c:()=>d,l:()=>u});var r=i(31670),n=i(51325),a=i(71700),o=i(99907);const s="new item",l="my content";function c(){const e=r.c.telemetry;null==e||e.startWorkflow("new item upload",{eventType:"workflow",category:"new item upload",details:a.a.type,pageName:l})}function d(){const{type:e,applicationType:t,customParameters:i,selectedLayerIdTracker:n}=a.a,c=r.c.telemetry,d=o.u.telemetryDetails;null==c||c.endWorkflow("new item upload",{details:e,pageName:l});const u={eventType:"other",pageName:l,category:s,label:s,details:d};"url"===d?(u.attribute=e,(null==i?void 0:i.length)>0&&(u.action="customParams"),"WMS"===e&&(u.count=null==n?void 0:n.count)):t&&(u.attribute=t),null==c||c.logEvent(u)}const u=()=>{const{telemetry:e}=r.c;null==e||e.logEvent({eventType:"other",pageName:"my content",category:"content page drag drop",label:"content"}),o.u.telemetryDetails="drag drop"};function p(){var e,t;const i=r.c.telemetry,{title:o,folder:s,categories:c,tags:d,snippet:u}=n.i,{initialTitle:p,initialFolders:m}=a.a,g=!s||s.title===s.id,f=!!m.map((e=>null==e?void 0:e.id)).find((e=>e===(null==s?void 0:s.id))),h={eventType:"other",pageName:l,category:"new item item info",label:o===p?"default title":"title changed",action:(null==u?void 0:u.length)>0?"summary":"no summary",count:null!==(e=null==d?void 0:d.length)&&void 0!==e?e:0,number:null!==(t=null==c?void 0:c.length)&&void 0!==t?t:0};h.details=f?g?"root folder":"custom folder":"new folder",null==i||i.logEvent(h)}},73330:(e,t,i)=>{i.d(t,{a:()=>s,r:()=>o});var r=i(51325),n=i(71700),a=i(99907);function o(){n.d.reset(),r.a.reset()}const s=()=>{if(n.a.existingItem||"register"===a.u.workflow)return;n.d.reset();const e=r.i.folder;r.a.reset(),r.i.folder=e}}}]);