/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-f63706.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-f63706"],{87176:(e,t,i)=>{i.r(t),i.d(t,{arcgis_item_browser_find:()=>o});var n=i(7263),r=i(50858),s=i(11246);i(69773),i(78613);const o=class{constructor(e){(0,n.r)(this,e),this.arcgisItemBrowserSearch=(0,n.c)(this,"arcgisItemBrowserSearch",7),this.arcgisItemBrowserSearchInput=(0,n.c)(this,"arcgisItemBrowserSearchInput",7),this.arcgisItemBrowserScrimToggle=(0,n.c)(this,"arcgisItemBrowserScrimToggle",7),this.term=void 0,this.findActive=void 0,this.focusedFindInput=void 0,this.searchRef=void 0}async componentWillLoad(){this.store=(0,r.g)(this.el),this.i18n=this.store.state.i18n.find}updateFocusedInput(){this.arcgisItemBrowserScrimToggle.emit(this.focusedFindInput)}searchChanged(){var e;null===(e=this.searchRef)||void 0===e||e.setFocus()}executeSearch(){this.arcgisItemBrowserSearch.emit(this.term),this.focusedFindInput=!1}async closeFind(){var e;this.findActive=!1,this.term="",this.focusedFindInput=!1,this.arcgisItemBrowserSearch.emit(this.term),await(0,s.t)(100),null===(e=this.openFindButton)||void 0===e||e.setFocus()}render(){const{i18n:e,findActive:t}=this;return(0,n.h)(n.H,{key:"7343c7318949291580e95ce9db730178c37e1d0d"},t?(0,n.h)("div",{class:"find-wrapper"},(0,n.h)("div",{class:"find-wrapper__search",onFocusout:e=>{var t,i;e.stopPropagation(),(null===(i=null===(t=e.relatedTarget)||void 0===t?void 0:t.closest)||void 0===i?void 0:i.call(t,"arcgis-item-browser-find"))||e.relatedTarget===this.findRef&&this.focusedFindInput||(this.focusedFindInput=!1)}},(0,n.h)("div",{class:"find__search",onKeyDown:e=>{if(this.findActive)switch(e.key){case"Enter":this.executeSearch();break;case"Escape":this.closeFind()}}},(0,n.h)("arcgis-browser-search",{ref:e=>this.searchRef=e,allowClear:this.focusedFindInput,placeholder:e.findOnPage,onArcgisBrowserSearchInput:e=>{this.term=e.detail.trim(),this.arcgisItemBrowserSearchInput.emit(this.term)},onFocusin:()=>{this.focusedFindInput=!0}})),this.focusedFindInput?(0,n.h)("calcite-button",{ref:e=>{var t,i;this.findRef=e;const n=null===(i=null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector)||void 0===i?void 0:i.call(t,"button");n&&(n.tabIndex=0)},class:"find__button",appearance:"outline",onClick:async()=>{await this.searchRef.setFocus(),this.executeSearch()}},e.find):(0,n.h)("button",{class:"find__close","aria-label":this.store.state.i18n.filterFolder.clear,onClick:()=>this.closeFind()},(0,n.h)("calcite-icon",{icon:"x",scale:"m",class:"find__close__icon"}))),(0,n.h)("div",{class:{"notice-wrapper":!0,"notice-wrapper--invisible":!this.focusedFindInput},slot:"content-end"},(0,n.h)("div",{class:"notice"},(0,n.h)("calcite-icon",{scale:"s",icon:"information"}),(0,n.h)("span",{class:"notice__text"},e.match)))):(0,n.h)("div",{class:"button-wrapper"},(0,n.h)("calcite-button",{ref:e=>this.openFindButton=e,appearance:"outline",iconStart:"magnifying-glass",onClick:async()=>{this.findActive=!0,this.focusedFindInput=!0},width:"full"},e.findOnPage)))}get el(){return(0,n.d)(this)}static get watchers(){return{focusedFindInput:["updateFocusedInput"],searchRef:["searchChanged"]}}};o.style=":host{display:flex;width:100%}.button-wrapper{box-sizing:border-box;display:flex;align-items:center;justify-content:center;padding-inline-start:1.5rem;padding-inline-end:0.5rem;min-width:var(--item-browser-pane-width);border-inline-end:1px solid var(--calcite-color-border-1)}.find-wrapper{width:100%}.find-wrapper__search{display:flex;align-items:center;justify-content:space-between}.find__search{flex-grow:1}.find__button{height:2rem}.find__button--invisible{pointer-events:none;visibility:hidden}.find__close{cursor:pointer;border-style:none;padding:0.25rem;color:var(--calcite-color-text-1);outline:2px solid transparent;outline-offset:2px;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;background:transparent}.find__close:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.find__close__icon{pointer-events:none;display:block}.notice-wrapper{position:absolute;inset-inline-start:0px;width:100%;background-color:var(--calcite-color-foreground-1);padding-top:1.1rem;padding-bottom:1.1rem;padding-inline-start:1.5rem}.notice-wrapper--invisible{pointer-events:none;visibility:hidden}.notice{margin-left:auto;margin-right:auto;display:flex;max-width:1440px;font-size:var(--calcite-font-size--1);color:var(--calcite-color-text-1)}.notice__text{margin-inline-start:0.5rem}"},11246:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>h,c:()=>r,d:()=>n,e:()=>s,f:()=>d,g:()=>f,i:()=>o,m:()=>c,t:()=>a,u:()=>u});const n=(e,t)=>{let i,n="idle";const r=(...r)=>new Promise((s=>{switch(n){case"flushed":n="idle",i?(clearTimeout(i),s(e(...r))):s(null);break;case"invoked":clearTimeout(i),n="idle",s(e(...r));break;case"cancelled":clearTimeout(i),n="idle",s(null);break;default:i&&clearTimeout(i),n="pending",i=setTimeout((()=>(n="idle",s(e(...r)))),t)}}));return r.flush=function(...e){return n="flushed",r(...e)},r.invoke=function(...e){return n="invoked",r(...e)},r.cancel=function(...e){return n="cancelled",r(...e)},r.getStatus=function(){return n},r},r=(e,t)=>{let i;return(...n)=>new Promise((r=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,r(e(...n))}),t))}))};function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){return null!=e}async function c(e,t){return await Promise.all([e,a(t)]),e}function a(e){return new Promise((t=>setTimeout(t,e)))}const l=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:n}=t(e);return[i,n]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function u(e,t){const i=[],n={};return e.forEach((e=>{const r=t(e);null==n[r]&&(n[r]=e,i.push(e))})),i}function h(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const f=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,n)=>e.slice(t*n,t+t*n)))},69773:(e,t,i)=>{i.d(t,{a:()=>s,b:()=>c,g:()=>l,i:()=>r,o:()=>o});var n=i(78613);const r=e=>"item-browser"===e.state.type,s=(e,t,i)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||i()}))},o=(e,t)=>{e.onChange("preview",(e=>{t()}))},c=(e,t)=>{e.onChange("groupId",(e=>{t()}))},a=new Map;function l(e,t){const i=a.get(e);if(i)return i;const r=(0,n.c)(e,t);return r?(a.set(e,r.store),r.store):null}},50858:(e,t,i)=>{i.d(t,{a:()=>a,b:()=>c,c:()=>l,d:()=>h,e:()=>u,f:()=>o,g:()=>s,o:()=>d,r:()=>f});var n=i(69773),r=i(80619);function s(e){return(0,n.g)(e,"arcgis-item-browser")}const o=(e,t)=>{e.onChange("view",(e=>{t(e)}))},c=(e,t)=>{e.onChange("contentUser",(e=>{t(e)}))},a=(e,t)=>{e.onChange("bucket",(e=>{t(e)}))},l=(e,t)=>{e.onChange("filters",(e=>{t(e)}))},d=(e,t)=>{e.onChange("recycleBin",(e=>{t(e)}))},u=(e,t)=>{e.onChange("preview",(e=>{t(e)}))},h=(e,t)=>{e.onChange("sort",(e=>{t(e)}))},f=e=>(Object.keys(e).forEach((t=>{r.I.includes(t)||delete e[t]})),e)},80619:(e,t,i)=>{i.d(t,{I:()=>n,a:()=>r});const n=["folder","group","contentType"],r=99999}}]);