/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a2ab21.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-a2ab21"],{99004:(e,r,t)=>{t.d(r,{c:()=>n,g:()=>o});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},12236:(e,r,t)=>{t.r(r),t.d(r,{arcgis_member_browser_filter_group_roles:()=>u});var n=t(7263),o=t(32023),i=t(69773),s=t(59296),l=t(31670);t(11935),t(78613),t(2174),t(28926),t(70506),t(99004),t(94788);const u=class{constructor(e){(0,n.r)(this,e),this.arcgisMemberBrowserFilter=(0,n.c)(this,"arcgisMemberBrowserFilter",7),this.memberType=void 0,this.expanded=void 0}componentWillLoad(){this.store=(0,o.g)(this.el),this.i18n=this.store.state.i18n.filterGroupRole}async componentDidLoad(){(0,i.a)("groupRole",this.store,(()=>this.memberType=null))}getEventDetail(){const{memberType:e}=this;if(!e)return{id:"groupRole",param:"memberType",value:"",label:""};const r="admin"===e?this.i18n.admins:this.i18n.member;return{id:"groupRole",param:"memberType",value:e,label:this.i18n.label.replace("${role}",r)}}async emitEvent(){this.arcgisMemberBrowserFilter.emit(this.getEventDetail())}render(){var e,r,t;const{user:o}=l.c,{group:i}=this.store.state,u="owner"===(null===(e=null==i?void 0:i.userMembership)||void 0===e?void 0:e.memberType),a="admin"===(null===(r=null==i?void 0:i.userMembership)||void 0===r?void 0:r.memberType),d=(0,s.b)(o)||u||a,c=!o,v=o&&!o.orgId,p=null===(t=this.store.state.group)||void 0===t?void 0:t.hiddenMembers;if(!this.store.state.groupId||c||v||p&&!d)return null;const m=[{text:this.i18n.admins,value:"admin"},{text:this.i18n.member,value:"member"}];return(0,n.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.memberType,onArcgisBrowserFilterRemove:()=>{this.memberType=null},filterID:"groupRole"},(0,n.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var r;const t=(null===(r=e.target.selectedItems)||void 0===r?void 0:r[0].dataset.memberType)||"";this.memberType===t?this.memberType=null:this.memberType=t,this.emitEvent()}},m.map((({text:e,value:r})=>(0,n.h)("calcite-tree-item",{key:r,"data-member-type":r,selected:this.memberType===r},(0,n.h)("a",null,e))))))}get el(){return(0,n.d)(this)}}},31670:(e,r,t)=>{t.d(r,{c:()=>o,o:()=>i});const n=(0,t(11935).c)({portal:null,user:null,api:4,scale:"m"}),o=n.state,i=n.onChange},70506:(e,r,t)=>{t.d(r,{e:()=>i});var n,o=t(99004),i={exports:{}};n=i.exports,o.c,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",n="next";function o(e){if(e.toLowerCase()===n)return n;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function i(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=t);var r=i(e),s=o(e);if(s!==n&&3===s.major){var l=s.minor<=10?"js/":"";return"".concat(r).concat(l,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}function l(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}function u(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}function a(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||o(e)?s(e):e}function c(e,r){var t=d(e),n=a(t);return n||u(n=l(t),r),n}var v={};function p(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}function m(e,r,t){var n;t&&(n=f(e,t));var o=function(){r(e),e.removeEventListener("load",o,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",o,!1)}function f(e,r){var t=function(n){r(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}function g(e){void 0===e&&(e={}),v=e}function h(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var t={};[v,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var n=t.version,o=t.url||i(n);return new r.Promise((function(e,r){var i=h();if(i){var s=i.getAttribute("src");s!==o?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):y()?e(i):m(i,e,r)}else if(y())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=t.css;l&&c(!0===l?n:l,t.insertCssBefore),m(i=p(o),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),r),document.body.appendChild(i)}}))}function w(e){return new r.Promise((function(r,t){var n=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.remove(),r(e)}))}))}function S(e,r){if(void 0===r&&(r={}),y())return w(e);var t=h(),n=t&&t.getAttribute("src");return!r.url&&n&&(r.url=n),b(r).then((function(){return w(e)}))}e.utils=r,e.loadModules=S,e.getScript=h,e.isLoaded=y,e.loadScript=b,e.setDefaultOptions=g,e.loadCss=c,Object.defineProperty(e,"__esModule",{value:!0})}(n)},11935:(e,r,t)=>{t.d(r,{c:()=>u});var n=t(7263);const o=e=>!("isConnected"in e)||e.isConnected,i=((e,r)=>{let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout((()=>{t=0,e(...n)}),r)}})((e=>{for(let r of e.keys())e.set(r,e.get(r).filter(o))}),2e3),s=e=>"function"==typeof e?e():e,l=(e,r)=>{const t=e.indexOf(r);t>=0&&(e[t]=e[e.length-1],e.length--)},u=(e,r)=>{const t=((e,r=((e,r)=>e!==r))=>{const t=s(e);let n=new Map(Object.entries(null!=t?t:{}));const o={dispose:[],get:[],set:[],reset:[]},i=()=>{var r;n=new Map(Object.entries(null!==(r=s(e))&&void 0!==r?r:{})),o.reset.forEach((e=>e()))},u=e=>(o.get.forEach((r=>r(e))),n.get(e)),a=(e,t)=>{const i=n.get(e);r(t,i,e)&&(n.set(e,t),o.set.forEach((r=>r(e,t,i))))},d="undefined"==typeof Proxy?{}:new Proxy(t,{get:(e,r)=>u(r),ownKeys:e=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,r)=>n.has(r),set:(e,r,t)=>(a(r,t),!0)}),c=(e,r)=>(o[e].push(r),()=>{l(o[e],r)});return{state:d,get:u,set:a,on:c,onChange:(r,t)=>{const n=c("set",((e,n)=>{e===r&&t(n)})),o=c("reset",(()=>t(s(e)[r])));return()=>{n(),o()}},use:(...e)=>{const r=e.reduce(((e,r)=>(r.set&&e.push(c("set",r.set)),r.get&&e.push(c("get",r.get)),r.reset&&e.push(c("reset",r.reset)),r.dispose&&e.push(c("dispose",r.dispose)),e)),[]);return()=>r.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),i()},reset:i,forceUpdate:e=>{const r=n.get(e);o.set.forEach((t=>t(e,r,r)))}}})(e,r);return t.use((()=>{if("function"!=typeof n.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:r=>{const t=(0,n.g)();t&&((e,r,t)=>{const n=e.get(r);n?n.includes(t)||n.push(t):e.set(r,[t])})(e,r,t)},set:r=>{const t=e.get(r);t&&e.set(r,t.filter(n.f)),i(e)},reset:()=>{e.forEach((e=>e.forEach(n.f))),i(e)}}})()),t}},2174:(e,r,t)=>{t.d(r,{a:()=>l,b:()=>s,c:()=>d,d:()=>c,e:()=>v,f:()=>f,g:()=>_,h:()=>g,i:()=>u,j:()=>b,k:()=>w,l:()=>h,m:()=>T,n:()=>S,o:()=>m,p:()=>y,q:()=>p,u:()=>a});var n=t(28926),o=t(94788);function i(e){var r;return!!(null===(r=e.owner)||void 0===r?void 0:r.toLowerCase().includes("esri"))}function s(e){var r;return i(e)&&!!(null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Requires Credits"))}function l(e){var r;return i(e)&&!!(null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Requires Subscription"))}function u(e,r){return e.owner===r.username}function a(e,r){return u(e,r)||function(e,r){var t;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,o="admin"===e.itemControl,i=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(t=e.portal)||void 0===t?void 0:t.isPortal)&&!u(e,r)&&o&&n.includes("esri_")&&!i.includes(n))return!1;return o}(e,r)}const d=(e,r)=>!!r.orgId&&e.every((e=>e.isOrgItem)),c=(e,r)=>`${(0,o.a)(r)}item.html?id=${e}`,v=(e,r)=>`${(0,o.g)(r)}/content/users/${e}`,p=e=>e.reduce(((e,r)=>(e[r.owner]=e[r.owner]?[...e[r.owner],r.id]:[r.id],e)),{});function m(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Spatiotemporal")}function f(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("View Service")}function g(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Hosted Service")}function h(e){var r;return null===(r=e.typeKeywords)||void 0===r?void 0:r.includes("Multi Services View")}function y(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function b(e){var r;const t=null==e?void 0:e.portalItem;if(!t)return Promise.resolve(null);const i=t.portal,[s]=await(0,n.l)(["esri/request"]);if(null==i?void 0:i.user){return s(`${(0,o.g)(i)}community/users/${i.user.username}`,{query:{f:"json",token:null===(r=t.portal.credential)||void 0===r?void 0:r.token},responseType:"json"}).then((e=>{var r,t;const n=null!==(t=null===(r=e.data)||void 0===r?void 0:r.groups)&&void 0!==t?t:[];return Promise.resolve(n)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function w(e){var r;const t=null==e?void 0:e.portalItem;if(!t)return Promise.resolve(null);const i=t.portal,[s]=await(0,n.l)(["esri/request"]);return s(`${(0,o.g)(i)}content/items/${t.id}/groups`,{query:{f:"json",token:null===(r=t.portal.credential)||void 0===r?void 0:r.token},responseType:"json"}).then((e=>{var r,t,n,o,i,s;const l=[...null!==(t=null===(r=e.data)||void 0===r?void 0:r.admin)&&void 0!==t?t:[],...null!==(o=null===(n=e.data)||void 0===n?void 0:n.member)&&void 0!==o?o:[],...null!==(s=null===(i=e.data)||void 0===i?void 0:i.other)&&void 0!==s?s:[]];return Promise.resolve(l)}),(()=>Promise.reject()))}async function S(e,r,{relationshipType:t,direction:i}){const s=`${(0,o.g)(r)}content/items/${e}/relatedItems`,[l]=await(0,n.l)(["esri/request"]);return await l(s,{query:{f:"json",relationshipType:t,direction:i},method:"get",responseType:"json"})}function T(e,r){return null==e?void 0:e.some((e=>null==r?void 0:r.some((r=>e.id===r.id&&e.capabilities.includes("updateitemcontrol")))))}const _=(e,r)=>`${r}/content/items/${e}`},28926:(e,r,t)=>{t.d(r,{l:()=>o});var n=t(70506);const o=async(e,r)=>(await n.e.exports.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))},94788:(e,r,t)=>{t.d(r,{a:()=>p,b:()=>v,c:()=>y,d:()=>b,e:()=>f,f:()=>i,g:()=>h,h:()=>s,i:()=>g,p:()=>c,r:()=>u,s:()=>o,t:()=>m,v:()=>a});var n=t(31670);const o=/\+|\?|\/|\(|\)|\\|\!|\#|\"|\||\*|\:|<|>|\%|\$|\@|\'|\^|\[|\]|\,|\=|\;/gi,i=/(\.|outputFormat=)json|geojson$/i,s=/\/ags\//gi,l="MapServer|GeocodeServer|GPServer|GeometryServer|ImageServer|NAServer|FeatureServer|GeoDataServer|GlobeServer|MobileServer|WMServer|SceneServer|VectorTileServer|StreamServer|WorkspaceServer|GeoenrichmentServer|VideoServer",u=new RegExp(`http.+/(${l})`),a="/arcgis/rest/services|/rest/services|/arcgis/services|/arcgis/rest",d=new RegExp(`(?<server>http.+(?:${a})(?:/?.*/(?<name>.*)/(?<type>${l})))(?!.*/${l})/?(?<soe>\\d+)?.*`,"i"),c=e=>{const r=e.match(d);if(!r){return e.match(s)?{baseServerUrl:e,serverName:null,serverType:"MapServer",index:null}:null}const[,t,n,o,i]=r,l=parseInt(i);return{baseServerUrl:t,serverName:n,serverType:o,index:isNaN(l)?null:l}},v=e=>{if(!e)return null;if(!e.match(a))return null;const r=e.split("/rest");return r.length<2?null:`${r[0]}/rest/`},p=e=>e&&"/"!==e.charAt(e.length-1)?`${e}/`:e,m=({path:e,url:r})=>{const t=r.split("/"),n=e.split("/");return t.slice(0,t.length-n.length).join("/")};function f(e){const{customBaseUrl:r,portalHostname:t,urlKey:n}=e,{protocol:o}=window.location;return`${o}//${n?`${n}.${r}`:t}`}function g(e){var r,t;return null!==(r=null==e?void 0:e.isWebTierAuth)&&void 0!==r?r:null===(t=e.sourceJSON)||void 0===t?void 0:t.isWebTierAuth}function h(e){var r;const{portal:t,config:o}=n.c||{};return null!==(r=p(null==o?void 0:o.restBaseUrl))&&void 0!==r?r:y(e||t)}function y(e){var r;return p(null!==(r=e.restUrl)&&void 0!==r?r:e.portalUrl)}function b(e){var r,t,n;return(null===(t=null===(r=null==e?void 0:e.user)||void 0===r?void 0:r.sourceJSON)||void 0===t?void 0:t.culture)||(null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.culture)||navigator.language||"en-US"}},59296:(e,r,t)=>{t.d(r,{a:()=>i,b:()=>p,c:()=>v,d:()=>c,e:()=>m,f:()=>g,g:()=>f,h:()=>E,i:()=>a,j:()=>u,k:()=>h,l:()=>C,m:()=>b,n:()=>w,o:()=>I,p:()=>T,q:()=>S,r:()=>_,s:()=>$,t:()=>d,u:()=>P,v:()=>s,w:()=>l});var n=t(2174);const o=e=>{var r,t,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(t=null!==(r=null==e?void 0:e.roleId)&&void 0!==r?r:null==e?void 0:e.id)&&void 0!==t?t:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function i(e){return e&&!e.orgId}function s(e,r){return(0,n.u)(e,r)||"update"===e.itemControl||(0,n.c)([e],r)&&v(r)}function l(e,r){const t=(0,n.c)([e],r),o=(0,n.u)(e,r)||v(r)&&t,i=m(r)&&y(r);return!!(o||t&&i)}const u=e=>{var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:manageLicenses"))};function a(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}const c=e=>{var r;return null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.includes("Developer")};function v(e){return"org_admin"===o(e)||"account_admin"===o(e)}function p(e){return["org_admin","account_admin"].includes(o(e))&&!(null==e?void 0:e.roleId)}function m(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function f(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateItemCategorySchema"))}function g(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:updateGroups"))}function h(e){var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:assignToGroups"))}const y=e=>{var r;return!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:admin:deleteItems"))};function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function E(e,r,t,n){const o=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),i=((null==r?void 0:r.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!r||!v(r)&&!i||!(null==t?void 0:t.isPortal)&&!o)}function P(e){return!!e&&(!m(e)||m(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const $=({items:e,user:r,portal:t})=>{const o=e[0],i=o.owner;if(t.isPortal&&i!==r.username&&i.includes("esri_")&&!["esri_livingatlas"].includes(i))return!1;const l=(0,n.u)(o,r),u=m(r),a=j(r),d=s(o,r)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(r)&&!u&&(function(e,r){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(r)||b(e)||w(e)||!!r.canSharePublic&&S(e)}(r,t)||j(r));return l||d||(0,n.c)(e,r)&&a};function j(e){return I(e)||T(e)||_(e)}function C(e){const r=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>r.includes(e)))}},69773:(e,r,t)=>{t.d(r,{a:()=>i,b:()=>l,g:()=>a,i:()=>o,o:()=>s});var n=t(78613);const o=e=>"item-browser"===e.state.type,i=(e,r,t)=>{r.onChange("filters",(r=>{r[e]&&r[e].value||t()}))},s=(e,r)=>{e.onChange("preview",(e=>{r()}))},l=(e,r)=>{e.onChange("groupId",(e=>{r()}))},u=new Map;function a(e,r){const t=u.get(e);if(t)return t;const o=(0,n.c)(e,r);return o?(u.set(e,o.store),o.store):null}},32023:(e,r,t)=>{t.d(r,{g:()=>i,o:()=>s});var n=t(11935),o=t(69773);function i(e){return(0,o.g)(e,"arcgis-member-browser")}(0,n.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,r)=>{e.onChange("sort",(e=>{r(e)}))}}}]);