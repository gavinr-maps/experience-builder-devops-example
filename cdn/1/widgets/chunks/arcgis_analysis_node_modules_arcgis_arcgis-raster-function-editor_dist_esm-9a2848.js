"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-9a2848"],{87991:(e,t,i)=>{i.r(t),i.d(t,{rfx_cte_kernel_selector:()=>c});var l=i(17002),n=i(1409),s=i(19562),a=i(59799),r=i(14385),o=(i(588),i(5294),i(55448),i(2924),i(11840),i(52373),i(33752),i(440),i(66744),i(38146)),u=(i(23795),i(17902),i(56451),i(68852),i(37757));i(71802),i(44345);const h="typeHelpClickHandler",g="kernelHelpClickHandler",c=class{constructor(e){(0,l.r)(this,e),this.rfxArgumentChange=(0,l.c)(this,"rfxArgumentChange",7),this.uiElements={kernelArgLabel:void 0,kernelArgContainer:void 0,rowArgLabel:void 0,columnArgLabel:void 0},this.kernelTypesInfo=a.k,this.helpActionClickEventHandlers=new Map,this.userDefinedOptionKey=-1,this.noneOptionKey=255,this.defaults={rowArgDefaultValue:void 0,columnArgDefaultValue:void 0,kernelArgDefaultValue:[]},this.onConvolutionTypeChange=e=>{e.stopPropagation();const t=e.target,i=(0,u.p)(t.value);this.inputArg.value=i,this.value=i;const l=this.kernelTypesInfo[i?.toString()];this.widgetState={columns:l?.columns??this.defaults.columnArgDefaultValue,rows:l?.rows??this.defaults.rowArgDefaultValue,value:l?.value??this.defaults.kernelArgDefaultValue},this.rfxArgumentChange.emit({value:i})},this.value=void 0,this.widgetArgs=void 0,this.store=[],this.widgetState=void 0}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}componentWillLoad(){this.setupInitialState(this.widgetArgs)}componentWillRender(){this.setWidgetValue()}componentDidLoad(){this.attachHelpClickEventHandlers()}processWidgetArgs({inputArgs:e}){const t=e.ConvolutionType;this.inputArg=t,t.input=this.hostElement,this.uiElements.rowArgLabel=e.Rows.displayName,this.uiElements.columnArgLabel=e.Columns.displayName,this.uiElements.kernelArgLabel=e.Kernel.displayName}setupInitialState({inputArgs:e,rfxArgs:t,rasterFunctions:i}){const l=i[(0,n.d)(t)],s=l?.rasterFunctionArguments,a=this.inputArg.name;this.value=this.inputArg.value;const u=s?.[a]?.domain;if("list"===u?.type){const e=u.enum;this.store=(0,n.k)(e)}else console.error("Invalid inputArg! Check Schema");this.store?.forEach((e=>{e.key=e.key.toString()})),(0,r.o)(this.store)&&console.error("Domain list Enum not set! Check Schema");const h=s?.[a]?.defaultValue;this.value=this.inputArg.value||h;const g=s?.Rows?.defaultValue,c=s?.Columns?.defaultValue,d=this.kernelTypesInfo[this.value?.toString()]?.value;this.defaults.columnArgDefaultValue=c,this.defaults.rowArgDefaultValue=g;const m=e.Kernel.value??d,p=e.Columns.value??c,f=e.Rows.value??g;this.widgetState=(0,o.d)({columns:p,rows:f,value:m})}setWidgetValue(){this.widgetArgs.inputArgs.ConvolutionType.value=this.value,this.widgetArgs.inputArgs.Columns.value=this.widgetState?.columns,this.widgetArgs.inputArgs.Rows.value=this.widgetState?.rows,this.widgetArgs.inputArgs.Kernel.value=this.widgetState?.value}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_type});this.helpActionClickEventHandlers.set(h,e)}onColumnValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,columns:e})}onRowValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,rows:e})}render(){const e=this.value===this.userDefinedOptionKey,t=this.value===this.noneOptionKey;return(0,l.h)("div",{key:"06f26374f79746da9f109206daea0208c6607a70"},(0,l.h)("calcite-label",{key:"3a10d57a05e750bfe914c54e74c6de1fa77c5aa9",alignment:"start",scale:s.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,l.h)("rfx-label",{key:"67aed25d0a1df142878fd955be60b4cdd0456256",label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(h)()}),(0,l.h)("rfx-dtex-common-select",{key:"008722382f84722870abdf8ec61c0c678969c589",mode:this.widgetArgs.mode,options:this.store,value:String(this.value),onRfxArgumentChange:this.onConvolutionTypeChange})),e?(0,l.h)("div",null,(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default"},(0,l.h)("rfx-label",{label:this.uiElements.rowArgLabel,hideHelp:!0}),(0,l.h)("rfx-dte-number-input",{value:this.widgetState.rows,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onRowValueChange(t)},min:1,max:100,numberType:"integer"})),(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default"},(0,l.h)("rfx-label",{label:this.uiElements.columnArgLabel,hideHelp:!0}),(0,l.h)("rfx-dte-number-input",{value:this.widgetState.columns,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onColumnValueChange(t)},min:1,max:100,numberType:"integer"}))):null,t?null:(0,l.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default",ref:e=>{this.uiElements.kernelArgContainer=e;const t=this.widgetArgs.onHelpActionClick({heading:this.uiElements.kernelArgLabel,referenceElement:this.uiElements.kernelArgContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_kernel});this.helpActionClickEventHandlers.set(g,t)}},(0,l.h)("rfx-label",{label:this.uiElements.kernelArgLabel,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(g)()}),(0,l.h)("rfx-simple-matrix",{columns:this.widgetState.columns,rows:this.widgetState.rows,value:this.widgetState.value,onRfxArgumentChange:e=>{e.stopPropagation();const{detail:{value:t}}=e;(0,o.i)(this.widgetState.value,t)||(this.widgetState={...this.widgetState,value:t})},isEditable:e})))}get hostElement(){return(0,l.a)(this)}};i(62559),i(63716),i(15517),i(15195)},37757:(e,t,i)=>{i.d(t,{a:()=>u,f:()=>o,i:()=>s,p:()=>r,s:()=>a});var l=i(62559),n=i(14385);function s(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function a(e,t){let i;if(null!==e){const l="string"==typeof e?Number.parseFloat(e):e;s(l)?i=l:s(t)&&(i=t)}return void 0===i?"":`${i}`}function r(e){if(""!==e)return Number.parseFloat(e)}function o(e,t=3){if(!(0,n.o)(e))return Number.parseFloat(e.toFixed(t))}function u(e,t){let i="";if(!(0,n.o)(e)&&!Number.isNaN(e)){const n=(0,l.g)().locale;i=Intl.NumberFormat(n,t).format(Number(e))}return i}},19562:(e,t,i)=>{i.d(t,{C:()=>n,U:()=>l,a:()=>s});const l={Scale:"s",PopoverTimer:60},n={s:"s",m:"m",l:"l"},s={absolute:"absolute",fixed:"fixed"}}}]);