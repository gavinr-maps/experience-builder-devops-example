/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-51f7d4.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-51f7d4"],{15424:(e,t,r)=>{r.r(t),r.d(t,{arcgis_group_browser:()=>k,arcgis_group_browser_actions:()=>_,arcgis_group_browser_content:()=>G,arcgis_group_browser_filter_date:()=>O,arcgis_group_browser_filter_groups_by_user:()=>I,arcgis_group_browser_filter_member_org:()=>S,arcgis_group_browser_filter_membership:()=>B,arcgis_group_browser_filter_owner:()=>P,arcgis_group_browser_filter_special_groups:()=>F,arcgis_group_browser_filters:()=>U,arcgis_group_browser_pagination:()=>$,arcgis_group_browser_preview:()=>T,arcgis_group_browser_preview_card:()=>A,arcgis_group_browser_search:()=>D,arcgis_group_browser_sort:()=>L,arcgis_group_browser_top_bar:()=>j});var i=r(7263),s=r(11935),o=r(31670),a=r(78613),n=r(11246),l=r(62159),c=r(5157),d=r(46581),h=r(94788),u=r(22783),p=r(3489),g=r(69773),m=r(59296),v=r(66488),f=r(33317),b=r(12166),w=r(96295),y=r(58233),x=r(84121);r(28926),r(70506),r(99004),r(65215),r(2174),r(59673),r(79714);const k=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserUpdate=(0,i.c)(this,"arcgisGroupBrowserUpdate",7),this.arcgisGroupBrowserLoading=(0,i.c)(this,"arcgisGroupBrowserLoading",7),this.arcgisGroupBrowserSelect=(0,i.c)(this,"arcgisGroupBrowserSelect",7),this.arcgisGroupBrowserPreview=(0,i.c)(this,"arcgisGroupBrowserPreview",7),this.arcgisGroupBrowserSublayerPreview=(0,i.c)(this,"arcgisGroupBrowserSublayerPreview",7),this.arcgisGroupBrowserInternalUIAction=(0,i.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.liveRegionUpdate=(0,i.c)(this,"liveRegionUpdate",7),this.allowFetch=!1,this.currentResults=[],this.updateFiltersEmpty=()=>{var e;this.store.state.filtersEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="filters"]'))},this.updateTopbarEmpty=()=>{var e;this.store.state.topbarEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="top-bar"]'))},this.updateSortEmpty=()=>{var e;this.store.state.sortEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="sort"]'))},this.filterMutationObserver=new MutationObserver(this.updateFiltersEmpty),this.topbarMutationObserver=new MutationObserver(this.updateTopbarEmpty),this.sortMutationObserver=new MutationObserver(this.updateSortEmpty),this.fetchGroups=(0,n.d)((async()=>{if(this.loading=!0,this.currentResults=[],this.arcgisGroupBrowserLoading.emit(),this.store.state.preview=null,!this.portal||!this.allowFetch)return;let e=this.getQuery();this.preflight&&(e=await this.preflight(e));const t=await(0,n.m)(this.queryGroups(e),500);this.arcgisGroupBrowserUpdate.emit(Object.assign(Object.assign(Object.assign({},t),{selectedGroups:this.selectedGroups,filters:Object.assign({},this.store.state.filters),searchTerm:this.searchTerm}),this.sort)),this.currentResponse=t,this.currentResults=t.results,this.loading=!1}),150),this.handleResizeEvent=e=>{this.resize(e)},this.renderSelectedItem=e=>(0,i.h)("arcgis-selected-item",{key:e.id,heading:e.title,onArcgisSelectedItemRemove:()=>{this.deselectGroup(e),this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}},(0,i.h)("arcgis-group-thumbnail",{slot:"content-start",group:e,portal:this.portal,scale:"s"})),this.api=void 0,this.portal=void 0,this.user=void 0,this.searchUser=void 0,this.config=void 0,this.selection="none",this.view="list",this.num=20,this.q="",this.selectedGroups=[],this.preflight=void 0,this.fetch=void 0,this.hidePreviewFooter=!1,this.hidePreviewBadges=!1,this.hasIndoorsSpaces=!1,this.height="full",this.store=(0,s.c)({filters:{},type:"group-browser"}),this.usePanelLayout=!1,this.searchTerm="",this.sort=void 0,this.page={num:this.num,start:1,nextStart:-1},this.loading=!0,this.formFactor=void 0,this.pageRangeText="",this.previewGroup=void 0,this.currentResponse=void 0}async refresh(){this.fetchGroups()}async componentWillLoad(){const{el:e,hasIndoorsSpaces:t,selectedGroups:r,view:i}=this,s=await(0,l.g)(e);this.i18n=s[0],this.store.state.i18n=s[0],this.store.state.lang=s[1],this.store.state.view=i,this.store.state.hasIndoorsSpaces=t,this.store.state.selectedGroups=r,this.initializeConfig(),(0,c.s)(this.store).observe(this.el),e.addEventListener("arcgisBrowserResize",this.handleResizeEvent),this.filterMutationObserver.observe(e,{childList:!0}),this.topbarMutationObserver.observe(e,{childList:!0}),this.sortMutationObserver.observe(e,{childList:!0}),this.updateFiltersEmpty(),this.updateTopbarEmpty(),this.updateSortEmpty(),(this.usePanelLayout||(0,a.c)(this.el,"calcite-shell-panel"))&&(this.store.state.panel=!0,this.store.state.filtersExpanded=!1)}disconnectedCallback(){var e,t;null===(e=this.store.state.resizeObserver)||void 0===e||e.unobserve(this.el),this.filterMutationObserver.disconnect(),this.topbarMutationObserver.disconnect(),this.sortMutationObserver.disconnect(),this.filterClearHandler(!1),null===(t=this.el)||void 0===t||t.removeEventListener("arcgisBrowserResize",this.handleResizeEvent)}updateUser(e){var t;null!==(t=o.c.user)&&void 0!==t||(o.c.user=e)}updatePortal(e){var t;null!==(t=o.c.portal)&&void 0!==t||(o.c.portal=e)}updateAPI(e){var t;null!==(t=o.c.api)&&void 0!==t||(o.c.api=e)}updateConfig(e){var t;null!==(t=o.c.config)&&void 0!==t||(o.c.config=e)}updateSelection(e){this.store.state.selection=e}updateSelectedGroups(e){this.store.state.selectedGroups=e}updateQ(){this.resetPagination(),this.fetchGroups()}async componentDidLoad(){this.initializeConfig(),await(0,n.t)(400),this.allowFetch=!0,o.c.portal?this.fetchGroups():(0,o.o)("portal",(()=>{this.initializeConfig(),this.fetchGroups()}))}filterHandler(e){const t=Object.assign(Object.assign({},this.store.state.filters),{[e.detail.id]:e.detail});e.detail.value||delete t[e.detail.id],this.store.state.filters=t,this.resetPagination(),this.fetchGroups()}filterRemoveHandler(e){if(!e.detail)return;const t=Object.assign({},this.store.state.filters);delete t[e.detail],this.store.state.filters=t,this.resetPagination(),this.fetchGroups()}filterClearHandler(e=!0){this.store.state.filters={},this.resetPagination(),e&&this.fetchGroups()}genericFilterClearHandler(){this.filterClearHandler()}filterToggleHandler(){this.store.state.preview=null,this.store.state.filtersExpanded=!this.store.state.filtersExpanded}searchHandler(e){const t=e.detail;this.searchTerm=t,this.resetPagination(),t?this.fetchGroups():this.fetchGroups.invoke()}sortHandler(e){this.sort=e.detail,this.fetchGroups()}async pageHandler(e){var t;this.page=e.detail,this.allowFetch&&(await this.fetchGroups(),await(0,n.t)(400),null===(t=this.el.shadowRoot.querySelector(".content__view"))||void 0===t||t.scrollTo({top:0,behavior:"smooth"}))}selectHandler(e){const{selected:t,group:r}=e.detail;switch(this.selection){case"single":this.selectedGroups=[r];break;case"multiple":t?this.selectGroup(r):this.deselectGroup(r)}this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}async togglePreview({detail:e}){this.store.state.filtersExpanded=!1,e&&this.store.state.preview!==e.id?(this.restoreFocusElement=document.activeElement,this.store.state.preview=e.id,this.previewGroup=Object.assign({},e),this.arcgisGroupBrowserPreview.emit(Object.assign({},e))):(this.store.state.preview=null,this.previewGroup=null,this.arcgisGroupBrowserPreview.emit(),this.arcgisGroupBrowserSublayerPreview.emit()),this.arcgisGroupBrowserInternalUIAction.emit({action:this.previewGroup?"open panel":"close panel",category:"card action"})}async initializeConfig(){var e,t,r,i;null!==(e=o.c.api)&&void 0!==e||(o.c.api=this.api),null!==(t=o.c.user)&&void 0!==t||(o.c.user=this.user),null!==(r=o.c.portal)&&void 0!==r||(o.c.portal=this.portal),null!==(i=o.c.config)&&void 0!==i||(o.c.config=this.config)}resetPagination(){this.page.start=1,this.page.total=0}getQuery(){return Object.assign(Object.assign({filters:this.store.state.filters,searchUser:this.searchUser,searchTerm:this.searchTerm,baseQuery:this.q},this.sort),this.page)}queryGroups(e){return this.fetch?this.fetch(e):async function(e,t){const r=`${(0,h.g)(e)}community/groups`,{num:i,start:s,sortOrder:o,sortField:a,filters:n,baseQuery:l,searchTerm:c,searchUser:p}=t,g=Object.keys(n||{}),m=c?`(${(0,u.c)(c)}) `:"",v=Object.assign(Object.assign({},p?{searchUserAccess:"groupMember",searchUserName:p}:{}),{q:`${l||""} ${m}`}),f=g.reduce(((e,t)=>{const{param:r,value:i}=n[t];return Object.assign(Object.assign({},e),{[r]:`${e[r]||""} ${i}`})}),v),b=Object.assign(Object.assign({num:i,start:s},"relevance"===a?{}:{sortField:a,sortOrder:o}),f||{});if(!Object.entries(f).some((([e,t])=>"string"!=typeof t||!!(null==t?void 0:t.trim()))))return{nextStart:-1,num:0,results:[],start:0,total:0};const w=await(0,d.r)(r,b);return Object.assign(Object.assign({},w),{q:f.q,queryParams:b})}(this.portal,e)}restoreFocus(){if(this.restoreFocusElement){const e=this.restoreFocusElement;e.restoreFocus?e.restoreFocus():e.setFocus?e.setFocus():e.focus&&e.focus()}}selectGroup(e){this.isSelected(e)||(this.selectedGroups=[...this.selectedGroups,e])}deselectGroup(e){this.selectedGroups=this.selectedGroups.filter((({id:t})=>t!==e.id))}isSelected(e){var t;return null===(t=this.selectedGroups)||void 0===t?void 0:t.some((({id:t})=>e.id===t))}resize({detail:{width:e,height:t}}){this.formFactor=e>c.b.md?"large":"small";const r=this.store.state.width>c.b.md?"large":"small";"large"===r&&"small"===this.formFactor&&(this.store.state.panel=this.usePanelLayout,this.store.state.filtersExpanded=!1),"small"===r&&"large"===this.formFactor&&(this.store.state.panel=!1,this.store.state.filtersExpanded=!0),this.store.state.width=e,this.store.state.height=t}renderSelected(){var e,t,r,s;const o=this.currentResults.length>0&&(null===(e=this.currentResults)||void 0===e?void 0:e.every((e=>this.isSelected(e)))),a=null===(t=this.selectedGroups)||void 0===t?void 0:t.length;return(0,i.h)("arcgis-selected",{slot:"selection",loading:this.loading,total:null===(r=this.currentResults)||void 0===r?void 0:r.length,totalSelected:a,emptyText:this.i18n.groupBrowser.noSelectedGroups,heading:this.i18n.groupBrowser.selectedGroups,checked:!this.loading&&o,indeterminate:!o&&!!a,onArcgisSelectedDeselectAll:()=>{this.selectedGroups=[],this.arcgisGroupBrowserSelect.emit(this.selectedGroups)},onArcgisSelectedSelectPage:()=>{var e;null===(e=this.currentResults)||void 0===e||e.forEach((e=>{this.selectGroup(e)})),this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}},null===(s=this.selectedGroups)||void 0===s?void 0:s.map(this.renderSelectedItem))}renderSlot(e,t){return(0,i.h)("div",{slot:e},(0,i.h)("slot",{name:e},t))}renderEmptyTextSlot(e,t){return(0,i.h)("div",{slot:e,class:"empty-text-slot"},(0,i.h)("slot",{name:e},(0,i.h)("p",{class:"empty-text-slot__default"},t)))}render(){const{loading:e,i18n:t,selectedGroups:r,selection:s,currentResponse:o,store:a,api:n,searchTerm:l,formFactor:c,height:d,renderSlot:h,renderEmptyTextSlot:u}=this;return(0,i.h)(i.H,{key:"07208231b8a21cbe28be9af8c11936190a38aea2"},(0,i.h)("arcgis-browser",{key:"cd5d6f05a75064cdd7f9f2c5ef0a6ac8bf0706ff",preview:!!this.previewGroup,loading:e,selected:r,alwaysShowSelection:"multiple"===s,response:o,store:a,api:n,formFactor:c,searchTerm:l,height:d},h("top-bar"),h("sort"),(0,i.h)("arcgis-group-browser-preview",{slot:"preview",group:this.previewGroup,portal:this.portal,user:this.user,key:this.store.state.preview,onArcgisGroupBrowserPreviewClose:()=>{this.store.state.preview=null,this.previewGroup=null,this.arcgisGroupBrowserPreview.emit(),this.arcgisGroupBrowserSublayerPreview.emit(),this.restoreFocus()},hidePreviewFooter:this.hidePreviewFooter,showBadges:!this.hidePreviewBadges,currentResponse:this.currentResponse},(0,i.h)("div",{key:"0372dd0d4b2154a8338988d9779ed60c65e9263f",slot:"footer-action"},(0,i.h)("slot",{key:"b4d4cf38046ab572e41ad1d0b76f0a78bce43924",name:"preview-footer-action"}))),this.renderSelected(),h("actions"),h("content-start"),h("content"),h("content-end"),h("pagination"),h("filters"),h("scroll-end"),u("no-results",t.content.noResults),u("no-content",t.content.noContent)))}get el(){return(0,i.d)(this)}static get watchers(){return{user:["updateUser"],portal:["updatePortal"],api:["updateAPI"],config:["updateConfig"],selection:["updateSelection"],selectedGroups:["updateSelectedGroups"],q:["updateQ"]}}};k.style=":host{position:relative;display:flex;height:100%;flex-direction:column;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-color-background);--group-browser-max-width:100%;--group-browser-pane-width:18.75rem;--group-browser-pane-z-index:11;--group-browser-top-bar-background:var(--calcite-color-foreground-1)}arcgis-browser{--arcgis-browser-max-width:var(--group-browser-max-width);--arcgis-browser-pane-width:var(--group-browser-pane-width);--arcgis-browser-pane-z-index:var(--group-browser-pane-z-index);--arcgis-browser-top-bar-background:var(--group-browser-top-bar-background)}::slotted([slot=no-results]){width:100%}::slotted([slot=no-content]){width:100%}.empty-text-slot{display:flex;height:100%;width:100%;justify-content:center}.empty-text-slot__default{margin-left:auto;margin-right:auto;max-width:32rem;padding-left:1.5rem;padding-right:1.5rem;padding-bottom:4rem;margin-top:min(8rem, 30vh)}@media screen and (max-width: 640px){:host{--group-browser-pane-width:100%}}";const _=class{constructor(e){(0,i.r)(this,e),this.actions=[]}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){return(0,i.h)(i.H,{key:"96883e347b971ab237113c9288d3e53260ab2713"},(0,i.h)("arcgis-browser-actions",{key:"e298f5159f4eb472b181f5c45c965d809ee58b56",actions:this.actions,selection:this.store.state.selectedGroups,store:this.store}))}get el(){return(0,i.d)(this)}},G=class{constructor(e){(0,i.r)(this,e)}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){const e=this.store.state.view;return(0,i.h)(i.H,{key:"209d23c951305cbaae584b45c38eaf0f920b66c5"},(0,i.h)("div",{key:"92789e77371a6688a8e9da12abfdd506829455b5",class:{[e]:!0,"no-space":this.store.state.width<c.b.xs&&this.store.state.panel}},(0,i.h)("slot",{key:"4e0e933486d5c8f10a11d3c5ab056ad1a56d34a0"})))}get el(){return(0,i.d)(this)}};G.style=":host{--arcgis-group-browser-columns:repeat(1, 1fr);--arcgis-group-browser-gap:0.5rem}.list slot,.compact slot{display:grid;grid-template-columns:var(--arcgis-group-browser-columns)}.compact slot{gap:0px}.list slot{gap:var(--arcgis-group-browser-gap)}";const O=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.property="modified",this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}componentWillLoad(){this.store=(0,p.g)(this.el)}getEventDetail(e){return Object.assign({param:"q"},e)}render(){const{property:e,range:t,start:r,end:s,store:o,expanded:a}=this;return(0,i.h)("arcgis-browser-filter-date",{key:"ef6298243e317bad313ac1a1d31fc8085aa51740",serverProperty:e,property:e,store:o,start:r,end:s,range:t,expanded:a,onArcgisBrowserFilter:e=>{this.arcgisGroupBrowserFilter.emit(this.getEventDetail(e.detail))}})}get el(){return(0,i.d)(this)}},I=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserUsernamesFilter=(0,i.c)(this,"arcgisGroupBrowserUsernamesFilter",7),this.searchUsernames=void 0,this.searchUsername=void 0,this.owner=void 0,this.expanded=void 0,this.allUsernames=[],this.selectedUsername=void 0}async componentWillLoad(){var e,t,r;this.store=(0,p.g)(this.el),this.i18n=this.store.state.i18n.filterGroupsByUser,this.selectedUsername=null!==(t=null!==(e=this.searchUsername)&&void 0!==e?e:this.searchUsernames[0])&&void 0!==t?t:null===(r=o.c.user)||void 0===r?void 0:r.username}async searchUsernamesChanged(){this.allUsernames=this.searchUsernames}async searchUsernameChanged(){this.selectedUsername=this.searchUsername}render(){var e;const{allUsernames:t,selectedUsername:r,searchUsername:s,i18n:a}=this,n=null===(e=o.c.user)||void 0===e?void 0:e.username;return(0,i.h)("arcgis-browser-filter",{key:"0934047849aa5c9ab1589220d761d8c3fbcdb1ce",heading:this.i18n.title,expanded:this.expanded,onArcgisBrowserFilterRemove:()=>{this.selectedUsername=s}},(0,i.h)("calcite-tree",{key:"24bf10953d377313f324866ec4e168b17f18b1d3",selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.username)||"";this.selectedUsername=i,this.arcgisGroupBrowserUsernamesFilter.emit(i)}},t.map((e=>(0,i.h)("calcite-tree-item",{"data-username":e,selected:e===r},(0,i.h)("a",null,e===n?a.me.replace("${username}",e):e))))))}get el(){return(0,i.d)(this)}static get watchers(){return{searchUsernames:["searchUsernamesChanged"],searchUsername:["searchUsernameChanged"]}}},S=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.memberOrg=void 0,this.orgId=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,p.g)(this.el),this.i18n=this.store.state.i18n.filterMemberOrg}async componentDidLoad(){this.memberOrg&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,g.a)("memberOrg",this.store,(()=>this.memberOrg=null))}getQueryValue(){const{username:e}=o.c.user,t=o.c.portal.id;if(!e||!t)return"";switch(this.memberOrg){case"myOrg":return"memberorgids:NULL";case"anotherOrg":return this.orgId?`(memberorgids:${this.orgId} OR orgid:${this.orgId})`:"-memberorgids:NULL";default:return""}}getEventDetail(){const{memberOrg:e,orgId:t}=this;return{id:"memberOrg",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),memberOrg:e,orgId:t}}render(){var e;return(null===(e=null===o.c||void 0===o.c?void 0:o.c.portal)||void 0===e?void 0:e.isPortal)?null:(0,i.h)("arcgis-browser-filter",{heading:this.i18n.currentMembersAreFrom,expanded:this.expanded,active:!!this.memberOrg,filterID:"memberOrg",onArcgisBrowserFilterRemove:()=>{this.memberOrg=null,this.orgId=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.memberOrg)||"";this.memberOrg===i?this.memberOrg=null:this.memberOrg=i,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},["myOrg","anotherOrg"].map((e=>(0,i.h)("calcite-tree-item",{"data-member-org":e,selected:e===this.memberOrg},(0,i.h)("a",null,this.i18n[e]))))))}get el(){return(0,i.d)(this)}},B=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.membership=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,p.g)(this.el),this.i18n=this.store.state.i18n.filterMembership,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces}async componentDidLoad(){this.membership&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,g.a)("membership",this.store,(()=>this.membership=null))}getQueryValue(){if(this.hasIndoorsSpaces)return"membershipaccess:org";switch(this.membership){case"org":return"membershipaccess:org";case"collaboration":return"membershipaccess:collaboration";case"anyOrg":return"membershipaccess:NULL";default:return""}}getEventDetail(){const{membership:e}=this;return{id:"membership",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),membership:e}}render(){var e;return this.hasIndoorsSpaces||(null===(e=null===o.c||void 0===o.c?void 0:o.c.portal)||void 0===e?void 0:e.isPortal)?null:(0,i.h)("arcgis-browser-filter",{heading:this.i18n.groupMembershipSetting,expanded:this.expanded,active:!!this.membership,filterID:"membership",onArcgisBrowserFilterRemove:()=>{this.membership=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.membership)||"";this.membership===i?this.membership=null:this.membership=i,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},["org","collaboration","anyOrg"].map((e=>(0,i.h)("calcite-tree-item",{"data-membership":e,selected:e===this.membership},(0,i.h)("a",null,this.i18n[e]))))))}get el(){return(0,i.d)(this)}},P=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.searchUsername=void 0,this.owner=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,p.g)(this.el),this.i18n=this.store.state.i18n.filterOwner,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces}async componentDidLoad(){var e,t;this.owner&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,g.a)("owner",this.store,(()=>this.owner=null)),null!==(e=this.searchUsername)&&void 0!==e||(this.searchUsername=null===(t=o.c.user)||void 0===t?void 0:t.username)}getQueryValue(){var e,t,r;const i=null!==(e=this.searchUsername)&&void 0!==e?e:null===(t=o.c.user)||void 0===t?void 0:t.username,s=null===(r=o.c.portal)||void 0===r?void 0:r.id;if(!i)return"";switch(this.owner){case"owner":return`owner:${i}`;case"inOrg":return`-owner:${i} orgid:${s}`;case"outsideOrg":return(0,m.a)(o.c.user)?`-owner:${i}`:`(orgid: [0 TO {]) -orgid:${s}`;default:return""}}getEventDetail(){const{owner:e,searchUsername:t}=this;return{id:"owner",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}","owner"===e?t:(0,m.a)(o.c.user)?this.i18n.someoneElse:this.i18n[e]),owner:e,username:t}}getOwnerText(e){return"owner"===e?this.searchUsername:"outsideOrg"===e?this.i18n[(0,m.a)(o.c.user)?"someoneElse":"outsideOrg"]:this.i18n[e]}searchUsernameChanged(){this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}render(){const e=o.c.user;if(!(null==e?void 0:e.username))return null;const t=(0,m.a)(e)?["owner","outsideOrg"]:["owner","inOrg","outsideOrg"];return(0,i.h)("arcgis-browser-filter",{heading:this.i18n.owner,expanded:this.expanded,active:!!this.owner,filterID:"owner",onArcgisBrowserFilterRemove:()=>{this.owner=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.owner)||"";this.owner===i?this.owner=null:this.owner=i,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},t.filter((e=>!(o.c.portal.isPortal||this.hasIndoorsSpaces)||"outsideOrg"!==e)).map((e=>(0,i.h)("calcite-tree-item",{"data-owner":e,selected:e===this.owner},(0,i.h)("a",null,this.getOwnerText(e)))))))}get el(){return(0,i.d)(this)}static get watchers(){return{searchUsername:["searchUsernameChanged"]}}};async function C(e){var t,r,i,s,o,a,n;let l=[];const c=[e.featuredItemsGroupQuery,e.basemapGalleryGroupQuery,e.templatesGroupQuery,e["2DStylesGroupQuery"],null!==(t=e.stylesGroupQuery)&&void 0!==t?t:null===(r=e.sourceJSON)||void 0===r?void 0:r.stylesGroupQuery,null!==(i=e.analysisLayersGroupQuery)&&void 0!==i?i:null===(s=e.sourceJSON)||void 0===s?void 0:s.analysisLayersGroupQuery,e.galleryTemplatesGroupQuery];if((0,v.h)(e)){const t=await(0,v.c)(e),r=[];null===(a=null===(o=null==t?void 0:t.result)||void 0===o?void 0:o.content)||void 0===a||a.forEach((e=>{var t;"gallery"===(null==(t=e)?void 0:t.type)&&Boolean(null==t?void 0:t.groupId)&&r.push(e)})),r.length>0&&r.forEach((({groupId:e})=>{l=E(`id:${e}`,l)}))}else c.push(e.homePageFeaturedContent);c.forEach((e=>{l=E(e,l)})),e.featuredGroups.forEach((e=>{if(e.id){const t=`id:${e.id}`;l=E(t,l)}else{const t=`(${Object.entries(e).map((e=>`${e[0]}:"${e[1]}"`)).join(" ")})`;l=E(t,l,!0)}}));try{const t=await(0,v.d)(e);null===(n=null==t?void 0:t.groups)||void 0===n||n.forEach((e=>{l=E(`id:${e}`,l)}))}catch(e){console.error("Error fetching member defaults:",e)}return l.length>0?`(${l.join(" OR ")})`:""}function E(e,t,r){return 0!==(null==e?void 0:e.indexOf("id:"))&&!r||t.includes(e)?[...t]:[...t,e]}const F=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.specialGroup=void 0,this.expanded=void 0,this.options=[]}async componentWillLoad(){this.store=(0,p.g)(this.el),this.i18n=this.store.state.i18n.filterSpecialGroups,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces,this.validateOptions(),(0,o.o)("portal",(()=>this.validateOptions()))}async validateOptions(){if(!o.c.portal)return this.options=[];const e=await C(o.c.portal);this.options=["openData","sharedUpdate","distributed","admin","settings"].filter((t=>!("openData"===t&&o.c.portal.isPortal||"distributed"===t&&this.hasIndoorsSpaces||"settings"===t&&!e)))}async componentDidLoad(){this.specialGroup&&this.arcgisGroupBrowserFilter.emit(await this.getEventDetail()),(0,g.a)("specialGroups",this.store,(()=>this.specialGroup=null))}async getQueryValue(){switch(this.specialGroup){case"openData":return"isopendata:true";case"sharedUpdate":return"capabilities:updateitemcontrol";case"distributed":return"capabilities:distributed";case"admin":return"isleavingdisallowed:true";case"settings":return await C(o.c.portal);default:return""}}async getEventDetail(){const{specialGroup:e}=this;return{id:"specialGroups",param:"q",value:await this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),specialGroups:e}}render(){return(null===o.c||void 0===o.c?void 0:o.c.portal)?(0,i.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.specialGroup,filterID:"specialGroups",onArcgisBrowserFilterRemove:async()=>{this.specialGroup=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:async e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.specialGroups)||"";this.specialGroup===i?this.specialGroup=null:this.specialGroup=i,this.arcgisGroupBrowserFilter.emit(await this.getEventDetail())}},this.options.map((e=>(0,i.h)("calcite-tree-item",{"data-special-groups":e,selected:e===this.specialGroup},(0,i.h)("a",null,this.i18n[e],"settings"===e&&(0,i.h)("arcgis-information",{style:{verticalAlign:"-.25rem","--arcgis-information-min-width":"0"},label:this.i18n.tooltipLabel,overlayPositioning:"fixed",placement:"bottom-end",paddedContent:!0},(0,i.h)("div",{style:{maxWidth:"10rem"}},this.i18n.tooltip)))))))):null}get el(){return(0,i.d)(this)}},U=class{constructor(e){(0,i.r)(this,e)}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){var e,t,r,s;return(0,i.h)("arcgis-browser-filters",{key:"3434adf6a2a8062fda756df45483a7ce4c96d133",store:this.store},(0,i.h)("div",{key:"abf6e1ccd6f10433b7a6f3ce85c91dec1d033a53",slot:"top"},(0,i.h)("slot",{key:"03c3934513d6f0afc6830ab928504ddff06f89ff",name:"top"})),(0,i.h)("div",{key:"1c64a25b6c25ca88cc0e3c82b1de73ae2774a31b",slot:"primary"},(0,i.h)("slot",{key:"405601d381c6185df4412c829e76ea53404a26c8",name:"primary"})),(0,i.h)("div",{key:"0875c3162fe4d8d85343588e051f8c05f3df810c",slot:"title"},(0,i.h)("h2",{key:"efa441538d25bdee6d1a79cb4d8a77a16944f2c0",class:"title"},(null===(s=null===(r=null===(t=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===t?void 0:t.i18n)||void 0===r?void 0:r.groupBrowser)||void 0===s?void 0:s.filters)||""),(0,i.h)("slot",{key:"c11ea0c435d36e4b559d7a99d7fcf070fe171b4a",name:"before-filters"})),(0,i.h)("slot",{key:"0a6dbe4359fab0100cd351b60c2ebfb646c3e292"}),(0,i.h)("div",{key:"055d2d2dd9d31ead41f35b82c30a3444b3e50d2a",slot:"bottom"},(0,i.h)("slot",{key:"3c3fc810fc783f84993723fc7b1168fa5880a3f7",name:"bottom"})))}get el(){return(0,i.d)(this)}};U.style=".title{margin:0px;padding-left:0.5rem;padding-right:0.5rem;padding-top:1rem;padding-bottom:1rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1;margin-bottom:-1px;border-bottom:1px solid var(--calcite-color-border-2)}";const $=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserPage=(0,i.c)(this,"arcgisGroupBrowserPage",7),this.total=void 0,this.start=void 0,this.num=60}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){const{start:e,total:t,num:r,store:s}=this;return(0,i.h)("arcgis-browser-pagination",{key:"735a5f74ebefcb402938c60463850af2d60b9cd2",start:e,total:t,num:r,store:s,onArcgisBrowserPage:e=>this.arcgisGroupBrowserPage.emit(e.detail)})}get el(){return(0,i.d)(this)}};$.style=".wrapper{display:flex;justify-content:center;padding-left:0.5rem;padding-right:0.5rem;padding-top:2rem;padding-bottom:2rem}.hide{display:none}";const T=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserPreviewClose=(0,i.c)(this,"arcgisGroupBrowserPreviewClose",7),this.arcgisGroupBrowserInternalUIAction=(0,i.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.group=void 0,this.portal=void 0,this.user=void 0,this.hidePreviewFooter=!1,this.showBadges=!0,this.currentResponse=void 0,this.fullGroup=void 0,this.userInfo=void 0,this.content=void 0,this.managers=void 0}async componentWillLoad(){this.store=(0,p.g)(this.el),this.lang=await(0,l.a)(this.el),this.i18n=this.store.state.i18n.preview,this.init()}updatePreview(){this.init()}async init(){var e,t,r;if(!this.group)return;const{group:i,portal:s,user:o}=this;this.isGroupOwner=i.owner===(null==o?void 0:o.username),this.fullGroup=null,this.fullGroup=await(0,n.m)((0,f.f)(i.id,this.portal),600),this.userInfo=await(0,b.f)(i.owner,s);const a=this.getTypeQuery(this.fullGroup);this.content=await((null===(t=null===(e=this.fullGroup.properties)||void 0===e?void 0:e.featuredItemIds)||void 0===t?void 0:t.length)&&this.fullGroup.properties.isFeatured?async function(e,t,r,i=4){const s=`${(0,h.g)(e)}content/groups/${t}/search`,o={num:i,start:0,q:`id:(${r.slice(0,i).join(" OR ")})`},a=await(0,d.r)(s,o);if(a.total){const e=r.map((e=>a.results.find((t=>t.id===e)))).filter(Boolean);a.results=e}return a}(s,i.id,this.fullGroup.properties.featuredItemIds):async function(e,t,r={}){const i=`${(0,h.g)(e)}content/groups/${t}/search`;return await(0,d.r)(i,Object.assign(Object.assign({},{num:4,start:0,sortField:"modified",sortOrder:"desc"}),r))}(s,i.id,Object.assign({sortField:this.fullGroup.sortField||"modified",sortOrder:this.fullGroup.sortOrder||"desc"},a?{q:a}:{}))),this.managers=await this.fetchGroupAdmins(s,i),null===(r=this.flowItem)||void 0===r||r.setFocus()}handleAccordionItemClick(e,t){this.arcgisGroupBrowserInternalUIAction.emit({action:e.expanded?"expand":"collapse",category:"group panel action",details:t})}closePreview(){this.fullGroup=null,this.arcgisGroupBrowserInternalUIAction.emit({action:"close panel",category:"group panel action"}),this.arcgisGroupBrowserPreviewClose.emit()}handleDetailsClick(e){this.arcgisGroupBrowserInternalUIAction.emit({action:"click",category:"group panel action",details:e})}renderHeader(){var e;return(0,i.h)("div",{slot:"header-content",class:"preview__header"},(0,i.h)("h3",{class:"preview__title"},null===(e=this.group)||void 0===e?void 0:e.title))}isAccordionItem(e){return"CALCITE-ACCORDION-ITEM"===e.tagName}getViewByText(e){switch(e.access){case"public":return this.i18n.everyone;case"private":return this.i18n.onlyMembers;case"org":return this.i18n.onlyOrganization;case"shared":return this.i18n.onlyOrganizationAndPartners}}getJoinByText(e){return e.autoJoin?this.i18n.byAutojoin:e.isInvitationOnly?this.i18n.byInvitation:e.providerGroupName?this.i18n.byEnterprise:this.i18n.byRequest}async fetchGroupAdmins(e,t){var r,i;const s=null!==(i=null===(r=await async function(e,t,r={}){const i=`${(0,h.g)(t)}community/groups/${e}/userlist`;return(0,d.r)(i,r)}(t.id,e,{memberType:"admin"}))||void 0===r?void 0:r.users)&&void 0!==i?i:[],o=s.find((e=>e.username===t.owner));return[o,...s.filter((e=>e.username!==o.username))]}getTypeQuery(e){var t;if(null===(t=e.displaySettings)||void 0===t?void 0:t.itemTypes){switch(e.displaySettings.itemTypes.split(",")[0].toLowerCase()){case"application":return f.i.applications.q;case"web map":return f.i.maps.q;case"web scene":return f.i.scenes.q;case"locator package":return f.i.tools.q;case"csv":return f.i.files.q;case"layer":return f.i.layers.q}}return w.H}render(){const{group:e,fullGroup:t,i18n:r,managers:s,portal:o,content:n,showBadges:l,user:c}=this;return(0,i.h)(i.H,{key:"72a2cee9d9bb1100e8a1b9965799c4cbca0d0221"},(0,i.h)("calcite-flow",{key:"109687f2998dfc38187ba8da1ce14574fa73ddd4"},(0,i.h)("calcite-flow-item",{key:"a5f33ba40f1d72a8c5eb2d55c69f7db9cd81fc2f",closable:!0,loading:!t,onCalciteFlowItemClose:()=>this.closePreview(),ref:e=>this.flowItem=e},this.renderHeader(),t&&(0,i.h)("div",{key:"cb0a3fcf82468b4655a200bea9e7a739960b544a",class:"content"},(0,i.h)("calcite-accordion",{"icon-position":"start",appearance:"transparent",key:e.id,class:"accordion"},(0,i.h)("calcite-accordion-item",{key:"0053db03c1ae7b4fcfea51186b80e6ea769cec6b",heading:r.overview,expanded:Boolean(t.snippet),ref:e=>{this.overviewElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.overviewElement,"overview")},(0,i.h)("div",{key:"15eee86d42090e7dd27edbac702fd766f031b9e0",class:"section"},t.snippet?(0,i.h)("p",{class:"details-text"},t.snippet):(0,i.h)("p",{class:"details-text details-text--empty"},r.noSummary),l&&(0,i.h)("arcgis-group-badges",{key:"4ac7b743a650c2d2e419283a79e1bab1057975bd",group:t,portal:o,showTooltips:!1,width:"full",scale:"s",appearance:"outline-fill",class:"badges"}))),(0,i.h)("calcite-accordion-item",{heading:r.description,key:"description",ref:e=>{this.descriptionElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.descriptionElement,"description")},(0,i.h)("div",{key:"32f5c999d004abea7473e902dab1a3fb5aabe085",class:"section"},t.description?(0,i.h)("div",{class:"description",innerHTML:(0,a.s)(t.description)}):(0,i.h)("p",{class:"details-text details-text--empty"},r.noDescription))),(0,i.h)("calcite-accordion-item",{key:"bd95cfc82543534ca1e45bfeab9612e855d8a17f",heading:r.content.replace("${count}",n?`${n.total}`:"0"),expanded:!0,ref:e=>{this.contentElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.contentElement,"content")},(0,i.h)("div",{key:"3e0bc40cfff976adfc95669033c19a95dc8b34c5",class:{section:!0,"section--tight":(null==n?void 0:n.total)>0}},(null==n?void 0:n.total)?(0,i.h)("div",{class:"full-card-wrapper"},n.results.map((e=>(0,i.h)("arcgis-group-browser-preview-card",{class:"content-card",item:e,portal:o,user:c,key:e.id}))),(0,i.h)("div",{class:"details-link block--padded"},(0,i.h)("calcite-link",{href:`${(0,h.e)(o)}/home/group.html?id=${e.id}&view=list#content`,onClick:()=>{this.handleDetailsClick("view all content")}},r.viewContent))):(0,i.h)("div",{class:"section--centered"},(0,i.h)("calcite-icon",{scale:"l",icon:"files",class:"icon-xl details-text--empty"}),(0,i.h)("p",{class:"details-text details-text--empty"},r.noContent)))),(0,i.h)("calcite-accordion-item",{key:"e01198acb337093235252cb293a23f13ff62f150",heading:r.groupManagers.replace("${count}",s?`${s.length}`:"0"),expanded:!0,ref:e=>{this.managersElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.managersElement,"managers")},(0,i.h)("div",{key:"35ce7bb458e9e169130949a5bb763eccd4d2f588",class:"section section--tight"},(0,i.h)("div",{key:"1d0e8d8a6021eeb9cf83787c17d8e0e6822a92df",class:"full-card-wrapper"},null==s?void 0:s.map((t=>(0,i.h)("calcite-card",{key:t.username,class:"content-card"},(0,i.h)("arcgis-user-avatar",{heading:t.username===e.owner?r.groupOwner.replace("${fullName}",(0,b.g)(t,this.lang)):t.fullName,showName:!0,user:t,description:t.username,portal:o})))),(0,i.h)("div",{key:"8b4340951fcec1240d7413e0785d52f4df740634",class:"details-link block--padded"},(0,i.h)("calcite-link",{key:"f8dfa73a81668f061e76e5dcfd19735af5fa1ab2",href:`${(0,h.e)(o)}/home/group.html?id=${e.id}#members`,onClick:()=>{this.handleDetailsClick("open members page")}},r.openMembers))))),(0,i.h)("calcite-accordion-item",{key:"f93fddc37345fc339bfc917b422caeebb2deaf0c",heading:r.settings,expanded:this.isGroupOwner,ref:e=>{this.settingsElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.settingsElement,"settings")},(0,i.h)("div",{key:"2a2ffd046949be3eb6b527f73a371b0637bc217e",class:"section"},(0,i.h)("h4",{key:"eca7063f459ffd94d0f43d261c0d705b993d09b6",class:"details-title"},r.viewableBy,":"),(0,i.h)("p",{key:"7dec1213266c2c76e473c70cd632b18037df454d",class:"settings-text"},this.getViewByText(t)),(0,i.h)("h4",{key:"b577f4931aff72846ad193464c4a2c0b71c405a6",class:"details-title"},r.contributors,":"),(0,i.h)("p",{key:"49a98d592fad739c957a478ba6c81aad6aefd3aa",class:"settings-text"},t.isViewOnly?r.onlyOwnerManager:r.allMembers),this.isGroupOwner&&(0,i.h)(i.F,{key:"65db3e501ffe20f70ebd5a680150328e23467828"},(0,i.h)("h4",{key:"ff1836110888955737494c67a40d1c601c9b17ee",class:"details-title"},r.joinMethod,":"),(0,i.h)("p",{key:"0771c446e3617f3226f78d12e43b51a920f11153",class:"settings-text"},this.getJoinByText(t)),(0,i.h)("div",{key:"229183b1035c872dfb64fef8675b8384bbd3b1d4",class:"details-link"},(0,i.h)("calcite-link",{key:"9446bf01a5ee7ce65b32c638f7872e6a866c0304",href:`${(0,h.e)(o)}/home/group.html?id=${e.id}#settings`,onClick:()=>{this.handleDetailsClick("open settings")}},r.openSettings))))))),!this.hidePreviewFooter&&(0,i.h)("div",{key:"e372fcf462a874ab1f0baffa303f9a340f5d0215",slot:"footer",class:"footer-actions"},o&&e&&(0,i.h)("calcite-button",{key:"b7211a61f380681ce6563ed35092614ebf2e8241",onClick:()=>{var e;const{currentResponse:t,group:r}=this,i=(null===(e=null==t?void 0:t.results)||void 0===e?void 0:e.findIndex((e=>e.id===r.id)))+t.start;this.arcgisGroupBrowserInternalUIAction.emit({action:"view group details",category:"group panel action",position:i})},href:`${(0,h.e)(o)}/home/group.html?id=${e.id}`,kind:"neutral",appearance:"solid",width:"full"},r.viewDetails),(0,i.h)("slot",{key:"750f28c2eea9b55a1fcc758fa9cbe72b4011ed01",name:"footer-action"})))))}get el(){return(0,i.d)(this)}static get watchers(){return{group:["updatePreview"]}}};T.style=":host{display:flex;height:100%;width:100%;flex:1 1 0%;flex-direction:column;background-color:var(--calcite-color-background)}.preview__header{margin-inline-start:0.75rem}.preview__title{margin:0px;overflow-wrap:break-word;padding:0px;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1.375}.title{margin-top:0.75rem;margin-bottom:0.75rem;padding:0px;font-size:1.125rem;font-weight:500;color:var(--calcite-color-text-1);word-wrap:break-word;word-break:break-word}.badges{margin-top:1rem}.badges[empty]{display:none}calcite-accordion-item{--calcite-accordion-item-padding:1rem 1rem;--calcite-accordion-item-background:var(--calcite-color-foreground-1);width:100%;box-sizing:border-box;border-bottom:1px solid var(--calcite-color-border-2)}.section{background-color:var(--calcite-color-background);padding:1rem;margin:0rem -1rem calc(-1rem - 1px);line-height:1.35}.section--tight{padding-top:0px;padding-bottom:0px;padding-left:0px;padding-right:0px}.section--centered{display:flex;width:100%;flex-direction:column;align-items:center;row-gap:0.75rem}.full-card-wrapper{padding-left:0.5rem;padding-right:0.5rem;padding-top:0.75rem}.details-title{margin-top:1rem;margin-bottom:0px;padding-bottom:0.25rem;padding-top:0px;font-size:0.75rem;font-weight:500;color:var(--calcite-color-text-3);--calcite-label-margin-bottom:0}.details-title:first-of-type{margin-top:0px}.details-title--label{padding-bottom:0px}.details-text{margin:0px;overflow-wrap:break-word;padding:0px;font-size:0.875rem;font-weight:400;color:var(--calcite-color-text-1)}.details-text a{color:var(--calcite-color-text-link)}.details--text-empty{font-weight:400;color:var(--calcite-color-text-3)}.details-link{margin-top:0.75rem}.description{overflow-wrap:break-word;line-height:1.35}.description *{font-size:0.875rem !important}.icon-xl{height:3rem;width:3rem}.content-card{margin-bottom:0.25rem}.content-thumbnail{margin-top:auto;margin-bottom:auto;width:100%;margin-inline-end:1rem}.settings-text{margin-top:-0.25rem;margin-bottom:-0.25rem;font-size:0.875rem;font-weight:400}.footer-actions{display:flex;width:100%;flex-direction:column;row-gap:0.5rem;padding:1rem}.block--padded{padding-bottom:1rem;padding-inline-start:0.25rem}";const A=class{constructor(e){var t;(0,i.r)(this,e),this.arcgisGroupBrowserInternalUIAction=(0,i.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.arcgisGroupBrowserPreviewCardSelect=(0,i.c)(this,"arcgisGroupBrowserPreviewCardSelect",7),this.handleCardClick=()=>{this.link||this.arcgisGroupBrowserPreviewCardSelect.emit(this.item)},this.item=void 0,this.portal=void 0,this.user=void 0,this.api=4,this.baseUrl=null===(t=null===o.c||void 0===o.c?void 0:o.c.config)||void 0===t?void 0:t.baseUrl,this.link=void 0,this.newTab=void 0,this.showThumbnail=!0,this.showOwner=!0,this.showItemType=!0,this.showDateUpdated=!1,this.showSummary=!1,this.showBadges=!1,this.showOwnerPopup=!1,this.interactive=!1,this.hover=void 0,this.updatedText="",this.loaded=void 0}async restoreFocus(){this.link&&this.linkEl?this.linkEl.focus():this.sectionEl&&this.sectionEl.focus()}async componentWillLoad(){var e,t,r;this.updatedText=(0,y.a)(this.item.modified),this.portal=null!==(e=this.portal)&&void 0!==e?e:o.c.portal,this.user=null!==(t=this.user)&&void 0!==t?t:o.c.user,this.api=null!==(r=this.api)&&void 0!==r?r:o.c.api}async componentDidLoad(){await(0,n.t)(100),this.loaded=!0}render(){var e,t;const{item:r,user:s,portal:a,api:n,loaded:l,showDateUpdated:c,showItemType:d,showOwner:h,showOwnerPopup:u,showBadges:p,showSummary:g,showThumbnail:m,interactive:v,link:f,newTab:b}=this,w=null!==(e=this.baseUrl)&&void 0!==e?e:null===(t=o.c.config)||void 0===t?void 0:t.baseUrl,y=this.link?"a":"div",x=Object.assign({href:f},b?{target:"_blank",rel:"noopener noreferrer"}:{});return(0,i.h)(i.H,{key:"dd89828a534cefa1470b97c0b950426bcbb6cebb"},(0,i.h)("section",Object.assign({key:"a78fbf04f165c7950740f293d714fb3d867ce73b",class:{card:!0,"card--hoverable":v,"card--loaded":l}},v?{onMouseOver:()=>this.hover=!0}:{},v?{onMouseOut:()=>this.hover=!1}:{},f?{}:{onClick:this.handleCardClick},{ref:e=>this.sectionEl=e}),(0,i.h)("slot",{key:"90b24fb064f7736151d18bd87f60389feeaf29a3",name:"content-top"}),(0,i.h)(y,Object.assign({key:"cec6109633f4bae8c36d39bef96c13e6ffaee6b6",class:{card__upper:!0,"card__upper--link":!!f}},f?x:{},{ref:e=>this.linkEl=e}),(0,i.h)("div",{key:"588cff541eb8f9b6ccacb4c86e0e4d42cdf88884",class:"card-flex card__top"},(0,i.h)("div",{key:"a9c8dd853ee9a2f2ba1669f087c2dcb406676e14",class:"card-flex-1"},(0,i.h)("div",{key:"0668e80e488c4477d757571967e2ef44c64e544d",class:"card-flex"},(0,i.h)("div",{key:"eb41054e3a9624e687e1f4469087b20dd0669b15",class:"card__content"},(0,i.h)("h3",{key:"f12832082b1d1f723bd4a46ed1c82ba3178b2a04",class:{card__title:!0,"card__title--padded":d||g&&!!r.snippet}},(0,i.h)("span",{key:"0cbb8283b1a1aef31c206fa0f29fd84df4c7eac3",class:"card__title__span"},r.title)),g&&r.snippet&&(0,i.h)("p",{key:"4383cfad55e53e965491ecfa7cce04bc913d3ae0",class:"card__summary"},r.snippet.length>250?`${r.snippet.substring(0,250)}\u2026`:r.snippet),d&&(0,i.h)("arcgis-item-type",{key:"b1175b196430368cfac35df430c378b77300ea79",scale:"s",item:r,portal:a}),(0,i.h)("div",{key:"28b021287f4513a4a8dd0063ded53f7eb85296b9",class:"card__details"},c&&(0,i.h)("span",{key:"0e46c80fec44fe22cca2927a11524f9cfdf8d2e0",class:{card__detail:!0,card__divider:!0}},this.updatedText),p&&(0,i.h)("arcgis-item-badges",{key:"3e1abd880d7ae8c3d385beee71473dfb9ebf5fcb",item:r,user:s,portal:a,width:"narrow",showTooltips:!0,class:{card__badges:!0,card__divider:!0},scale:"s"}))),m&&(0,i.h)("figure",{key:"95e3de55e14945b046206253abb6c82c77c57d01",class:"card__thumbnail"},(0,i.h)("arcgis-item-browser-card-thumbnail",{key:"490aaac5fc9ad8076b7e8d9e91fdde3118db006e",item:r,user:s,portal:a})))))),(0,i.h)("div",{key:"ed9bb08c918d32e0fc1a63f7b87870bacd2af85c",class:"card__footer",onClick:e=>{e.stopPropagation()},onKeyPress:e=>{"Enter"!==e.key&&" "!=e.key||e.stopPropagation()}},(0,i.h)("div",{key:"d0690273ad7ac0ebde2283dedf87d938363f5e36",class:{card__footer__start:!0,"card__footer__start--owner":h}},h&&(0,i.h)("div",{key:"03ce1c1a724cb46df3a8e079c3c2cf08a94acf35",class:"card__profile-wrap",onClick:e=>{e.preventDefault(),e.stopPropagation()}},u?(0,i.h)("arcgis-user-popup",{underline:!0,username:r.owner,api:n,portal:a,baseUrl:w,showAvatar:!1,class:"card__owner",scale:"s",onArcgisUserPopupInternalUIAction:e=>{e.stopPropagation(),this.arcgisGroupBrowserInternalUIAction.emit(e.detail)}}):(0,i.h)("arcgis-user-avatar",{slot:"footer-start",scale:"s",showName:!0,showAvatar:!1,username:r.owner,portal:a}))),(0,i.h)("slot",{key:"e0608dfaec2879d84832b79c860fd184e351ecdc",name:"actions-end"}))))}get el(){return(0,i.d)(this)}};A.style=':host{display:block;min-width:0px}.card{position:relative;box-sizing:border-box;display:flex;height:100%;width:100%;flex-direction:column;color:var(--calcite-color-text-1);opacity:0;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition-duration:150ms;outline-color:transparent;background-color:var(--calcite-color-foreground-1);transition-property:background-color, outline, outline-offset, opacity;border:1px solid var(--calcite-color-border-3)}.card:focus{z-index:10;outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.card--loaded{opacity:1}.card--selected{border-color:var(--calcite-color-brand)}.card--hoverable{cursor:pointer}.card__top{padding:0.75rem}.card__upper{flex:1 1 0%;background-color:var(--calcite-color-foreground-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.card--hoverable .card__upper:hover{background-color:var(--calcite-color-background)}.card__upper--link{color:var(--calcite-color-text-1);text-decoration-line:none;outline-color:transparent}.card__upper--link:focus{z-index:10;outline:2px solid var(--calcite-color-brand);outline-offset:2px}.card__content{display:flex;min-width:0px;flex:1 1 0%;flex-direction:column}.card__details{margin-top:0.25rem;display:flex;flex-direction:row}.card__detail{font-size:0.75rem;color:var(--calcite-color-text-2)}.card__footer{margin-top:auto;display:flex;align-items:center;background-color:var(--calcite-color-foreground-1);padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;border-top:1px solid var(--calcite-color-border-2)}.card__footer__start{display:flex;min-width:0px;flex:1 1 0%;flex-direction:row;align-items:center;overflow:hidden;margin-inline-end:0.75rem}.card__footer__start--owner{margin-inline-start:-0.25rem}.card__profile-wrap{box-sizing:border-box;max-width:100%;padding:0.25rem}.card__summary{margin:0px;padding:0px;font-size:0.875rem;color:var(--calcite-color-text-2)}.card__divider{display:flex;align-items:center;flex:0 0 auto}.card__divider:not([empty]):before{content:"";height:1.25rem;width:1px;background-color:var(--calcite-color-border-1);margin-inline:0.75rem}.card__divider:first-child:before{display:none}.card-flex{display:flex}.card-flex-1{min-width:0px;flex:1 1 0%}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.card__title{margin-top:0px;margin-bottom:0px;height:2rem;overflow:hidden;overflow-wrap:break-word;padding-top:0px;padding-bottom:0px;font-size:0.875rem;font-weight:500;line-height:1.15;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.card__title--padded{margin-bottom:0.5rem}.card__snippet{margin:0px;margin-bottom:0.75rem;flex:1 1 0%;padding:0px;font-size:0.875rem}.card__badges--stacked{margin-top:0.5rem}.card__thumbnail{margin:0px;box-sizing:content-box;width:4rem;padding:0px;padding-inline-start:0.5rem}.card__owner{min-width:0px}';const D=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserSearch=(0,i.c)(this,"arcgisGroupBrowserSearch",7),this.arcgisGroupBrowserSearchInput=(0,i.c)(this,"arcgisGroupBrowserSearchInput",7),this.term=void 0,this.placeholder=void 0,this.showClear=!1}async componentWillLoad(){this.store=(0,p.g)(this.el),this.i18n=this.store.state.i18n.search}render(){const{term:e,placeholder:t}=this;return(0,i.h)(i.H,{key:"84da80962808ff7df235c01e5932dfc4d02e13b7"},(0,i.h)("arcgis-browser-search",{key:"f3d23e52421b1dc1fe0e6c4fab9524880f4e2fa0",term:e,placeholder:t||this.i18n.label,onArcgisBrowserSearch:e=>this.arcgisGroupBrowserSearch.emit(e.detail),onArcgisBrowserSearchInput:e=>this.arcgisGroupBrowserSearchInput.emit(e.detail)}))}get el(){return(0,i.d)(this)}};D.style=":host{position:relative;display:block}.search{pointer-events:none;position:absolute;z-index:10;margin-top:1rem;font-size:0.875rem;color:var(--calcite-color-text-1);inset-inline-start:1.5rem}.x{position:absolute;top:0px;z-index:10;margin-top:0.25rem;cursor:pointer;border-style:none;padding:0.5rem;color:var(--calcite-color-text-1);outline:2px solid transparent;outline-offset:2px;inset-inline-end:0.25rem;background:transparent}.input{position:relative;z-index:0;box-sizing:border-box;display:block;height:3rem;width:100%;border-style:none;padding-top:1rem;padding-bottom:1rem;padding-left:3rem;padding-right:3rem;font-size:0.875rem;color:var(--calcite-color-text-1);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-duration:150ms;background-color:transparent;border-bottom:2px solid transparent;font-family:inherit}.input::-webkit-search-cancel-button{display:none}.input::-ms-clear{display:none}.input:focus{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);outline:2px solid transparent;outline-offset:2px;border-bottom-color:var(--calcite-color-brand)}";const L=class{constructor(e){var t;(0,i.r)(this,e),this.arcgisGroupBrowserSort=(0,i.c)(this,"arcgisGroupBrowserSort",7),this.options=["title","relevance","modified"],this.field=(null===(t=this.options)||void 0===t?void 0:t[0])||"relevance",this.order=void 0,this.activeField=void 0,this.activeOrder=void 0}async componentWillLoad(){this.store=(0,p.g)(this.el),this.activeField=this.field}componentDidLoad(){this.arcgisGroupBrowserSort.emit({sortField:this.field,sortOrder:this.order||(0,x.a)(this.field)})}updateSortField(e){this.activeField=e,this.activeOrder=(0,x.a)(e),this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder})}updateSortOrder(e){this.activeOrder=e,this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder})}render(){const{activeField:e,activeOrder:t,field:r,order:s,options:o}=this,a=e||(o.includes(r)?r:o[0]),n=t||s;return(0,i.h)(i.H,{key:"d864ff31f7e2f8d6a487ed296d7fcb8c1e156b95"},(0,i.h)("arcgis-browser-sort",{key:"7f25ce4f44495491f3f48526da33ba12428f9aa4",store:this.store,field:a,order:n,options:o,onArcgisBrowserSortFieldChange:e=>this.updateSortField(e.detail),onArcgisBrowserSortOrderChange:e=>this.updateSortOrder(e.detail)}))}get el(){return(0,i.d)(this)}},j=class{constructor(e){(0,i.r)(this,e)}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){return(0,i.h)(i.H,{key:"e4a06b223ab12697b56b61b746ed5383b0294226"},(0,i.h)("arcgis-browser-top-bar",{key:"5f33e2cbbba0673cf20d4f9dea395059928a9279",store:this.store},(0,i.h)("div",{key:"23de5484541624381eb2a53c762be7e1dc4ee8e5",slot:"content-start"},(0,i.h)("slot",{key:"bac548b2bb839b62758b4099476274577ccf2787",name:"content-start"})),(0,i.h)("div",{key:"5e1b8dba8745967f900f3eccaae0c84a83892d13",slot:"search"},(0,i.h)("slot",{key:"c9bacbb12b34afbe1be10fcb95a923b2f89261f9",name:"search"})),(0,i.h)("div",{key:"b7c59fc263fb18843742db02aa8494bc53d00c2c",slot:"content-end"},(0,i.h)("slot",{key:"bdfe5fefd23d44ac038f3bc809583c76f84c9bf3",name:"content-end"}))))}get el(){return(0,i.d)(this)}}},2174:(e,t,r)=>{r.d(t,{a:()=>n,b:()=>a,c:()=>d,d:()=>h,e:()=>u,f:()=>m,g:()=>_,h:()=>v,i:()=>l,j:()=>w,k:()=>y,l:()=>f,m:()=>k,n:()=>x,o:()=>g,p:()=>b,q:()=>p,u:()=>c});var i=r(28926),s=r(94788);function o(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function a(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function n(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function l(e,t){return e.owner===t.username}function c(e,t){return l(e,t)||function(e,t){var r;if(null!=e.isAdmin)return!!e.isAdmin;const i=e.owner,s="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!l(e,t)&&s&&i.includes("esri_")&&!o.includes(i))return!1;return s}(e,t)}const d=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),h=(e,t)=>`${(0,s.a)(t)}item.html?id=${e}`,u=(e,t)=>`${(0,s.g)(t)}/content/users/${e}`,p=e=>e.reduce(((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e)),{});function g(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Spatiotemporal")}function m(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("View Service")}function v(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Hosted Service")}function f(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Multi Services View")}function b(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function w(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[a]=await(0,i.l)(["esri/request"]);if(null==o?void 0:o.user){return a(`${(0,s.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r;const i=null!==(r=null===(t=e.data)||void 0===t?void 0:t.groups)&&void 0!==r?r:[];return Promise.resolve(i)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function y(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[a]=await(0,i.l)(["esri/request"]);return a(`${(0,s.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r,i,s,o,a;const n=[...null!==(r=null===(t=e.data)||void 0===t?void 0:t.admin)&&void 0!==r?r:[],...null!==(s=null===(i=e.data)||void 0===i?void 0:i.member)&&void 0!==s?s:[],...null!==(a=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==a?a:[]];return Promise.resolve(n)}),(()=>Promise.reject()))}async function x(e,t,{relationshipType:r,direction:o}){const a=`${(0,s.g)(t)}content/items/${e}/relatedItems`,[n]=await(0,i.l)(["esri/request"]);return await n(a,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function k(e,t){return null==e?void 0:e.some((e=>null==t?void 0:t.some((t=>e.id===t.id&&e.capabilities.includes("updateitemcontrol")))))}const _=(e,t)=>`${t}/content/items/${e}`},66488:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>d,c:()=>n,d:()=>l,e:()=>p,f:()=>o,g:()=>h,h:()=>a,i:()=>g,q:()=>c});var i=r(46581),s=r(94788);function o(e){var t;return"ArcGISEnterpriseOnKubernetes"===(e.portalDeploymentType||(null===(t=e.sourceJSON)||void 0===t?void 0:t.portalDeploymentType))}function a(e){var t,r;return e.isPortal?"modern"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)||function(e){var t;return e.isPortal&&"modernOnly"===(null===(t=e.portalProperties)||void 0===t?void 0:t.homePage)}(e):"modern"===(null===(t=e.portalProperties)||void 0===t?void 0:t.homePage)||function(e){const t=new Date("June 30, 2020").getTime();return!e.isPortal&&e.created>=t}(e)}async function n(e){try{return{result:await(0,i.f)((()=>(0,i.r)(`${(0,s.g)(e)}portals/self/resources/home.page.json`)),"homePageConfig",e.id)}}catch(e){return{result:void 0}}}async function l(e){return(0,i.f)((()=>(0,i.r)(`${(0,s.g)(e)}portals/self/userDefaultSettings`)),"memberDefaults",e.id)}async function c(e={},t){return(0,i.r)(`${(0,s.g)(t)}/community/groups`,e)}const d=async(e,t)=>{var r;if(!e)return[];const o=`${(0,s.a)(null!==(r=t.restUrl)&&void 0!==r?r:t.portalUrl)}portals/self/servers`,a=await(0,i.f)((()=>(0,i.r)(o)),"selfServers",t.id);return null==a?void 0:a.servers},h=e=>u((0,s.c)(e)),u=e=>{var t;const r=`${(0,s.a)(null!==(t=(0,s.b)(e))&&void 0!==t?t:e)}info`;return(0,i.f)((()=>(0,i.r)(r,{},{addTokenManually:!1})),"portalInfo",r)};async function p(e,t){return!e.isPortal||await g(e,t)}async function g(e,t){if(!t||!e)return!1;if(!e.isPortal)return!0;const{result:r,error:s}=await(0,i.f)((()=>m(e,t)),"isPortalBackedBySDS",e.id);return!s&&r}const m=async(e,t)=>{if(e.isBackedBySDS)return{result:!0};if(!e.isPortal)return{result:!0};try{return{result:!!await v(t,e)}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}},v=async(e,t)=>{var r;return(null!==(r=await d(e,t))&&void 0!==r?r:[]).filter((e=>e.isHosted))[0]}},59296:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>p,c:()=>u,d:()=>h,e:()=>g,f:()=>v,g:()=>m,h:()=>O,i:()=>c,j:()=>l,k:()=>f,l:()=>P,m:()=>w,n:()=>y,o:()=>G,p:()=>k,q:()=>x,r:()=>_,s:()=>S,t:()=>d,u:()=>I,v:()=>a,w:()=>n});var i=r(2174);const s=e=>{var t,r,i;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==r?r:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.id};function o(e){return e&&!e.orgId}function a(e,t){return(0,i.u)(e,t)||"update"===e.itemControl||(0,i.c)([e],t)&&u(t)}function n(e,t){const r=(0,i.c)([e],t),s=(0,i.u)(e,t)||u(t)&&r,o=g(t)&&b(t);return!!(s||r&&o)}const l=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))};function c(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}const h=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")};function u(e){return"org_admin"===s(e)||"account_admin"===s(e)}function p(e){return["org_admin","account_admin"].includes(s(e))&&!(null==e?void 0:e.roleId)}function g(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function m(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function v(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function f(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const b=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function y(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function G(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function O(e,t,r,i){const s=i&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(i.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!u(t)&&!o||!(null==r?void 0:r.isPortal)&&!s)}function I(e){return!!e&&(!g(e)||g(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const S=({items:e,user:t,portal:r})=>{const s=e[0],o=s.owner;if(r.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const n=(0,i.u)(s,t),l=g(t),c=B(t),d=a(s,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!l&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||w(e)||y(e)||!!t.canSharePublic&&x(e)}(t,r)||B(t));return n||d||(0,i.c)(e,t)&&c};function B(e){return G(e)||k(e)||_(e)}function P(e){const t=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>t.includes(e)))}},96295:(e,t,r)=>{r.d(t,{H:()=>i,R:()=>s});const i='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',s="Indoors Map Configuration,Code Attachment"},5157:(e,t,r)=>{r.d(t,{D:()=>s,b:()=>i,s:()=>o});const i={xxs:320,xs:480,sm:640,md:768,lg:1024,xl:1280},s=960;function o(e){var t,r;return null!==(t=(r=e.state).resizeObserver)&&void 0!==t||(r.resizeObserver=new ResizeObserver(a)),e.state.resizeObserver}function a(e){e.forEach((e=>{if(e.contentRect.width>0){const t=new CustomEvent("arcgisBrowserResize",{detail:{width:e.contentRect.width,height:e.contentRect.height}});e.target.dispatchEvent(t)}}))}},69773:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>n,g:()=>c,i:()=>s,o:()=>a});var i=r(78613);const s=e=>"item-browser"===e.state.type,o=(e,t,r)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||r()}))},a=(e,t)=>{e.onChange("preview",(e=>{t()}))},n=(e,t)=>{e.onChange("groupId",(e=>{t()}))},l=new Map;function c(e,t){const r=l.get(e);if(r)return r;const s=(0,i.c)(e,t);return s?(l.set(e,s.store),s.store):null}},3489:(e,t,r)=>{r.d(t,{a:()=>a,g:()=>o});var i=r(11935),s=r(69773);function o(e){return(0,s.g)(e,"arcgis-group-browser")}const a=(0,i.c)({filters:{},type:"group-browser"}).state},22783:(e,t,r)=>{r.d(t,{c:()=>s});var i=r(78613);function s(e=""){return(0,i.s)(e).replace(/[<>\/\\[\]\?]/g,"\\$&").trim()}},79714:(e,t,r)=>{r.d(t,{f:()=>o});var i=r(46581),s=r(78613);async function o(e,t,r,o){var a,n,l;const c=null!==(l=null!==(a=e.orgId)&&void 0!==a?a:null===(n=e.portal)||void 0===n?void 0:n.id)&&void 0!==l?l:null==r?void 0:r.id;return(0,i.f)((()=>async function(e,t,r,o,a){var n,l;const c=(null===(n=e.portal)||void 0===n?void 0:n.portalHostname)||(null==o?void 0:o.portalHostname)||(null===(l=null==o?void 0:o.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),d=a?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!a)return null;const h=a?{disableIdentityLookup:!0,addTokenManually:!1}:{},u=await(0,i.r)(d,{},h),{urlKey:p,thumbnail:g,customBaseUrl:m}=u,v=`https://${p}.${m}/`,f=g?`${v}sharing/rest/portals/self/resources/${g}`:null;let b,w;try{const e=await(0,i.r)(`${d}/resources/localizedOrgProperties`,{start:1,num:100},h);if(e){const t=e[r]||e.default;b=t.name,w=t.description||e.description}}catch(e){}return{name:b||u.name,description:(0,s.a)(w||u.description),url:`${v}home/`,thumbnail:f}}(e,c,t,r,o)),"verified",c)}}}]);