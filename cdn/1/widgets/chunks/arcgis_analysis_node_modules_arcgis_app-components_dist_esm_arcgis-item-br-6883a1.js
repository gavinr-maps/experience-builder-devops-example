/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1"],{13323:(e,t,r)=>{r.r(t),r.d(t,{arcgis_item_browser_filter_expiration:()=>a});var i=r(7263),s=r(50858),n=r(1272);r(69773),r(78613);const a=class{constructor(e){(0,i.r)(this,e),this.arcgisItemBrowserFilter=(0,i.c)(this,"arcgisItemBrowserFilter",7),this.property="expires",this.today=new Date((0,n.g)()),this.resetDatePicker=()=>{this.range=null,this.start=null,this.end=null},this.renderRange=e=>{const{i18n:t,range:r}=this;return(0,i.h)("calcite-tree-item",{"data-range":e,selected:e===r},t[e])},this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}async componentWillLoad(){this.store=(0,s.g)(this.el),this.i18n=this.store.state.i18n.filterExpiration}componentDidLoad(){this.range&&("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}getValue(){const{range:e,start:t,end:r}=this,i=(0,n.g)(),s=i+n.D-1;switch(e){case"tomorrow":return[i+n.D-1,s+n.D];case"today":return[i,s];case"next7":return[i,s+7*n.D];case"next30":return[i,s+30*n.D];case"custom":return[(0,n.g)(t),(0,n.g)(r)+n.D-1];default:return null}}getEventDetail(){const{range:e,i18n:t}=this,r=this.getValue();return{id:this.property,param:"q",value:r?`([${r[0]} TO ${r[1]}])`:"",range:e,start:(null==r?void 0:r[0])&&new Date(null==r?void 0:r[0]),end:(null==r?void 0:r[1])&&new Date(null==r?void 0:r[1]),label:this.i18n[this.property].replace("${date}",t[e])}}isActive(){return!(!this.range||"custom"===this.range&&(!this.start||!this.end))}render(){const{i18n:e,property:t,range:r,start:s,end:n}=this;return(0,i.h)("arcgis-browser-filter",{key:"e4f27640ff4e039a69ae31b65da2b30b56f65c44",heading:e.title[t],expanded:this.expanded,active:this.isActive(),filterID:this.property,onArcgisBrowserFilterRemove:()=>{this.resetDatePicker()}},(0,i.h)("calcite-tree",{key:"59611f4cbda7e055700bede191db5a4b2b843239",selectionMode:"children",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.range;this.range=this.range===i?null:i,("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}},["today","tomorrow","next7","next30","custom"].map(this.renderRange)),"custom"===r&&(0,i.h)("calcite-date-picker",{key:"2d912b58895cf8200afa0b625c73d66b01f13cb4",onCalciteDatePickerRangeChange:e=>{const t=e.target,r=t.valueAsDate[0],i=t.valueAsDate[1];r&&i&&(this.start=r,this.end=i,this.arcgisItemBrowserFilter.emit(this.getEventDetail()))},scale:"s",valueAsDate:[s,n],minAsDate:this.today,range:!0,class:"filter-expiration--date-picker"}))}get el(){return(0,i.d)(this)}};a.style=".filter-expiration--date-picker{margin-top:0.5rem;margin-bottom:0.5rem;margin-inline-start:2rem;width:12.75rem}"},1272:(e,t,r)=>{r.d(t,{D:()=>i,g:()=>s});const i=864e5;function s(e){const t=(e||new Date).valueOf(),r=new Date(t);return r.setHours(0,0,0,0),r.valueOf()}},69773:(e,t,r)=>{r.d(t,{a:()=>n,b:()=>o,g:()=>l,i:()=>s,o:()=>a});var i=r(78613);const s=e=>"item-browser"===e.state.type,n=(e,t,r)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||r()}))},a=(e,t)=>{e.onChange("preview",(e=>{t()}))},o=(e,t)=>{e.onChange("groupId",(e=>{t()}))},c=new Map;function l(e,t){const r=c.get(e);if(r)return r;const s=(0,i.c)(e,t);return s?(c.set(e,s.store),s.store):null}},50858:(e,t,r)=>{r.d(t,{a:()=>c,b:()=>o,c:()=>l,d:()=>g,e:()=>d,f:()=>a,g:()=>n,o:()=>h,r:()=>u});var i=r(69773),s=r(80619);function n(e){return(0,i.g)(e,"arcgis-item-browser")}const a=(e,t)=>{e.onChange("view",(e=>{t(e)}))},o=(e,t)=>{e.onChange("contentUser",(e=>{t(e)}))},c=(e,t)=>{e.onChange("bucket",(e=>{t(e)}))},l=(e,t)=>{e.onChange("filters",(e=>{t(e)}))},h=(e,t)=>{e.onChange("recycleBin",(e=>{t(e)}))},d=(e,t)=>{e.onChange("preview",(e=>{t(e)}))},g=(e,t)=>{e.onChange("sort",(e=>{t(e)}))},u=e=>(Object.keys(e).forEach((t=>{s.I.includes(t)||delete e[t]})),e)},80619:(e,t,r)=>{r.d(t,{I:()=>i,a:()=>s});const i=["folder","group","contentType"],s=99999}}]);