/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-33c806.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-33c806"],{62647:(e,i,r)=>{r.r(i),r.d(i,{arcgis_file_browser:()=>l});var n=r(7263),t=r(62159),o=r(71695);r(78613),r(58233),r(28926),r(70506),r(99004),r(66488),r(46581),r(31670),r(11935),r(94788),r(65215),r(59296),r(2174);const l=class{constructor(e){(0,n.r)(this,e),this.cloudDriveConnected=(0,n.c)(this,"cloudDriveConnected",7),this.fileSelect=(0,n.c)(this,"fileSelect",7),this.portal=void 0,this.config=void 0,this.user=void 0,this.userLicensedItems=void 0,this.cloud=!0,this.showHelpLinkOnError=!0,this.allowedExtensions=null,this.validTypes=null,this.maxFileSize=void 0,this.insideModal=void 0,this.fullHeight=void 0,this.helpText=void 0,this.helpLink=void 0,this.helpIdType="default",this.errorMessage=void 0,this.files=void 0,this.fromDevice=!1}async componentWillLoad(){const{el:e,user:i,portal:r,userLicensedItems:n}=this,l=await(0,t.g)(e);this.i18n=l[0],this.canPublishFromCloud=this.cloud&&await(0,o.c)(i,r,n)}connectCloudDrive(e){this.cloudDriveConnected.emit(e)}async focusMainInput(){this.mainInputRef.focus()}render(){const{i18n:e,canPublishFromCloud:i,allowedExtensions:r,maxFileSize:t,insideModal:o,helpText:l,helpLink:s,helpIdType:a,fullHeight:c,user:u,config:d,showHelpLinkOnError:v,validTypes:f}=this;return(0,n.h)("arcgis-drag-and-drop",{key:"5f3e6c6eeb5704c63c0077afad2fc5fed9992f6f",files:this.files,showHelpLinkOnError:v,allowedExtensions:r,helpIdType:a,validTypes:f,maxFileSize:t,insideModal:o,fullHeight:c,class:{"full-height":c},user:u,config:d,onArcgisDropSuccess:e=>{this.fileSelect.emit({file:e.detail,source:this.fromDevice?"local-device":"drag-n-drop"})}},(0,n.h)("div",{key:"0c29cb6c8ce594aaa1cabd458440f5f0b928bded",class:{"file-browser":!0,"full-height":c}},(0,n.h)("svg",{key:"e7496693b52f0c3ff52316097003366e92b4d54e",width:"42",height:"54",viewBox:"0 0 42 54",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,n.h)("path",{key:"7e9de8c19fbe441598ce42e9720c101b5044e7c3",d:"M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z",fill:"#6A6A6A"}),")",(0,n.h)("path",{key:"4c5fbd4d3ce11c48091cc1b5406526ad6a144ba1","fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z",fill:"#6A6A6A"})),(0,n.h)("input",{key:"537ea3f7b327ee5aabc8f3461b2652d50fe5a26e",onChange:e=>{this.fromDevice=!0,this.files=Object.assign({},e.target.files),this.inputElement.value=null},ref:e=>this.inputElement=e,accept:null==r?void 0:r.map((e=>`.${e}`)).join(","),tabIndex:-1,class:"input",type:"file"}),(0,n.h)("div",{key:"c4e812d0dadc8f7216db475e7ea018b811a76fa2",class:"text-container"},(0,n.h)("h3",{key:"df2e5e7ed0ead1790ac59699e1c43572b3334f11",class:"text"},e.drag),s?(0,n.h)("calcite-link",{href:s,target:"_blank"},l):(0,n.h)("p",{class:"help-text"},l)),(0,n.h)("div",{key:"39a9c45ca078a380a3c7f7dd48a9d35656e5f846",class:"cta-container"},(0,n.h)("button",{key:"b767f9c76ef7648a6f6863d6d8e4aca2e1df61e1",class:"file-browser-button",onClick:()=>{var e;return null===(e=this.inputElement)||void 0===e?void 0:e.click()},ref:e=>this.mainInputRef=e},(0,n.h)("span",{key:"21a33261a27bbd4cbbef00b48dacc331a46965c5",class:"file-browser-button__icon"},(0,n.h)("calcite-icon",{key:"a7083431070f8b1b887d5ccad92d789933c40329",icon:"desktop"})),(0,n.h)("span",{key:"38a2d63ac27c217d0c477f778d0dd726f68439d8",class:"file-browser-button__text"},e.device)),i&&[(0,n.h)("button",{key:"1ddf0c42e0ddb5d50bc1e0724865d1cad2880e11",class:"file-browser-button",onClick:()=>this.connectCloudDrive("google drive")},(0,n.h)("span",{key:"6477950c672c0dd09a5722a003e105bfc2286e3e",class:"file-browser-button__icon"},(0,n.h)("svg",{key:"2215ef60787f849500904873d7ccc4ac528a332c",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{key:"50ab4262f03dd088204f89598ab99766eb025e89",d:"m9.84 48.35 2.3 4a5.25 5.25 0 0 0 2 2l8.2-14.2H5.9a5.4 5.4 0 0 0 .72 2.69z",fill:"#0066da"}),(0,n.h)("path",{key:"cb5f468fdfa524945bff57e02c6afcfd16f78594",d:"m32 23.37-8.26-14.2a5.29 5.29 0 0 0-2 2L6.62 37.39a5.42 5.42 0 0 0-.72 2.69h16.41z",fill:"#00ac47"}),(0,n.h)("path",{key:"4412b3342b079a7e29342ac011d672b59b6281a0",d:"M49.79 54.28a5.25 5.25 0 0 0 2-2l1-1.64 4.56-7.9a5.4 5.4 0 0 0 .65-2.66H41.59l3.49 6.86z",fill:"#ea4335"}),(0,n.h)("path",{key:"e692b993ffc2d2aa40d708e13910608f13ad869c",d:"m32 23.37 8.21-14.2a5.24 5.24 0 0 0-2.69-.72h-11a5.58 5.58 0 0 0-2.69.72z",fill:"#00832d"}),(0,n.h)("path",{key:"32efe961f4b7552cf2ddb708de9884a655063891",d:"M41.59 40.08H22.31l-8.2 14.2a5.2 5.2 0 0 0 2.68.72h30.32a5.51 5.51 0 0 0 2.68-.72z",fill:"#2684fc"}),(0,n.h)("path",{key:"57f074f623a9bc303eaf4ec6ab9258cbbacfc22f",d:"m49.7 24.27-7.57-13.13a5.39 5.39 0 0 0-2-2L32 23.37l9.64 16.71H58a5.43 5.43 0 0 0-.72-2.69z",fill:"#ffba00"}))),(0,n.h)("span",{key:"0820cdf3bb955647e3b070e151b3c0ee7ef10379",class:"file-browser-button__text"},e.googleDrive)),(0,n.h)("button",{key:"4ad7b0566ad7afcbc47318d85687f6aab62ca9f4",class:"file-browser-button",onClick:()=>this.connectCloudDrive("dropbox")},(0,n.h)("span",{key:"35955cb107faaf0202ac5ab40403ab9eaa8bfd78",class:"file-browser-button__icon"},(0,n.h)("svg",{key:"4694a343bf59bdff208c0756d017920906987122",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{key:"5df6108a3b77f6cc4b72bad910cc2d9fb96796dc",d:"M20 11.61 8 19.26l12 7.64 12-7.64-12-7.65zM44 11.61l-12 7.65 12 7.64 12-7.64-12-7.65z",fill:"#0061ff"}),(0,n.h)("path",{key:"990e4dbaf2bb64f470671eaf33a81e3a3e99d98e",d:"m8 34.55 12 7.64 12-7.64-12-7.65-12 7.65zM44 26.9l-12 7.65 12 7.64 12-7.64-12-7.65zM20 44.74l12 7.65 12-7.65-12-7.64-12 7.64z",fill:"#0061ff"}))),(0,n.h)("span",{key:"983d090666776f9eac177736bba1bd569bb07bbc",class:"file-browser-button__text"},e.dropbox)),(0,n.h)("button",{key:"e5ccc7f52ba1dc6f973d062e7bc0547a652da783",class:"file-browser-button",onClick:()=>this.connectCloudDrive("onedrive")},(0,n.h)("span",{key:"b133095349778015e7a59c36e2d41716c081b0fa",class:"file-browser-button__icon"},(0,n.h)("svg",{key:"96aa0c5428b03d3be2c492bc6cf8fe359c3e066e",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("g",{key:"c97d15339a017a4b6cdad011686430fbb7a29c49"},(0,n.h)("path",{key:"037f11f69d1735fdb1b8c9caf86b63f6bcd307f3",d:"M37.14 37.93 47.5 28a15.68 15.68 0 0 0-28.29-4.7c.16 0 17.93 14.63 17.93 14.63z",fill:"#0364b8"}),(0,n.h)("path",{key:"8aa3311ea7a2e73f93fadaf72e474c3263945cf5",d:"M26 25.16a12.38 12.38 0 0 0-6.59-1.87h-.16A12.53 12.53 0 0 0 9.09 43l15.51-1.94 11.89-9.59z",fill:"#0078d4"}),(0,n.h)("path",{key:"7bf0fd86ff905be099e5d81262cad216619682b9",d:"M47.5 28h-.69a10.18 10.18 0 0 0-4 .83l-6.28 2.64L43.41 40l12.37 3a10.2 10.2 0 0 0-8.28-15z",fill:"#1490df"}),(0,n.h)("path",{key:"acb519fc79c8eb68aa8f76c423e6f2c0ed78ad95",d:"M9.09 43a12.53 12.53 0 0 0 10.28 5.37h27.44a10.19 10.19 0 0 0 9-5.36L36.49 31.47z",fill:"#28a8ea"})))),(0,n.h)("span",{key:"21e93cb4b6c5b350cd95b3a2b42f6cc21de737dc",class:"file-browser-button__text"},e.oneDrive))])))}get el(){return(0,n.d)(this)}};l.style=".file-browser{margin-bottom:2rem;box-sizing:border-box;width:100%;border-width:2px;border-style:dashed;border-color:var(--calcite-color-border-1);background-color:var(--calcite-color-background);padding-top:2rem;padding-bottom:2rem;text-align:center}.file-browser.full-height{align-items:center;justify-content:center}.file-browser.append-height{align-items:center;justify-content:center}.alert{text-align:initial}.input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.text-container{margin-top:2rem;margin-bottom:2rem}.text{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);margin-top:0px;margin-bottom:0px}.help-text{font-size:0.875rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:0.5rem;margin-bottom:0px;max-width:38rem}.file-browser-button{margin-top:0px;margin-bottom:0px;margin-left:0.75rem;margin-right:0.75rem;box-sizing:border-box;width:auto;cursor:pointer;border-radius:0;padding:0px;font-size:0.875rem;line-height:1rem;color:var(--calcite-color-text-1);display:inline-flex;align-items:center;border:1px solid var(--calcite-color-border-1);background-color:white;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.file-browser-button:hover{border-color:var(--calcite-color-brand)}.file-browser-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.file-browser-button__icon{background-color:#f8f8f8;color:var(--calcite-color-text-link);width:32px;height:32px;box-sizing:border-box;padding:4px;display:flex;align-items:center;justify-content:center}.file-browser-button__icon svg{width:100%}.file-browser-button__text{padding:8px}:host(.full-height),.full-height{display:flex;flex-direction:column;height:100%;width:100%}"},2174:(e,i,r)=>{r.d(i,{a:()=>s,b:()=>l,c:()=>u,d:()=>d,e:()=>v,f:()=>h,g:()=>P,h:()=>b,i:()=>a,j:()=>w,k:()=>y,l:()=>m,m:()=>x,n:()=>k,o:()=>p,p:()=>g,q:()=>f,u:()=>c});var n=r(28926),t=r(94788);function o(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function l(e){var i;return o(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function s(e){var i;return o(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function a(e,i){return e.owner===i.username}function c(e,i){return a(e,i)||function(e,i){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!a(e,i)&&t&&n.includes("esri_")&&!o.includes(n))return!1;return t}(e,i)}const u=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),d=(e,i)=>`${(0,t.a)(i)}item.html?id=${e}`,v=(e,i)=>`${(0,t.g)(i)}/content/users/${e}`,f=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{});function p(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Spatiotemporal")}function h(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("View Service")}function b(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Hosted Service")}function m(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Multi Services View")}function g(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function w(e){var i;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);if(null==o?void 0:o.user){return l(`${(0,t.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(i=r.portal.credential)||void 0===i?void 0:i.token},responseType:"json"}).then((e=>{var i,r;const n=null!==(r=null===(i=e.data)||void 0===i?void 0:i.groups)&&void 0!==r?r:[];return Promise.resolve(n)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function y(e){var i;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);return l(`${(0,t.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(i=r.portal.credential)||void 0===i?void 0:i.token},responseType:"json"}).then((e=>{var i,r,n,t,o,l;const s=[...null!==(r=null===(i=e.data)||void 0===i?void 0:i.admin)&&void 0!==r?r:[],...null!==(t=null===(n=e.data)||void 0===n?void 0:n.member)&&void 0!==t?t:[],...null!==(l=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==l?l:[]];return Promise.resolve(s)}),(()=>Promise.reject()))}async function k(e,i,{relationshipType:r,direction:o}){const l=`${(0,t.g)(i)}content/items/${e}/relatedItems`,[s]=await(0,n.l)(["esri/request"]);return await s(l,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function x(e,i){return null==e?void 0:e.some((e=>null==i?void 0:i.some((i=>e.id===i.id&&e.capabilities.includes("updateitemcontrol")))))}const P=(e,i)=>`${i}/content/items/${e}`},66488:(e,i,r)=>{r.d(i,{a:()=>v,b:()=>u,c:()=>s,d:()=>a,e:()=>f,f:()=>o,g:()=>d,h:()=>l,i:()=>p,q:()=>c});var n=r(46581),t=r(94788);function o(e){var i;return"ArcGISEnterpriseOnKubernetes"===(e.portalDeploymentType||(null===(i=e.sourceJSON)||void 0===i?void 0:i.portalDeploymentType))}function l(e){var i,r;return e.isPortal?"modern"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)||function(e){var i;return e.isPortal&&"modernOnly"===(null===(i=e.portalProperties)||void 0===i?void 0:i.homePage)}(e):"modern"===(null===(i=e.portalProperties)||void 0===i?void 0:i.homePage)||function(e){const i=new Date("June 30, 2020").getTime();return!e.isPortal&&e.created>=i}(e)}async function s(e){try{return{result:await(0,n.f)((()=>(0,n.r)(`${(0,t.g)(e)}portals/self/resources/home.page.json`)),"homePageConfig",e.id)}}catch(e){return{result:void 0}}}async function a(e){return(0,n.f)((()=>(0,n.r)(`${(0,t.g)(e)}portals/self/userDefaultSettings`)),"memberDefaults",e.id)}async function c(e={},i){return(0,n.r)(`${(0,t.g)(i)}/community/groups`,e)}const u=async(e,i)=>{var r;if(!e)return[];const o=`${(0,t.a)(null!==(r=i.restUrl)&&void 0!==r?r:i.portalUrl)}portals/self/servers`,l=await(0,n.f)((()=>(0,n.r)(o)),"selfServers",i.id);return null==l?void 0:l.servers},d=e=>v((0,t.c)(e)),v=e=>{var i;const r=`${(0,t.a)(null!==(i=(0,t.b)(e))&&void 0!==i?i:e)}info`;return(0,n.f)((()=>(0,n.r)(r,{},{addTokenManually:!1})),"portalInfo",r)};async function f(e,i){return!e.isPortal||await p(e,i)}async function p(e,i){if(!i||!e)return!1;if(!e.isPortal)return!0;const{result:r,error:t}=await(0,n.f)((()=>h(e,i)),"isPortalBackedBySDS",e.id);return!t&&r}const h=async(e,i)=>{if(e.isBackedBySDS)return{result:!0};if(!e.isPortal)return{result:!0};try{return{result:!!await b(i,e)}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}},b=async(e,i)=>{var r;return(null!==(r=await u(e,i))&&void 0!==r?r:[]).filter((e=>e.isHosted))[0]}},59296:(e,i,r)=>{r.d(i,{a:()=>o,b:()=>f,c:()=>v,d:()=>d,e:()=>p,f:()=>b,g:()=>h,h:()=>S,i:()=>c,j:()=>a,k:()=>m,l:()=>C,m:()=>w,n:()=>y,o:()=>_,p:()=>x,q:()=>k,r:()=>P,s:()=>T,t:()=>u,u:()=>I,v:()=>l,w:()=>s});var n=r(2174);const t=e=>{var i,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function l(e,i){return(0,n.u)(e,i)||"update"===e.itemControl||(0,n.c)([e],i)&&v(i)}function s(e,i){const r=(0,n.c)([e],i),t=(0,n.u)(e,i)||v(i)&&r,o=p(i)&&g(i);return!!(t||r&&o)}const a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))};function c(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function u(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}const d=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")};function v(e){return"org_admin"===t(e)||"account_admin"===t(e)}function f(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function p(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function h(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function b(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function m(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const g=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function y(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function S(e,i,r,n){const t=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!v(i)&&!o||!(null==r?void 0:r.isPortal)&&!t)}function I(e){return!!e&&(!p(e)||p(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const T=({items:e,user:i,portal:r})=>{const t=e[0],o=t.owner;if(r.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const s=(0,n.u)(t,i),a=p(i),c=D(i),u=l(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!a&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||w(e)||y(e)||!!i.canSharePublic&&k(e)}(i,r)||D(i));return s||u||(0,n.c)(e,i)&&c};function D(e){return _(e)||x(e)||P(e)}function C(e){const i=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>i.includes(e)))}},71695:(e,i,r)=>{r.d(i,{a:()=>C,b:()=>v,c:()=>D,d:()=>m,e:()=>g,f:()=>y,g:()=>f,h:()=>b,i:()=>k,j:()=>x,k:()=>S,l:()=>u,m:()=>I,n:()=>d,o:()=>$,p:()=>L,q:()=>M,r:()=>T,s:()=>z,t:()=>H,u:()=>E,v:()=>j,w:()=>a,x:()=>_,y:()=>P,z:()=>O});var n=r(66488),t=r(94788),o=r(59296),l=r(31670),s=r(46581);async function a(){return new Promise((async e=>{const{portal:i}=l.c;if(null==i?void 0:i.isPortal){const r=i.helperServices.geocode,n=await function(e){const{config:i,portal:r}=l.c;return new Promise((async(n,t)=>{const o=e.filter((e=>c(e.url,r))).filter((e=>e.isEsriBatchGeocoder))[0];if(o){const e=o.url.split("/servers/")[1].split("/rest/services/")[0],r=`${i.restBaseUrl}/content/items/${e}`;try{n((await(0,s.r)(r)).url)}catch(e){t(e)}}else t("No world geocoder configured")}))}(r);e(n)}else{const r=function(e){const i=null==e?void 0:e.portalHostname;if(-1!==i.indexOf("dev"))return"dev";if(-1!==i.indexOf("qa"))return"qa";return""}(i);e(`https://geocode${r}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function c(e="",i){var r;const n=i.isPortal,t=e.toLowerCase(),o=t.indexOf("/geocodeserver")>-1&&t.indexOf("/rest/services/")>-1,l=n&&t.indexOf(null===(r=i.portalHostname)||void 0===r?void 0:r.toLowerCase())>-1,s=!n&&t.indexOf("utility")&&t.indexOf(".arcgis.com")>-1;return o&&(l||s)}function u(e){return(0,o.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function d(e){return(0,o.a)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function v(e,i){return!(0,o.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,n.i)(i,e)}async function f(e,i){return!(0,o.a)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,n.i)(i,e)}const p=async(e,i)=>{var r;return await f(e,i)&&(!i.isPortal||!!i.supports3DTilesServices||!!(null===(r=i.sourceJSON)||void 0===r?void 0:r.supports3DTilesServices))};function h(e){return!(0,o.a)(e)&&!0}function b(e){var i;return!(0,o.a)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const m=e=>!(0,o.a)(e);function g(e,i,r){var n,t;const o=!!(null===(t=null===(n=i.helperServices)||void 0===n?void 0:n.rasterAnalytics)||void 0===t?void 0:t.url),l=function(e,i,r){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||w(r))}(e,i,r),s=i.isPortal?l:l||function(e,i,r){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&w(r)}(e,i,r);return o&&s}function w(e){return null==e?void 0:e.some((e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some((e=>"image"===e.toLowerCase()))}))}async function y(e){var i;const{userLicensedItems:r}=await(0,s.r)(`${null!==(i=e.restUrl)&&void 0!==i?i:e.portalUrl}/community/self?returnUserLicensedItems=true`);return r}function k(e,i){var r,n;const l=null===(r=i.helperServices)||void 0===r?void 0:r.geocode.some((({url:e})=>c(e,i))),s=null!==(n=null==e?void 0:e.privileges)&&void 0!==n?n:[];return!(0,o.a)(e)&&l&&(!i.isPortal||!(0,t.i)(i)&&s.includes("portal:user:viewOrgItems")&&s.includes("portal:user:createItem"))}const x=e=>!(0,o.a)(e);function P(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function _(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function S(e,i){var r;return!!i.isPortal&&!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores"))}function I(e){return!(0,o.a)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const T=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function D(e,i,r){return!i.isPortal&&await v(e,i)&&await async function(e,i,r){return!(0,o.a)(e)&&!!i.supportsHostedServices&&u(e)&&(await f(e,i)||await v(e,i)||b(e)||h(e)||g(e,i,r))}(e,i,r)}async function C(e,i,r){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return v(e,r);case"Tile Package":return f(e,r);case"3DTiles Package":return p(e,r);case"Vector Tile Package":return h(e);case"Scene Package":return b(e);case"Service Definition":return async function(e,i){return await v(e,i)&&await f(e,i)}(e,r);default:return!0}}function L(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}function z(e,i){var r,n,t;return(0,o.c)(e)||L(e)||!!((null!==(r=null==e?void 0:e.assignedCredits)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.assignedCredits)>-1&&(null===(t=null==i?void 0:i.portalProperties)||void 0===t?void 0:t.showCreditsOnProfile))}const H=e=>!1;function O(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function M(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}function $(e){return(0,o.b)(e)||M(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}function j(e){return e.map((e=>`portal:app:access:item:${e.id}`))}const E=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")}}]);