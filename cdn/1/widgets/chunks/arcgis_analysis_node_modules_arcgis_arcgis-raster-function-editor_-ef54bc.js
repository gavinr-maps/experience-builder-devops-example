"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-ef54bc"],{16925:(e,t,n)=>{function r(e){void 0!==e&&(e.open=!1,e.remove())}function o(e,t){!1===e.body.contains(t)&&(e.body.appendChild(t),t.open=!0)}function s(e,t){const{helpUrl:n,helpId:s,heading:a,referenceElement:i,portal:l,helpSrcdoc:c,helpFileName:u,learnMoreUrl:d,offsetDistance:f,offsetSkidding:p}=t;return void 0!==e&&(r(e),e=void 0),e=function(e){const{helpUrl:t,helpId:n,heading:r,referenceElement:o,portal:s,helpSrcdoc:a,learnMoreUrl:i,placement:l,offsetDistance:c,offsetSkidding:u}=e,d=document.createElement("rfx-help-popover");return d.helpUrl=t,d.helpId=n,d.heading=r,d.referenceElement=o,d.placement=l??"leading-start",d.portal=s,d.helpSrcdoc=a,d.learnMoreUrl=i,void 0!==c&&(d.offsetDistance=c),void 0!==u&&(d.offsetSkidding=u),d}({helpUrl:n,helpId:s,heading:a,referenceElement:i,portal:l,helpSrcdoc:c,helpFileName:u,learnMoreUrl:d,offsetDistance:f,offsetSkidding:p}),o(document,e),e}function a(e,t){const{referenceElement:n,label:s,direction:a,offsetDistance:i,offsetSkidding:l,showPropertiesAction:c,showRenameAction:u,handleNodeDuplicate:d,handleNodeRename:f,handleNodeDelete:p,handleNodeEditProperties:m}=t;void 0!==e&&(r(e),e=void 0),e=document.createElement("calcite-popover");const h={overlayPositioning:"absolute",autoClose:!0,dir:a,focusTrapDisabled:!0,triggerDisabled:!0,pointerDisabled:!0,placement:"bottom",closable:!1,open:!0,referenceElement:n,label:s,offsetDistance:i,offsetSkidding:l,style:"z-index: 650;"};Object.assign(e,h);const g=document.createElement("rfx-node-interaction-toolbar"),E={showPropertiesAction:c,showRenameAction:u,handleNodeDuplicate:d,handleNodeRename:f,handleNodeDelete:p,handleNodeEditProperties:m};return Object.assign(g,E),e.append(g),o(document,e),setTimeout((()=>requestAnimationFrame((()=>{e.open=!0,e.setFocus()}))),1),e}n.d(t,{c:()=>a,r:()=>r,s:()=>s})},86889:(e,t,n)=>{n.d(t,{s:()=>c});var r=n(17002);const o=e=>!("isConnected"in e)||e.isConnected,s=((e,t)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,e(...r)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(o))}),2e3),a=e=>"function"==typeof e?e():e,i=(e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)};const l=((e,t)=>{const n=((e,t=((e,t)=>e!==t))=>{const n=a(e);let r=new Map(Object.entries(null!=n?n:{}));const o={dispose:[],get:[],set:[],reset:[]},s=()=>{var t;r=new Map(Object.entries(null!==(t=a(e))&&void 0!==t?t:{})),o.reset.forEach((e=>e()))},l=e=>(o.get.forEach((t=>t(e))),r.get(e)),c=(e,n)=>{const s=r.get(e);t(n,s,e)&&(r.set(e,n),o.set.forEach((t=>t(e,n,s))))},u="undefined"==typeof Proxy?{}:new Proxy(n,{get:(e,t)=>l(t),ownKeys:e=>Array.from(r.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>r.has(t),set:(e,t,n)=>(c(t,n),!0)}),d=(e,t)=>(o[e].push(t),()=>{i(o[e],t)});return{state:u,get:l,set:c,on:d,onChange:(t,n)=>{const r=d("set",((e,r)=>{e===t&&n(r)})),o=d("reset",(()=>n(a(e)[t])));return()=>{r(),o()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(d("set",t.set)),t.get&&e.push(d("get",t.get)),t.reset&&e.push(d("reset",t.reset)),t.dispose&&e.push(d("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=r.get(e);o.set.forEach((n=>n(e,t,t)))}}})(e,t);return n.use((()=>{if("function"!=typeof r.d)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const n=(0,r.d)();n&&((e,t,n)=>{const r=e.get(t);r?r.includes(n)||r.push(n):e.set(t,[n])})(e,t,n)},set:t=>{const n=e.get(t);n&&e.set(t,n.filter(r.f)),s(e)},reset:()=>{e.forEach((e=>e.forEach(r.f))),s(e)}}})()),n})({portal:undefined,portalItem:undefined,rftJSON:undefined,rftProperties:undefined,assetPath:undefined,coreStrings:undefined,selectedFileName:undefined,isRightToLeft:!1,hasUnsavedChanges:!1,canUpdateItem:!1}),c=l.state;l.onChange("portalItem",(async e=>{void 0!==e&&(await e.load(),"admin"!==e.itemControl&&"update"!==e.itemControl?c.canUpdateItem=!1:c.canUpdateItem=!0)}))},75311:(e,t,n)=>{n.d(t,{D:()=>l,J:()=>d,a:()=>m,b:()=>R,c:()=>h,d:()=>g,e:()=>N,f:()=>y,g:()=>T,h:()=>E,i:()=>c,j:()=>u,k:()=>p,l:()=>i,m:()=>C,n:()=>I,s:()=>_});var r=n(5294),o=n(59799),s=n(14385),a=(n(588),n(55448),n(2924),n(11840),n(52373),n(33752),n(440),n(66744),n(44345),n(1409));n(23795),n(17902),n(56451),n(68852),n(71802);const i=[38,39,40,41,42,43,47,54,55,58,66,67,68,69,70,71,72,73,74,75,93,94],l="distanceLegacy",c=({category:e})=>!![l].includes(e),u={local:"LocalFunction",gpAdapter:"GPAdapterFunction",pythonAdapter:"PythonAdapterFunction"},d={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},f={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},p={name:"Raster",isDataset:!0,isPublic:!1,type:d.RASTER_FUNCTION_VARIABLE};function m(e){return null==e?"":e.name||e.datasetName&&e.datasetName.name}function h(e){return e.hasOwnProperty("EsriClassifierDefinitionFile")}function g(e){return e.type&&e.type.toLowerCase().indexOf(d.RECORD_SET.toLowerCase())>=0}function E(e,t){const n=t&&t.value;if(null==n)return;let r;return e.some((e=>{if(e.values&&e.values.indexOf(n)>-1)return r=e.inputArgs,!0})),r}function A(e,t){let n;if(!(0,s.o)(e)&&(n=e.rasterFunctionArguments,1===Object.keys(n).length&&!e.hasArgumentsObject))return!0;const r=t.arguments,o=r&&r.type;return!(!o||o!==d.RASTER_FUNCTION_TEMPLATE&&o!==d.RASTER_FUNCTION_VARIABLE)||void 0}function v(e,t,n){if((0,s.o)(t)||(0,s.o)(n))return;const r=e?.rasterFunctionArguments;return(0,s.o)(r)?void 0:(0,a.l)(t,r)}function y(e,t,n,r){if((0,s.o)(t)&&(0,s.o)(r))return!1;const a=v(e,r=r||t.key,n);if(!(0,s.o)(a)&&a.dataType===o.d.rasterArray)return!0;if(!t)return;const i=t.value;if(i&&i.elements){return i.elements.some((e=>e&&(e.isDataset||e.type===d.RASTER_FUNCTION_TEMPLATE||e.value&&e.value.type===d.RASTER_FUNCTION_TEMPLATE)))}i&&Array.isArray(i)&&i.some((e=>e&&e.name&&e.url))}function R(e,t,n){t.value||(t.value={elements:[],type:d.ARGUMENT_ARRAY});let r=t.value&&t.value.elements?t.value.elements:t.value;return r&&Array.isArray(r)?void 0!==n?r[n]=e:(r.push(e),n=r.length-1):(r=[e],n=0),t.value&&t.value.elements?t.value.elements=r:t.value=r,n}function T(e,t,n){let r,o;if("string"==typeof t?r=t:(r=t.key,o=t.index),(0,s.o)(r)||(0,s.o)(n))return;const a=n.arguments,i=a&&a.type,l=r&&r.toLowerCase();let c;if(A(e,n))return i!==d.RASTER_FUNCTION_TEMPLATE&&!a.isDataset||"raster"!==l?i===d.RASTER_FUNCTION_VARIABLE&&"rasters"===l&&(c=void 0!==o?function(e,t){if((0,s.o)(t)||void 0===e)return;const n=t.value&&t.value.elements?t.value.elements:t.value;return n&&n.length?n[e]:void 0}(o,a):a):c=a,c;if(c=a[r],void 0!==o&&y(e,c,n,r)){const e=c.value&&c.value.elements?c.value.elements:c.value;c=e&&e.length?e[o]:void 0}return c}function N(e,t){if((0,s.o)(t))return;const n=[],o=t.arguments,a=o&&o.type;if(A(e,t)){let e,t=r.clone(o);return e=a===d.RASTER_FUNCTION_TEMPLATE||t.isDataset?"Raster":"Rasters",(0,s.o)(t)?t={key:e}:t.key=e,n.push(t),n}return Object.keys(o).forEach((e=>{if(e===f.MATCH_VARIABLE||e===f.UNION_DIMENSION)return;let t=r.clone(o[e]);(0,s.g)(t)&&((0,s.o)(t)?t={key:e}:t.key=e,n.push(t))})),n}function _(e,t,n,r,o){if((0,s.o)(t)||(0,s.o)(n)||(0,s.o)(r))return;const a=t.arguments,i=y(e,a,t,r)&&void 0!==o;if(A(e,t))i?o=R(n,a,o):t.arguments=n;else{const e=a[r];i?o=R(n,e,o):a[r]=n}return n.value&&"Scalar"===n.value.type&&(0,s.o)(n.name)&&(n.name=i?t.function.type.toLowerCase()===u.local.toLowerCase()&&o>0?`InRaster${o+1}`:`Raster${o>0?o+1:""}`:v(e,r,t).displayName||r),{key:r,index:o}}function C(e){return e.dataType===o.d.raster||e.dataType===o.d.rfxtemplate}function I(e){return e.dataType===o.d.scalar}}}]);