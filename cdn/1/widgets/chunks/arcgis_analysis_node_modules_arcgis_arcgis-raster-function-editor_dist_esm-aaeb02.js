"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-aaeb02"],{1207:(e,i,t)=>{t.r(i),t.d(i,{rfx_cte_dimensionless_editor:()=>g});var s=t(17002),n=(t(5294),t(14385)),r=(t(588),t(55448),t(2924),t(11840),t(52373),t(33752),t(440),t(66744),t(38146)),l=t(1409),a=t(19562);t(23795),t(17902),t(56451),t(68852),t(71802),t(44345);const c="inputArgHelpClickHandler",g=class{constructor(e){(0,s.r)(this,e),this.rfxArgumentChange=(0,s.c)(this,"rfxArgumentChange",7),this.loaded=!1,this.showDimensionLessCheckbox=!0,this.helpActionClickEventHandlers=new Map,this.evaluateFilterTriggerArg=async e=>{const i=await this.isMultidimensionalDefinitionAppliedSingleSlice(e);this.mdimDefLeadsToSingleSlice=void 0,this.mdimDefLeadsToSingleSlice=i},this.evaluateRasterTriggerArg=async()=>{const e=this.widgetArgs.triggerArgs.Raster,i=e?.input,t=await i.getSelectedLayer();if(t){const e=this.checkIfRasterIsSingleSlice(t);this.isRasterSingleSlice=e}else this.mdimDefLeadsToSingleSlice=!1},this.isRasterSingleSlice=!1,this.mdimDefLeadsToSingleSlice=!1,this.widgetArgs=void 0,this.value=void 0}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}async componentWillLoad(){await this.setupInitialState(this.widgetArgs)}componentWillRender(){const e=this.isRasterSingleSlice||this.mdimDefLeadsToSingleSlice,i=this.widgetArgs.triggerArgs.Raster?.input,t=!1===Boolean(i?.value)||e;this.showDimensionLessCheckbox=t}componentDidLoad(){}processWidgetArgs({inputArgs:e,triggerArgs:i}){Object.keys(e).forEach((i=>{const t=e[i];this.inputArg=t,t.input=this.hostElement}));const t=i.Raster;t?.input?.addEventListener("rfxArgumentChange",(()=>{!1!==this.loaded&&this.evaluateRasterTriggerArg()}));const s=i.Filter;s?.input?.addEventListener("rfxArgumentChange",(({detail:{value:e}})=>{this.evaluateFilterTriggerArg(e)}))}async setupInitialState({triggerArgs:e}){this.value=this.inputArg.value;const i=e.Raster?.input;if(!i||!i.value)return this.isRasterSingleSlice=!1,void(this.mdimDefLeadsToSingleSlice=!1);await this.evaluateRasterTriggerArg();const t=e.Filter?.input,s=t?.value||e.Filter.value;t&&s?this.evaluateFilterTriggerArg(s):this.mdimDefLeadsToSingleSlice=!1,this.loaded=!0}checkIfRasterIsSingleSlice(e){const i=(0,l.J)(e),t=(0,l.H)(e,i);if(!i||!t||1!==t.length)return!1;return t[0].dimensions.every((e=>{const i=e&&e.values;return i&&1===i.length}))}async isMultidimensionalDefinitionAppliedSingleSlice(e){"string"==typeof e&&(e=JSON.parse(e));const i=this.widgetArgs.triggerArgs.Raster?.input;if(!i?.value)return!1;const t=await i.getSelectedLayer();if((0,n.o)(t))return;const s=(0,l.J)(t),a=(0,l.H)(t,s);return(0,l.I)(e,(0,r.d)(a))}render(){return(0,s.h)("div",{key:"7e02a15a02cdf5fc25435878284f92dc3f7424dd"},this.showDimensionLessCheckbox?(0,s.h)("calcite-label",{alignment:"start",scale:a.U.Scale,layout:"inline-space-between",ref:e=>{this.widgetContainer=e;const i=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.inputArg?.helpTextID});this.helpActionClickEventHandlers.set(c,i)}},(0,s.h)("calcite-checkbox",{checked:this.value,onCalciteCheckboxChange:e=>{const i=e.target.checked;this.value=i}}),(0,s.h)("rfx-label",{label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(c)()})):null)}get hostElement(){return(0,s.a)(this)}};g.style="";t(63716),t(59799),t(62559),t(15517),t(15195)},19562:(e,i,t)=>{t.d(i,{C:()=>n,U:()=>s,a:()=>r});const s={Scale:"s",PopoverTimer:60},n={s:"s",m:"m",l:"l"},r={absolute:"absolute",fixed:"fixed"}}}]);