/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287"],{43856:(e,r,a)=>{a.r(r),a.d(r,{arcgis_smart_mapping:()=>m});var i=a(7263),s=a(62159),t=(a(77040),a(70506),a(82646)),n=a(59101),p=a(28926),o=a(75002),l=a(58233);a(78613),a(99004),a(11935),a(1991);const m=class{constructor(e){(0,i.r)(this,e),this.smartMappingCompleteClose=(0,i.c)(this,"smartMappingCompleteClose",7),this.arcgisSmartMappingClose=(0,i.c)(this,"arcgisSmartMappingClose",7),this.arcgisSmartMappingBeforeBack=(0,i.c)(this,"arcgisSmartMappingBeforeBack",7),this.arcgisSmartMappingError=(0,i.c)(this,"arcgisSmartMappingError",7),this.arcgisSmartMappingClusterRequiresUpdate=(0,i.c)(this,"arcgisSmartMappingClusterRequiresUpdate",7),this.arcgisSmartMappingLoaded=(0,i.c)(this,"arcgisSmartMappingLoaded",7),this.closedViaEvent=!1,this.allFlowItemComponents="arcgis-smart-mapping,\n      arcgis-smart-mapping-panels-gallery,\n      arcgis-smart-mapping-panels-assist,\n      arcgis-smart-mapping-panels-simple,\n      arcgis-smart-mapping-panels-heatmap,\n      arcgis-smart-mapping-panels-predominance,\n      arcgis-smart-mapping-panels-predominance-size,\n      arcgis-smart-mapping-panels-relationship,\n      arcgis-smart-mapping-panels-relationship-size,\n      arcgis-smart-mapping-panels-size,\n      arcgis-smart-mapping-panels-chart,\n      arcgis-smart-mapping-panels-chart-size,\n      arcgis-smart-mapping-panels-color,\n      arcgis-smart-mapping-panels-color-size,\n      arcgis-smart-mapping-panels-color-size-univariate,\n      arcgis-smart-mapping-panels-compare,\n      arcgis-smart-mapping-panels-dot-density,\n      arcgis-smart-mapping-panels-type,\n      arcgis-smart-mapping-panels-type-size,\n      arcgis-smart-mapping-panels-raster-gallery,\n      arcgis-smart-mapping-panels-raster-flow,\n      arcgis-smart-mapping-panels-raster-vector-field,\n      arcgis-smart-mapping-panels-raster-stretch,\n      arcgis-smart-mapping-panels-raster-rgb,\n      arcgis-smart-mapping-panels-raster-shaded-relief,\n      arcgis-smart-mapping-panels-raster-class-breaks,\n      arcgis-smart-mapping-panels-raster-colormap,\n      arcgis-smart-mapping-panels-raster-unique-value",this.portal=void 0,this.config=void 0,this.mapView=void 0,this.layer=void 0,this.useFeatureReduction=!1,this.skipGallery=!1,this.stylePart=void 0,this.hideLayerTitle=!1}arcgisSmartMappingCloseHandler(){this.closedViaEvent=!0}smartMappingCompleteCloseHandler(e){this.arcgisSmartMappingClose.emit(e.detail)}async setFocus(){this.flowNode.setFocus()}async componentWillLoad(){var e;const{mapView:r,layer:a}=this;if(!a||!r)return;if(t.s.layer=a,await async function(){if((0,t.i)()){const[e,r,a,i,s,n,o,l,m,g,c,d,S,h,u,M,C,y,b,E,z,P,f,R,w,v,A,F,U]=await(0,p.l)(["esri/layers/support/Field","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/smartMapping/raster/renderers/flow","esri/smartMapping/raster/renderers/vectorField","esri/smartMapping/raster/renderers/stretch","esri/smartMapping/raster/renderers/rgb","esri/smartMapping/raster/renderers/shadedRelief","esri/smartMapping/raster/renderers/classBreaks","esri/smartMapping/raster/renderers/colormap","esri/smartMapping/raster/renderers/uniqueValue","esri/smartMapping/raster/support/colorRamps","esri/smartMapping/raster/support/utils","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/color","esri/views/support/colorUtils","esri/smartMapping/symbology/flow","esri/rest/support/MultipartColorRamp","esri/rest/support/AlgorithmicColorRamp","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/Slider","esri/core/lang","esri/layers/support/fieldUtils","esri/symbols/support/previewSymbol2D","esri/smartMapping/raster/support/utils","esri/symbols/support/symbolUtils"]);t.s.modules={Field:e,SimpleMarkerSymbol:r,SimpleLineSymbol:a,SimpleFillSymbol:i,RasterFlowCreator:s,RasterVectorFieldCreator:n,RasterStretchCreator:o,RasterRGBCreator:l,RasterShadedReliefCreator:m,RasterClassBreaksCreator:g,RasterColormapCreator:c,RasterUniqueValueCreator:d,rasterColorRampUtils:S,RasterRendererUtils:h,esriColor:u,typeSchemes:M,colorSchemes:C,colorUtils:y,flowSchemes:b,MultipartColorRamp:E,AlgorithmicColorRamp:z,ColorSlider:P,ClassedColorSlider:f,Slider:R,esriLang:w,fieldUtils:v,previewSymbol2D:A,smartMappingRasterUtils:F,symbolUtils:U}}else{const[e,r,a,i,s,n,o,l,m,g,c,d,S,h,u,M,C,y,b,E,z,P,f,R,w,v,A,F,U,V,k,L,I,O,q,B,T,G,_,x,D,N,H,J,j,Q,$,W,K,X,Y,Z,ee,re,ae,ie,se,te,ne,pe,oe,le,me,ge,ce,de]=await(0,p.l)(["esri/renderers/support/AuthoringInfo","esri/renderers/SimpleRenderer","esri/renderers/support/AttributeColorInfo","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic","esri/geometry/SpatialReference","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/rest/support/Query","esri/rest/support/FeatureSet","esri/layers/support/Field","esri/intl","esri/smartMapping/renderers/opacity","esri/smartMapping/renderers/pieChart","esri/smartMapping/renderers/color","esri/smartMapping/renderers/univariateColorSize","esri/smartMapping/renderers/dotDensity","esri/smartMapping/renderers/heatmap","esri/smartMapping/renderers/location","esri/smartMapping/renderers/predominance","esri/smartMapping/renderers/relationship","esri/smartMapping/renderers/size","esri/smartMapping/renderers/type","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/heatmap","esri/smartMapping/symbology/relationship","esri/smartMapping/symbology/predominance","esri/smartMapping/symbology/pieChart","esri/smartMapping/symbology/color","esri/smartMapping/symbology/dotDensity","esri/views/support/colorUtils","esri/smartMapping/statistics/heatmapStatistics","esri/smartMapping/statistics/summaryStatistics","esri/smartMapping/statistics/histogram","esri/smartMapping/statistics/predominantCategories","esri/renderers/visualVariables/support/SizeStop","esri/renderers/visualVariables/RotationVariable","esri/renderers/visualVariables/SizeVariable","esri/renderers/support/HeatmapColorStop","esri/renderers/support/UniqueValue","esri/renderers/support/UniqueValueClass","esri/renderers/support/UniqueValueGroup","esri/widgets/smartMapping/OpacitySlider","esri/widgets/smartMapping/HeatmapSlider","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/smartMapping/SizeSlider","esri/widgets/smartMapping/ClassedSizeSlider","esri/widgets/smartMapping/ColorSizeSlider","esri/widgets/smartMapping/BinaryColorSizeSlider","esri/widgets/Slider","esri/core/lang","esri/core/urlUtils","esri/request","esri/layers/support/fieldUtils","esri/widgets/smartMapping/support/utils","esri/symbols/support/cimSymbolUtils","esri/symbols/support/previewSymbol2D","esri/core/reactiveUtils","esri/renderers/support/jsonUtils","esri/renderers/support/utils","esri/symbols/support/symbolUtils"]);t.s.modules={AuthoringInfo:e,SimpleRenderer:r,AttributeColorInfo:a,Point:i,Polyline:s,Polygon:n,Graphic:o,SpatialReference:l,SimpleMarkerSymbol:m,SimpleLineSymbol:g,SimpleFillSymbol:c,Query:d,FeatureSet:S,Field:h,intl:u,OpacityVariableCreator:M,PieChartCreator:C,ColorCreator:y,UnivariateColorSizeCreator:b,DotDensityCreator:E,HeatmapCreator:z,LocationCreator:P,PredominanceCreator:f,RelationshipCreator:R,SizeCreator:w,TypeCreator:v,esriColor:A,typeSchemes:F,heatmapSchemes:U,relationshipSchemes:V,predominanceSchemes:k,pieChartSchemes:L,colorSchemes:I,dotDensitySchemes:O,colorUtils:q,heatmapStatistics:B,summaryStatistics:T,histogram:G,predominantCategories:_,SizeStop:x,RotationVariable:D,SizeVariable:N,HeatmapColorStop:H,UniqueValue:J,UniqueValueClass:j,UniqueValueGroup:Q,OpacitySlider:$,HeatmapSlider:W,ColorSlider:K,ClassedColorSlider:X,SizeSlider:Y,ClassedSizeSlider:Z,ColorSizeSlider:ee,BinaryColorSizeSlider:re,Slider:ae,esriLang:ie,urlUtils:se,esriRequest:te,fieldUtils:ne,smartMappingUtils:pe,cimSymbolUtils:oe,previewSymbol2D:le,reactiveUtils:me,rendererJsonUtils:ge,rendererSupportUtils:ce,symbolUtils:de}}}(),"esri.layers.support.Sublayer"===a.declaredClass){let i=!1;const s=null===(e=a.layer.sourceJSON)||void 0===e?void 0:e.cimVersion;if(s){const e=s.split("."),r=parseFloat(1===e.length?s:e[0]+"."+e[1]);i=a.layer.version>=10.51&&r>=1.4}t.s.mapImageSublayer=a,delete t.s.layer,await t.s.modules.reactiveUtils.whenOnce((()=>!r.updating)).then((async()=>{await t.s.mapImageSublayer.createFeatureLayer().then((async e=>{this.layer=e,await e.load().then((async()=>{await this.loadStore(),t.s.supportsArcade=i,await this.processLayer()}))}))}))}else t.s.mapImageSublayer=null,await this.loadStore(),await this.processLayer();const i=(0,t.f)(this.hostElement,"calcite-flow");i&&(t.s.containsFlow=!1,this.flowNode=i,this.flowNode.customItemSelectors=this.flowNode.customItemSelectors?`${this.flowNode.customItemSelectors},${this.allFlowItemComponents}`:this.allFlowItemComponents)}async componentDidLoad(){const{useFeatureReduction:e}=t.s;this.arcgisSmartMappingLoaded.emit(),e&&(this.flowItemNode=this.hostElement.firstElementChild.shadowRoot.querySelectorAll("calcite-flow-item")[0],this.scaleHandle=(0,n.w)(this.flowItemNode,(()=>this.smartMappingCompleteClose.emit("cancel"))))}disconnectedCallback(){var e;this.closedViaEvent||this.arcgisSmartMappingClose.emit("save"),null===(e=this.scaleHandle)||void 0===e||e.remove()}async loadStore(){const[e,r,a]=await(0,s.g)(this.hostElement);(0,t.c)(t.s);const{portal:i,config:n,mapView:p,layer:o,hideLayerTitle:m,useFeatureReduction:g}=this;t.s.portal=i,t.s.config=n,t.s.mapView=p,t.s.layer=o,t.s.hideLayerTitle=m,t.s.strings=e,t.s.locale=r,t.s.fullLocale=a,t.s.isRTL="rtl"===(0,l.g)(this.hostElement),t.s.useFeatureReduction=g}render(){const{containsFlow:e,isRTL:r}=t.s;return(0,i.h)(i.H,{key:"4a257b403a3c4cabcf9e1aa7aa3f67a5d7e0fa04",class:"calcite-match-height"},e?(0,i.h)("calcite-flow",{class:{flow:!0,[l.C.rtl]:r},ref:e=>this.flowNode=e,customItemSelectors:this.allFlowItemComponents},this.renderContent()):this.renderContent())}renderContent(){const{skipGallery:e}=this,{layer:r,containsFlow:a}=t.s;return e?this.renderSkipGallery():"geo-rss"===r.type?(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleBackClick:()=>this.arcgisSmartMappingClose.emit("save")}):(0,t.i)()?(0,i.h)("arcgis-smart-mapping-panels-raster-gallery",{onArcgisSmartMappingPanelsRasterGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-gallery",{showBackButton:!a,beforeBack:async()=>{a||this.arcgisSmartMappingBeforeBack.emit("save")},onArcgisSmartMappingPanelsGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e),onArcgisSmartMappingPanelsGalleryClusterRequiresUpdate:()=>this.arcgisSmartMappingClusterRequiresUpdate.emit()})}renderSkipGallery(){const{originalRendererJSON:e,originalFeatureReduction:r,stylePart:a}=this;switch((0,t.i)()?(0,t.g)():(0,t.a)()){case"simple":return(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:a})=>{"cancel"===a&&e&&(0,t.l)(e,r),this.arcgisSmartMappingClose.emit(a)},onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"heatmap":return(0,i.h)("arcgis-smart-mapping-panels-heatmap",{onArcgisSmartMappingPanelsHeatmapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsHeatmapError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color":case"color-age":return(0,i.h)("arcgis-smart-mapping-panels-color",{onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"size":case"size-age":return(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color-size":case"color-age-size":case"color-size-age":const s=(0,t.b)(),n=(0,t.d)(s,"color"),p=(0,t.d)(s,"size");return n.field===p.field&&n.valueExpression===p.valueExpression&&n.valueExpressionTitle===p.valueExpressionTitle?(0,i.h)("arcgis-smart-mapping-panels-color-size-univariate",{onArcgisSmartMappingPanelsColorSizeUnivariateClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeUnivariateError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"color"===a?(0,i.h)("arcgis-smart-mapping-panels-color",{onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-color-size",{onArcgisSmartMappingPanelsColorSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"compare":return(0,i.h)("arcgis-smart-mapping-panels-compare",{onArcgisSmartMappingPanelsCompareClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsCompareError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"dot-density":return(0,i.h)("arcgis-smart-mapping-panels-dot-density",{onArcgisSmartMappingPanelsDotDensityClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"relationship":return(0,i.h)("arcgis-smart-mapping-panels-relationship",{onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"relationship-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-relationship",{onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-relationship-size",{onArcgisSmartMappingPanelsRelationshipSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance":return(0,i.h)("arcgis-smart-mapping-panels-predominance",{onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-predominance",{onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-predominance-size",{onArcgisSmartMappingPanelsPredominanceSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart":return(0,i.h)("arcgis-smart-mapping-panels-chart",{onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-chart",{onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-chart-size",{onArcgisSmartMappingPanelsChartSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type":return(0,i.h)("arcgis-smart-mapping-panels-type",{onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-type",{onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-type-size",{onArcgisSmartMappingPanelsTypeSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-flow":return(0,i.h)("arcgis-smart-mapping-panels-raster-flow",{onArcgisSmartMappingPanelsRasterFlowClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterFlowError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-vector-field":return(0,i.h)("arcgis-smart-mapping-panels-raster-vector-field",{onArcgisSmartMappingPanelsRasterVectorFieldClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterVectorFieldError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-stretch":return(0,i.h)("arcgis-smart-mapping-panels-raster-stretch",{onArcgisSmartMappingPanelsRasterStretchClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterStretchError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-rgb":return(0,i.h)("arcgis-smart-mapping-panels-raster-rgb",{onArcgisSmartMappingPanelsRasterRgbClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterRgbError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-shaded-relief":return(0,i.h)("arcgis-smart-mapping-panels-raster-shaded-relief",{onArcgisSmartMappingPanelsRasterShadedReliefClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterShadedReliefError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-class-breaks":return(0,i.h)("arcgis-smart-mapping-panels-raster-class-breaks",{onArcgisSmartMappingPanelsRasterClassBreaksClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterClassBreaksError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-colormap":return(0,i.h)("arcgis-smart-mapping-panels-raster-colormap",{onArcgisSmartMappingPanelsRasterColormapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"raster-unique-value":return(0,i.h)("arcgis-smart-mapping-panels-raster-unique-value",{onArcgisSmartMappingPanelsRasterUniqueValueClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterUniqueValueError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});default:return(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)})}}async processLayer(){const{layer:e,strings:r,modules:a}=t.s;let i=(0,t.b)();!i&&(0,t.i)()&&(i=await(0,t.e)());const s=(0,t.i)()?(0,t.g)():(0,t.a)();if(t.s.oneFeatureResponseStatus=t.h.MISSING,"geo-rss"===e.type)return Promise.resolve();"color"!==s||i.authoringInfo||(0,t.d)(i,"color")?"size"!==s||i.authoringInfo||(0,t.d)(i,"size")||(i.authoringInfo={classificationMethod:"manual",type:"class-breaks-size"}):i.authoringInfo={classificationMethod:"manual",type:"class-breaks-color"},await(0,t.j)().then((async()=>{if("unknown"===s)console.log("unsupported renderer",i),this.switchToSimpleRenderer(i);else{const e=await a.fieldUtils.getRendererFields(i),s=null==e?void 0:e.some((e=>{var r;return!(null===(r=t.s.fields)||void 0===r?void 0:r.some((r=>r.layerField.name.toLowerCase()===e.toLowerCase())))}));!(0,t.i)()&&s?this.switchToSimpleRenderer(i):(t.s.selectedFields=(0,t.k)(),t.s.selectedFields.forEach((e=>{e.expression&&!e.expressionTitle&&(e.expressionTitle=r.expression)})))}return Promise.resolve()}))}switchToSimpleRenderer(e){const{layer:r,modules:a}=t.s;this.originalRendererJSON=e.toJSON(),this.originalFeatureReduction="featureReduction"in r&&r.featureReduction?a.esriLang.clone(r.featureReduction):void 0,(0,o.c)().then((e=>{(0,t.u)(e.renderer),t.s.selectedFields=[]})).catch((e=>console.log(e)))}static get assetsDirs(){return["assets"]}get hostElement(){return(0,i.d)(this)}};m.style=".sc-arcgis-smart-mapping-h{height:100%;width:100%}.flow.sc-arcgis-smart-mapping{height:100%}"},59101:(e,r,a)=>{a.d(r,{w:()=>s});a(77040),a(70506);var i=a(82646);function s(e,r){const{layer:a,mapView:s,useFeatureReduction:n}=i.s;if(!n||!("featureReduction"in a)||"binning"!==a.featureReduction.type)return;const p=i.s.modules.reactiveUtils.watch((()=>s.scale),(()=>{const n=a.featureReduction;s.scale<=n.maxScale&&!e.disabled?((0,i.m)(),function(e,r){const a=document.createElement("arcgis-smart-mapping-scale-alert-popover");a.refElement=e,a.addEventListener("arcgisSmartMappingScaleAlertPopoverBack",(()=>{t(),r()})),document.body.append(a)}(e,r),(0,i.n)(e,!0)):s.scale>n.maxScale&&e.disabled&&(t(),(0,i.n)(e,!1),e.setFocus())}));return p}function t(){document.querySelectorAll("arcgis-smart-mapping-scale-alert-popover").forEach((e=>{var r;null===(r=e.parentElement)||void 0===r||r.removeChild(e),e=null}))}},75002:(e,r,a)=>{a.d(r,{a:()=>n,b:()=>o,c:()=>t,d:()=>p});var i=a(1991),s=a(82646);a(70506);function t(e){var r;const{layer:a,useFeatureReduction:t,mapImageSublayer:n,mapView:p,modules:o}=s.s,l=a;e=e||{};const m=(0,s.p)((0,s.b)());return o.LocationCreator.createRenderer({layer:l,view:p,outlineOptimizationEnabled:!n&&(!(0,i.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!n&&(!(0,i.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),forBinning:"binning"===(null===(r=l.featureReduction)||void 0===r?void 0:r.type)&&t}).then((e=>((0,s.o)(m,e.renderer),Promise.resolve(e))),(e=>Promise.reject(e)))}function n(e){var r;const{layer:a,useFeatureReduction:t,mapImageSublayer:n,mapView:p,modules:o}=s.s,l=a;e=e||{};const m=(0,s.b)(),g=(0,s.a)(),c=(0,s.p)(m),d=m.symbol?m.symbol:(0,s.q)(g),S={layer:l,view:p,outlineOptimizationEnabled:!n&&((0,i.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!c.sizeOutlineVisVar),sizeOptimizationEnabled:!n&&((0,i.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!c.sizeAutoVisVar),forBinning:"binning"===(null===(r=l.featureReduction)||void 0===r?void 0:r.type)&&t};return o.LocationCreator.createRenderer(S).then((e=>((0,s.o)(c,e.renderer),d&&(e.renderer.symbol=d),Promise.resolve(e))),(e=>Promise.reject(e)))}function p(){var e;const{layer:r,useFeatureReduction:a,mapView:i,modules:t}=s.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:i,outlineOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&a}).then((e=>{const r=(0,s.d)(e.renderer,"size","outline");return Promise.resolve(r)}))}function o(){var e;const{layer:r,useFeatureReduction:a,mapView:i,modules:t}=s.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:i,outlineOptimizationEnabled:!1,sizeOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&a}).then((e=>{const r=(0,s.d)(e.renderer,"size","auto");return Promise.resolve(r)}))}}}]);