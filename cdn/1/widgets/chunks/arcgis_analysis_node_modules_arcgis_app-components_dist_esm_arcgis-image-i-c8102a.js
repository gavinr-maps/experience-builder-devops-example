/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-c8102a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-c8102a"],{99004:(e,r,t)=>{t.d(r,{c:()=>i,g:()=>a});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},62816:(e,r,t)=>{t.r(r),t.d(r,{arcgis_image_item_info_table:()=>n,arcgis_image_item_preview:()=>o});var i=t(7263),a=t(28926);t(70506),t(99004);const n=class{constructor(e){(0,i.r)(this,e),this.columns=void 0,this.data=void 0}render(){return(0,i.h)(i.H,{key:"033015f92eb500c3b038f204a0382fd2580567a8"},(0,i.h)("table",{key:"174a40afc25108ed8223cc8886f2b06fd19915a2",class:"image-item-info-table"},(0,i.h)("thead",{key:"f21db6f251443db2b506ef803a460a6854ee0602"},this.renderTableColumns()),this.renderTableBody()))}renderTableColumns(){const{columns:e}=this;return(0,i.h)("tr",null,e.map((e=>{const{accessor:r,header:t}=e;return(0,i.h)("th",{key:r},t)})))}renderTableBody(){const{columns:e,data:r}=this,t=r.map((r=>(0,i.h)("tr",null,e.map((e=>(0,i.h)("td",{key:e.accessor},r[e.accessor]))))));return(0,i.h)("tbody",null,t)}get el(){return(0,i.d)(this)}};n.style=".image-item-info-table{width:100%;height:100%;margin:0;padding:0;border-collapse:collapse}.image-item-info-table td{padding:0.5em;text-align:start;border:1px solid var(--calcite-color-foreground-3);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.image-item-info-table th{background:var(--calcite-color-foreground-2);padding:0.5em;border:1px solid var(--calcite-color-foreground-3);text-align:start;font-weight:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.image-item-info-table tr:nth-child(odd){background:var(--calcite-color-foreground-1)}.image-item-info-table tr:nth-child(even){background:var(--calcite-color-foreground-2)}";const o=class{constructor(e){(0,i.r)(this,e),this.jsapiUrl=void 0,this.previewLayerUrl=void 0,this.previewImageItemGraphic=void 0,this.loading=!0}async componentWillLoad(){const[e,r,t,i]=await(0,a.l)(["esri/Map","esri/views/MapView","esri/layers/support/MosaicRule","esri/layers/ImageryLayer"]);this.modules={Map:e,MapView:r,MosaicRule:t,ImageryLayer:i}}async componentDidLoad(){this.el.shadowRoot.firstElementChild.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${this.jsapiUrl}/themes/light/main.css" />`),this.initMapView()}async disconnectedCallback(){var e;null===(e=this.mapView)||void 0===e||e.destroy()}handleRefreshImageItemPreviewLayer(){this.refreshImageItemPreviewLayer()}async initMapView(){try{const{previewLayerUrl:e,modules:r}=this,{Map:t,MapView:i,ImageryLayer:a}=r;this.previewLayer=new a({url:e,visible:!1});const n=new t({layers:[this.previewLayer]});this.mapView=new i({map:n,container:this.container}),this.mapView.ui.remove(["attribution"]),this.mapView.when((()=>{this.loading=!1,this.refreshImageItemPreviewLayer()}))}catch(e){}}async refreshImageItemPreviewLayer(){const{modules:e,previewImageItemGraphic:r,mapView:t}=this,{MosaicRule:i}=e;if(this.previewLayer&&r&&t){const{objectIdField:e}=this.previewLayer,a=new i({method:"lock-raster",lockRasterIds:[r.attributes[e]]});this.previewLayer.mosaicRule=a,await t.goTo(r,{animate:!1}),this.previewLayer.visible=!0}}render(){return(0,i.h)(i.H,{key:"b63fab1e076e704e6477ad45a10d2605f4ad18e6"},(0,i.h)("div",{key:"1d9f10ed0b92cacc1bf3f35f4ddf0fe2e59edd07",class:"map-container",ref:e=>this.container=e}))}get el(){return(0,i.d)(this)}static get watchers(){return{previewImageItemGraphic:["handleRefreshImageItemPreviewLayer"]}}};o.style=".map-container{width:100%;height:100%}"},70506:(e,r,t)=>{t.d(r,{e:()=>n});var i,a=t(99004),n={exports:{}};i=n.exports,a.c,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",i="next";function a(e){if(e.toLowerCase()===i)return i;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function n(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function o(e){void 0===e&&(e=t);var r=n(e),o=a(e);if(o!==i&&3===o.major){var s=o.minor<=10?"js/":"";return"".concat(r).concat(s,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}function s(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}function c(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}function d(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||a(e)?o(e):e}function u(e,r){var t=l(e),i=d(t);return i||c(i=s(t),r),i}var h={};function f(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}function m(e,r,t){var i;t&&(i=p(e,t));var a=function(){r(e),e.removeEventListener("load",a,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",a,!1)}function p(e,r){var t=function(i){r(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}function v(e){void 0===e&&(e={}),h=e}function w(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var t={};[h,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var i=t.version,a=t.url||n(i);return new r.Promise((function(e,r){var n=w();if(n){var o=n.getAttribute("src");o!==a?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):g()?e(n):m(n,e,r)}else if(g())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=t.css;s&&u(!0===s?i:s,t.insertCssBefore),m(n=f(a),(function(){n.setAttribute("data-esri-loader","loaded"),e(n)}),r),document.body.appendChild(n)}}))}function b(e){return new r.Promise((function(r,t){var i=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.remove(),r(e)}))}))}function I(e,r){if(void 0===r&&(r={}),g())return b(e);var t=w(),i=t&&t.getAttribute("src");return!r.url&&i&&(r.url=i),y(r).then((function(){return b(e)}))}e.utils=r,e.loadModules=I,e.getScript=w,e.isLoaded=g,e.loadScript=y,e.setDefaultOptions=v,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(i)},28926:(e,r,t)=>{t.d(r,{l:()=>a});var i=t(70506);const a=async(e,r)=>(await i.e.exports.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))}}]);