/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-time-zo-febd65.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-time-zo-febd65"],{67756:(e,t,o)=>{o.r(t),o.d(t,{arcgis_time_zone:()=>c});var n=o(7263),i=o(1991),a=o(62159),s=o(11246);o(77040),o(28926),o(70506),o(99004),o(78613),o(58233);const c=class{constructor(e){(0,n.r)(this,e),this.timeZones=[],this.mapView=void 0,this.config=void 0}async closePopover(){this.removePopover()}async componentWillLoad(){const[e]=await(0,a.g)(this.hostElement);this.strings=e;const{mapView:t}=this;(0,s.i)(t.timeZone)||(t.timeZone="system");const o=(new Intl.DateTimeFormat).resolvedOptions().timeZone;Object.entries(e.timeZoneList).map((t=>{var o=t[0].split("/");const n=e.areas[o[0].toLowerCase()];let i;3===o.length&&(i=e.regions[o[1].toLowerCase()]);const a=t[1];i?this.timeZones.push([t[0],`${n}/${i}/${a}`]):this.timeZones.push([t[0],`${n}/${a}`])})),this.timeZones.sort(((e,t)=>e[1]<t[1]?-1:1));const i=Object.keys(e.timeZoneList).filter((e=>o===e));this.timeZonesToDisplay=this.timeZones.map(((e,a)=>(0,n.h)("calcite-combobox-item",{selected:!i.length&&0===a||e[0]===t.timeZone||e[0]===o&&("system"===t.timeZone||"unknown"===t.timeZone),value:e[0],textLabel:e[1]})))}async componentDidLoad(){var e;this.containerPanelNode=(0,i.q)(this.hostElement,"calcite-panel"),this.containerPanelNode||(this.containerPanelNode=(0,i.q)(this.hostElement,"calcite-flow-item")),this.parentBlockNode=(0,i.q)(this.hostElement,"calcite-block"),null===(e=this.parentBlockNode)||void 0===e||e.addEventListener("calciteBlockToggle",(()=>{this.removePopover()}))}disconnectedCallback(){this.removePopover()}render(){const{strings:e,mapView:t}=this;return(0,n.h)(n.H,{key:"8dbc8f9a07c3069abe0ab0aa0c3da90948ff5d94"},(0,n.h)("calcite-label",{key:"b5619e1f270fe746c4af8900cc7438fa1e686822",layout:"inline"},(0,n.h)("section",{key:"fcc1e8ff9aa3f4466f6f33bb3373e885682cfa9b",class:"time-zone-toggle"},e.timeZoneLabel,(0,n.h)("calcite-button",{key:"ea4f801e0adf27f9ed11093468347a2677ac9b17",class:"info-button","icon-start":"information",scale:"s",appearance:"transparent",kind:"neutral",onClick:e=>{var t;e.stopPropagation(),(null===(t=this.popoverNode)||void 0===t?void 0:t.parentElement)?this.removePopover():this.openPopover()},ref:e=>this.infoButtonNode=e}))),(0,n.h)("calcite-radio-button-group",{key:"4ea03fe1fda6bbb76441132ca884590f4c1bd9b7",ref:e=>this.radioButtonGroupNode=e,layout:"vertical",name:"time-zone-options",onCalciteRadioButtonGroupChange:e=>{const t=e.target;this.handleTimeZoneOptionChange(t.selectedItem.value)}},(0,n.h)("calcite-label",{key:"48af99e394d28548c563c6e101528cc01b3be827",layout:"inline"},(0,n.h)("calcite-radio-button",{key:"412c4428ca7b33750f1c8eb9df58cfc307b38695",checked:"system"===t.timeZone,value:"system"}),e.deviceLabel),(0,n.h)("calcite-label",{key:"43f326d66703ce607c81beef8d356fc5cb3e06c8",layout:"inline"},(0,n.h)("calcite-radio-button",{key:"a5644cbbd7d31d078e47d27ba4f0461c98bec20f",checked:"system"!==t.timeZone&&"unknown"!==t.timeZone,value:"time-zone"}),e.specificLabel),(0,n.h)("calcite-combobox",{key:"4c7aa43efcb12914fb4cd6cf170abb4784cf5e43",class:(["system","unknown"].indexOf(t.timeZone)>-1?"hidden":"")+" block-content-padding",ref:e=>this.ianaTimeZonePickerNode=e,label:e.chooseTimeZone,selectionMode:"single-persist",onCalciteComboboxChange:()=>t.timeZone=this.ianaTimeZonePickerNode.value,clearDisabled:!0},this.timeZonesToDisplay),(0,n.h)("calcite-label",{key:"7e732fc7e133a9b4b46496f04b3aef88bb7a232e",layout:"inline"},(0,n.h)("calcite-radio-button",{key:"1c659eb040152331d42fe5517b8634d7f0861079",checked:"unknown"===t.timeZone,value:"unknown"}),e.dataLabel)))}handleTimeZoneOptionChange(e){const{mapView:t}=this,o=this.ianaTimeZonePickerNode.value;t.timeZone="time-zone"!==e?e:o;const n="time-zone"===this.radioButtonGroupNode.selectedItem.value?"remove":"add";this.ianaTimeZonePickerNode.classList[n]("hidden")}openPopover(){const{config:e}=this,t=this.popoverNode=document.createElement("arcgis-time-zone-popover");t.refElement=this.containerPanelNode,t.config=e,t.addEventListener("arcgisTimeZonePopoverClose",(()=>{this.closePopover(),this.infoButtonNode.setFocus()})),document.body.appendChild(t)}removePopover(){var e,t;null===(t=null===(e=this.popoverNode)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.popoverNode),this.popoverNode=null}static get assetsDirs(){return["assets"]}get hostElement(){return(0,n.d)(this)}};c.style=":host{height:100%}.time-zone-toggle{font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium)}.info-button{margin:auto 0.25rem}.block-content-padding{padding-bottom:10px}.hidden{display:none}"},11246:(e,t,o)=>{o.d(t,{a:()=>r,b:()=>h,c:()=>i,d:()=>n,e:()=>a,f:()=>d,g:()=>u,i:()=>s,m:()=>c,t:()=>l,u:()=>m});const n=(e,t)=>{let o,n="idle";const i=(...i)=>new Promise((a=>{switch(n){case"flushed":n="idle",o?(clearTimeout(o),a(e(...i))):a(null);break;case"invoked":clearTimeout(o),n="idle",a(e(...i));break;case"cancelled":clearTimeout(o),n="idle",a(null);break;default:o&&clearTimeout(o),n="pending",o=setTimeout((()=>(n="idle",a(e(...i)))),t)}}));return i.flush=function(...e){return n="flushed",i(...e)},i.invoke=function(...e){return n="invoked",i(...e)},i.cancel=function(...e){return n="cancelled",i(...e)},i.getStatus=function(){return n},i},i=(e,t)=>{let o;return(...n)=>new Promise((i=>{o||(o=setTimeout((()=>{clearTimeout(o),o=void 0,i(e(...n))}),t))}))};function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){return null!=e}async function c(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const r=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:o,data:n}=t(e);return[o,n]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,o)=>e&&t.indexOf(o)>-1),!0);function m(e,t){const o=[],n={};return e.forEach((e=>{const i=t(e);null==n[i]&&(n[i]=e,o.push(e))})),o}function h(e){const t={boolean:{},number:{},string:{}},o=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(o.indexOf(e)>=0)&&o.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((o,n)=>e.slice(t*n,t+t*n)))}}]);