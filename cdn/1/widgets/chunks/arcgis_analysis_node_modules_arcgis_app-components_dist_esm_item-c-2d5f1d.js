/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-c-2d5f1d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-c-2d5f1d"],{99004:(t,i,e)=>{e.d(i,{c:()=>a,g:()=>s});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},25887:(t,i,e)=>{e.d(i,{a:()=>r,b:()=>u,e:()=>d,i:()=>l,r:()=>o,s:()=>c});var a=e(31670),s=e(28926),n=e(46581);async function r(t){var i;const e={};try{const a=await(0,n.r)(t);e.result=null===(i=a.item)||void 0===i?void 0:i.classification}catch(t){console.error(t),e.error=t}return e}async function o(t){const i={};try{const e=await(0,n.r)(t);i.result=e}catch(t){console.error(t),i.error=t}return i}function c(t,i){const e={classification:JSON.stringify(i)};return(0,n.r)(t,e,{},"post")}async function l(t,i,e){var a;const s=null===(a=null==i?void 0:i.attributes)||void 0===a?void 0:a[t],n=null==s?void 0:s.isAttributeEnabled;if(!s)return!1;if(!n)return!0;const r={schemaJsonString:JSON.stringify(i),valueJsonString:e,attributeId:t};return(await h(n)).execute(r)}async function u(t,i,e){var a,s;const n=null===(a=null==i?void 0:i.attributes)||void 0===a?void 0:a[t],r=null==n?void 0:n.valueExpression,o=null==n?void 0:n.validValues,c=null==n?void 0:n.validValuesMap;if(!n)return null;if(null==o?void 0:o.length)return o;if(c&&(null===(s=Object.keys(c))||void 0===s?void 0:s.length))return c;if(!r)return null;const l={schemaJsonString:JSON.stringify(i),valueJsonString:e,attributeId:t};return(await h(r)).execute(l)}async function d(t,i,e,a=""){const s={schemaJsonString:i,valueJsonString:e,attributeId:a};return(await h(t)).execute(s)}async function h(t){const[i]=await(0,s.l)([3===(null===a.c||void 0===a.c?void 0:a.c.api)?"webpack-bundles/arcade":"esri/arcade"]);return i.createArcadeExecutor(t,{variables:[{name:"schemaJsonString",type:"text"},{name:"valueJsonString",type:"text"},{name:"attributeId",type:"text"}]})}},70506:(t,i,e)=>{e.d(i,{e:()=>n});var a,s=e(99004),n={exports:{}};a=n.exports,s.c,function(t){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},e="4.24",a="next";function s(t){if(t.toLowerCase()===a)return a;var i=t&&t.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function n(t){return void 0===t&&(t=e),"https://js.arcgis.com/".concat(t,"/")}function r(t){void 0===t&&(t=e);var i=n(t),r=s(t);if(r!==a&&3===r.major){var o=r.minor<=10?"js/":"";return"".concat(i).concat(o,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}function o(t){var i=document.createElement("link");return i.rel="stylesheet",i.href=t,i}function c(t,i){if(i){var e=document.querySelector(i);e.parentNode.insertBefore(t,e)}else document.head.appendChild(t)}function l(t){return document.querySelector('link[href*="'.concat(t,'"]'))}function u(t){return!t||s(t)?r(t):t}function d(t,i){var e=u(t),a=l(e);return a||c(a=o(e),i),a}var h={};function f(t){var i=document.createElement("script");return i.type="text/javascript",i.src=t,i.setAttribute("data-esri-loader","loading"),i}function v(t,i,e){var a;e&&(a=b(t,e));var s=function(){i(t),t.removeEventListener("load",s,!1),a&&t.removeEventListener("error",a,!1)};t.addEventListener("load",s,!1)}function b(t,i){var e=function(a){i(a.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",e,!1)};return t.addEventListener("error",e,!1),e}function m(t){void 0===t&&(t={}),h=t}function g(){return document.querySelector("script[data-esri-loader]")}function C(){var t=window.require;return t&&t.on}function y(t){void 0===t&&(t={});var e={};[h,t].forEach((function(t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}));var a=e.version,s=e.url||n(a);return new i.Promise((function(t,i){var n=g();if(n){var r=n.getAttribute("src");r!==s?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(r,")."))):C()?t(n):v(n,t,i)}else if(C())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=e.css;o&&d(!0===o?a:o,e.insertCssBefore),v(n=f(s),(function(){n.setAttribute("data-esri-loader","loaded"),t(n)}),i),document.body.appendChild(n)}}))}function p(t){return new i.Promise((function(i,e){var a=window.require.on("error",e);window.require(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.remove(),i(t)}))}))}function E(t,i){if(void 0===i&&(i={}),C())return p(t);var e=g(),a=e&&e.getAttribute("src");return!i.url&&a&&(i.url=a),y(i).then((function(){return p(t)}))}t.utils=i,t.loadModules=E,t.getScript=g,t.isLoaded=C,t.loadScript=y,t.setDefaultOptions=m,t.loadCss=d,Object.defineProperty(t,"__esModule",{value:!0})}(a)},7788:(t,i,e)=>{e.r(i),e.d(i,{item_classification_category:()=>n,item_classification_content:()=>r,item_classification_info:()=>o,item_classification_notification:()=>c});var a=e(7263),s=e(25887);e(31670),e(11935),e(28926),e(70506),e(99004),e(46581),e(94788),e(65215);const n=class{constructor(t){(0,a.r)(this,t),this.i18n=void 0,this.classificationCategoryArr=void 0,this.classificationType=void 0,this.setClassificationType=void 0,this.setItemClassificationValue=void 0}getClassificationType(t){return this.classificationCategoryArr.find((i=>i.value===t))}changeClassificationCategory(t){const i=t.target;if(i.value){const t=i.value,e=this.getClassificationType(t);this.setClassificationType(e),this.setItemClassificationValue({classification:null==e?void 0:e.label})}}configureClassificationCategoryMenu(){return this.classificationCategoryArr.map((t=>{var i;return(0,a.h)("calcite-combobox-item",{id:t.value,selected:t.value===(null===(i=this.classificationType)||void 0===i?void 0:i.value),key:t.value,value:t.value,textLabel:t.label})}))}render(){var t;return(0,a.h)("div",{key:"8228d810931d09acebdd188f98f0373e8cbb49c6",class:"itemClassificationCategory"},(0,a.h)("label",{key:"b22e1eb796e236c1e1a2eddacfcd336cce0199ad",htmlFor:"classificationCategory",id:"classificationCategoryLabel"},this.i18n.itemClassificationLabel),(0,a.h)("calcite-combobox",{key:"c29a90ae171096bb29d35b919178b15a86b9015a",id:"classificationCategory",label:this.i18n.itemClassificationCategoryLabel,selectionMode:"single",scale:"m",onCalciteComboboxChange:this.changeClassificationCategory.bind(this),value:null===(t=this.classificationType)||void 0===t?void 0:t.value,overlayPositioning:"fixed"},this.configureClassificationCategoryMenu()))}};n.style="";const r=class{constructor(t){(0,a.r)(this,t),this.arcgisItemClassificationContentDisplayNotification=(0,a.c)(this,"arcgisItemClassificationContentDisplayNotification",7),this.attributeElementsCopy={},this.createUIElements=async(t,i,e)=>{var a,n;let r;if(e){const e=(null===(n=null===(a=this.classificationSchema.layouts.default.layoutElements)||void 0===a?void 0:a[t])||void 0===n?void 0:n.uiElement)||"text",o=structuredClone(this.itemClassificationValue);if(e.includes("-select"))try{const a=await(0,s.b)(t,this.classificationSchema,JSON.stringify(o));"multi-select"===e?r=this.renderMultiSelectElement({attributeValue:i,itemClassificationValue:o,attributeId:t,valueExpressionResult:a}):"multi-grouped-select"===e?r=this.renderGroupedMultiSelectElement({attributeValue:i,itemClassificationValue:o,attributeId:t,valueExpressionResult:a}):"single-select"===e&&(r=this.renderSingleSelectElement({attributeValue:i,itemClassificationValue:o,attributeId:t,valueExpressionResult:a}))}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorType:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message})}else"checkbox"===e?r=this.renderCheckbox({attributeValue:i,itemClassificationValue:o,attributeId:t}):"text"===e?r=this.renderInputTextBox({attributeValue:i,itemClassificationValue:o,attributeId:t}):"date"===e&&(r=this.renderDatePickerElement({attributeValue:i,itemClassificationValue:o,attributeId:t}));this.attributeElementsCopy=Object.assign(Object.assign({},this.attributeElementsCopy),{[t]:r}),this.attributeElements=structuredClone(this.attributeElementsCopy)}},this.renderGroupedMultiSelectElement=t=>(0,a.h)("arcgis-item-classification-input-grouped-multiple-selection",{i18n:this.i18n,isSaving:this.isSaving,isCheckingError:this.isCheckingError,attributeValidationErrorList:this.attributeValidationErrorList,inputData:t}),this.renderSingleSelectElement=t=>(0,a.h)("arcgis-item-classification-input-single-selection",{i18n:this.i18n,isSaving:this.isSaving,isCheckingError:this.isCheckingError,attributeValidationErrorList:this.attributeValidationErrorList,inputData:t}),this.renderCheckbox=t=>(0,a.h)("arcgis-item-classification-input-checkbox",{i18n:this.i18n,isSaving:this.isSaving,isCheckingError:this.isCheckingError,attributeValidationErrorList:this.attributeValidationErrorList,inputData:t}),this.renderInputTextBox=t=>(0,a.h)("arcgis-item-classification-input-textbox",{i18n:this.i18n,isSaving:this.isSaving,isCheckingError:this.isCheckingError,attributeValidationErrorList:this.attributeValidationErrorList,inputData:t}),this.renderDatePickerElement=t=>(0,a.h)("arcgis-item-classification-input-date",{i18n:this.i18n,isSaving:this.isSaving,isCheckingError:this.isCheckingError,attributeValidationErrorList:this.attributeValidationErrorList,inputData:t}),this.switchCategoryTab=t=>{this.setAttributeCategory(t.target.selectedTitle.id)},this.renderCategoryTabTitles=()=>{var t;return null===(t=this.classificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab-title",{selected:this.attributeCategory===t,key:t,id:t},t)))},this.renderCategoryTabContent=()=>{var t;return null===(t=this.classificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab",{class:"classification-tab",selected:this.attributeCategory===t,key:`tab_${t}`,id:`tab_${t}`},this.renderClassificationContent(t))))},this.renderClassificationContent=t=>{var i,e;return null===(e=null===(i=this.classificationContentArr)||void 0===i?void 0:i[t])||void 0===e?void 0:e.map(((i,e)=>(0,a.h)("div",{id:`${t}_${e}`,key:`${t}_${e}`},i)))},this.i18n=void 0,this.itemClassificationValue=void 0,this.classificationSchema=void 0,this.attributeCategory=void 0,this.setAttributeCategory=void 0,this.setItemClassificationValue=void 0,this.setIsCheckingError=void 0,this.isSaving=void 0,this.isCheckingError=void 0,this.attributeValidationErrorList=void 0,this.attributeElements=null,this.classificationContentArr=null}componentWillLoad(){this.createClassificationContent()}errorCheckingHandler(){this.createClassificationContent()}async createClassificationContent(){var t,i,e;if(this.attributeElementsCopy={},null===(t=this.classificationSchema)||void 0===t?void 0:t.attributes){const t=Object.entries(null===(i=this.classificationSchema)||void 0===i?void 0:i.attributes).sort((([,t],[,i])=>t.position-i.position));for(let i in t){const a=t[i][0],n=t[i][1];if(null===(e=this.classificationSchema.layouts.default.layoutElements)||void 0===e?void 0:e[a])try{const t=await(0,s.i)(a,this.classificationSchema,JSON.stringify(this.itemClassificationValue));this.createUIElements(a,n,t)}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorType:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message});break}}}}handleAttributeElementsChange(){const t=t=>{const i={};null==t||t.attributeCategories.forEach((t=>i[t]=[]));const e=Object.entries(null==t?void 0:t.attributes).sort((([,t],[,i])=>t.position-i.position));null==e||e.forEach((([t,e])=>{var a;const s=this.attributeElements[t];if(s){const t=(null==e?void 0:e.attributeCategory)||"Default";null===(a=i[t])||void 0===a||a.push(s)}})),this.classificationContentArr=structuredClone(i)};this.attributeElements&&t(this.classificationSchema)}renderMultiSelectElement(t){return(0,a.h)("arcgis-item-classification-input-multiple-selection",{i18n:this.i18n,isSaving:this.isSaving,isCheckingError:this.isCheckingError,attributeValidationErrorList:this.attributeValidationErrorList,inputData:t})}changeClassificationVal(t){this.setItemClassificationValue(t.detail)}render(){return(0,a.h)("div",{key:"d27fdd84250d4d5d875ac91278b58b9ced5a1d3e",class:"item-classification-tabs"},(0,a.h)("calcite-tabs",{key:"35ed28dce6411abe8927effe7387b6e2ab2e91f6"},(0,a.h)("calcite-tab-nav",{key:"f057e9cac368053874984025ca778580fe446658",slot:"title-group",onCalciteTabChange:this.switchCategoryTab.bind(this)},this.renderCategoryTabTitles()),this.renderCategoryTabContent()))}static get watchers(){return{isCheckingError:["errorCheckingHandler"],itemClassificationValue:["createClassificationContent"],attributeElements:["handleAttributeElementsChange"]}}};r.style="";const o=class{constructor(t){(0,a.r)(this,t),this.i18n=void 0,this.itemClassificationValue=void 0,this.classificationSchema=void 0,this.currSelectionText=void 0}getClassificationBgmColor(t){var i,e,a;const s=(null===(i=this.itemClassificationValue)||void 0===i?void 0:i.classification)?this.itemClassificationValue.classification:null===(e=this.classificationSchema)||void 0===e?void 0:e.classificationMetadata.defaultValue,n=null===(a=this.classificationSchema)||void 0===a?void 0:a.classificationMetadata.classificationValueProperties.find((t=>t.value==s));return null==n?void 0:n[t]}render(){return(0,a.h)("div",{key:"a4508110db70fc576f00f14af34a877c1c31d817",class:"itemClassificationInfo"},(0,a.h)("label",{key:"560f443c18f9a2e1d2bb29dd881f4c064ad89869",htmlFor:"classificationInfo",id:"classificationInfoLabel"},this.i18n.currentSelections),(0,a.h)("div",{key:"0d2dac5046f7fc6e13225f141c5493645453815a",id:"classificationInfo",style:{backgroundColor:this.getClassificationBgmColor("backgroundColor"),color:this.getClassificationBgmColor("textColor")}},(0,a.h)("p",{key:"dc592b93fb681f36bb6a2121ae6c99fea6256782",class:"classification-info-desc"},this.currSelectionText)))}};o.style=".classification-info-desc{word-wrap:break-word;margin-top:0}";const c=class{constructor(t){(0,a.r)(this,t),this.arcgisItemClassificationNotificationClose=(0,a.c)(this,"arcgisItemClassificationNotificationClose",7),this.closeModal=()=>{this.arcgisItemClassificationNotificationClose.emit(!1)},this.i18n=void 0,this.alertIndicator=void 0}render(){return(0,a.h)("calcite-alert",{key:"8222d10d578ece7d84e7e24448104b1528ba5372",class:"classification-notification-handler",icon:this.alertIndicator.alertIndicatorIcon,label:this.i18n.classificationNotificationHandler,scale:"m",autoClose:!0,autoCloseDuration:"medium",open:this.alertIndicator.alertIndicatorActive,kind:this.alertIndicator.alertIndicatorType,"aria-hidden":!this.alertIndicator.alertIndicatorActive,onCalciteAlertClose:this.closeModal.bind(this)},(0,a.h)("div",{key:"69b64f362ef1d879759ecfb114ea21278e90ed7c",slot:"message"},this.alertIndicator.alertIndicatorInfo))}};c.style=".classification-notification-handler{z-index:9000}"},28926:(t,i,e)=>{e.d(i,{l:()=>s});var a=e(70506);const s=async(t,i)=>(await a.e.exports.loadModules(t,i)).map((t=>t.__esModule&&t.default?t.default:t))}}]);