/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_color--d5d5cd.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_color--d5d5cd"],{96432:(e,i,n)=>{n.d(i,{a:()=>r,b:()=>s,c:()=>a,d:()=>t,e:()=>d,g:()=>u,s:()=>m});var l=n(1991),o=n(82646);n(70506);function a(e){var i;const{layer:n,useFeatureReduction:a,mapImageSublayer:r,mapView:s,supportsArcade:t,modules:d}=o.s,u=n;if(r&&!t)return function(e){var i;const{layer:n,useFeatureReduction:a,mapImageSublayer:r,mapView:s,modules:t}=o.s,d=n;e=e||{};const u=(0,o.p)((0,o.b)()),m=e.fieldInfos?e.fieldInfos[0]:null;return t.ColorCreator.createClassBreaksRenderer({layer:d,view:s,field:m.field,valueExpression:m.expression,valueExpressionTitle:m.expressionTitle,normalizationField:e.normalizationField,classificationMethod:e.classificationMethod?e.classificationMethod:"natural-breaks",standardDeviationInterval:"standard-deviation"===e.classificationMethod?e.standardDeviationInterval?e.standardDeviationInterval:1:void 0,numClasses:e.numClasses?e.numClasses:4,minValue:e.min,maxValue:e.max,colorScheme:e.colorScheme||(0,o.R)(),outlineOptimizationEnabled:!r&&(!(0,l.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),legendOptions:e.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===(null===(i=d.featureReduction)||void 0===i?void 0:i.type)&&a}).then((e=>((0,o.o)(u,e.renderer),Promise.resolve(e))),(e=>Promise.reject(e)))}(e);const c=(0,o.b)(),f=c.authoringInfo,p=(0,o.J)(c,"color");e=e||{};const v=(0,o.a)(),b=(0,o.p)((0,o.b)()),h=e.fieldInfos?e.fieldInfos[0]:null,z=e.theme?e.theme:"high-to-low";return d.ColorCreator.createContinuousRenderer({layer:u,view:s,field:h.field,valueExpression:h.expression,valueExpressionTitle:h.expressionTitle,theme:z,colorScheme:e.colorScheme||(0,o.R)(z),normalizationField:e.normalizationField,minValue:e.min,maxValue:e.max,outlineOptimizationEnabled:!r&&(!(0,l.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!r&&(!(0,l.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),legendOptions:e.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===(null===(i=u.featureReduction)||void 0===i?void 0:i.type)&&a}).then((i=>{const n=(0,o.d)((0,o.b)(),"color");return n&&!e.noReuse&&["color","color-size","color-size-age"].indexOf(v)>-1&&m(e)&&f&&"above-and-below"!==(null==f?void 0:f.univariateTheme)&&-1===["centered-on","extremes"].indexOf(null==p?void 0:p.theme)&&(i.renderer.visualVariables=(0,o.T)(i.renderer,"color")||[],i.renderer.visualVariables.push(n),b.sizeOutlineVisVar&&(i.renderer.visualVariables=(0,o.T)(i.renderer,"size","outline")||[],i.renderer.visualVariables.push(b.sizeOutlineVisVar)),i.renderer.authoringInfo.visualVariables=(0,o.U)(i.renderer,"color")||[],i.renderer.authoringInfo.visualVariables.push(p),(0,o.S)(i.renderer)),(0,o.o)(b,i.renderer),Promise.resolve(i)}),(e=>Promise.reject(e)))}function r(e){const{layer:i,mapImageSublayer:n,mapView:a,modules:r}=o.s,s=i,t=(0,o.b)().authoringInfo;e=e||{};const d=(0,o.a)(),u=(0,o.p)((0,o.b)()),c=e.fieldInfos?e.fieldInfos[0]:null,f=e.theme?e.theme:"high-to-low";return r.ColorCreator.createAgeRenderer({layer:s,view:a,startTime:c.field,endTime:new Date,theme:f,colorScheme:e.colorScheme||(0,o.R)(f),unit:void 0,outlineOptimizationEnabled:!n&&(!(0,l.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!n&&(!(0,l.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),legendOptions:e.legendOptions,defaultSymbolEnabled:!1}).then((i=>{if(["color-age","color-age-size"].indexOf(d)>-1&&m(e)&&t&&"above-and-below"!==(null==t?void 0:t.univariateTheme)){const e=(0,o.d)((0,o.b)(),"color"),n=(0,o.J)((0,o.b)(),"color");i.renderer.visualVariables=[e],u.sizeOutlineVisVar&&i.renderer.visualVariables.push(u.sizeOutlineVisVar),i.renderer.authoringInfo.visualVariables=[n],(0,o.S)(i.renderer)}return(0,o.o)(u,i.renderer),Promise.resolve(i)}),(e=>Promise.reject(e)))}function s(e){var i,n,a,r;const{layer:s,useFeatureReduction:t,mapImageSublayer:u,mapView:m,supportsArcade:c,modules:f}=o.s,p=s;if(u&&!c)return d(e);e=e||{};const v=(0,o.b)(),b=v.authoringInfo||{},h=(0,o.a)(),z=(0,o.d)(v,"color");if(z&&e.fieldInfos&&e.fieldInfos[0]&&e.fieldInfos[0].field==z.field&&e.fieldInfos[0].expression==z.valueExpression&&e.normalizationField===z.normalizationField&&(delete e.fieldInfos,(0,o.V)(e)))return Promise.resolve({renderer:v.clone()});const x=(0,o.p)(v),I=(0,o.J)(v,"color");let E=e.fieldInfos?e.fieldInfos[0]:z?{field:z.field,expression:z.valueExpression,expressionTitle:z.valueExpressionTitle,simpleFieldType:o.w.NUMBER}:{field:v.field,expression:v.valueExpression,expressionTitle:v.valueExpressionTitle,simpleFieldType:o.w.NUMBER};const g=null===e.normalizationField?void 0:e.normalizationField?e.normalizationField:z?z.normalizationField:v.normalizationField;let O=v.classBreakInfos&&v.classBreakInfos.length?v.classBreakInfos[0].symbol:(0,o.q)(h);"picture-marker"===O.type&&(O=(0,o.q)(h));const V=v.defaultSymbol,y=v.defaultLabel;let S=!1;(null===e.normalizationField||e.normalizationField||e.fieldInfo||"manual"===b.classificationMethod&&!e.theme||"equal-interval"===b.classificationMethod)&&(S=!0);const T=e.discardMinMax?void 0:(0,l.i)(e.min)?e.min:S?void 0:z?null==I?void 0:I.minSliderValue:v.classBreakInfos[0].minValue,k=e.discardMinMax?void 0:(0,l.i)(e.max)?e.max:S?void 0:z?null==I?void 0:I.maxSliderValue:v.classBreakInfos[v.classBreakInfos.length-1].maxValue,B=e.theme?e.theme:I?I.theme:"high-to-low",M="below"===(null==I?void 0:I.theme),F="below"===B,w=F&&!M||!F&&M;let R=e.colorScheme||(0,o.R)(B);const C={layer:p,view:m,field:E.field,valueExpression:E.expression,valueExpressionTitle:E.expressionTitle,theme:B,colorScheme:R,normalizationField:g,minValue:T,maxValue:k,outlineOptimizationEnabled:!u&&((0,l.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!x.sizeOutlineVisVar),sizeOptimizationEnabled:!u&&((0,l.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!x.sizeAutoVisVar),legendOptions:(null===(i=e.legendOptions)||void 0===i?void 0:i.toJSON())||(null===(n=null==z?void 0:z.legendOptions)||void 0===n?void 0:n.toJSON())||(null===(a=v.legendOptions)||void 0===a?void 0:a.toJSON()),defaultSymbolEnabled:(0,l.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!v.defaultSymbol,forBinning:"binning"===(null===(r=p.featureReduction)||void 0===r?void 0:r.type)&&t};return f.ColorCreator.createContinuousRenderer(C).then((i=>{if(e.discardMinMax){const e=(0,o.d)(v,"color"),n=(0,o.d)(i.renderer,"color");e.stops.forEach(((e,i)=>e.value=n.stops[i].value))}if((0,o.o)(x,i.renderer),O&&i.renderer.classBreakInfos&&i.renderer.classBreakInfos.length&&(i.renderer.classBreakInfos[0].symbol=O),V&&(i.renderer.defaultSymbol=V,i.renderer.defaultLabel=y),w&&R&&z){const e=(0,o.d)(i.renderer,"color"),n=z.stops.length-1;e.stops.forEach(((e,i)=>e.color=z.stops[n-i].color))}return Promise.resolve(i)}),(e=>Promise.reject(e)))}function t(e){var i,n;const{layer:a,mapImageSublayer:r,mapView:s,modules:t}=o.s,d=a;e=e||{};const u=(0,o.b)(),m=(0,o.a)(),c=(0,o.d)(u,"color");if(c&&e.fieldInfos&&e.fieldInfos[0]&&e.fieldInfos[0].field==c.field&&(delete e.fieldInfos,(0,o.V)(e)))return Promise.resolve({renderer:u.clone()});const f=(0,o.p)(u),p=(0,o.J)(u,"color"),v=e.startTime?e.startTime:p.startTime,b=e.endTime?e.endTime:p.endTime,h=u.classBreakInfos&&u.classBreakInfos.length?u.classBreakInfos[0].symbol:(0,o.q)(m),z=u.defaultSymbol,x=u.defaultLabel;let I=!1;(e.startTime||e.endTime||e.units||e.fieldInfo)&&(I=!0);const E=e.discardMinMax?void 0:(0,l.i)(e.min)?e.min:I?void 0:p?p.minSliderValue:u.classBreakInfos[0].minValue,g=e.discardMinMax?void 0:(0,l.i)(e.max)?e.max:I?void 0:p?p.maxSliderValue:u.classBreakInfos[u.classBreakInfos.length-1].maxValue,O=e.theme?e.theme:p?p.theme:"high-to-low",V={layer:d,view:s,startTime:v,endTime:b,unit:e.units?e.units:p.units,theme:O,colorScheme:e.colorScheme||(0,o.R)(O),minValue:E,maxValue:g,outlineOptimizationEnabled:!r&&((0,l.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!f.sizeOutlineVisVar),sizeOptimizationEnabled:!r&&((0,l.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!f.sizeAutoVisVar),legendOptions:e.legendOptions?e.legendOptions.toJSON():I?void 0:(null===(i=null==c?void 0:c.legendOptions)||void 0===i?void 0:i.toJSON())||(null===(n=u.legendOptions)||void 0===n?void 0:n.toJSON()),defaultSymbolEnabled:(0,l.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!u.defaultSymbol};return t.ColorCreator.createAgeRenderer(V).then((i=>{if(e.discardMinMax){const e=(0,o.d)(u,"color"),n=(0,o.d)(i.renderer,"color");e.stops.forEach(((e,i)=>e.value=n.stops[i].value))}return(0,o.J)(i.renderer,"color").field=p.field,(0,o.o)(f,i.renderer),h&&i.renderer.classBreakInfos&&i.renderer.classBreakInfos.length&&(i.renderer.classBreakInfos[0].symbol=h),z&&(i.renderer.defaultSymbol=z,i.renderer.defaultLabel=x),Promise.resolve(i)}),(e=>Promise.reject(e)))}function d(e){var i;const{layer:n,useFeatureReduction:a,mapImageSublayer:r,mapView:s,modules:t}=o.s,d=n;e=e||{};const u=(0,o.b)(),m=u.authoringInfo||{},c=(0,o.d)(u,"color");if(!c&&e.fieldInfo&&e.fieldInfo.field==u.field&&e.fieldInfo.expression==u.valueExpression&&e.normalizationField===u.normalizationField&&(delete e.fieldInfo,(0,o.V)(e)))return Promise.resolve({renderer:u.clone()});const f=(0,o.J)(u,"color"),p=(0,o.p)(u),v={field:u.field,expression:u.valueExpression,expressionTitle:u.valueExpressionTitle,simpleFieldType:o.w.NUMBER};let b=e.fieldInfos?e.fieldInfos[0]:c?{field:c.field,expression:c.valueExpression,expressionTitle:c.valueExpressionTitle,simpleFieldType:o.w.NUMBER}:v;const h=void 0!==e.normalizationField?e.normalizationField:c?c.normalizationField:u.normalizationField;let z;if(u.classBreakInfos&&u.classBreakInfos.length){const e=u.classBreakInfos[0].symbol;["simple-fill","simple-marker","simple-line","cim"].indexOf(e.type)>-1&&(z=e)}const x=u.defaultSymbol,I=u.defaultLabel,E=e.classificationMethod?e.classificationMethod:m.classificationMethod&&"manual"!==m.classificationMethod?m.classificationMethod:"natural-breaks",g="standard-deviation"===E?e.standardDeviationInterval?e.standardDeviationInterval:m.standardDeviationInterval?m.standardDeviationInterval:1:void 0;let O=!0;!e.classificationMethod||e.classificationMethod===m.classificationMethod||"standard-deviation"!==e.classificationMethod&&"standard-deviation"!==m.classificationMethod||(O=!1);let V=!1;void 0===e.normalizationField&&(0,o.x)(b,v)&&"equal-interval"===E||(V=!0);const y=(0,l.i)(e.min)?e.min:V?void 0:f?f.minSliderValue:u.classBreakInfos[0].minValue,S=(0,l.i)(e.max)?e.max:V?void 0:f?f.maxSliderValue:u.classBreakInfos[u.classBreakInfos.length-1].maxValue;let T=e.colorScheme||(0,o.R)();return T||(T=(0,o.R)("above-and-below")),t.ColorCreator.createClassBreaksRenderer({layer:d,view:s,field:b.field,valueExpression:b.expression,valueExpressionTitle:b.expressionTitle,normalizationField:h,classificationMethod:E,standardDeviationInterval:g,numClasses:(0,l.i)(e.numClasses)?e.numClasses:c||!O?4:u.classBreakInfos.length,minValue:y,maxValue:S,colorScheme:T,outlineOptimizationEnabled:!r&&((0,l.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!p.sizeOutlineVisVar),legendOptions:e.legendOptions||u.legendOptions,defaultSymbolEnabled:(0,l.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!u.defaultSymbol,forBinning:"binning"===(null===(i=d.featureReduction)||void 0===i?void 0:i.type)&&a}).then((e=>((0,o.o)(p,e.renderer),p.sizeAutoVisVar&&(e.renderer.visualVariables=e.renderer.visualVariables||[],e.renderer.visualVariables.push(p.sizeAutoVisVar)),z&&e.renderer.classBreakInfos&&e.renderer.classBreakInfos.map((e=>{const i=z.clone();(0,o.W)(i,(0,o.Q)(e.symbol)),e.symbol=i})),x&&(e.renderer.defaultSymbol=x,e.renderer.defaultLabel=I),Promise.resolve(e))),(e=>Promise.reject(e)))}function u(){const{modules:e}=o.s;return(0,o.b)().classBreakInfos.map((i=>({min:i.minValue,max:i.maxValue,color:(0,o.Q)(i.symbol)?(0,o.Q)(i.symbol).clone():new e.esriColor({r:255,g:255,b:255,a:1})})))}function m(e){const i=(0,o.b)().clone(),n=(0,o.a)();if(["color","color-size","color-size-age","color-age","color-age-size"].indexOf(n)>-1&&void 0===e.normalizationField){let l;const a=(0,o.d)(i,"color");if(a)if(["color-age","color-age-size"].indexOf(n)>-1){l={field:(0,o.J)(i,"color").field}}else l={field:a.field,expression:a.valueExpression,expressionTitle:a.valueExpressionTitle};else l={field:i.field,expression:i.valueExpression,expressionTitle:i.valueExpressionTitle};if((0,o.x)(e.fieldInfos[0],l))return!0}return!1}}}]);