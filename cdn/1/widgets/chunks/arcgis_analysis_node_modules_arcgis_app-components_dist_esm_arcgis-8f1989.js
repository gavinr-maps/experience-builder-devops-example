/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-8f1989.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-8f1989"],{62244:(e,t,i)=>{i.r(t),i.d(t,{arcgis_table:()=>g,arcgis_table_column_info:()=>T,arcgis_table_field_selection:()=>F});var l=i(7263),s=i(62159),a=i(28926),o=i(81232),n=i(1991),r=i(77040),c=i(58233);i(70506),i(78613),i(99004);const d="host",h="content",u="action-bar",m="menu-actions",p="table",b="tooltip";function f(e){if(!(null==e?void 0:e.capabilities))return!1;const{capabilities:{data:{supportsAttachment:t},operations:{supportsQueryAttachments:i}}}=e;return t&&i}const g=class{constructor(e){(0,l.r)(this,e),this.arcgisTableScaleChange=(0,l.c)(this,"arcgisTableScaleChange",7),this.arcgisTableDismissedChange=(0,l.c)(this,"arcgisTableDismissedChange",7),this.arcgisTableEditRecordClick=(0,l.c)(this,"arcgisTableEditRecordClick",7),this.arcgisTableCreateRecordClick=(0,l.c)(this,"arcgisTableCreateRecordClick",7),this.selectedOnlyMode=!1,this.recordsCount=0,this.selectedCount=0,this.keepTableSelection=!1,this.panelKeyDownHandler=e=>{this.dismissible&&"Escape"===e.key&&!e.defaultPrevented&&(this.handleCloseClick(),e.preventDefault())},this.afterCreatePanel=async e=>{const{layer:t}=this.props;this.panelNode=e,this.watchTitleHandler=t.watch("title",(()=>{this.reRender=!this.reRender}))},this.afterCreateCloseButton=e=>{this.closeButtonNode=e},this.afterCreateTableNode=e=>{var t;const{props:i,selectedFeatureIds:l,reactiveUtils:s,supportsSelection:a}=this,{layer:o,view:n}=i,{table:r}=this;if(r)return;const{allowAddEditRecord:c}=this,d=["feature","oriented-imagery"].includes(o.type)&&o.effectiveEditingEnabled;this.table=this.activeTable=new this.FeatureTable({objectIds:l,highlightIds:l,layer:o,view:n,relatedRecordsEnabled:!0,editingEnabled:d,attachmentsEnabled:"feature"===o.type&&f(o),highlightOnRowSelectEnabled:a,multiSortEnabled:!1,visibleElements:{header:!1,menu:!1},actionColumnConfig:c&&d?this.getActionColumnConfig(o,"parent-table"):void 0,container:e}),a||(this.activeTable.grid.visibleElements={selectionColumn:!1}),this.watchHndlSize=s.watch((()=>this.activeTable.viewModel.size),(e=>{this.recordsCount=e,this.displayCount()})),null===(t=this.menuHandle)||void 0===t||t.remove(),this.menuHandle=this.getMenuHandle(),a&&(this.activeTable.highlightIds.on("change",(e=>{const{selectedFeatureIds:t}=this;e.removed.forEach((e=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)})),e.added.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),this.selectedCount=new Set(t).size,this.displayCount(),this.lockRasters(),this.reRender=!this.reRender})),this.watchHndlActive=s.watch((()=>{var e,t;return null===(t=null===(e=n.popup)||void 0===e?void 0:e.viewModel)||void 0===t?void 0:t.active}),(()=>{var e,t,i,s;const a=n.popup.selectedFeature;if(a&&n.popup.visible&&((null===(e=a.layer)||void 0===e?void 0:e.id)===o.id||"sublayer"===o.type&&(null===(i=null===(t=a.sourceLayer)||void 0===t?void 0:t.layer)||void 0===i?void 0:i.id)===(null===(s=o.layer)||void 0===s?void 0:s.id))){this.activeTable.highlightIds.removeAll();const e=n.popup.selectedFeature.getObjectId();this.activeTable.highlightIds.push(e),l.push(e),this.selectedOnlyMode&&(this.activeTable.objectIds.push(e),this.reRender=!this.reRender)}else!a||n.popup.visible||this.keepTableSelection||(this.activeTable.highlightIds.removeAll(),this.selectedOnlyMode&&this.handleShowAllClick());this.keepTableSelection=!1})))},this.handleEditingClick=()=>{const{strings:e}=this;this.removeEditingPopover(),this.editingPopoverNode=document.createElement("arcgis-table-editing-popover"),this.editingPopoverNode.referenceElement=this.editingActionNode,this.editingPopoverNode.strings=e,this.editingPopoverNode.addEventListener("arcgisTableEditingPopoverClose",(e=>{e.stopPropagation(),this.removeEditingPopover(),setTimeout((()=>this.editingActionNode.setFocus()),200)})),this.editingPopoverNode.addEventListener("arcgisTableEditingPopoverDisconnected",(e=>{e.stopPropagation(),this.removeEditingPopover()})),document.body.appendChild(this.editingPopoverNode),this.editingPopoverNode.setOpen(!0),setTimeout((()=>this.editingPopoverNode.setFocus()),100)},this.handleVisibilityClick=e=>{if(this.fieldSelectionPopover)return;document.removeEventListener("click",this.clickHandler);const t=this.activeTable.layer,{props:i,strings:l,currentLanguageIntl:s,fieldSortOrder:a,activeTable:o}=this,n=document.createElement("arcgis-table-field-selection");n.props={layer:t,view:i.view},n.strings=l,n.currentLanguage=s,n.columnTemplates=o.tableTemplate.columnTemplates,n.sortBy=a,n.attachmentsEnabled=!("feature"!==t.type||!f(t))&&o.attachmentsEnabled,n.popoverReferenceElement=e.target,n.addEventListener("columnTemplatesChange",(e=>{e.stopPropagation(),this.updateTable(new this.TableTemplate({columnTemplates:e.detail}))})),n.addEventListener("attachmentsChange",(e=>{e.stopPropagation(),this.activeTable.attachmentsEnabled=e.detail})),n.addEventListener("fieldSortByChange",(e=>{e.stopPropagation(),this.fieldSortOrder=e.detail})),n.addEventListener("arcgisTableFieldSelectionClose",(()=>{this.closePopovers(),setTimeout((()=>this.settingsActionNode.setFocus()),200)})),document.body.appendChild(n),this.fieldSelectionPopover=n,setTimeout((()=>document.addEventListener("click",this.clickHandler)),200)},this.clickHandler=e=>{this.fieldSelectionPopover?(0,o.i)(e.target,"arcgis-table-field-selection")||(document.body.removeChild(this.fieldSelectionPopover),this.fieldSelectionPopover=null,document.removeEventListener("click",this.clickHandler)):document.removeEventListener("click",this.clickHandler)},this.handleHomeClick=()=>{const{view:e,initialViewpoint:t}=this;e.goTo(t)},this.handleZoomToClick=()=>{const{layer:e,view:t,selectedFeatureIds:i,Query:l}=this;if("imagery"===function(e){return"esri.layers.support.Sublayer"===e.declaredClass?"sublayer":(0,n.d)(e)}(e)){const s=new l;s.outSpatialReference=t.spatialReference,s.objectIds=[...i],s.returnGeometry=!0,e.queryRasters(s).then((e=>{t.goTo(e.features)}))}else{const l=e,s=l.createQuery();s.outSpatialReference=t.spatialReference,s.objectIds=[...i],s.returnGeometry=!0,l.queryFeatures(s).then((e=>{t.goTo(e.features)}))}},this.handleClearClick=()=>{const{activeTable:e,supportsSelection:t}=this,{grid:i}=e;e.highlightIds.removeAll(),this.clearFilter(),t&&(i.visibleElements={selectionColumn:!0})},this.handleShowSelectedClick=()=>{this.selectedOnlyMode=!0,this.activeTable.objectIds.addMany(this.activeTable.highlightIds),this.reRender=!this.reRender},this.handleShowAllClick=()=>{this.selectedOnlyMode=!1,this.activeTable.objectIds.removeAll(),this.reRender=!this.reRender},this.handleSelectVisibleClick=async()=>{const{layer:e,view:t,table:i}=this;i.highlightIds.removeAll();const l=t.get("extent"),s=await async function(e,t,i){const[l,s,o]=await(0,a.l)(["esri/geometry/Polygon","esri/geometry/Point","esri/rest/support/ImageIdentifyParameters"]),n=new l(e.spatialReference);n.addRing([[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]);const r=new s((e.xmax-e.xmin)/t.width,(e.ymax-e.ymin)/t.height,e.spatialReference),c=new o;c.geometry=n,c.returnGeometry=!0,c.pixelSize=r;const d=i.mosaicRule.clone();return i.definitionExpression&&(d.where=i.definitionExpression),c.mosaicRule=d,c}(l,t,e);this.selectFeaturesFromIdentify(s)},this.handleDisplaySelectedClick=()=>{this.lockRaster=!0,this.lockRasters()},this.handleDisplayAllClick=()=>{var e;const{MosaicRule:t}=this;this.lockRaster=!1;const i=this.layer,{sourceJSON:l}=i,s=l.allowedMosaicMethods.split(",").map((e=>e.trim().toLowerCase()));s.unshift(l.defaultMosaicMethod.toLowerCase());const a=null!==(e=s.find((e=>"lockraster"!==e&&"viewpoint"!==e&&("byattribute"!==e||!!l.sortField))))&&void 0!==e?e:"none";i.mosaicRule=t.fromJSON(Object.assign(Object.assign({},l),{defaultMosaicMethod:a})),i.visible=!0},this.handleRefreshClick=()=>{const{table:e}=this;e.refresh(),this.reRender=!this.reRender},this.handleExpandClick=()=>{const{scale:e}=this,t=e===o.s.SMALL?o.s.MEDIUM:o.s.SMALL;this.arcgisTableScaleChange.emit(t),this.scale=t,this.closePopovers()},this.handleCloseClick=()=>{this.arcgisTableDismissedChange.emit()},this.view=void 0,this.layer=void 0,this.initialViewpoint=void 0,this.scale=o.s.SMALL,this.dismissible=!1,this.allowFieldCalculate=!1,this.config=void 0,this.allowAddEditRecord=!1,this.initiallySelectedObjectIds=void 0,this.tableTemplate=void 0,this.reRender=!1,this.lockRaster=!1,this.isBarExpanded=!1,this.selectedFeatureIds=[]}async setFocus(e){var t,i;"dismiss-button"===e||!e&&this.dismissible?null===(t=this.closeButtonNode)||void 0===t||t.setFocus():null===(i=this.settingsActionNode)||void 0===i||i.setFocus()}async refresh(e){var t,i,l;const s=(null===(t=null==e?void 0:e.addedObjectIds)||void 0===t?void 0:t.length)?e.addedObjectIds:null==e?void 0:e.updatedObjectIds;s?(this.selectedFeatureIds=s,this.selectedCount=s.length,this.updateHighlightsAndSelection()):(null===(i=null==e?void 0:e.selectedObjectIds)||void 0===i?void 0:i.length)&&(this.selectedFeatureIds=e.selectedObjectIds,this.selectedCount=1,this.selectedOnlyMode=!0,this.activeTable.highlightIds.removeAll(),this.activeTable.highlightIds.addMany(e.selectedObjectIds),this.activeTable.objectIds.removeAll(),this.activeTable.objectIds.addMany(e.selectedObjectIds)),await(null===(l=this.table)||void 0===l?void 0:l.refresh())}async highlightRootFeature(e,t){this.selectedFeatureIds=e?[t]:[],this.updateHighlightsAndSelection()}async enableEdits(e){e?(this.activeTable.editingEnabled=["feature","oriented-imagery"].includes(this.activeTable.layer.type)&&this.activeTable.layer.effectiveEditingEnabled,this.fabNode&&(this.fabNode.disabled=!1)):(this.activeTable.editingEnabled=!1,this.fabNode&&(this.fabNode.disabled=!0))}async getSelectedObjectIds(){return Promise.resolve(this.activeTable.highlightIds)}async disableTableEditorHooks(e){if(!this.activeTable.layer)return;this.allowAddEditRecord=!e;const t=["feature","oriented-imagery"].includes(this.activeTable.layer.type)&&this.activeTable.layer.effectiveEditingEnabled;e?(this.activeTable.actionColumnConfig=void 0,this.fabNode&&(this.fabNode.hidden=!0)):(this.activeTable.actionColumnConfig=this.allowAddEditRecord&&t?this.getActionColumnConfig(this.activeTable.layer,this.activeTable.relatedTable?"related-table":"parent-table"):void 0,this.fabNode&&(this.fabNode.hidden=!1))}async componentWillLoad(){const[e,t,i]=await(0,s.g)(this.hostElement);this.strings=e,this.currentLanguage=t,this.currentLanguageIntl=i,await this.loadAllModules();const{view:l,layer:a}=this;(0,n.d)(a)===r.s.imagery?(this.imagerySelection=!0,this.props={view:l,layer:a}):this.props={view:l,layer:a},this.supportsSelection=!0,this.initiallySelectedObjectIds&&(this.selectedFeatureIds=this.initiallySelectedObjectIds,this.selectedCount=this.initiallySelectedObjectIds.length,this.selectedOnlyMode=!0)}async componentDidLoad(){requestAnimationFrame((()=>this.closeButtonNode.setFocus()));const e=await this.getFieldTemplates();this.activeTable.tableTemplate=e,this.fieldsLengthHandle=this.reactiveUtils.watch((()=>{var e;return null===(e=this.activeTable.layer.fields)||void 0===e?void 0:e.length}),(async()=>{var e;const t=await this.getFieldTemplates();this.activeTable.tableTemplate=t,null===(e=this.table)||void 0===e||e.refresh()}));const{allowAddEditRecord:t,reactiveUtils:i}=this,{table:s}=this;s.relatedTables.on("change",(async({added:e})=>{var a,o;e.length&&e.forEach((e=>{const i=e.layer,l=["feature","oriented-imagery"].includes(i.type)&&i.effectiveEditingEnabled;e.actionColumnConfig=t&&l?this.getActionColumnConfig(i,"related-table"):void 0})),this.activeTable=null!==(a=s.relatedTable)&&void 0!==a?a:s;const n=await this.getFieldTemplates();this.activeTable.tableTemplate=n,this.selectedFeatureIds=[],this.activeTable.highlightIds.items.forEach((e=>this.selectedFeatureIds.push(e))),this.activeTable.highlightIds.on("change",(e=>{const{selectedFeatureIds:t}=this;e.removed.forEach((e=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)})),e.added.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),this.selectedCount=new Set(t).size,this.lockRasters(),this.reRender=!this.reRender})),this.createFeatureHandle=i.watch((()=>this.activeTable.viewModel.store.canAddRelatedFeature),(()=>(0,l.f)(this.hostElement))),(0,l.f)(this.hostElement),null===(o=this.menuHandle)||void 0===o||o.remove(),this.menuHandle=this.getMenuHandle()})),this.showAllTablesHandle=i.watch((()=>this.table._showAllTablesEnabled),(e=>this.settingsActionNode.disabled=e))}disconnectedCallback(){var e,t,i,l,s,a,o,n;this.closePopovers();const{table:r}=this;null==r||r.destroy(),null===(e=this.watchTitleHandler)||void 0===e||e.remove(),null===(t=this.watchHndlSize)||void 0===t||t.remove(),null===(i=this.watchHndlActive)||void 0===i||i.remove(),null===(l=this.popupTemplateWatchHandle)||void 0===l||l.remove(),null===(s=this.fieldsLengthHandle)||void 0===s||s.remove(),null===(a=this.createFeatureHandle)||void 0===a||a.remove(),null===(o=this.menuHandle)||void 0===o||o.remove(),null===(n=this.showAllTablesHandle)||void 0===n||n.remove()}render(){const{props:e}=this,{layer:t}=e;if(!t)return null;const i="rtl"===(0,c.g)(this.hostElement);return(0,l.h)(l.H,{class:d},(0,l.h)("div",{class:{[h]:!0,[c.C.rtl]:i}},this.renderActionBar(),(0,l.h)("calcite-panel",{heading:t.title,ref:this.afterCreatePanel,onKeyDown:this.panelKeyDownHandler},this.renderHeaderActions(),this.renderTable(),this.renderCreateRecordFab())))}renderActionBar(){const{supportsSelection:e,selectedFeatureIds:t,imagerySelection:i,isBarExpanded:s,strings:a,layer:o}=this;return(0,l.h)("calcite-action-bar",{class:u,onCalciteActionBarToggle:e=>{this.isBarExpanded=e.target.expanded}},(0,l.h)("calcite-action-group",null,e&&!o.isTable&&(0,l.h)(l.F,null,(0,l.h)("calcite-action",{id:"zoom",icon:"zoom-to-object",text:a.zoomToSelection,disabled:!(null==t?void 0:t.length),onClick:this.handleZoomToClick}),!s&&(0,l.h)("calcite-tooltip",{referenceElement:"zoom",label:a.zoomToSelection},(0,l.h)("div",{class:b},a.zoomToSelection))),(0,l.h)("calcite-action",{id:"home",icon:"home",text:a.home,onClick:this.handleHomeClick}),!s&&(0,l.h)("calcite-tooltip",{referenceElement:"home",label:a.home},(0,l.h)("div",{class:b},a.home)),(0,l.h)("calcite-tooltip",{slot:"menu-tooltip",label:a.more},(0,l.h)("div",{class:b},a.more))),!i&&this.renderTableActions(),i&&e&&this.renderImageryTableActions(),(0,l.h)("calcite-tooltip",{slot:"expand-tooltip",label:a.expand},(0,l.h)("div",{class:b},a.expand)))}renderTableActions(){var e,t,i,s;const{selectedFeatureIds:a,supportsSelection:o,selectedOnlyMode:n,isBarExpanded:r,strings:c}=this,d=n||(null===(i=null===(t=null===(e=this.activeTable)||void 0===e?void 0:e.objectIds)||void 0===t?void 0:t.items)||void 0===i?void 0:i.length);return(0,l.h)("calcite-action-group",null,o&&(0,l.h)(l.F,null,(0,l.h)("calcite-action",{id:"erase",icon:"erase",text:c.clearSelection,disabled:!(null==a?void 0:a.length),onClick:this.handleClearClick}),!r&&(0,l.h)("calcite-tooltip",{referenceElement:"erase",label:c.clearSelection},(0,l.h)("div",{class:b},c.clearSelection))),o&&(0,l.h)(l.F,null,(0,l.h)("calcite-action",{id:"showSelected",icon:"selected-items-filter",text:c.showSelected,disabled:(null===(s=this.table)||void 0===s?void 0:s.relatedTable)||!(null==a?void 0:a.length),onClick:this.handleShowSelectedClick}),!r&&(0,l.h)("calcite-tooltip",{referenceElement:"showSelected",label:c.showSelected},(0,l.h)("div",{class:b},c.showSelected))),o&&(0,l.h)(l.F,null,(0,l.h)("calcite-action",{id:"showAll",icon:"list",text:c.showAll,disabled:!d,onClick:this.handleShowAllClick}),!r&&(0,l.h)("calcite-tooltip",{referenceElement:"showAll",label:c.showAll},(0,l.h)("div",{class:b},c.showAll))),(0,l.h)("calcite-action",{id:"refresh",icon:"refresh",text:c.refresh,onClick:this.handleRefreshClick}),!r&&(0,l.h)("calcite-tooltip",{referenceElement:"refresh",label:c.refresh},(0,l.h)("div",{class:b},c.refresh)),(0,l.h)("calcite-tooltip",{slot:"menu-tooltip",label:c.more},(0,l.h)("div",{class:b},c.more)))}renderImageryTableActions(){const{selectedFeatureIds:e,lockRaster:t,isBarExpanded:i,strings:s}=this;return(0,l.h)("calcite-action-group",null,(0,l.h)("calcite-action",{id:"erase",icon:"erase",text:s.clearSelection,disabled:!(null==e?void 0:e.length),onClick:this.handleClearClick}),!i&&(0,l.h)("calcite-tooltip",{referenceElement:"erase",label:s.clearSelection},(0,l.h)("div",{class:b},s.clearSelection)),(0,l.h)("calcite-action",{id:"visible",icon:"select-visible",text:s.selectVisible,onClick:this.handleSelectVisibleClick}),!i&&(0,l.h)("calcite-tooltip",{referenceElement:"visible",label:s.selectVisible},(0,l.h)("div",{class:b},s.selectVisible)),(0,l.h)("calcite-action",{id:"displayImage",icon:t?"unlock":"lock",text:t?s.displayAll:s.displaySelected,onClick:t?this.handleDisplayAllClick:this.handleDisplaySelectedClick}),!i&&(0,l.h)("calcite-tooltip",{referenceElement:"displayImage",label:t?s.displayAll:s.displaySelected},(0,l.h)("div",{class:b},t?s.displayAll:s.displaySelected)),(0,l.h)("calcite-tooltip",{slot:"menu-tooltip",label:s.more},(0,l.h)("div",{class:b},s.more)))}renderHeaderActions(){const{layer:e,scale:t,strings:i,dismissible:s}=this,a="type"in e&&["feature","oriented-imagery"].includes(e.type)&&e.effectiveEditingEnabled&&!e.editingEnabled;return(0,l.h)("div",{slot:"header-actions-end",class:m},a&&(0,l.h)("calcite-action",{id:"table-editing-action",text:i.layerEditing,scale:"m",onClick:this.handleEditingClick,ref:e=>this.editingActionNode=e},(0,l.h)("calcite-icon",{scale:"s",icon:"exclamation-mark-circle"})),(0,l.h)("calcite-action",{id:"table-settings-action",text:i.fieldVisibility,scale:"m",onClick:this.handleVisibilityClick,ref:e=>this.settingsActionNode=e},(0,l.h)("calcite-icon",{scale:"s",icon:"gear"})),t===o.s.SMALL?(0,l.h)("calcite-action",{key:"expand-table",text:i.expand,scale:"s",onClick:this.handleExpandClick},(0,l.h)("calcite-icon",{scale:"m",icon:"chevrons-up"})):(0,l.h)("calcite-action",{key:"expand",text:i.shrink,scale:"s",onClick:this.handleExpandClick},(0,l.h)("calcite-icon",{scale:"m",icon:"chevrons-down"})),s?(0,l.h)("calcite-action",{text:i.close,icon:"x",onClick:this.handleCloseClick,ref:this.afterCreateCloseButton}):null)}renderTable(){return(0,l.h)("div",{class:p},(0,l.h)("div",{ref:this.afterCreateTableNode}))}renderCreateRecordFab(){var e,t,i;const{strings:s,allowAddEditRecord:a}=this,o=(null===(e=this.table)||void 0===e?void 0:e.relatedTable)?null===(t=this.table)||void 0===t?void 0:t.relatedTable.layer:this.layer;if(!a)return null;if(!(["feature","oriented-imagery"].includes(o.type)&&o.effectiveEditingEnabled))return null;if((null===(i=this.table)||void 0===i?void 0:i.relatedTable)&&!this.table.relatedTable.viewModel.store.canAddRelatedFeature)return null;const n=this.templateUtils.getAllTemplatesForLayer(o);return o.isTable||n.length?(0,l.h)("calcite-fab",{scale:"s",class:"table-fab",kind:"neutral",appearance:"outline-fill","text-enabled":!0,text:o.isTable?s.createRecord:s.createFeature,onClick:()=>{this.fabNode&&(this.fabNode.disabled=!0),this.activeTable.highlightIds.removeAll(),this.handleCreateRecordClick()},ref:e=>this.fabNode=e}):null}removeEditingPopover(){if(this.editingPopoverNode)try{document.body.removeChild(this.editingPopoverNode),this.editingPopoverNode=null}catch(e){}}handleHideClick(e){this.activeTable.hideColumn(e),this.activeTable.tableTemplate.columnTemplates.forEach((t=>{t.fieldName===e&&(t.visible=!1)}))}handleCalculateField(e){const t=document.createElement("arcgis-field-calculate");t.fieldName=e,t.layer=this.activeTable.layer,t.config=this.config,t.addEventListener("arcgisFieldCalculateClose",(()=>{document.body.removeChild(t),this.activeTable.refresh()})),document.body.appendChild(t)}handleColumnInfo(e){const{currentLanguageIntl:t}=this;this.columnInfoPopover&&this.columnInfoPopover.parentNode.removeChild(this.columnInfoPopover);const{props:i,strings:l}=this,s=this.activeTable.layer,a=document.createElement("arcgis-table-column-info");a.props={view:i.view,layer:s},a.strings=l,a.currentLanguage=t,a.fieldName=e,a.popoverReferenceElement=document.getElementById("table-settings-action"),a.addEventListener("arcgisTableColumnInfoClose",(()=>{this.closePopovers(),setTimeout((()=>this.closeButtonNode.setFocus()),100)})),a.addEventListener("arcgisTableColumnInfoSetupComplete",(()=>this.syncMenuHandles())),document.body.appendChild(a),this.columnInfoPopover=a}closePopovers(){document.removeEventListener("click",this.clickHandler),this.fieldSelectionPopover&&(document.body.removeChild(this.fieldSelectionPopover),this.fieldSelectionPopover=null),this.columnInfoPopover&&(document.body.removeChild(this.columnInfoPopover),this.columnInfoPopover=null),this.removeEditingPopover()}async selectFeaturesFromIdentify(e){var t;const{layer:i,imageService:l}=this;let s=[];if("imagery"===i.type&&i.visible){const a=await l.identify(i.url,e);if((null===(t=null==a?void 0:a.catalogItems)||void 0===t?void 0:t.features)&&a.catalogItemVisibilities)for(let e=0;e<a.catalogItems.features.length;e++)a.catalogItemVisibilities[e]>0&&s.push(a.catalogItems.features[e]);const o=s.map((e=>new this.Graphic({attributes:e.attributes,geometry:e.geometry,sourceLayer:this.activeTable.layer,layer:this.activeTable.layer})));o.length?o.forEach((e=>this.activeTable.highlightIds.add(e.getObjectId()))):this.activeTable.highlightIds.removeAll()}}async lockRasters(){const{selectedFeatureIds:e,layer:t,imagerySelection:i,MosaicRule:l}=this;if(this.lockRaster)if(i&&e.length){const i=[...e],s=new l;s.method="lock-raster",s.lockRasterIds=i;const a=t.definitionExpression;a&&(s.where=a),t.mosaicRule=s,t.visible=!0}else t.visible=!1}updateTable(e){this.activeTable.tableTemplate=e}async getFieldTemplates(){var e,t,i;const{activeTable:l,strings:s}=this,a=null!==(e=null==l?void 0:l.layer)&&void 0!==e?e:this.layer,o=e=>{var t,i,l;let o=[{label:s.information,icon:"information",clickFunction:()=>{this.handleColumnInfo(e.name)}}];const n=!["blob","global-id","guid","oid","raster"].includes(e.type),r=null===(t=a.sourceJSON)||void 0===t?void 0:t.geometryProperties,c=[null==r?void 0:r.shapeLengthFieldName,null==r?void 0:r.shapeAreaFieldName].includes(e.name),d=e.editable&&n&&!c&&e.name!==this.activeTable.layer.objectIdField,h=("feature"===a.type||"oriented-imagery"===a.type)&&a.sourceJSON.supportsCalculate&&(null===(l=null===(i=a.portalItem)||void 0===i?void 0:i.typeKeywords)||void 0===l?void 0:l.indexOf("Hosted Service"))>-1&&"admin"===a.portalItem.itemControl;return this.allowAddEditRecord&&this.allowFieldCalculate&&this.config&&h&&d&&o.push({label:s.calculateField,icon:"calculator",clickFunction:()=>{this.handleCalculateField(e.name)}}),o.push({label:s.hideField,icon:"view-hide",clickFunction:()=>{this.handleHideClick(e.name)}}),{items:o}},n=new this.TableTemplate({columnTemplates:[]}),r=this.popupUtils.createFieldInfos({fields:a.fields,objectIdField:a.objectIdField}),c=new Map(r.map((e=>[e.fieldName,e])));let d;if(null===(t=a.popupTemplate)||void 0===t?void 0:t.fieldInfos){const{popupTemplate:e}=a;d=new Map(e.fieldInfos.map((e=>[e.fieldName,e]))),null===(i=this.popupTemplateWatchHandle)||void 0===i||i.remove(),this.popupTemplateWatchHandle=this.reactiveUtils.watch((()=>a.popupTemplate),(async()=>{var e;let t=!1,i=!1;const{popupTemplate:l}=a;n.columnTemplates.forEach((e=>{l.fieldInfos.forEach((l=>{e.fieldName===l.fieldName&&(JSON.stringify(e.format)!==JSON.stringify(l.format)&&(i=!0,e.format=l.format),e.label!==l.label&&(t=!0,e.label=l.label))}))})),t?this.updateTable(new this.TableTemplate({columnTemplates:n.columnTemplates})):i&&(this.updateTable(n),await(null===(e=this.table)||void 0===e?void 0:e.refresh()))}))}const h=[];return a.fields.forEach((e=>{if("geometry"===e.type)return;const t=c.get(e.name),i=null==d?void 0:d.get(e.name),l={fieldName:e.name,label:(null==i?void 0:i.label)||e.alias||e.name,type:"field",visible:!!t&&t.visible,format:(null==i?void 0:i.format)||this.getDefaultFormat(e),menuConfig:o(e)};h.push(l)})),n.columnTemplates=h,n}getDefaultFormat(e){return["integer","small-integer","big-integer"].indexOf(e.type)>-1?new this.FieldInfoFormat({digitSeparator:!1,places:0}):["single","double","long"].indexOf(e.type)>-1?new this.FieldInfoFormat({digitSeparator:!1,places:2}):["date","time-only","timestamp-offset"].indexOf(e.type)>-1?new this.FieldInfoFormat({dateFormat:"short-date-short-time"}):"date-only"===e.type?new this.FieldInfoFormat({dateFormat:"short-date"}):void 0}displayCount(){const{strings:e,panelNode:t,recordsCount:i,selectedCount:l,supportsSelection:s,intl:a}=this;if(!t)return;const o=a.convertNumberFormatToIntlOptions({digitSeparator:!0}),r=a.formatNumber(i,o);if((0,n.i)(l)&&s)if(0===l)t.description=0===i?e.zeroRecordsZeroSel:1===i?e.oneRecordZeroSel:e.numRecordsZeroSel.replace("${count}",`${r}`);else if(1===l)t.description=0===i?e.zeroRecordsOneSel:1===i?e.oneRecordOneSel:e.numRecordsOneSel.replace("${count}",`${r}`);else{const s=a.formatNumber(l,o);t.description=0===i?e.zeroRecordsNumSel.replace("${countSel}",`${s}`):1===i?e.oneRecordNumSel.replace("${countSel}",`${s}`):e.numRecordsNumSel.replace("${count}",`${r}`).replace("${countSel}",`${s}`)}else t.description=0===i?e.zeroRecords:1===i?e.oneRecord:e.numRecords.replace("${count}",`${r}`)}async loadAllModules(){const[e,t,i,l,s,o,n,r,c,d,h]=await(0,a.l)(["esri/widgets/FeatureTable","esri/widgets/FeatureTable/support/TableTemplate","esri/support/popupUtils","esri/core/reactiveUtils","esri/widgets/support/templateUtils","esri/popup/support/FieldInfoFormat","esri/rest/support/Query","esri/rest/imageService","esri/layers/support/MosaicRule","esri/Graphic","esri/intl"]);this.FeatureTable=e,this.TableTemplate=t,this.popupUtils=i,this.reactiveUtils=l,this.templateUtils=s,this.FieldInfoFormat=o,this.Query=n,this.imageService=r,this.MosaicRule=c,this.Graphic=d,this.intl=h}clearFilter(){this.selectedOnlyMode=!1,this.selectedCount=0,this.selectedFeatureIds=[],this.activeTable.objectIds.removeAll()}handleCreateRecordClick(){var e,t;const{table:i}=this;if(i.relatedTable){const l=i.relatedTable;l.editingEnabled=!1;const s=l.tableParent;if(l.relationshipConfig){const{objectId:i}=l.relationshipConfig,a=s.viewModel.store.getItemByObjectId(i);if(null==a?void 0:a.feature){const{relatedLayer:i,relationshipId:s}=l.relationshipConfig,o=null===(e=i.relationships)||void 0===e?void 0:e.find((e=>e.id===s)),n=a.feature,r=null===(t=l.layer.relationships)||void 0===t?void 0:t.find((e=>e.id===s)),c=n.getAttribute(o.keyField);this.arcgisTableCreateRecordClick.emit({targetTable:l,relationshipKeyField:r.keyField,relationshipKeyFieldValue:c})}else l.editingEnabled=!1,this.arcgisTableCreateRecordClick.emit({targetTable:l})}else l.editingEnabled=!1,this.arcgisTableCreateRecordClick.emit({targetTable:l})}else this.table.editingEnabled=!1,this.arcgisTableCreateRecordClick.emit({targetTable:this.table})}updateHighlightsAndSelection(){this.activeTable.highlightIds.removeAll(),this.activeTable.highlightIds.addMany(this.selectedFeatureIds),this.activeTable.objectIds.length&&this.activeTable.objectIds.addMany(this.selectedFeatureIds)}getActionColumnConfig(e,t){const{strings:i}=this;return{icon:"pencil",label:e.isTable?i.editRecord:i.editFeature,callback:({feature:i})=>{this.keepTableSelection=!0,this.activeTable.columns.forEach((e=>e.closeMenu())),this.selectedFeatureIds=[i.getObjectId()],this.activeTable.highlightIds.removeAll(),this.activeTable.highlightIds.add(i.getObjectId()),this.activeTable.editingEnabled=!1,"related-table"===t&&(i.layer=e,i.sourceLayer=e),this.arcgisTableEditRecordClick.emit({feature:i,layer:e})},disabled:()=>this.activeTable&&!this.activeTable.editingEnabled}}getMenuHandle(){return this.reactiveUtils.watch((()=>{var e;return null===(e=this.activeTable)||void 0===e?void 0:e.state}),(e=>{"loaded"===e&&(this.syncMenuHandles(),this.activeTable.columns.on("change",(()=>this.syncMenuHandles())))}))}syncMenuHandles(){var e;null===(e=this.activeTable.columns)||void 0===e||e.forEach((e=>{var t,i;(null==e?void 0:e.menu)&&(null===(t=null==e?void 0:e.menu)||void 0===t||t.addEventListener("calciteDropdownOpen",(()=>{this.fabNode&&(this.fabNode.hidden=!0)})),null===(i=null==e?void 0:e.menu)||void 0===i||i.addEventListener("calciteDropdownClose",(()=>{this.fabNode&&(this.fabNode.hidden=!1)})))}))}get hostElement(){return(0,l.d)(this)}};g.style=".host.sc-arcgis-table{width:100%}.content.sc-arcgis-table{height:100%;display:flex}.manager.sc-arcgis-table{height:100%}.action-bar.sc-arcgis-table{height:100%;border-width:0 1px 0 0;border-style:solid;border-color:var(--calcite-color-border-2)}.menu-actions.sc-arcgis-table{display:inline-flex;justify-self:stretch}.table.sc-arcgis-table{height:100%}.tooltip.sc-arcgis-table{white-space:nowrap}.table-fab.sc-arcgis-table{position:absolute;bottom:24px;left:auto;right:76px;--calcite-opacity-disabled:0.8}.arcgis--rtl.sc-arcgis-table .action-bar.sc-arcgis-table{border-width:0 0 0 1px}.arcgis--rtl.sc-arcgis-table .table-fab.sc-arcgis-table{left:76px;right:auto}";const v="popover",y="flow",C="info",T=class{constructor(e){(0,l.r)(this,e),this.arcgisTableColumnInfoClose=(0,l.c)(this,"arcgisTableColumnInfoClose",7),this.arcgisTableColumnInfoSetupComplete=(0,l.c)(this,"arcgisTableColumnInfoSetupComplete",7),this.afterCreatePopover=e=>{this.popoverNode=e},this.afterCreateCloseButton=e=>{this.closeButtonNode=e},this.afterCreateFieldInfo=e=>{e.addEventListener("arcgisFieldInfoComplete",(()=>{this.reposition(),this.arcgisTableColumnInfoSetupComplete.emit()}))},this.handleCloseClick=()=>{this.arcgisTableColumnInfoClose.emit()},this.props=void 0,this.fieldName=void 0,this.popoverReferenceElement=void 0,this.strings=void 0,this.currentLanguage=void 0,this.isOpen=!1,this.reRender=!1}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}async componentWillLoad(){const{layer:e}=this.props;this.fieldsMap=await(0,n.e)(e)}componentDidLoad(){this.reposition(),this.isOpen=!0,setTimeout((()=>requestAnimationFrame((()=>this.closeButtonNode.setFocus()))),100)}render(){const{fieldName:e,fieldsMap:t,popoverReferenceElement:i}=this,s=t.get(e);return(0,l.h)(l.H,{key:"a221b8b6d5863c8069c9a61d6a3718d553f75c00",class:"js-app-flyout"},(0,l.h)("calcite-popover",{key:"a4fe4ffd6812b12199163f21cc08870029af45f3",placement:"leading",dir:document.dir,open:this.isOpen,pointerDisabled:!0,referenceElement:i,offsetDistance:-48,offsetSkidding:0,class:v,label:"",ref:this.afterCreatePopover},(0,l.h)("calcite-flow",{key:"0e2621b7cf7f666c99651a6e36c9b0a92f862586",class:y},(0,l.h)("calcite-flow-item",{key:"626cb8b94b3558b3d9bd7685185d3d8ca83725ad",heading:s.alias||s.name,description:e},this.renderCloseButton(),this.renderInfo()))))}renderCloseButton(){const{strings:e}=this;return(0,l.h)("calcite-action",{text:e.close,scale:"s",slot:"header-actions-end",onClick:this.handleCloseClick,ref:this.afterCreateCloseButton,icon:"x"})}renderInfo(){const{layer:e,view:t}=this.props,{fieldName:i,currentLanguage:s}=this;return(0,l.h)("arcgis-field-info",{fieldName:i,layer:e,view:t,lang:s,class:C,ref:this.afterCreateFieldInfo})}get hostElement(){return(0,l.d)(this)}};T.style=".flow{max-height:400px}.info{background-color:#ffffff;max-height:400px;max-width:420px;min-width:240px;overflow-x:hidden}";const k="popover",w="flow",I="info",E="select-button",F=class{constructor(e){(0,l.r)(this,e),this.arcgisTableFieldSelectionClose=(0,l.c)(this,"arcgisTableFieldSelectionClose",7),this.columnTemplatesChange=(0,l.c)(this,"columnTemplatesChange",7),this.fieldSortByChange=(0,l.c)(this,"fieldSortByChange",7),this.attachmentsChange=(0,l.c)(this,"attachmentsChange",7),this.waitHandler=null,this.afterCreatePopover=e=>{this.popoverNode=e},this.afterCreateFlow=e=>{this.flowNode=e},this.afterCreateFlowItem=e=>{this.firstPanelNode=e},this.afterCreateCloseButton=e=>{this.closeButtonNode=e},this.afterCreatePickList=e=>{this.pickListNode=e},this.afterCreatePickListItem=e=>{e.addEventListener("calciteListItemChange",(e=>{this.handleCalciteListItemChange(e)}))},this.afterCreatePickListItemAttachments=e=>{e.addEventListener("calciteListItemChange",(e=>{this.handleCalciteAttachmentsItemChange(e)}))},this.handleCloseClick=()=>{this.arcgisTableFieldSelectionClose.emit()},this.props=void 0,this.columnTemplates=void 0,this.attachmentsEnabled=!1,this.popoverReferenceElement=void 0,this.sortBy=void 0,this.strings=void 0,this.currentLanguage=void 0,this.reRender=!1,this.lastSortBy=r.L.display,this.filterFields=null,this.isOpen=!1}async reposition(){var e;null===(e=this.popoverNode)||void 0===e||e.reposition()}async componentWillLoad(){const{layer:e}=this.props;this.fieldsMap=await(0,n.e)(e),this.totalCounts=this.getTotalFieldTypeCount(),this.lastSortBy=this.sortBy||r.L.default}componentDidLoad(){this.reposition(),this.isOpen=!0,setTimeout((()=>requestAnimationFrame((()=>this.closeButtonNode.setFocus()))),200)}render(){const{strings:e,popoverReferenceElement:t}=this;return(0,l.h)(l.H,{key:"cdf095cd57f46cad0125e20d96bfd76294c32d05",class:"js-app-flyout"},(0,l.h)("calcite-popover",{key:"99dc140b21605e38cc817272622a4e1e22a52fec",placement:"leading",dir:document.dir,open:this.isOpen,pointerDisabled:!0,referenceElement:t,offsetDistance:-48,offsetSkidding:0,class:k,label:"",ref:this.afterCreatePopover},(0,l.h)("calcite-flow",{key:"b1a19671d5856aafe4857e9a3cbfe37706363dd4",class:w,ref:this.afterCreateFlow},(0,l.h)("calcite-flow-item",{key:"fae0270110899bbc4858538cc429790a869cf541",heading:e.fieldVisibility,ref:this.afterCreateFlowItem},this.renderCloseButton(),this.renderDoneButton(),this.renderPickList()))))}renderCloseButton(){const{strings:e}=this;return(0,l.h)("calcite-action",{text:e.close,scale:"s",slot:"header-actions-end",onClick:this.handleCloseClick,icon:"x",ref:this.afterCreateCloseButton})}renderDoneButton(){const{strings:e}=this;return(0,l.h)("calcite-button",{appearance:"outline-fill",scale:"m",slot:"footer",width:"full",onClick:this.handleCloseClick,label:e.done},e.done)}renderPickList(){const{strings:e}=this;return(0,l.h)("calcite-pick-list",{class:"content","drag-enabled":!1,multiple:!0,filterEnabled:!0,filterPlaceholder:e.filterFields,ref:this.afterCreatePickList,onCalciteListFilter:e=>{const t=e.target;this.filterFields=t.filteredItems}},this.renderSelection(),this.renderSort(),this.renderPickListItems(),this.renderAttachmentPickListItem())}renderSelection(){const{filterFields:e,strings:t}=this,i=this.filterContainsAll();return(0,l.h)("calcite-button",{key:`${e}`,class:E,appearance:"transparent",scale:"s",width:"full",onClick:()=>this.handleSelectionAllClick(i),label:i?t.deselectAll:t.selectAll},i?t.deselectAll:t.selectAll)}renderSort(){const{lastSortBy:e,totalCounts:t,strings:i}=this;let s=t.number>0,a=t.string>0,o=t.date>0,n=!(!s||!a&&!o)||!(!a||!o);return(0,l.h)("calcite-dropdown",{slot:"menu-actions",placement:"bottom-end",overlayPositioning:"fixed"},(0,l.h)("calcite-action",{slot:"trigger",text:i.sortFields,label:i.sortFields,"aria-label":i.sortFields},(0,l.h)("calcite-icon",{scale:"s",icon:"sortDescending"})),(0,l.h)("calcite-dropdown-group",{"group-title":i.sortBy},(0,l.h)("calcite-dropdown-item",{selected:e===r.L.default,onClick:()=>{this.lastSortBy=r.L.default,this.fieldSortByChange.emit(this.lastSortBy)}},i.default),(0,l.h)("calcite-dropdown-item",{selected:e===r.L.display,onClick:()=>{this.lastSortBy=r.L.display,this.fieldSortByChange.emit(this.lastSortBy)}},i.sortByDisplayName),n?(0,l.h)("calcite-dropdown-item",{selected:e===r.L.type,onClick:()=>{this.lastSortBy=r.L.type,this.fieldSortByChange.emit(this.lastSortBy)}},i.sortByType):null,(0,l.h)("calcite-dropdown-item",{selected:e===r.L.field,onClick:()=>{this.lastSortBy=r.L.field,this.fieldSortByChange.emit(this.lastSortBy)}},i.sortByFieldName)))}renderPickListItems(){const{lastSortBy:e}=this;let t=this.cloneFieldTemplates();return e===r.L.display?t=this.sortFieldsAlphabetically(t):e===r.L.type?t=this.sortFieldsByType(this.sortFieldsAlphabetically(t)):e===r.L.field&&t.sort(((e,t)=>e.fieldName.localeCompare(t.fieldName))),t.map((e=>this.renderPickListItem(e)))}renderPickListItem(e){const{strings:t,filterFields:i}=this;let s=!1;return i&&!i.some((t=>t.value===e.fieldName))&&(s=!0),(0,l.h)("calcite-pick-list-item",{key:e.fieldName,label:e.label,value:e.fieldName,selected:e.visible,hidden:s,ref:this.afterCreatePickListItem},(0,l.h)("calcite-action",{slot:"actions-end",text:t.info,onClick:t=>{t.stopPropagation(),this.handleInfoClick(e,t.target)}},(0,l.h)("calcite-icon",{scale:"s",icon:"information"})))}renderAttachmentPickListItem(){const{layer:e}=this.props,{strings:t,attachmentsEnabled:i}=this;return"imagery"===e.type?null:"feature"!==e.type||f(e)?(0,l.h)("calcite-pick-list-item",{key:"attachments",label:t.photosAndFiles,description:t.attachments,value:"__attachments",selected:i,hidden:!1,ref:this.afterCreatePickListItemAttachments}):null}handleSelectionAllClick(e){const{columnTemplates:t,filterFields:i}=this;t.forEach((t=>{i&&!i.some((e=>e.value===t.fieldName))||(t.visible=!e)})),this.pickListNode.querySelectorAll("calcite-pick-list-item").forEach((t=>{i&&!i.some((e=>e.value===t.getAttribute("value")))||(e?t.removeAttribute("selected"):t.setAttribute("selected","true"))})),this.reRender=!this.reRender}handleCalciteListItemChange({detail:{value:e,selected:t}}){const{columnTemplates:i}=this;i.forEach((i=>{i.fieldName===e&&(i.visible=t)})),this.waitHandler&&clearTimeout(this.waitHandler),this.waitHandler=setTimeout((()=>{this.waitHandler=null,this.columnTemplatesChange.emit(this.cloneFieldTemplates()),this.reRender=!this.reRender}),100)}handleCalciteAttachmentsItemChange({detail:{selected:e}}){this.attachmentsChange.emit(e),this.attachmentsEnabled=e}handleInfoClick(e,t){var i;const{layer:l,view:s}=this.props,{flowNode:a,firstPanelNode:o,currentLanguage:n}=this,r=o.getBoundingClientRect(),c=document.createElement("arcgis-field-info");c.lang=n,c.fieldName=e.fieldName,c.layer=l,c.view=s,c.className=I;const d=document.createElement("calcite-flow-item");d.heading=null!==(i=e.label)&&void 0!==i?i:e.fieldName,d.description=e.fieldName,d.style.height=`${r.height}px`,d.style.width=`${r.width}px`,d.appendChild(c),d.addEventListener("calciteFlowItemBack",(()=>requestAnimationFrame((()=>t.setFocus())))),a.appendChild(d),setTimeout((()=>d.setFocus()),200),this.reposition()}cloneFieldTemplates(){return this.columnTemplates.map((e=>({fieldName:e.fieldName,label:e.label,type:e.type,visible:e.visible,format:e.format,menuConfig:e.menuConfig})))}filterContainsAll(){const{columnTemplates:e,filterFields:t,attachmentsEnabled:i}=this;if(t){const l=t.filter((e=>"__attachments"!==e.value)).map((e=>({value:e.value,selected:e.selected}))),s=e.filter((e=>l.some((t=>e.fieldName===t.value))));let a=t.length!==l.length;return l.every((e=>!s.some((t=>t.fieldName===e.value&&!t.visible))))&&(a&&i||!a)}return!e.some((e=>!e.visible))}getTotalFieldTypeCount(){const{columnTemplates:e,fieldsMap:t}=this,i={string:0,number:0,date:0};return e.forEach((e=>{switch(t.get(e.fieldName).type){case"small-integer":case"big-integer":case"integer":case"single":case"double":case"long":case"oid":case"guid":i.number++;break;case"string":i.string++;break;case"date":case"date-only":case"time-only":case"timestamp-offset":i.date++}})),i}sortFieldsAlphabetically(e){return e.sort(((e,t)=>"_"===e.label.charAt(0)?1:"_"===t.label.charAt(0)?-1:e.label.localeCompare(t.label)))}sortFieldsByType(e){const{fieldsMap:t}=this;return e.filter((e=>["small-integer","big-integer","integer","single","double","long"].indexOf(t.get(e.fieldName).type)>-1)).map((e=>e)).concat(e.filter((e=>"string"===t.get(e.fieldName).type)).map((e=>e))).concat(e.filter((e=>["date","date-only","time-only","timestamp-offset"].indexOf(t.get(e.fieldName).type)>-1)).map((e=>e))).concat(e.filter((e=>"oid"===t.get(e.fieldName).type)).map((e=>e))).concat(e.filter((e=>"guid"===t.get(e.fieldName).type)).map((e=>e))).concat(e.filter((e=>-1===["small-integer","big-integer","integer","single","double","long","string","date","date-only","time-only","timestamp-offset","oid","guid"].indexOf(t.get(e.fieldName).type))).map((e=>e)))}get hostElement(){return(0,l.d)(this)}};F.style=".flow{max-height:400px;width:280px}.content{max-height:80vh}.info{background-color:#ffffff}.select-button{margin:4px 0}"},81232:(e,t,i)=>{var l;function s(e){return null!=e}function a(e,t){for(;e;){if(e.nodeName===t.toUpperCase())return!0;e=e.parentElement}return!1}i.d(t,{a:()=>s,i:()=>a,s:()=>l}),function(e){e.SMALL="s",e.MEDIUM="m",e.LARGE="l"}(l||(l={}))}}]);