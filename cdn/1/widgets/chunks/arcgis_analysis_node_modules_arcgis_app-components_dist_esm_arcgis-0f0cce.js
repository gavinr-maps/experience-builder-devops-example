/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0f0cce.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0f0cce"],{99004:(t,e,n)=>{n.d(e,{c:()=>i,g:()=>s});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},49486:(t,e,n)=>{n.r(e),n.d(e,{arcgis_time_slider_config_time_interval:()=>a});var i=n(7263),s=n(77344);n(11935),n(1991),n(77040),n(28926),n(70506),n(99004);const o="time-interval",r={base:o,interval:`${o}__interval`,intervalLength:`${o}__interval-length`,intervalLengthCount:`${o}__interval-length-count`,intervalLengthUnit:`${o}__interval-length-unit`,stopsCount:`${o}__stops-count`,disabled:`${o}__disabled`},a=class{constructor(t){(0,i.r)(this,t),this.arcgisIntervalStopsChange=(0,i.c)(this,"arcgisIntervalStopsChange",7),this._onTimeIntervalTypeChange=t=>{const e=t.target,n=null==e?void 0:e.value;"length"===n&&(this.useStopsByCount=!1),"interval"===n&&(this.useStopsByCount=!0),this._emitIntervalChangedEvent()},this._onTimeIntervalCountChange=t=>{var e;const n=t.target,i=Number.parseInt(null==n?void 0:n.value,10);(null===(e=this._stopsByCount)||void 0===e?void 0:e.count)!==i&&(isNaN(i)?this._stopsByCount={count:s.n}:(this._validateStopsCount(i),this._stopsCountIsInvalid||(this._stopsByCount={count:i})),this._emitIntervalChangedEvent())},this._onTimeIntervalLengthChange=t=>{var e,n,i;const s=t.target,o=Number.parseInt(null==s?void 0:s.value,10),r=null!==(n=null===(e=this._stopsByLength)||void 0===e?void 0:e.unit)&&void 0!==n?n:null===(i=this._defaultStopsByLength)||void 0===i?void 0:i.unit;this._updateIntervalLength(o,r)},this._onTimeIntervalLengthUnitChange=t=>{var e,n,i,s;const o=t.target.value;if((null===(e=this._stopsByLength)||void 0===e?void 0:e.unit)===o)return;const r=null!==(i=null===(n=this._stopsByLength)||void 0===n?void 0:n.value)&&void 0!==i?i:null===(s=this._defaultStopsByLength)||void 0===s?void 0:s.value;this._stopsByLength={value:r,unit:o},this._emitIntervalChangedEvent()},this.stops=void 0,this.fullTimeExtent=void 0,this.timeSliderEnabled=void 0,this.useStopsByCount=void 0,this._stopsByLength=void 0,this._stopsByCount=void 0,this._stopsCountIsInvalid=void 0}watchFullTimeExtentHandler(){this._initializeIntervalSettings()}get strings(){return null===s.t||void 0===s.t?void 0:s.t.strings}async componentWillLoad(){this._initializeIntervalSettings()}async componentDidLoad(){}render(){return(0,i.h)("div",{key:"81314ef3247ebea04910ca92d812fd4ac186afd8",class:`${r.base} ${this.timeSliderEnabled?"":r.disabled}`},this._renderIntervalSettingsByLength(),this._renderIntervalSettingsByEqualStepsCount())}_initializeIntervalSettings(){var t,e,n,i,o,r,a,l;this._stopsCountIsInvalid=!1,this._defaultStopsByLength=(0,s.o)(this.fullTimeExtent),this._stopsByCount=(null===(t=this.stops)||void 0===t?void 0:t.count)?this.stops:null,this._stopsByLength=(null===(n=null===(e=this.stops)||void 0===e?void 0:e.interval)||void 0===n?void 0:n.unit)?null===(i=this.stops)||void 0===i?void 0:i.interval:null,this.useStopsByCount=!this._stopsByLength,this.useStopsByCount||null!=(null===(o=this._stopsByLength)||void 0===o?void 0:o.unit)&&null!=(null===(r=this._stopsByLength)||void 0===r?void 0:r.value)||this._updateIntervalLength(null===(a=this._defaultStopsByLength)||void 0===a?void 0:a.value,null===(l=this._defaultStopsByLength)||void 0===l?void 0:l.unit)}_renderIntervalSettingsByLength(){var t,e,n;const{_defaultStopsByLength:o,_stopsByLength:a}=this,l=null!=a?a:o,u=null!==(t=null==a?void 0:a.unit)&&void 0!==t?t:null===(e=this._defaultStopsByLength)||void 0===e?void 0:e.unit,d=(0,s.q)();return(0,i.h)(i.F,null,(0,i.h)("calcite-label",{layout:"inline"},(0,i.h)("calcite-radio-button",{name:"time-interval",value:"length",checked:!this.useStopsByCount,disabled:!this.timeSliderEnabled,onCalciteRadioButtonChange:this._onTimeIntervalTypeChange,"data-testId":"arcgis-time-slider-config-radio-stops-by-length"}),this.strings.timeInterval.lengthPerInterval),!this.useStopsByCount&&(0,i.h)("div",{class:r.intervalLength},(0,i.h)("calcite-label",{class:r.intervalLengthCount},this.strings.timeInterval.count,(0,i.h)("calcite-input-number",{min:1,step:1,value:null===(n=null==l?void 0:l.value)||void 0===n?void 0:n.toString(),onCalciteInputNumberChange:this._onTimeIntervalLengthChange,disabled:!this.timeSliderEnabled,"data-testId":"arcgis-time-slider-config-steps-length"})),(0,i.h)("calcite-label",{class:r.intervalLengthUnit},this.strings.timeInterval.unit,(0,i.h)("calcite-select",{key:"unit-select",label:this.strings.timeInterval.unit,onCalciteSelectChange:this._onTimeIntervalLengthUnitChange,disabled:!this.timeSliderEnabled,"data-testId":"arcgis-time-slider-config-steps-length-unit"},this._renderUnitOptions(d,u)))))}_renderIntervalSettingsByEqualStepsCount(){var t,e;const{_stopsByCount:n}=this,o=this._stopsCountIsInvalid?this._getStopsCountValidationMessage():null;return(0,i.h)(i.F,null,(0,i.h)("calcite-label",{layout:"inline"},(0,i.h)("calcite-radio-button",{name:"time-interval",value:"interval",checked:this.useStopsByCount,onCalciteRadioButtonChange:this._onTimeIntervalTypeChange,disabled:!this.timeSliderEnabled,"data-testId":"arcgis-time-slider-config-radio-stops-by-count"}),this.strings.timeInterval.lengthPerStep),this.useStopsByCount&&(0,i.h)("calcite-label",{class:r.stopsCount},this.strings.timeInterval.count,(0,i.h)("calcite-input-number",{min:1,max:s.p,step:1,value:null!==(e=null===(t=null==n?void 0:n.count)||void 0===t?void 0:t.toString())&&void 0!==e?e:s.n.toString(),onCalciteInputNumberChange:this._onTimeIntervalCountChange,disabled:!this.timeSliderEnabled,"data-testId":"arcgis-time-slider-config-count",status:this._stopsCountIsInvalid?"invalid":"valid",validationMessage:o,validationIcon:this._stopsCountIsInvalid?"exclamation-mark-triangle":null})))}_renderUnitOptions(t,e){return null==t?void 0:t.map((t=>(0,i.h)("calcite-option",{key:t,value:t,selected:t===e,disabled:!this.timeSliderEnabled},this.strings.timeInterval.timeUnits[t])))}_updateIntervalLength(t,e){var n;(null===(n=this._stopsByLength)||void 0===n?void 0:n.value)!==t&&(isNaN(t)?this._stopsByLength=this._defaultStopsByLength:this._stopsByLength={value:t,unit:e},this._emitIntervalChangedEvent())}_emitIntervalChangedEvent(){var t,e;if(this.useStopsByCount){const e=null!==(t=this._stopsByCount)&&void 0!==t?t:{count:s.n};this.arcgisIntervalStopsChange.emit(e)}else{const t=null!==(e=this._stopsByLength)&&void 0!==e?e:this._defaultStopsByLength;this.arcgisIntervalStopsChange.emit({interval:t})}}_validateStopsCount(t){this._stopsCountIsInvalid=t>s.p||t<1}_getStopsCountValidationMessage(){return this.strings.timeInterval.countValidation.replace("${maxCount}",(s.p+1).toString())}get el(){return(0,i.d)(this)}static get watchers(){return{fullTimeExtent:["watchFullTimeExtentHandler"]}}};a.style=":host{height:100%;width:100%}.time-interval{margin:0 var(--arcgis-app-side-spacing-quarter);padding:var(--arcgis-app-cap-spacing-quarter) var(--arcgis-app-side-spacing-quarter)}.time-interval__interval{display:flex}.time-interval__interval-length{display:flex}.time-interval__interval-length-count{padding-inline-end:var(--arcgis-app-side-spacing-quarter);width:50%}.time-interval__stops-count{width:50%}.time-interval__interval-length-unit{width:50%}.time-interval__disabled{--calcite-color-text-1:var(--calcite-color-border-ghost)}"},70506:(t,e,n)=>{n.d(e,{e:()=>o});var i,s=n(99004),o={exports:{}};i=o.exports,s.c,function(t){var e={Promise:"undefined"!=typeof window?window.Promise:void 0},n="4.24",i="next";function s(t){if(t.toLowerCase()===i)return i;var e=t&&t.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function o(t){return void 0===t&&(t=n),"https://js.arcgis.com/".concat(t,"/")}function r(t){void 0===t&&(t=n);var e=o(t),r=s(t);if(r!==i&&3===r.major){var a=r.minor<=10?"js/":"";return"".concat(e).concat(a,"esri/css/esri.css")}return"".concat(e,"esri/themes/light/main.css")}function a(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e}function l(t,e){if(e){var n=document.querySelector(e);n.parentNode.insertBefore(t,n)}else document.head.appendChild(t)}function u(t){return document.querySelector('link[href*="'.concat(t,'"]'))}function d(t){return!t||s(t)?r(t):t}function v(t,e){var n=d(t),i=u(n);return i||l(i=a(n),e),i}var c={};function h(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e.setAttribute("data-esri-loader","loading"),e}function g(t,e,n){var i;n&&(i=p(t,n));var s=function(){e(t),t.removeEventListener("load",s,!1),i&&t.removeEventListener("error",i,!1)};t.addEventListener("load",s,!1)}function p(t,e){var n=function(i){e(i.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",n,!1)};return t.addEventListener("error",n,!1),n}function m(t){void 0===t&&(t={}),c=t}function f(){return document.querySelector("script[data-esri-loader]")}function _(){var t=window.require;return t&&t.on}function y(t){void 0===t&&(t={});var n={};[c,t].forEach((function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}));var i=n.version,s=n.url||o(i);return new e.Promise((function(t,e){var o=f();if(o){var r=o.getAttribute("src");r!==s?e(new Error("The ArcGIS API for JavaScript is already loaded (".concat(r,")."))):_()?t(o):g(o,t,e)}else if(_())e(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=n.css;a&&v(!0===a?i:a,n.insertCssBefore),g(o=h(s),(function(){o.setAttribute("data-esri-loader","loaded"),t(o)}),e),document.body.appendChild(o)}}))}function I(t){return new e.Promise((function(e,n){var i=window.require.on("error",n);window.require(t,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i.remove(),e(t)}))}))}function C(t,e){if(void 0===e&&(e={}),_())return I(t);var n=f(),i=n&&n.getAttribute("src");return!e.url&&i&&(e.url=i),y(e).then((function(){return I(t)}))}t.utils=e,t.loadModules=C,t.getScript=f,t.isLoaded=_,t.loadScript=y,t.setDefaultOptions=m,t.loadCss=v,Object.defineProperty(t,"__esModule",{value:!0})}(i)},11935:(t,e,n)=>{n.d(e,{c:()=>l});var i=n(7263);const s=t=>!("isConnected"in t)||t.isConnected,o=((t,e)=>{let n;return(...i)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,t(...i)}),e)}})((t=>{for(let e of t.keys())t.set(e,t.get(e).filter(s))}),2e3),r=t=>"function"==typeof t?t():t,a=(t,e)=>{const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.length--)},l=(t,e)=>{const n=((t,e=((t,e)=>t!==e))=>{const n=r(t);let i=new Map(Object.entries(null!=n?n:{}));const s={dispose:[],get:[],set:[],reset:[]},o=()=>{var e;i=new Map(Object.entries(null!==(e=r(t))&&void 0!==e?e:{})),s.reset.forEach((t=>t()))},l=t=>(s.get.forEach((e=>e(t))),i.get(t)),u=(t,n)=>{const o=i.get(t);e(n,o,t)&&(i.set(t,n),s.set.forEach((e=>e(t,n,o))))},d="undefined"==typeof Proxy?{}:new Proxy(n,{get:(t,e)=>l(e),ownKeys:t=>Array.from(i.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>i.has(e),set:(t,e,n)=>(u(e,n),!0)}),v=(t,e)=>(s[t].push(e),()=>{a(s[t],e)});return{state:d,get:l,set:u,on:v,onChange:(e,n)=>{const i=v("set",((t,i)=>{t===e&&n(i)})),s=v("reset",(()=>n(r(t)[e])));return()=>{i(),s()}},use:(...t)=>{const e=t.reduce(((t,e)=>(e.set&&t.push(v("set",e.set)),e.get&&t.push(v("get",e.get)),e.reset&&t.push(v("reset",e.reset)),e.dispose&&t.push(v("dispose",e.dispose)),t)),[]);return()=>e.forEach((t=>t()))},dispose:()=>{s.dispose.forEach((t=>t())),o()},reset:o,forceUpdate:t=>{const e=i.get(t);s.set.forEach((n=>n(t,e,e)))}}})(t,e);return n.use((()=>{if("function"!=typeof i.g)return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const n=(0,i.g)();n&&((t,e,n)=>{const i=t.get(e);i?i.includes(n)||i.push(n):t.set(e,[n])})(t,e,n)},set:e=>{const n=t.get(e);n&&t.set(e,n.filter(i.f)),o(t)},reset:()=>{t.forEach((t=>t.forEach(i.f))),o(t)}}})()),n}},28926:(t,e,n)=>{n.d(e,{l:()=>s});var i=n(70506);const s=async(t,e)=>(await i.e.exports.loadModules(t,e)).map((t=>t.__esModule&&t.default?t.default:t))},77344:(t,e,n)=>{n.d(e,{a:()=>d,b:()=>m,c:()=>T,d:()=>l,e:()=>I,f:()=>y,g:()=>S,h:()=>c,i:()=>f,j:()=>v,k:()=>h,l:()=>_,m:()=>a,n:()=>r,o:()=>p,p:()=>u,q:()=>g,t:()=>b});var i=n(11935),s=n(1991);const o=[{value:"centuries",appliesTo:["centuries"]},{value:"decades",appliesTo:["centuries","decades"]},{value:"years",appliesTo:["centuries","decades","years"]},{value:"months",appliesTo:["decades","years","months","months-hours"]},{value:"weeks",appliesTo:["years","months","weeks","months-hours"]},{value:"days",appliesTo:["months","weeks","days","months-hours"]},{value:"hours",appliesTo:["weeks","days","hours","months-hours"]},{value:"minutes",appliesTo:["days","hours","minutes","seconds"]},{value:"seconds",appliesTo:["hours","minutes","seconds"]}],r=10,a=6e4,l=2e3,u=9999;function d(t,e){const n=null==t?void 0:t.start,i=null==t?void 0:t.end,s=null==e?void 0:e.start,o=null==e?void 0:e.end,r=n&&s&&(null==n?void 0:n.getTime())===(null==s?void 0:s.getTime()),a=i&&o&&(null==i?void 0:i.getTime())==(null==o?void 0:o.getTime());return!(n&&s||!a)||(!(i&&o||!r)||r&&a)}function v(t){if(!t)return null;const e=new Date(t.getTime()),n=e.getFullYear();let i=""+(e.getMonth()+1),s=""+e.getDate();return i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),[n,i,s].join("-")}function c(t,e){if(!t)return null;const n=t?t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",timeZone:"system"!==e&&"unknown"!==e?e:void 0}):"00:00:00";return 0===t.getHours()||n.indexOf("24:")>-1?n.replace("24:","00:"):n}function h(t,e,n){const i=function(t,e,n){if(n&&"system"!==n&&"unknown"!==n){const i=new Date(e.toLocaleString("en-US",{timeZone:n})),s=i.getTime()-e.getTime(),o=t.split(":")||["00","00"],r=parseInt(o[0]),a=parseInt(o[1]),l=parseInt(o[2]);return i.setHours(r),i.setMinutes(a),i.setSeconds(l),new Date(i.getTime()-s).toLocaleString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}return t}(e,t,n),s=i&&i.split(":")||["00","00","00"],o=s.length>0?parseInt(s[0]):0,r=s.length>1?parseInt(s[1]):0,a=s.length>2?parseInt(s[2]):0;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),o,r,a)}function g(){return o.map((t=>t.value))}function p(t){const e=r,n=((null==t?void 0:t.end.getTime())-(null==t?void 0:t.start.getTime()))/e,i=31104e8;if(n>i)return C(n,i,"centuries");const s=31104e7;if(n>s)return C(n,s,"decades");const o=31104e6;if(n>o)return C(n,o,"years");const a=2592e6;if(n>a)return C(n,a,"months");const l=6048e5;if(n>l)return C(n,l,"weeks");const u=864e5;if(n>u)return C(n,u,"days");const d=36e5;if(n>d)return C(n,d,"hours");if(n>6e4)return C(n,6e4,"minutes");return n>1e3?C(n,1e3,"seconds"):C(n,1,"minutes")}function m(t,e){if(t&&e){const n=t.interval&&e.interval,i=t.count&&e.count;return!(!n&&!i)&&(!(!n||t.interval.value!==e.interval.value||t.interval.unit!==e.interval.unit)||!(!i||t.count!==e.count))}return!1}function f(t){var e,n,i,s;return _(t)&&t.useViewTime&&(null===(n=null===(e=null==t?void 0:t.timeInfo)||void 0===e?void 0:e.fullTimeExtent)||void 0===n?void 0:n.start)&&!isNaN(t.timeInfo.fullTimeExtent.start.getTime())&&(null===(s=null===(i=null==t?void 0:t.timeInfo)||void 0===i?void 0:i.fullTimeExtent)||void 0===s?void 0:s.end)&&!isNaN(t.timeInfo.fullTimeExtent.end.getTime())}function _(t){return"useViewTime"in t&&"timeInfo"in t}function y(t){var e,n,i,o,r,a;return I(t)&&(0,s.i)(null===(e=t.visibilityTimeExtent)||void 0===e?void 0:e.start)&&(0,s.i)(null===(n=t.visibilityTimeExtent)||void 0===n?void 0:n.end)&&!isNaN(null===(o=null===(i=null==t?void 0:t.visibilityTimeExtent)||void 0===i?void 0:i.start)||void 0===o?void 0:o.getTime())&&!isNaN(null===(a=null===(r=null==t?void 0:t.visibilityTimeExtent)||void 0===r?void 0:r.end)||void 0===a?void 0:a.getTime())}function I(t){return"visibilityTimeExtent"in t}function C(t,e,n){return{value:Math.round(t/e),unit:n}}function S(t){var e,n;return!(0,s.i)(t.start)&&(0,s.i)(t.end)?"cumulative-from-start":(null===(e=t.start)||void 0===e?void 0:e.getTime())===(null===(n=t.end)||void 0===n?void 0:n.getTime())?"instant":"time-window"}const b=(0,i.c)({isRTL:!1}).state;function T(t){t.view=void 0,t.fullTimeExtent=void 0,t.timeDisplayMode="time-window",t.stops=void 0,t.timeSliderEnabled=!1,t.playRate=l}}}]);