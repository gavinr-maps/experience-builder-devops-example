/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-categor-c041ab.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-categor-c041ab"],{30637:(e,t,o)=>{o.r(t),o.d(t,{arcgis_category_tree:()=>i});var a=o(7263),r=o(29259);const i=class{constructor(e){(0,a.r)(this,e),this.arcgisCategorizeCategorySelected=(0,a.c)(this,"arcgisCategorizeCategorySelected",7),this.renderCategory=(e,t)=>{const{categorySelectionState:o,rootCategoryPath:i}=this,{title:n,categories:c}=e,l=t===i,s=(0,r.b)(t,e,!1),g=o[s]||"none";return(0,a.h)("li",{class:"category-row",key:s},!l&&(0,a.h)("calcite-label",{class:"category",layout:"inline"},(0,a.h)("calcite-checkbox",{checked:"none"!==g,indeterminate:"some"===g,scale:"m",onCalciteCheckboxChange:()=>this.arcgisCategorizeCategorySelected.emit("none"===g?{paths:[s],selected:!0}:{paths:Object.keys(o).filter((e=>e.startsWith(s))),selected:!1})}),(0,a.h)("calcite-chip",{value:n},n)),(null==c?void 0:c.length)>0&&(0,a.h)("ul",{class:{"subcategory-container":!0,"subcategory-container--root":l}},c.map((e=>this.renderCategory(e,s)))))},this.categorySchema=void 0,this.categorySelectionCountMap=void 0,this.total=void 0,this.rootCategoryPath=r.U,this.categorySelectionState={}}handleCountMapChange(){const{categorySelectionCountMap:e}=this,t={};Object.keys(e).filter((t=>e[t].length)).forEach((o=>{var a;const r=(null===(a=e[o])||void 0===a?void 0:a.length)||0,i=r?r===this.total?"all":"some":"none";t[o]=i;let n="";o.split("/").filter(Boolean).forEach((e=>{if(n=`${n}/${e}`,"none"===i)return;const o=t[n];t[n]="all"===o?"all":i}))})),this.categorySelectionState=t}componentWillLoad(){this.handleCountMapChange()}render(){const{renderCategory:e,categorySchema:t,rootCategoryPath:o}=this;return(0,a.h)("div",{key:"7833bae90954333cae62d630b843c6b79e8eda16",class:"category-container",slot:"filters"},e({title:"",categories:t},o))}get el(){return(0,a.d)(this)}static get watchers(){return{categorySelectionCountMap:["handleCountMapChange"]}}};i.style=".category-container{background-color:var(--calcite-color-foreground-1);width:-moz-fit-content;width:fit-content;padding:1rem}.category-row{list-style-type:none}.category-row:not(:last-child){margin-bottom:0.25rem}.subcategory-container{list-style-type:none;padding-inline-start:1rem;padding-top:0.5rem;margin-top:0px;margin-bottom:0px;margin-inline-start:0.375rem;border-left:1px solid var(--calcite-color-border-2)}.subcategory-container--root{margin-left:0px;margin-right:0px;padding-left:0px;padding-right:0px;padding-top:0px;border-width:0px}.category{display:flex;align-items:center;--calcite-label-margin-bottom:0}"},29259:(e,t,o)=>{o.d(t,{U:()=>a,a:()=>n,b:()=>r,g:()=>i});const a="/Categories",r=(e,t,o=!0)=>{const a=null!=e?e:"";return`${a}${a.endsWith("/")?"":"/"}${o?t.title.toLocaleLowerCase():t.title}`};function i(e){var t;let o=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.title;return o&&"/"!==o.charAt(0)&&(o=`/${o}`),o||a}const n=(e,t)=>`${e.replace(/\/([^\/]+)$/,`/${t}`)}`}}]);