/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c78b38.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c78b38"],{10873:(e,t,i)=>{i.r(t),i.d(t,{arcgis_workflow:()=>r});var a=i(7263),o=i(11246),n=i(62159),s=i(91253);i(78613),i(58233),i(28926),i(70506),i(99004),i(11935);const r=class{constructor(e){(0,a.r)(this,e),this.arcgisWorkflowUpdatePage=(0,a.c)(this,"arcgisWorkflowUpdatePage",7),this.arcgisWorkflowCancel=(0,a.c)(this,"arcgisWorkflowCancel",7),this.arcgisWorkflowComplete=(0,a.c)(this,"arcgisWorkflowComplete",7),this.showBackButton=!1,this.workflowCompleted=!1,this.toggleFooterVisibility=e=>{var t;const i=null===(t=this.modalRef)||void 0===t?void 0:t.shadowRoot;if(i){const t=i.querySelector(".footer"),a=i.querySelector(".content");t&&a&&(t.style.display=e?"flex":"none")}},this.closeDialog=()=>{!this.workflowCompleted&&this.handleCancel(),this.workflowCompleted=!1,this.pageHistory=[this.firstPage],this.isActive=!1},this.handleCancel=async()=>{this.arcgisWorkflowCancel.emit()},this.firstPage=void 0,this.isActive=!0,this.headerText="",this.primaryButtonText=void 0,this.loadingText=void 0,this.pageHistory=[],this.navEnabled=!0,this.cancelAndCloseButtonsEnabled=!0,this.transition=void 0,this.isLoading=!1,this.padded=!0,this.error=null}handleRedirect(){this.isActive=!1}handleWorkflowComplete(){this.workflowCompleted=!0,this.isActive=!1}toggleNavigationEnabled(e){this.navEnabled=e.detail}toggleCloseButtonEnabled(e){this.cancelAndCloseButtonsEnabled=e.detail}changePrimaryButtonText(e){this.primaryButtonText=e.detail}configureModal(e){const{padded:t,footerVisible:i}=e.detail;this.padded=t,this.toggleFooterVisibility(i)}async goToNextPage(e){this.pageHistory=[...this.pageHistory,e.detail],await this.transitionPage("forward")}async goToPreviousPage(){await this.transitionPage("back")}reportError({detail:e}){this.error=e}triggerPageTransition(e){var t;const i=new CustomEvent(e,{cancelable:!0});(null===(t=this.currentPageEl)||void 0===t?void 0:t.dispatchEvent(i))&&"arcgisWorkflowPagePrevious"===e&&this.goToPreviousPage()}async transitionPage(e){var t,i;null!==(t=this.primaryButtonText)&&void 0!==t||(this.primaryButtonText=this.i18n.next),this.transition=e,await(0,o.t)(200),this.transition=null,"back"===e&&(this.pageHistory=this.pageHistory.slice(0,-1));const a=new CustomEvent("arcgisTransitionComplete");null===(i=this.currentPageEl)||void 0===i||i.dispatchEvent(a),await(0,o.t)(200),this.focusFirstElement()}updateActive(e){e&&this.firstPage&&(this.pageHistory=[this.firstPage])}updateFirstPage(e){this.pageHistory=[e]}focusFirstElement(){var e,t;const i=this.currentPageEl;i&&!i.managedFocus&&(null===(t=null===(e=this.modalRef)||void 0===e?void 0:e.setFocus)||void 0===t||t.call(e))}displayPage(){const{transition:e,pageHistory:t,padded:i}=this,o="forward"===e,n="back"===e,s=n?t[t.length-2]:t[t.length-1];if(!this.isActive||!s)return;const r=`${s.element}`,l=this.currentScreen;return l&&t.length>1&&e?[(0,a.h)(l,{class:{stage:!0,"stage-anim":!0,"stage-anim--left":o,"stage-anim--right":n,padded:i}}),(0,a.h)(r,{class:{stage:!0,"stage-anim":!0,"stage-anim--left":n,"stage-anim--right":o,padded:i},ref:e=>{this.currentPageEl=e}})]:(this.currentScreen=r,(0,a.h)(r,Object.assign({},s.props,{class:{stage:!0,padded:i},ref:e=>{this.currentPageEl=e}})))}disconnectedCallback(){this.closeDialog()}async componentWillLoad(){var e;const{firstPage:t}=this,i=await(0,n.g)(this.el);s.w.i18n=i[0],s.w.lang=i[1],this.i18n=i[0],null!==(e=this.primaryButtonText)&&void 0!==e||(this.primaryButtonText=this.i18n.next),this.loadingText=this.i18n.loading,t&&(this.pageHistory=[this.firstPage])}componentWillRender(){this.showBackButton=this.pageHistory.length>1}componentDidRender(){var e;const t=null===(e=this.modalRef)||void 0===e?void 0:e.shadowRoot;if(t){const e=t.querySelector(".header");e&&(e.style.zIndex="3")}}componentDidLoad(){var e,t,i;null===(t=null===(e=this.modalRef)||void 0===e?void 0:e.setFocus)||void 0===t||t.call(e);const a=null===(i=this.modalRef)||void 0===i?void 0:i.shadowRoot.querySelector(".content");a&&(a.style.overflow="hidden")}render(){const{i18n:e,isLoading:t,loadingText:i,isActive:o,error:n}=this;return(0,a.h)(a.H,{key:"a7b824767f66b17d95d4e0e5f84a71155f5a9980"},(0,a.h)("calcite-modal",{key:"3ca4fcd4de4a0fd2273e2e230d21875b93f0c5b2",ref:e=>this.modalRef=e,open:o,onCalciteModalClose:this.closeDialog,closeButtonDisabled:!this.cancelAndCloseButtonsEnabled,outsideCloseDisabled:!0,escapeDisabled:!0},(0,a.h)("div",{key:"72325b4ef8fba2b6470896e3d42a76095b311ea9",slot:"header",class:"header"},(0,a.h)("h3",{key:"ba74a4bf73eb0b287cb8b14932d692f1ea62932d",id:"modal-title",class:"header__title"},this.headerText)),(0,a.h)("div",{key:"5be116a869728fadb0b755d2751d31421b28ffb3",slot:"content",class:"content"},t?(0,a.h)("div",{class:"stage"},(0,a.h)("arcgis-workflow-loader",{active:t,text:i})):this.displayPage()),(0,a.h)("div",{key:"b235539286d210f3b9ff898d54a99dd2407f1ed1",slot:"back"},this.showBackButton&&(0,a.h)("calcite-button",{key:"e03ba943b7f2fd60b4ef1f5b8f9709523d02fc59",appearance:"outline-fill",kind:"neutral","data-id":"backButton",onClick:()=>{this.triggerPageTransition("arcgisWorkflowPagePrevious")},width:"full",disabled:!this.navEnabled},e.back)),(0,a.h)("calcite-button",{key:"2621c2ba71624caa15ae1b233e4bb6d5fd9e0287",slot:"secondary",appearance:"outline-fill","data-id":"cancelButton",onClick:()=>{this.isActive=!1},width:"full",disabled:!this.cancelAndCloseButtonsEnabled},e.cancel),(0,a.h)("calcite-button",{key:"e3d6f6e9137f158b85524bbd5114236a578784b6",id:"primary-button",slot:"primary",appearance:"solid","data-id":"nextButton",onClick:()=>{this.triggerPageTransition("arcgisWorkflowPageNext")},width:"full",disabled:!this.navEnabled},this.primaryButtonText)),(0,a.h)("arcgis-new-item-alert",{key:"a7b28b70a34a29570ae0aeb4fbaf778fdfed1aeb",heading:null==n?void 0:n.title,description:null==n?void 0:n.description,active:!!n,link:null==n?void 0:n.link,onAlertDismiss:()=>this.error=null}))}get el(){return(0,a.d)(this)}static get watchers(){return{isActive:["updateActive"],firstPage:["updateFirstPage"]}}};r.style="calcite-modal{--calcite-modal-content-padding:0;--calcite-modal-content-background:var(--calcite-color-background);--calcite-modal-width:1080px;--calcite-modal-height:min(922px, 75vh)}:host{border:10px solid black;overflow-x:hidden}.content{height:100%;overflow-y:auto;overflow-x:hidden}.padded{padding:1rem}.stage{box-sizing:border-box;display:block;opacity:1;transition:all 200ms ease-in-out}.stage--fullscreen{overflow:auto;padding-bottom:0}.stage-anim{position:absolute;transform:translate3d(0, 0, 0)}.stage-anim--left{opacity:0;transform:translate3d(-24px, 0, 0)}.stage-anim--right{opacity:0;transform:translate3d(24px, 0, 0)}.header{display:flex;align-items:center;position:relative}.header>.icon{border-style:none;margin-left:0.5rem;margin-right:0.5rem;padding:0px;display:flex;background-color:transparent}@media screen and (max-width: 480px){.stage{padding-bottom:6rem}}.header__title{font-size:1.125rem;margin:0px;padding:0px;font-weight:500}@media screen and (max-width: 1080px){.content{height:100%}}.onboarding{--arcgis-information-min-width:0}.onboarding__scroll{overflow:auto;max-height:min(700px, 60vh)}.onboarding__section{padding-bottom:1rem;padding-top:0.5rem;width:255px}.onboarding__title{margin:0px;padding-top:0px;font-size:0.875rem;color:var(--calcite-color-text-1);font-weight:600}.onboarding__description{margin-top:0.5rem;margin-bottom:0.75rem;font-size:0.75rem;color:var(--calcite-color-text-1)}.modal--grey{--calcite-modal-content-padding:0;--calcite-modal-content-background:var(--calcite-color-background)}"},11246:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>g,c:()=>o,d:()=>a,e:()=>n,f:()=>d,g:()=>u,i:()=>s,m:()=>r,t:()=>l,u:()=>h});const a=(e,t)=>{let i,a="idle";const o=(...o)=>new Promise((n=>{switch(a){case"flushed":a="idle",i?(clearTimeout(i),n(e(...o))):n(null);break;case"invoked":clearTimeout(i),a="idle",n(e(...o));break;case"cancelled":clearTimeout(i),a="idle",n(null);break;default:i&&clearTimeout(i),a="pending",i=setTimeout((()=>(a="idle",n(e(...o)))),t)}}));return o.flush=function(...e){return a="flushed",o(...e)},o.invoke=function(...e){return a="invoked",o(...e)},o.cancel=function(...e){return a="cancelled",o(...e)},o.getStatus=function(){return a},o},o=(e,t)=>{let i;return(...a)=>new Promise((o=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,o(e(...a))}),t))}))};function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){return null!=e}async function r(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const c=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:a}=t(e);return[i,a]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function h(e,t){const i=[],a={};return e.forEach((e=>{const o=t(e);null==a[o]&&(a[o]=e,i.push(e))})),i}function g(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let a=typeof e;return a in t?!t[a].hasOwnProperty(e)&&(t[a][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,a)=>e.slice(t*a,t+t*a)))},11935:(e,t,i)=>{i.d(t,{c:()=>l});var a=i(7263);const o=e=>!("isConnected"in e)||e.isConnected,n=((e,t)=>{let i;return(...a)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,e(...a)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(o))}),2e3),s=e=>"function"==typeof e?e():e,r=(e,t)=>{const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)},l=(e,t)=>{const i=((e,t=((e,t)=>e!==t))=>{const i=s(e);let a=new Map(Object.entries(null!=i?i:{}));const o={dispose:[],get:[],set:[],reset:[]},n=()=>{var t;a=new Map(Object.entries(null!==(t=s(e))&&void 0!==t?t:{})),o.reset.forEach((e=>e()))},l=e=>(o.get.forEach((t=>t(e))),a.get(e)),c=(e,i)=>{const n=a.get(e);t(i,n,e)&&(a.set(e,i),o.set.forEach((t=>t(e,i,n))))},d="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>l(t),ownKeys:e=>Array.from(a.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>a.has(t),set:(e,t,i)=>(c(t,i),!0)}),h=(e,t)=>(o[e].push(t),()=>{r(o[e],t)});return{state:d,get:l,set:c,on:h,onChange:(t,i)=>{const a=h("set",((e,a)=>{e===t&&i(a)})),o=h("reset",(()=>i(s(e)[t])));return()=>{a(),o()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(h("set",t.set)),t.get&&e.push(h("get",t.get)),t.reset&&e.push(h("reset",t.reset)),t.dispose&&e.push(h("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),n()},reset:n,forceUpdate:e=>{const t=a.get(e);o.set.forEach((i=>i(e,t,t)))}}})(e,t);return i.use((()=>{if("function"!=typeof a.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const i=(0,a.g)();i&&((e,t,i)=>{const a=e.get(t);a?a.includes(i)||a.push(i):e.set(t,[i])})(e,t,i)},set:t=>{const i=e.get(t);i&&e.set(t,i.filter(a.f)),n(e)},reset:()=>{e.forEach((e=>e.forEach(a.f))),n(e)}}})()),i}},91253:(e,t,i)=>{i.d(t,{w:()=>a});const a=(0,i(11935).c)({portal:null,user:null,i18n:null,scale:"m",api:4,nextText:null,uploadProgress:0}).state}}]);