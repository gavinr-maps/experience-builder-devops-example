"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-037dbd"],{45511:(t,e,r)=>{function s(t){return"function"==typeof t}function n(t){const e=t((t=>{Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}r.d(e,{S:()=>I});const i=n((t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map(((t,e)=>`${e+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e}));function o(t,e){if(t){const r=t.indexOf(e);0<=r&&t.splice(r,1)}}class a{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const t of e)t.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(s(r))try{r()}catch(e){t=e instanceof i?e.errors:[e]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const e of n)try{u(e)}catch(e){t=null!=t?t:[],e instanceof i?t=[...t,...e.errors]:t.push(e)}}if(t)throw new i(t)}}add(t){var e;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof a){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&o(e,t)}remove(t){const{_finalizers:e}=this;e&&o(e,t),t instanceof a&&t._removeParent(this)}}a.EMPTY=(()=>{const t=new a;return t.closed=!0,t})();const c=a.EMPTY;function l(t){return t instanceof a||t&&"closed"in t&&s(t.remove)&&s(t.add)&&s(t.unsubscribe)}function u(t){s(t)?t():t.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},p={setTimeout(t,e,...r){const{delegate:s}=p;return(null==s?void 0:s.setTimeout)?s.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){const{delegate:e}=p;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function d(){}const b=f("C",void 0,void 0);function f(t,e,r){return{kind:t,value:e,error:r}}let v=null;function m(t){if(h.useDeprecatedSynchronousErrorHandling){const e=!v;if(e&&(v={errorThrown:!1,error:null}),t(),e){const{errorThrown:t,error:e}=v;if(v=null,t)throw e}}else t()}class g extends a{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,l(t)&&t.add(this)):this.destination=T}static create(t,e,r){return new y(t,e,r)}next(t){this.isStopped?O(function(t){return f("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?O(f("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?O(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _=Function.prototype.bind;function w(t,e){return _.call(t,e)}class S{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(t){x(t)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(t){x(t)}else x(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(t){x(t)}}}class y extends g{constructor(t,e,r){let n;if(super(),s(t)||!t)n={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let e;this&&h.useDeprecatedNextContext?(e=Object.create(t),e.unsubscribe=()=>this.unsubscribe(),n={next:t.next&&w(t.next,e),error:t.error&&w(t.error,e),complete:t.complete&&w(t.complete,e)}):n=t}this.destination=new S(n)}}function x(t){var e;e=t,p.setTimeout((()=>{const{onUnhandledError:t}=h;if(!t)throw e;t(e)}))}function O(t,e){const{onStoppedNotification:r}=h;r&&p.setTimeout((()=>r(t,e)))}const T={closed:!0,next:d,error:function(t){throw t},complete:d},E="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(t){return t}class C{constructor(t){t&&(this._subscribe=t)}lift(t){const e=new C;return e.source=this,e.operator=t,e}subscribe(t,e,r){const n=(i=t)&&i instanceof g||function(t){return t&&s(t.next)&&s(t.error)&&s(t.complete)}(i)&&l(i)?t:new y(t,e,r);var i;return m((()=>{const{operator:t,source:e}=this;n.add(t?t.call(n,e):e?this._subscribe(n):this._trySubscribe(n))})),n}_trySubscribe(t){try{return this._subscribe(t)}catch(e){t.error(e)}}forEach(t,e){return new(e=L(e))(((e,r)=>{const s=new y({next:e=>{try{t(e)}catch(t){r(t),s.unsubscribe()}},error:r,complete:e});this.subscribe(s)}))}_subscribe(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)}[E](){return this}pipe(...t){return(0===(e=t).length?k:1===e.length?e[0]:function(t){return e.reduce(((t,e)=>e(t)),t)})(this);var e}toPromise(t){return new(t=L(t))(((t,e)=>{let r;this.subscribe((t=>r=t),(t=>e(t)),(()=>t(r)))}))}}function L(t){var e;return null!==(e=null!=t?t:h.Promise)&&void 0!==e?e:Promise}C.create=t=>new C(t);const z=n((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class P extends C{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const e=new j(this,this);return e.operator=t,e}_throwIfClosed(){if(this.closed)throw new z}next(t){m((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const e of this.currentObservers)e.next(t)}}))}error(t){m((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:e}=this;for(;e.length;)e.shift().error(t)}}))}complete(){m((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:e,isStopped:r,observers:s}=this;return e||r?c:(this.currentObservers=null,s.push(t),new a((()=>{this.currentObservers=null,o(s,t)})))}_checkFinalizedStatuses(t){const{hasError:e,thrownError:r,isStopped:s}=this;e?t.error(r):s&&t.complete()}asObservable(){const t=new C;return t.source=this,t}}P.create=(t,e)=>new j(t,e);class j extends P{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:c}}class I{static getService(){return I.instance||(I.instance=new I),I.instance}constructor(){this._data=new P,this._dataStream$=this._data.asObservable(),this._subscriptions=new Map,this._dataStream$.subscribe((t=>this._onEvent(t)))}notifyDataChanged(t,e){e=Object.assign({value:null,ignoreSameValueEvent:!1},e||{});const r=this._data[t];e.ignoreSameValueEvent&&r!==e.value||(this._data[t]=e.value,this._data.next({event:t,data:this._data[t]}))}notifyDataChangedByName(t,e){if(this._subscriptions.size>0){const r=this._subscriptions.keys();let s=r.next();for(;!s.done;)-1!==s.value.indexOf(t)&&this.notifyDataChanged(s.value,e),s=r.next()}}subscribe(t,e){const r=this._subscriptions.get(t)||[];r.push(e),this._subscriptions.set(t,r);const s={};return t&&(s[t]=e),s}unSubscribe(t){if(t)for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(e&&e.length){const r=this._subscriptions.get(e)||[],s=t[e];for(let t=0;t<r.length;t++)s===r[t]&&r.splice(t,1);this._subscriptions.set(e,r),0===r.length&&this._subscriptions.delete(e)}return}}reset(){this._data=new P,this._dataStream$=this._data.asObservable(),this._subscriptions=new Map,this._dataStream$.subscribe((t=>this._onEvent(t)))}_onEvent(t){(this._subscriptions.get(t.event)||[]).forEach((e=>{e.call(null,t.data)}))}}},12542:(t,e,r)=>{r.d(e,{P:()=>n,T:()=>c});var s=r(98612);class n{static setProps(t){const e=n.paramesWhitelist;let r="";const s=window.location.hostname.match(/survey123(.*?).arcgis.com/);s&&s[1]&&["dev","qa","beta"].includes(s[1])&&(r=s[1]);const i={apiUrl:`https://survey123${r}.arcgis.com/api/featureReport`,itemId:null,token:null,outputFormat:"docx",portalUrl:"https://www.arcgis.com",locale:this.getLocale(),f:"json"};if("object"==typeof t)for(let r in t)e.indexOf(r)>=0&&(n[r]=t[r]||i[r]||t[r],"locale"===r&&t[r]&&(n[r]=this.convertToSupportedLang(t[r])));"docx"!==n.outputFormat&&"pdf"!==n.outputFormat&&(n.outputFormat="docx")}static getLocale(t){let e=(t=Object.assign({},t||{})).userInfo||{},r=t.portalInfo||{};const s=navigator.language||navigator.userLanguage;return this.convertToSupportedLang(t.userDefinedLocale)||this.convertToSupportedLang(e.culture)||this.convertToSupportedLang(r.culture)||this.convertToSupportedLang(s)||"en"}static convertToSupportedLang(t){t=((t=t||"")+"").toLowerCase();const e=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw"].find((e=>e.toLowerCase()===t||e.toLowerCase()===t.split("-")[0]));return["en-US","en-GB","en-AU","en-CA","es-ES","es-MX","it-CH","de-CH","de-AT","fr-CH"].find((e=>e.toLowerCase()===t))||e}}n.paramesWhitelist=["token","portalUrl","apiUrl","featureLayerUrl","surveyItemId","templateItemId","queryParameters","mergeFiles","outputFormat","outputReportName","outputPackageName","packageFiles","uploadInfo","webmapItemId","mapScale","locale","utcOffset","where","username","show","hide","inputFeatureTemplate","label","reportTemplateIds","clientId","requestSource"];const i="en",o=["ar","bg","bs","ca","cs","da","de","el",i,"es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","no","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw"],a=["ar","bg","bs","ca","cs","da","de","de-at","de-ch","el",i,"en-au","en-ca","en-gb","es","es-mx","et","fi","fr","fr-ch","he","hi","hr","hu","id","it","it-ch","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw"];class c{static getService(){return this.service||(this.service=new c),this.service}getTranslate(){const t=this.getSupportedLocale(n.locale||"en");return Promise.resolve(!0).then((()=>{if(this.cache&&this.cache[t])try{return JSON.parse(this.cache[t])}catch(t){return null}})).then((e=>e||fetch((0,s.g)(`./assets/i18n/${t}.json`)).then((t=>{if(!t.ok)throw new Error("could not fetch the translate json file");return t.json()})))).then((e=>{if(e){if(this.cache=this.cache||{},!this.cache[t])try{this.cache[t]=JSON.stringify(e)}catch(t){}if(n.label){const t={inputFeatures:"inputFeatures",selectTemplate:"chooseTemplateLabel1",reportSetting:"resultSettingsLabel1",fileOptions:"outputMode",reportName:"saveToAGOItemName",saveToAGSAccount:"saveToAGOFolder",outputFormat:"outputFormat",showCredits:"creditsEstimate",generateReport:"generate",previewMode:"previewReport"},r=JSON.parse(n.label);Object.keys(r).forEach((s=>{const n=r[s];"recentReports"===s&&(e.customPrint.recentTasks.label=n);const i=t[s];["inputFeatures","selectTemplate","reportSetting","fileOptions","reportName","saveToAGSAccount","outputFormat","showCredits","generateReport","previewReport"].indexOf(s)>=0&&(e.customPrint[i]=n)}))}c.currentLangObj=e}return e})).catch((t=>{throw new Error(t)}))}getTranslateSync(){return c.currentLangObj}getSupportedLocale(t,e="cldr"){const r="cldr"===e?a:o;return t?r.includes(t)?t:"nb"===(t=t.toLowerCase())?"no":"t9n"===e&&"pt"===t?"pt-br":(t.includes("-")&&(t=t.replace(/(\w+)-(\w+)/,((t,e,r)=>`${e}-${r.toUpperCase()}`)),r.includes(t)||(t=t.split("-")[0])),"zh"===t?"zh-cn":r.includes(t)?t:(console.warn(`Translations for the "${t}" locale are not available and will fall back to the default, English (en).`),i)):i}}}}]);