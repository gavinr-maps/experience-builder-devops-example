"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[2428],{32428:(e,t,i)=>{i.r(t),i.d(t,{arcgis_report_list:()=>r});var s=i(94693),o=i(9067);const r=class{constructor(e){(0,s.r)(this,e),this.reportSelected=(0,s.c)(this,"reportSelected",7),this.reportChecked=(0,s.c)(this,"reportChecked",7),this.accordionInit=(0,s.c)(this,"accordionInit",7),this._idPrefix="arcgis-report-list-",this._containerPrefix="arl-container-",this._accordionPrefix="acc-",this._itemPrefix="arl-item-",this._groupPrefix="arl-group-",this._hasSetEnv=!1,this.stSourceCountry="US",this._isInitialized=!1,this.stMultipleChoice=!1,this.stShowCheckboxes=!0,o.A._verbose=!0,this._groupId=o.a.generateId(this._groupPrefix).id,this.langCode="en-us",this.sourceCountry="US",this.stMultipleChoice=!1,this.stShowCheckboxes=!0,this.stReportList={},o.B._initialize(this.langCode),this._instanceId=o.a.generateId(this._idPrefix).id,this._infographics={MyInfographics:{dataId:2,tag:"report-my-infographics",data:void 0,accordionId:o.a.generateId(this._instanceId+this._accordionPrefix).id},EsriInfographics:{dataId:3,tag:"report-esri-infographics",data:void 0,accordionId:o.a.generateId(this._instanceId+this._accordionPrefix).id},SharedInfographics:{dataId:4,tag:"report-shared-infographics",data:void 0,accordionId:o.a.generateId(this._instanceId+this._accordionPrefix).id}},this._onChangeQueue={}}queryElementById(e){return this.el.shadowRoot.querySelector(o.A.fixId(e))}onEnvChanged(){this.stEnv=this.env,o.E.setEnvironment(this.env)}onLangCodeChanged(){this.stLangCode=this.langCode,o.B._initialize(this.stLangCode)}onSourceCountryChanged(){this.stSourceCountry=this.sourceCountry}onColorsChanged(){this.stColors=JSON.parse(this.colors)}onSelectedReportChanged(){this.stSelectedReportId=this.selectedReportId}onshowCheckboxesChanged(){this.stShowCheckboxes=this.showCheckboxes}onreportListChanged(){this.stReportList=Object.keys(this.reportList).length?JSON.parse(this.reportList):{}}async setColors(e){this.stColors=e}async initialize(e,t,i,s,r,c){const a=this;a.token=t,a.username=e,a.sourceCountry=i,a.langCode=s,a.stShowCheckboxes=r,a.stReportList=Object.keys(c).length?JSON.parse(c):{},(0,o.s)(e,t);try{let e=await(0,o.g)(i);if(e){let t,i,s;Object.keys(a.stReportList).length?(t=a.stReportList.user,i=a.stReportList.public,s=a.stReportList.shared):(t=e.user.map((e=>Object.assign(Object.assign({},e),{isChecked:!1}))),i=e.public.map((e=>Object.assign(Object.assign({},e),{isChecked:!0}))),s=e.shared.map((e=>Object.assign(Object.assign({},e),{isChecked:!1})))),this.accordionInit.emit({user:t,public:i,shared:s}),a._infographics.MyInfographics.data=t,a._infographics.EsriInfographics.data=i,a._infographics.SharedInfographics.data=s}else a._infographics.MyInfographics.data=void 0,a._infographics.EsriInfographics.data=void 0,a._infographics.SharedInfographics.data=void 0;this._isInitialized=!0}catch(e){o.L.show("%e","arcgis-report-list request for esri reports failed",e)}}_accordianItemClickHandler(e){this.onReportClicked.call(this,e)}_accordianItemsCheckedHandler(e){this.reportChecked.emit(e)}async setMultipleChoice(e){this.stMultipleChoice=e}async onPropChange(e,t){this._onChangeCallback={fn:e,ctx:t}}async setColorTheme(e){if(e&&o.A.hasText(e)&&this.el){this.stColorTheme=e.trim().toLowerCase();const t=e.trim().toLowerCase();"light"===t?(this._accordionTheme=t,this.el.style.setProperty("--calcite-ui-brand","#007ac2"),this.el.style.setProperty("--calcite-ui-brand-hover","#00619b"),this.el.style.setProperty("--calcite-ui-brand-press","#004874"),this.el.style.setProperty("--calcite-ui-background","#f8f8f8"),this.el.style.setProperty("--calcite-ui-foreground-1","#ffffff"),this.el.style.setProperty("--calcite-ui-foreground-2","#f3f3f3"),this.el.style.setProperty("--calcite-ui-foreground-3","#eaeaea"),this.el.style.setProperty("--calcite-ui-text-1","#151515"),this.el.style.setProperty("--calcite-ui-text-2","#4a4a4a"),this.el.style.setProperty("--calcite-ui-text-3","#6a6a6a"),this.el.style.setProperty("--calcite-ui-text-inverse","#ffffff"),this.el.style.setProperty("--calcite-ui-text-link","#00619b"),this.el.style.setProperty("--calcite-ui-border-1","#cacaca"),this.el.style.setProperty("--calcite-ui-border-2","#d4d4d4"),this.el.style.setProperty("--calcite-ui-border-3","#dfdfdf"),this.el.style.setProperty("--calcite-ui-border-input","#949494"),this.el.style.setProperty("--calcite-ui-info","#00619b"),this.el.style.setProperty("--calcite-ui-success","#35ac46")):"dark"===t&&(this._accordionTheme=t,this.el.style.setProperty("--calcite-ui-brand","#009af2"),this.el.style.setProperty("--calcite-ui-brand-hover","#007ac2"),this.el.style.setProperty("--calcite-ui-brand-press","#00619b"),this.el.style.setProperty("--calcite-ui-background","#353535"),this.el.style.setProperty("--calcite-ui-foreground-1","#2b2b2b"),this.el.style.setProperty("--calcite-ui-foreground-2","#202020"),this.el.style.setProperty("--calcite-ui-foreground-3","#151515"),this.el.style.setProperty("--calcite-ui-text-1","#ffffff"),this.el.style.setProperty("--calcite-ui-text-2","#bfbfbf"),this.el.style.setProperty("--calcite-ui-text-3","#9f9f9f"),this.el.style.setProperty("--calcite-ui-text-inverse","#151515"),this.el.style.setProperty("--calcite-ui-text-link","#00a0ff"),this.el.style.setProperty("--calcite-ui-border-1","#555555"),this.el.style.setProperty("--calcite-ui-border-2","#4a4a4a"),this.el.style.setProperty("--calcite-ui-border-3","#404040"),this.el.style.setProperty("--calcite-ui-border-input","#757575"),this.el.style.setProperty("--calcite-ui-info","#00a0ff"),this.el.style.setProperty("--calcite-ui-success","#36da43")),this._getShadowAccordion("MyInfographics").setColorTheme(t),this._getShadowAccordion("EsriInfographics").setColorTheme(t),this._getShadowAccordion("SharedInfographics").setColorTheme(t)}}async setSelectedId(e){let t=this._infographics.MyInfographics.accordionId;this.el.shadowRoot.getElementById(t).setSelectedId(e),t=this._infographics.EsriInfographics.accordionId,this.el.shadowRoot.getElementById(t).setSelectedId(e),t=this._infographics.SharedInfographics.accordionId,this.el.shadowRoot.getElementById(t).setSelectedId(e)}_getShadowAccordion(e){const t=this._infographics[e].accordionId;return this.el.shadowRoot.getElementById(t)}_debounce2(e,t){const i=this;i._debounceTimer&&clearTimeout(i._debounceTimer),i._debounceTimer=setTimeout((function(){i._debounceTimer=null,e.apply(i)}),t)}_onFilteredPropChanged(){this._onChangeCallback&&this._onChangeCallback.fn(this._onChangeCallback.ctx,this._onChangeQueue),this._onChangeQueue={}}_onPropChanged(e,t){this._onChangeQueue[e]=t,this._debounce2(this._onFilteredPropChanged,250)}onReportClicked(e){let t=e.detail.item.id;this.setReportId(t,e.detail.item.name)}setReportId(e,t){this.selectedReportId=e,this.reportSelected.emit({id:this.selectedReportId,name:t}),this._onPropChanged("reportId",this.selectedReportId)}async componentWillLoad(){this.stColors=this.colors,!this._hasSetEnv&&this.env&&(this._hasSetEnv=!0,this.stEnv=this.env,o.E.setEnvironment(this.env)),this.stShowCheckboxes=this.showCheckboxes,this.stSelectedReportId=this.selectedReportId}componentDidLoad(){const e=this;o.A.hasText(this.colors)&&(this.stColors=o.A.parseThemeString(this.colors)),e.stColors&&(e.el.style.setProperty("--calcite-ui-brand",e.stColors.brand),e.el.style.setProperty("--calcite-ui-foreground-1",e.stColors.foreground1),e.el.style.setProperty("--calcite-ui-foreground-2",e.stColors.foreground2),e.el.style.setProperty("--calcite-ui-foreground-3",e.stColors.foreground2),e.el.style.setProperty("--calcite-ui-text-1",e.stColors.text1),e.el.style.setProperty("--calcite-ui-text-2",e.stColors.text2),e.el.style.setProperty("--calcite-ui-text-3",e.stColors.text3),e.el.style.setProperty("--calcite-ui-border-2",e.stColors.border2),e.el.style.setProperty("--calcite-accordion-item-background",e.stColors.accordionBackground),e.el.style.setProperty("--calcite-accordion-item-foreground",e.stColors.accordionForeground))}render(){if(!this._isInitialized)return;const e=this;return(0,s.h)("div",null,e.renderList("MyInfographics"),e.renderList("EsriInfographics"),e.renderList("SharedInfographics"))}renderList(e){const t=this,i=t.stMultipleChoice.toString(),r={MyInfographics:"report-my-infographics",EsriInfographics:"report-esri-infographics",SharedInfographics:"report-shared-infographics"},c=t._infographics[e].data;if(c&&c.length>0){let a=[];if("true"==i&&c.length>4){let t={id:-1,name:o.B.i18n("dropdown-all"),icon:"file-text",usesCheckbox:!0,isChecked:"EsriInfographics"==e};a.push(t)}c.forEach((function(t){let s={id:t.id,name:t.title,icon:"file-text"};"true"==i&&(s.usesCheckbox=!0,s.isChecked="EsriInfographics"==e),a.push(s)}));const n=JSON.stringify(a),h=o.B.i18n(r[e]),l=t._infographics[e].accordionId;return(0,s.h)("ba-accordion",{id:l,class:"reportList",displayname:h,reportsGroupId:e,content:n,showCheckboxes:this.stShowCheckboxes,reportList:JSON.stringify(this.stReportList),selectedId:this.stSelectedReportId,onAccordionItemClicked:e=>this._accordianItemClickHandler(e),onAccordionItemsChecked:e=>this._accordianItemsCheckedHandler(e)})}return""}get el(){return(0,s.g)(this)}static get watchers(){return{env:["onEnvChanged"],langCode:["onLangCodeChanged"],sourceCountry:["onSourceCountryChanged"],colors:["onColorsChanged"],selectedReportId:["onSelectedReportChanged"],showCheckboxes:["onshowCheckboxesChanged"],reportList:["onreportListChanged"]}}};r.style=':host{display:block}calcite-tree-item{font-size:14.5pt;color:#333;font-family:Arial, Helvetica, sans-serif}.notReadyOuter{position:absolute;top:0;left:0;width:100%;height:100%}.notReadyDiv{position:absolute;top:calc(50% - 50px);left:calc(50% - 50px);width:100px;height:100px}.notReadySvg{position:absolute;top:calc(50% - 29px);left:calc(50% - 33px)}.arcgisReportsTreeItem{background-color:white;color:#585859;font-size:13pt;min-height:33px;border-bottom:solid 1px lightgray}.arcgisReportsTreeItemIcon{margin-top:-3px;margin-right:6px}calcite-tree-item[aria-selected="true"]{background-color:#f6f6f6 !important}calcite-tab-title[aria-expanded="true"]{background-color:#4991df;color:whitesmoke;font-size:11.5pt;margin:4px 0 1px 4px;min-width:calc(50% - 17px);border:solid 1px #4991df;border-top-left-radius:4px;border-bottom-left-radius:4px}calcite-tab-title[aria-expanded="false"]{background-color:white;color:#4590e1;font-size:11.5pt;margin:4px 4px 1px 0;min-width:calc(50% - 17px);border:solid 1px #4991df;border-top-right-radius:4px;border-bottom-right-radius:4px}.arcgisReportsTreeDiv{width:100%;max-height:500px;overflow:scroll}.ba-dark{background-color:#2b2b2b !important;color:#fefefe !important}.ba-dark-item{background-color:#464646 !important;color:#fefefe !important}.ba-dark-item-selected{background-color:#363636 !important;color:#fefefe !important}'}}]);