/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-fcfeab.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-fcfeab"],{99004:(e,r,t)=>{t.d(r,{c:()=>n,g:()=>o});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},8606:(e,r,t)=>{t.r(r),t.d(r,{arcgis_member_browser_filter_my_groups:()=>c});var n=t(7263),o=t(32023),s=t(46143),i=t(31670),a=t(69773);t(11935),t(94788),t(46581),t(28926),t(70506),t(99004),t(65215),t(93816),t(78613);const c=class{constructor(e){(0,n.r)(this,e),this.arcgisMemberBrowserFilter=(0,n.c)(this,"arcgisMemberBrowserFilter",7),this.loadUserGroups=async()=>{const{user:e,portal:r}=null!==i.c&&void 0!==i.c?i.c:{};if(!this.groups&&e&&r){this.groups=await(0,s.i)(r,e.username);const{groupId:t,excludeGroupId:n}=this.store.state;this.groups=this.groups.filter((e=>!(t&&e.id===t||n&&e.id===n)))}},this.handleSearchInput=e=>{const r=e.target;this.searchTerm=r.value},this.groupId=void 0,this.expanded=void 0,this.groups=void 0,this.searchTerm=""}componentWillLoad(){this.store=(0,o.g)(this.el),this.i18n=this.store.state.i18n.filterMyGroups}async componentDidLoad(){this.loadUserGroups(),(0,i.o)("user",this.loadUserGroups),(0,i.o)("portal",this.loadUserGroups),(0,a.a)("myGroup",this.store,(()=>{this.groupId=null}))}getEventDetail(){var e;const{groupId:r}=this,t=r?null===(e=this.groups)||void 0===e?void 0:e.find((e=>e.id===r)):null;return{id:"myGroup",param:"group",value:r||"",label:t?this.i18n.label.replace("${name}",t.title):""}}async emitEvent(){const e=await this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){const{user:e}=i.c,{groups:r}=this;return e&&(null==r?void 0:r.length)?(0,n.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.groupId,onArcgisBrowserFilterRemove:()=>{this.groupId=null},filterID:"myGroup"},(0,n.h)("div",null,r.length>15&&(0,n.h)("calcite-input",{type:"search",icon:"search",placeholder:this.i18n.searchMyGroups,onCalciteInputInput:this.handleSearchInput}),(0,n.h)("div",{class:"tree-wrapper"},(0,n.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var r;const t=(null===(r=e.target.selectedItems)||void 0===r?void 0:r[0].dataset.groupId)||"";this.groupId===t?this.groupId=null:this.groupId=t,this.emitEvent()}},null==r?void 0:r.filter((e=>!this.searchTerm||e.title.toLowerCase().includes(this.searchTerm))).map((e=>(0,n.h)("calcite-tree-item",{key:e.id,"data-group-id":e.id,selected:e.id===this.groupId},(0,n.h)("a",null,e.title)))))))):null}get el(){return(0,n.d)(this)}};c.style=".tree-wrapper{max-height:14rem;overflow:auto}"},70506:(e,r,t)=>{t.d(r,{e:()=>s});var n,o=t(99004),s={exports:{}};n=s.exports,o.c,function(e){var r={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",n="next";function o(e){if(e.toLowerCase()===n)return n;var r=e&&e.match(/^(\d)\.(\d+)/);return r&&{major:parseInt(r[1],10),minor:parseInt(r[2],10)}}function s(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function i(e){void 0===e&&(e=t);var r=s(e),i=o(e);if(i!==n&&3===i.major){var a=i.minor<=10?"js/":"";return"".concat(r).concat(a,"esri/css/esri.css")}return"".concat(r,"esri/themes/light/main.css")}function a(e){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,r}function c(e,r){if(r){var t=document.querySelector(r);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}function u(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||o(e)?i(e):e}function d(e,r){var t=l(e),n=u(t);return n||c(n=a(t),r),n}var p={};function h(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.setAttribute("data-esri-loader","loading"),r}function f(e,r,t){var n;t&&(n=v(e,t));var o=function(){r(e),e.removeEventListener("load",o,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",o,!1)}function v(e,r){var t=function(n){r(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}function m(e){void 0===e&&(e={}),p=e}function g(){return document.querySelector("script[data-esri-loader]")}function w(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var t={};[p,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var n=t.version,o=t.url||s(n);return new r.Promise((function(e,r){var s=g();if(s){var i=s.getAttribute("src");i!==o?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):w()?e(s):f(s,e,r)}else if(w())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=t.css;a&&d(!0===a?n:a,t.insertCssBefore),f(s=h(o),(function(){s.setAttribute("data-esri-loader","loaded"),e(s)}),r),document.body.appendChild(s)}}))}function b(e){return new r.Promise((function(r,t){var n=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.remove(),r(e)}))}))}function I(e,r){if(void 0===r&&(r={}),w())return b(e);var t=g(),n=t&&t.getAttribute("src");return!r.url&&n&&(r.url=n),y(r).then((function(){return b(e)}))}e.utils=r,e.loadModules=I,e.getScript=g,e.isLoaded=w,e.loadScript=y,e.setDefaultOptions=m,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(n)},28926:(e,r,t)=>{t.d(r,{l:()=>o});var n=t(70506);const o=async(e,r)=>(await n.e.exports.loadModules(e,r)).map((e=>e.__esModule&&e.default?e.default:e))},93816:(e,r,t)=>{t.d(r,{f:()=>o});var n=t(46581);async function o(e,r,t="results",o=!1){let s,i,a,c,u=1,l=[];r.start=u,r.num||(r.num=100);try{const d=await(0,n.r)(e,r);if(!(null==d?void 0:d[t]))return l;for(l=[...l,...d[t]],u=d.nextStart,s=d.total-l.length,i=Math.ceil(s/r.num),a=[],c=0;c<i;c++)if(r.start=u+c*r.num,o){const o=await(0,n.r)(e,r);(null==o?void 0:o[t])&&(l=[...l,...o[t]])}else a.push((0,n.r)(e,r));if(!o){(await Promise.all(a)).forEach((e=>{l=[...l,...e[t]]}))}return l}catch(e){return l}}},46143:(e,r,t)=>{t.d(r,{a:()=>i,b:()=>a,c:()=>p,d:()=>h,e:()=>f,f:()=>c,g:()=>m,h:()=>v,i:()=>u,j:()=>l,k:()=>d});var n=t(94788),o=t(46581),s=t(93816);async function i(e){const r=(0,n.c)(e);return await(0,s.f)(`${r}portals/self/userLicenseTypes`,{num:10},"userLicenseTypes")}async function a(e){const r=(0,n.c)(e),t=await(0,s.f)(`${r}portals/self/roles`,{returnPrivileges:!0},"roles");return t.sort(((e,r)=>{const t=e.name.toLowerCase(),n=r.name.toLowerCase();return t>n?1:t<n?-1:0})),t}async function c(e,r){const t=(0,n.c)(e);let i;try{i=(await(0,o.r)(`${t}community/groups/${r}/userlist`,{num:0})).owner}catch(e){}return{admins:await(0,s.f)(`${t}community/groups/${r}/userlist`,{memberType:"admin"},"users"),owner:null==i?void 0:i.username}}async function u(e,r){const t=(0,n.c)(e),s=await(0,o.r)(`${t}community/users/${r}`),i=(null==s?void 0:s.groups)||[];return i.sort(((e,r)=>{const t="owner"===e.userMembership.memberType?1:-1,n="owner"===r.userMembership.memberType?1:-1,o=e.title.toLowerCase(),s=r.title.toLowerCase();return t!==n?n-t:o>s?1:o<s?-1:0})),i}async function l(e,r){const t=(0,n.c)(e);try{return await(0,o.r)(`${t}community/groups`,r)}catch(e){return}}async function d(e,r){const t=(0,n.c)(e);return await(0,s.f)(`${t}community/groups`,r)}async function p(e){const r=(0,n.c)(e);try{return(await(0,o.r)(`${r}portals/self/trustedOrgs`,{num:100})).trustedOrgs.filter((e=>e.from.established>-1&&e.to.established>-1)).sort(((e,r)=>e.to.name>r.to.name?1:e.to.name<r.to.name?-1:0))}catch(e){return[]}}async function h(e){const r=(0,n.c)(e);return await(0,s.f)(`${r}portals/self/contacts`,{type:"collaboration",collaborators:!0},"users")}async function f(e,r){var t,s;const i=(0,n.c)(e);try{return(null===(s=null===(t=(await(0,o.r)(`${i}community/users`,{searchUserAccess:"groupMember",groups:r,countFields:"accountid",num:0,countSize:200})).aggregations.counts)||void 0===t?void 0:t[0])||void 0===s?void 0:s.fieldValues)||[]}catch(e){return[]}}async function v(e){var r,t,s;const i=(0,n.c)(e);try{const[e,n,a,c]=await Promise.all([(0,o.r)(`${i}portals/self/idp`),(0,o.r)(`${i}portals/self/idp/federation`),(0,o.r)(`${i}portals/self/oidc`),(0,o.r)(`${i}portals/self/socialProviders`)]);return{hasSAML:Boolean((null==e?void 0:e.id)?e:(null==n?void 0:n.id)?n:null),socialProviders:null===(r=null==c?void 0:c.config)||void 0===r?void 0:r.providers,oidcId:null===(s=null===(t=null==a?void 0:a.oidcProviders)||void 0===t?void 0:t[0])||void 0===s?void 0:s.id}}catch(e){return{hasSAML:!1}}}async function m(e){const r=(0,n.c)(e);try{const e=await(0,o.r)(`${r}portals/self/purchases`),t=g(e.purchases),n=g(e.trials),s=[...t,...n];return s.sort(((e,r)=>{const t=e.title.toLowerCase(),n=r.title.toLowerCase();return t>n?1:t<n?-1:0})),s}catch(e){return[]}}function g(e){const r=[];return e.forEach((({listing:e,provision:t})=>{var n;(null==e?void 0:e.type.includes("Application"))&&(null===(n=null==t?void 0:t.orgEntitlements)||void 0===n?void 0:n.entitlements)&&r.push({id:e.itemId,title:e.title})})),r}},69773:(e,r,t)=>{t.d(r,{a:()=>s,b:()=>a,g:()=>u,i:()=>o,o:()=>i});var n=t(78613);const o=e=>"item-browser"===e.state.type,s=(e,r,t)=>{r.onChange("filters",(r=>{r[e]&&r[e].value||t()}))},i=(e,r)=>{e.onChange("preview",(e=>{r()}))},a=(e,r)=>{e.onChange("groupId",(e=>{r()}))},c=new Map;function u(e,r){const t=c.get(e);if(t)return t;const o=(0,n.c)(e,r);return o?(c.set(e,o.store),o.store):null}},32023:(e,r,t)=>{t.d(r,{g:()=>s,o:()=>i});var n=t(11935),o=t(69773);function s(e){return(0,o.g)(e,"arcgis-member-browser")}(0,n.c)({type:"member-browser",includeExternalUsers:!1});const i=(e,r)=>{e.onChange("sort",(e=>{r(e)}))}}}]);