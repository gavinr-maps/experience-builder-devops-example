/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-20bfff.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-20bfff"],{99004:(e,i,r)=>{r.d(i,{c:()=>n,g:()=>t});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},71700:(e,i,r)=>{r.d(i,{a:()=>t,b:()=>l,c:()=>o,d:()=>n});const n=(0,r(11935).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),t=n.state,o=n.state,l=n.state},37430:(e,i,r)=>{r.d(i,{c:()=>d,g:()=>u,h:()=>c});var n=r(71700),t=r(76173),o=r(28944),l=r(86537),a=r(99907),s=function(e,i){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)i.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]])}return r};function d(e,i){var r;const n=(null==e?void 0:e.type)||null,t=(null==i?void 0:i.type)||null;return t&&(t===n||(null===(r={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:["esriFieldTypeString","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeDate","esriFieldTypeGUID","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset","esriFieldTypeBigInteger"],esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeDateOnly:["esriFieldTypeDateOnly"],esriFieldTypeTimeOnly:["esriFieldTypeTimeOnly"],esriFieldTypeTimestampOffset:["esriFieldTypeTimestampOffset"],esriFieldTypeBigInteger:["esriFieldTypeBigInteger"]}[n])||void 0===r?void 0:r.includes(t)))}function u(e){var i;const{timezone:r,analyzeResults:a,type:d,fieldMappings:u,dataLayer:c,id:p,uidPair:v,addAppendSelectOption:f,sourceDataLayer:m}=e;let y,g;const{publishParameters:h}=a,T=s(a,["publishParameters"]),b="upsert"===f||"update"===f,F=function(e){const i=e.filter((e=>e.source!==t.N)),r=i.map((({source:e,name:i})=>({source:e,name:i})));return r}(u),w=function(e){const i=e.map((e=>e.name));return i}(F),I={dateFieldsTimeReference:{timeZone:r||"UTC",respectsDaylightSaving:!0}},P={sourceTableName:c.name,fieldMappings:(null==F?void 0:F.length)?JSON.stringify(F):null,upsert:b,skipInserts:"update"===f,skipUpdates:!1,useGlobalIds:b&&"esriFieldTypeGlobalID"===(null==v?void 0:v.type),updateGeometry:!b||"attributeAndGeometry"===n.a.addAppendSelectUpdateTypeOption,appendFields:w.length?JSON.stringify(w):null,appendItemId:p,appendUploadFormat:l.a[n.a.type].appendUploadFormat,rollbackOnFailure:!0};"Table"===m.type&&(h.locationType="none");const S=s(h,["layers"]);if("CSV"===d)h.layerInfo.dateFieldsTimeReference=I.dateFieldsTimeReference,g=Object.assign(Object.assign(Object.assign({},I),h),T);else if("Microsoft Excel"===d){const e=function(e,i){const r=Object.assign({},e);r.locationType=(null==i?void 0:i.locationType)||e.locationType,"address"===r.locationType?(r.addressFields=i.addressFields,r.sourceCountry=i.sourceCountry):"coordinates"===r.locationType&&(r.coordinateFieldType=i.coordinateFieldType,"LatitudeAndLongitude"===r.coordinateFieldType?(r.latitudeFieldName=i.latitudeFieldName,r.longitudeFieldName=i.longitudeFieldName):r.coordinateFieldName=i.coordinateFieldName);return r}((0,o.a)({},!0),S);e.dateFieldsTimeReference=I.dateFieldsTimeReference,S.name=c.name,g=Object.assign(Object.assign(Object.assign(Object.assign({},I),{layers:[e]}),S),T)}else g=Object.assign(Object.assign(Object.assign({},I),h),T);return y=Object.assign(Object.assign({},P),{appendSourceInfo:JSON.stringify(g)}),"add"===f?y.upsertMatchingField=m.objectIdField||(null===(i=m.uniqueField)||void 0===i?void 0:i.name):b&&(null==v?void 0:v.isUniqueIndex)&&(y.upsertMatchingField=null==v?void 0:v.name),y}function c(e,i){const r=i.appendErrorMessages;let n=a.u.i18n.error,t=r.appendError;switch(e.code){case"invalidUniqueIdentifier":n=r.invalidUniqueIdentifier.title,t=r.invalidUniqueIdentifier.description;break;case"cannotAddNullData":n=r.cannotAddNullData.title,t=r.cannotAddNullData.description;break;case"exceededMaxFieldLength":n=r.exceededMaxFieldLength.title,t=r.exceededMaxFieldLength.description;break;case"invalidFieldType":n=r.invalidFieldType.title,t=r.invalidFieldType.description}return{title:n,description:t}}},76173:(e,i,r)=>{r.d(i,{A:()=>a,N:()=>t,a:()=>l,b:()=>o,c:()=>d,d:()=>s,u:()=>n});const n=["esriFieldTypeOID","esriFieldTypeGlobalID"],t="<None>",o={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},l={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},a={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},s=["zip","csv","xls","xlsx","geojson","gpkg","json"],d=["zip","csv","xls","xlsx"]},51716:(e,i,r)=>{r.r(i),r.d(i,{arcgis_new_item_pages_append_key_pair_select:()=>d});var n=r(7263),t=r(71700),o=r(76173),l=r(99907),a=r(37430),s=r(31670);r(11935),r(28944),r(59296),r(2174),r(28926),r(70506),r(99004),r(94788),r(71695),r(66488),r(46581),r(65215),r(86537);const d=class{constructor(e){(0,n.r)(this,e),this.newItemUpdatePage=(0,n.c)(this,"newItemUpdatePage",7),this.newItemPrevPage=(0,n.c)(this,"newItemPrevPage",7),this.workflowComplete=(0,n.c)(this,"workflowComplete",7),this.handleTimezoneChange=e=>{this.selectedTimezone=e.detail},this.handleKeyPairChange=e=>{this.selectedKeyPair=e.detail},this.i18n=void 0,this.selectedKeyPair=void 0,this.selectedTimezone=void 0,this.oidFieldSelected=!1,this.error=void 0}handleNext(){if("add"!==t.a.addAppendSelectOption){if(Object.values(this.selectedKeyPair).includes(o.N))return void(this.error={title:l.u.i18n.error,message:this.i18n.noKeyPair});t.a.uidPair=this.selectedKeyPair}t.a.timezone=this.selectedTimezone,this.newItemUpdatePage.emit("appendMatchFields")}async handlePrev(e){var i;(null===(i=t.a.analyzeResults.publishParameters.layers)||void 0===i?void 0:i.length)>1||(e.preventDefault(),t.a.uidPair=null,this.newItemPrevPage.emit())}componentWillLoad(){var e;const{existingItem:i,dateFieldsTimeReference:r,originalFileName:n}=t.a;this.i18n=l.u.i18n.appendKeyValuePair,this.serviceLayer=t.a.sourceDataLayer,this.selectedTimezone=null!==(e=t.a.timezone)&&void 0!==e?e:"UTC",this.timezoneDescription=this.i18n.timezoneDescription.replace("${uploadedFileName}",n).replace("${featureLayerName}",i.title).replace("${featureLayerTimezone}",r.timeZone),this.findKeyPairs()}findKeyPairs(){var e;const i={},r=this.serviceLayer.fields||[],n=this.serviceLayer.indexes||[],l=t.a.backupLayerFields;n.filter((e=>null==e?void 0:e.isUnique)).forEach((e=>{var i;((null===(i=e.fields)||void 0===i?void 0:i.split(","))||[]).forEach((e=>{r.some((i=>i.name.toLowerCase()===e.toLowerCase()&&(i.isUniqueIndex=!0,!0)))}))})),this.serviceUIDFields=r.filter((e=>e.type&&o.u.includes(e.type)||e.isUniqueIndex)).sort(((e,i)=>e.name.localeCompare(i.name))),this.serviceUIDFields.forEach((e=>{const r=[];l.forEach((i=>{(0,a.c)(e,i)&&r.push(i.name)})),i[e.name]={name:e.name,type:e.type,idx:0,isUniqueIndex:null==e?void 0:e.isUniqueIndex,possibleMatches:[o.N,...r],disabled:!0}})),this.finalKeyPairs=Object.assign({"<None>":{name:o.N,type:"None",possibleMatches:[o.N]}},i),this.selectedKeyPair=null!==(e=t.a.uidPair)&&void 0!==e?e:this.finalKeyPairs[o.N],t.a.serviceUIDFields=this.serviceUIDFields}render(){const{error:e,i18n:i,timezoneDescription:r}=this,{addAppendSelectOption:o,backupLayerFields:l}=t.a,{helpBase:a,helpMap:d}=s.c.config,u="add"===o,c=null==l?void 0:l.some((e=>"esriFieldTypeDate"===e.type)),p=`${a}${d[120004711]}`;return(0,n.h)(n.H,{key:"086212197a3037ada57c309a04bf2acc7564e6b6"},!u&&(0,n.h)("arcgis-new-item-append-key-value-pair",{key:"0a7fdd8060ff112c91b7ccb3da5dd76d7edf4d04",class:"key-value-pair",keyPairs:this.finalKeyPairs,onKeyPairChange:this.handleKeyPairChange}),c&&(0,n.h)("calcite-label",{key:"79a3560367b52bd7d75e134b2f5f2d85892cf26d"},(0,n.h)("div",{key:"989e92bd3860902e8ddc64754dac76c238cd74ee",class:"timezone-header"},i.timezoneHeader),(0,n.h)("div",{key:"b791886905d270c73da8a43511cd5428e5d0e055",class:"timezone-wrapper"},(0,n.h)("arcgis-new-item-timezone-dropdown",{key:"76a59658a3ad97ce94fdf36776a22a302115bbc7",class:"timezone",onTimezoneChange:this.handleTimezoneChange,defaultTimezone:this.selectedTimezone,subTitle:r}))),(0,n.h)("arcgis-new-item-alert",{key:"b392966a7a6dcf23cb60f518ab6ad295b74087bc",active:"esriFieldTypeOID"===this.selectedKeyPair.type,kind:"warning",heading:i.learnMoreUIDTitle,link:{href:p,title:i.learnMoreUIDLink}}),(0,n.h)("arcgis-new-item-alert",{key:"d62a4c15495a9e05db69764839873e1284c8cf15",heading:null==e?void 0:e.title,description:null==e?void 0:e.message,active:!!e,kind:"danger",onAlertDismiss:()=>this.error=null}))}get el(){return(0,n.d)(this)}};d.style=".timezone-wrapper{background-color:var(--calcite-color-background);padding-left:1rem}.timezone{margin-bottom:0.75rem;margin-inline-end:2.5rem;display:block}.timezone-header{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}"},70506:(e,i,r)=>{r.d(i,{e:()=>o});var n,t=r(99004),o={exports:{}};n=o.exports,t.c,function(e){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function t(e){if(e.toLowerCase()===n)return n;var i=e&&e.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function l(e){void 0===e&&(e=r);var i=o(e),l=t(e);if(l!==n&&3===l.major){var a=l.minor<=10?"js/":"";return"".concat(i).concat(a,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}function a(e){var i=document.createElement("link");return i.rel="stylesheet",i.href=e,i}function s(e,i){if(i){var r=document.querySelector(i);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function d(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function u(e){return!e||t(e)?l(e):e}function c(e,i){var r=u(e),n=d(r);return n||s(n=a(r),i),n}var p={};function v(e){var i=document.createElement("script");return i.type="text/javascript",i.src=e,i.setAttribute("data-esri-loader","loading"),i}function f(e,i,r){var n;r&&(n=m(e,r));var t=function(){i(e),e.removeEventListener("load",t,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",t,!1)}function m(e,i){var r=function(n){i(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function y(e){void 0===e&&(e={}),p=e}function g(){return document.querySelector("script[data-esri-loader]")}function h(){var e=window.require;return e&&e.on}function T(e){void 0===e&&(e={});var r={};[p,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}));var n=r.version,t=r.url||o(n);return new i.Promise((function(e,i){var o=g();if(o){var l=o.getAttribute("src");l!==t?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):h()?e(o):f(o,e,i)}else if(h())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=r.css;a&&c(!0===a?n:a,r.insertCssBefore),f(o=v(t),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),i),document.body.appendChild(o)}}))}function b(e){return new i.Promise((function(i,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),i(e)}))}))}function F(e,i){if(void 0===i&&(i={}),h())return b(e);var r=g(),n=r&&r.getAttribute("src");return!i.url&&n&&(i.url=n),T(i).then((function(){return b(e)}))}e.utils=i,e.loadModules=F,e.getScript=g,e.isLoaded=h,e.loadScript=T,e.setDefaultOptions=y,e.loadCss=c,Object.defineProperty(e,"__esModule",{value:!0})}(n)},2174:(e,i,r)=>{r.d(i,{a:()=>a,b:()=>l,c:()=>u,d:()=>c,e:()=>p,f:()=>m,g:()=>I,h:()=>y,i:()=>s,j:()=>T,k:()=>b,l:()=>g,m:()=>w,n:()=>F,o:()=>f,p:()=>h,q:()=>v,u:()=>d});var n=r(28926),t=r(94788);function o(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function l(e){var i;return o(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function a(e){var i;return o(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function d(e,i){return s(e,i)||function(e,i){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!s(e,i)&&t&&n.includes("esri_")&&!o.includes(n))return!1;return t}(e,i)}const u=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),c=(e,i)=>`${(0,t.a)(i)}item.html?id=${e}`,p=(e,i)=>`${(0,t.g)(i)}/content/users/${e}`,v=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{});function f(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Spatiotemporal")}function m(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("View Service")}function y(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Hosted Service")}function g(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Multi Services View")}function h(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function T(e){var i;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);if(null==o?void 0:o.user){return l(`${(0,t.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(i=r.portal.credential)||void 0===i?void 0:i.token},responseType:"json"}).then((e=>{var i,r;const n=null!==(r=null===(i=e.data)||void 0===i?void 0:i.groups)&&void 0!==r?r:[];return Promise.resolve(n)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function b(e){var i;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);return l(`${(0,t.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(i=r.portal.credential)||void 0===i?void 0:i.token},responseType:"json"}).then((e=>{var i,r,n,t,o,l;const a=[...null!==(r=null===(i=e.data)||void 0===i?void 0:i.admin)&&void 0!==r?r:[],...null!==(t=null===(n=e.data)||void 0===n?void 0:n.member)&&void 0!==t?t:[],...null!==(l=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==l?l:[]];return Promise.resolve(a)}),(()=>Promise.reject()))}async function F(e,i,{relationshipType:r,direction:o}){const l=`${(0,t.g)(i)}content/items/${e}/relatedItems`,[a]=await(0,n.l)(["esri/request"]);return await a(l,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function w(e,i){return null==e?void 0:e.some((e=>null==i?void 0:i.some((i=>e.id===i.id&&e.capabilities.includes("updateitemcontrol")))))}const I=(e,i)=>`${i}/content/items/${e}`},28926:(e,i,r)=>{r.d(i,{l:()=>t});var n=r(70506);const t=async(e,i)=>(await n.e.exports.loadModules(e,i)).map((e=>e.__esModule&&e.default?e.default:e))},66488:(e,i,r)=>{r.d(i,{a:()=>p,b:()=>u,c:()=>a,d:()=>s,e:()=>v,f:()=>o,g:()=>c,h:()=>l,i:()=>f,q:()=>d});var n=r(46581),t=r(94788);function o(e){var i;return"ArcGISEnterpriseOnKubernetes"===(e.portalDeploymentType||(null===(i=e.sourceJSON)||void 0===i?void 0:i.portalDeploymentType))}function l(e){var i,r;return e.isPortal?"modern"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)||function(e){var i;return e.isPortal&&"modernOnly"===(null===(i=e.portalProperties)||void 0===i?void 0:i.homePage)}(e):"modern"===(null===(i=e.portalProperties)||void 0===i?void 0:i.homePage)||function(e){const i=new Date("June 30, 2020").getTime();return!e.isPortal&&e.created>=i}(e)}async function a(e){try{return{result:await(0,n.f)((()=>(0,n.r)(`${(0,t.g)(e)}portals/self/resources/home.page.json`)),"homePageConfig",e.id)}}catch(e){return{result:void 0}}}async function s(e){return(0,n.f)((()=>(0,n.r)(`${(0,t.g)(e)}portals/self/userDefaultSettings`)),"memberDefaults",e.id)}async function d(e={},i){return(0,n.r)(`${(0,t.g)(i)}/community/groups`,e)}const u=async(e,i)=>{var r;if(!e)return[];const o=`${(0,t.a)(null!==(r=i.restUrl)&&void 0!==r?r:i.portalUrl)}portals/self/servers`,l=await(0,n.f)((()=>(0,n.r)(o)),"selfServers",i.id);return null==l?void 0:l.servers},c=e=>p((0,t.c)(e)),p=e=>{var i;const r=`${(0,t.a)(null!==(i=(0,t.b)(e))&&void 0!==i?i:e)}info`;return(0,n.f)((()=>(0,n.r)(r,{},{addTokenManually:!1})),"portalInfo",r)};async function v(e,i){return!e.isPortal||await f(e,i)}async function f(e,i){if(!i||!e)return!1;if(!e.isPortal)return!0;const{result:r,error:t}=await(0,n.f)((()=>m(e,i)),"isPortalBackedBySDS",e.id);return!t&&r}const m=async(e,i)=>{if(e.isBackedBySDS)return{result:!0};if(!e.isPortal)return{result:!0};try{return{result:!!await y(i,e)}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}},y=async(e,i)=>{var r;return(null!==(r=await u(e,i))&&void 0!==r?r:[]).filter((e=>e.isHosted))[0]}},59296:(e,i,r)=>{r.d(i,{a:()=>o,b:()=>v,c:()=>p,d:()=>c,e:()=>f,f:()=>y,g:()=>m,h:()=>S,i:()=>d,j:()=>s,k:()=>g,l:()=>j,m:()=>T,n:()=>b,o:()=>P,p:()=>w,q:()=>F,r:()=>I,s:()=>D,t:()=>u,u:()=>O,v:()=>l,w:()=>a});var n=r(2174);const t=e=>{var i,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function l(e,i){return(0,n.u)(e,i)||"update"===e.itemControl||(0,n.c)([e],i)&&p(i)}function a(e,i){const r=(0,n.c)([e],i),t=(0,n.u)(e,i)||p(i)&&r,o=f(i)&&h(i);return!!(t||r&&o)}const s=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))};function d(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function u(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}const c=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")};function p(e){return"org_admin"===t(e)||"account_admin"===t(e)}function v(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function f(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function m(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function y(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function g(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const h=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function F(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function S(e,i,r,n){const t=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!p(i)&&!o||!(null==r?void 0:r.isPortal)&&!t)}function O(e){return!!e&&(!f(e)||f(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const D=({items:e,user:i,portal:r})=>{const t=e[0],o=t.owner;if(r.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const a=(0,n.u)(t,i),s=f(i),d=k(i),u=l(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!s&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||T(e)||b(e)||!!i.canSharePublic&&F(e)}(i,r)||k(i));return a||u||(0,n.c)(e,i)&&d};function k(e){return P(e)||w(e)||I(e)}function j(e){const i=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>i.includes(e)))}},99907:(e,i,r)=>{r.d(i,{a:()=>n,u:()=>t});const n=(0,r(11935).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),t=n.state}}]);