/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>o});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},16953:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_data_store_list:()=>l});var a=r(7263),o=r(31670),i=r(82752),n=r(60420),s=r(71700),d=r(99907),c=r(32662);r(11935),r(94788),r(31141),r(46581),r(28926),r(70506),r(99004),r(65215),r(79468),r(15437),r(67575),r(50852),r(7652),r(2174),r(51325),r(86537),r(39274),r(49712),r(90079),r(57399),r(66488),r(73596),r(91253),r(43780),r(59673),r(59296),r(11163);const l=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.selected=void 0,this.items=void 0,this.pagination=void 0,this.loading=!1,this.error=null}async componentWillLoad(){this.selected={id:s.a.dataStoreId,name:s.a.dataStoreName},this.i18n=d.u.i18n.tileLayerFromStore}isValidDataStoreType(e){return e.typeKeywords.some((e=>{const t=e.toLowerCase();return t.startsWith("cloudstore")||t.startsWith("folder")}))}renderErrorItem(){var e,t;const{i18n:r,error:o,loading:i}=this;let n,s;return"failToListDataStoreContents"===o?(n="Unable to list content of the data store",s="An error occurred while listing the data store's contents."):(n=null===(e=r.error[o])||void 0===e?void 0:e.heading,s=null===(t=r.error[o])||void 0===t?void 0:t.description),(0,a.h)("arcgis-new-item-alert",{heading:n,description:s,active:null!==o&&!i,onAlertDismiss:()=>{this.error=null}})}async handleNext(){var e;if(!this.selected||!this.selected.id||!this.selected.name)return void(this.error="noDataStoreSelected");const t=this.selected;this.loading=!0;const r=(await(0,n.g)(t.id)).result;if(0===r.length)return this.error="noRegisteredServersForDataStore",void(this.loading=!1);s.a.serverList=r,s.a.serverId=r[0].id,s.a.dataStoreId=t.id,s.a.dataStoreName=t.name;const a=await(0,i.g)(s.a.dataStoreId,"/","datastore",s.a.serverId);if("failToListDataStoreContents"===(null===(e=a.error)||void 0===e?void 0:e.code))return this.loading=!1,void(this.error="failToListDataStoreContents");const o=a.result,d=this.filterContentsByUserSelection(o);if(!o.children||0===d.children.length)return this.error="noContentInDataStore",void(this.loading=!1);s.a.datastoreContents=d,s.a.dataStoreCachedData=Object.assign(Object.assign({},s.a.dataStoreCachedData),{"/":s.a.datastoreContents}),(0,c.b)(),this.newItemUpdatePage.emit("dataStoreBrowser")}filterContentsByUserSelection(e){var t;const r="tileLayer"===s.a.newItemMode?"tile-layer":"scene-layer",a=s.a.tileLayerPublishType;return Object.assign(Object.assign({},e),{children:null===(t=e.children)||void 0===t?void 0:t.filter((e=>{const t=e.type;let o="folder"===t;return"tile-layer"===r?o||(o="tiles"===a&&"cacheDataset"===t||"vectorTiles"===a&&"vectorCacheDataset"===t):"scene-layer"===r&&(o||(o="extractedScenePackage"===t||"i3sRestCache"===t)),o}))})}render(){const{selected:e,pagination:t,i18n:r,loading:i}=this,{portal:n,user:s,api:d}=o.c;return(0,a.h)(a.H,{key:"54e277e0851600fe7404ab6af39572e9806355db"},(0,a.h)("arcgis-item-browser",{key:"c651477786d015a4df11071be1371b3b4f742c52",onArcgisItemBrowserUpdate:e=>{const{results:t,num:r,start:a,total:o}=e.detail;this.items=t,this.pagination={start:a,num:r,total:o}},onArcgisItemBrowserSelect:e=>{const t=e.detail[0];this.selected={id:t.id,name:t.title}},q:'type:"Data Store"',portal:n,user:s,api:d,selection:"single"},(0,a.h)("arcgis-item-browser-top-bar",{key:"984de3ae24222b096beb27291d110f9858769ff7",slot:"top-bar"},(0,a.h)("arcgis-item-browser-search",{key:"c2157bd22da937408414c3768d05b4f75a70d65f",slot:"search",term:"",placeholder:r.search})),(0,a.h)("arcgis-new-item-description",{key:"ab45fd3c3f63da64ac1de8aeafb4313733d1da1a",header:r.heading,content:r.subHeading,slot:"content-start",class:"header"}),(0,a.h)("arcgis-item-browser-sort",{key:"b8e62fe32c31ccf4f7c347bd1466fe067b9ed58d",options:["modified","title","relevance"],slot:"sort"}),(0,a.h)("arcgis-item-browser-content",{key:"667793edc4944e61ed5cd4e2bd61d53a0a614750",slot:"content"},this.items&&(0,a.h)("calcite-radio-button-group",{key:"4ff8f846680ceea803711cd030e0368e346256d2",layout:"vertical",class:"tile-select",name:"data-store-selection-group"},(this.items||[]).map((t=>this.isValidDataStoreType(t)&&(0,a.h)("arcgis-new-item-pages-data-store-browser-card",{dataStoreItem:t,selected:e.id===t.id,key:t.id}))))),(0,a.h)("arcgis-item-browser-pagination",{key:"216ac8520fc6da213e88111460e2233876679d39",total:null==t?void 0:t.total,start:null==t?void 0:t.start,num:null==t?void 0:t.num,slot:"pagination"})),this.renderErrorItem(),(0,a.h)("arcgis-new-item-loader",{key:"2e5ca2e64cf3e319d1f37f32e9e98e4b43ffc04f",active:i,text:r.processing}))}get el(){return(0,a.d)(this)}};l.style=".header{margin-left:1.5rem;margin-right:1.5rem;margin-top:2rem}.tile-select{margin-top:1.25rem}.no-items{margin-bottom:8rem}"},70506:(e,t,r)=>{r.d(t,{e:()=>i});var a,o=r(99004),i={exports:{}};a=i.exports,o.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function o(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=r);var t=i(e),n=o(e);if(n!==a&&3===n.major){var s=n.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function d(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||o(e)?n(e):e}function u(e,t){var r=l(e),a=c(r);return a||d(a=s(r),t),a}var f={};function h(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,r){var a;r&&(a=p(e,r));var o=function(){t(e),e.removeEventListener("load",o,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",o,!1)}function p(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function v(e){void 0===e&&(e={}),f=e}function g(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function w(e){void 0===e&&(e={});var r={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,o=r.url||i(a);return new t.Promise((function(e,t){var i=g();if(i){var n=i.getAttribute("src");n!==o?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):y()?e(i):m(i,e,t)}else if(y())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=r.css;s&&u(!0===s?a:s,r.insertCssBefore),m(i=h(o),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function b(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function S(e,t){if(void 0===t&&(t={}),y())return b(e);var r=g(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),w(t).then((function(){return b(e)}))}e.utils=t,e.loadModules=S,e.getScript=g,e.isLoaded=y,e.loadScript=w,e.setDefaultOptions=v,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(a)},28926:(e,t,r)=>{r.d(t,{l:()=>o});var a=r(70506);const o=async(e,t)=>(await a.e.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},32662:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>l,l:()=>c});var a=r(31670),o=r(71700);const i="create tile layer",n="my content",s=e=>{switch(e){case"store":return"data store";case"existing":return"fs";case"upload":return"upload"}},d=e=>{switch(e){case"tiles":return"raster";case"vectorTiles":return"vector"}},c=()=>{var e;null===(e=a.c.telemetry)||void 0===e||e.startWorkflow(i,{category:"create tile layer",pageName:"my content"})},l=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(i,"from option",{category:i,attribute:s(o.a.addTileLayerOption),details:d(o.a.tileLayerPublishType),pageName:n})},u=()=>{const e=a.c.telemetry;null==e||e.endWorkflow(i,{category:i,attribute:s(o.a.addTileLayerOption),details:d(o.a.tileLayerPublishType),pageName:n})}}}]);