/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7c6928.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7c6928"],{99830:(e,t,s)=>{s.r(t),s.d(t,{arcgis_member_browser_table:()=>i});var r=s(7263),o=s(32023),n=s(50135),a=s(84121);s(11935),s(69773),s(78613),s(5157);const i=class{constructor(e){(0,r.r)(this,e),this.arcgisMemberBrowserColumnUpdate=(0,r.c)(this,"arcgisMemberBrowserColumnUpdate",7),this.arcgisMemberBrowserSort=(0,r.c)(this,"arcgisMemberBrowserSort",7),this.rows=[],this.columns=[],this.textWidths=void 0}async componentWillLoad(){this.store=(0,o.g)(this.el),this.i18n=this.store.state.i18n.table,this.store.state.columns=this.columns}async componentDidLoad(){}updateColumns(e){this.arcgisMemberBrowserColumnUpdate.emit(e)}async attemptMove([e,t],s){const r=this.rows[e];if(await r.canFocusColumn(t))this.store.state.activeFocus=[e,t],requestAnimationFrame((()=>r.focusColumn(t)));else switch(s){case"right":return this.moveRight([e,t]);case"left":return this.moveLeft([e,t]);case"up":return this.moveUp([e,t]);case"down":return this.moveDown([e,t])}}updateRows(){this.rows=this.rowSlot.assignedElements()}calculateTextWidths(e){var t;if(this.store.state.i18n&&this.store.state.columns&&(!this.textWidths||e)){null!==(t=this.canvas)&&void 0!==t||(this.canvas=document.createElement("canvas"));const e=this.canvas.getContext("2d");e.font="14px 'Avenir Next'",this.textWidths=this.store.state.columns.reduce(((t,s)=>{const{width:r}=n.C[s];if(r.useTextWidth){const o=e.measureText(this.store.state.i18n.table.headers[r.useTextWidth]).width;return Object.assign(Object.assign({},t),{[s]:Math.ceil(o)})}return t}),{})}}getLastColumnIndex(){const e="multiple"===this.store.state.selection;return this.store.state.columns.filter((e=>(0,n.g)(e,this.store.state.width))).length-(e?0:1)}getLastRowIndex(){return this.rows.length-1}async moveRight([e,t]){const s=t>=this.getLastColumnIndex()?0:t+1;this.attemptMove([e,s],"right")}async moveLeft([e,t]){const s=t<1?this.getLastColumnIndex():t-1;this.attemptMove([e,s],"left")}async moveUp([e,t]){const s=e<1?this.getLastRowIndex():e-1;this.attemptMove([s,t],"up")}async moveDown([e,t]){const s=e+1>this.getLastRowIndex()?0:e+1;this.attemptMove([s,t],"down")}handleKeyboard(e){const{key:t}=e,s=this.store.state.activeFocus||[0,0];switch(this.updateRows(),t){case"ArrowDown":return e.preventDefault(),this.moveDown(s);case"ArrowUp":return e.preventDefault(),this.moveUp(s);case"ArrowLeft":return e.preventDefault(),this.moveLeft(s);case"ArrowRight":return e.preventDefault(),this.moveRight(s)}}renderColumn(e){const t=this.i18n.headers[e],{header:s}=n.C[e];let{sortable:o}=n.C[e];const{sortField:i,sortOrder:c}=this.store.state.sort||{},d=e,l=i===d;return o=(!this.store.state.myOrgView||"membertype"!==e)&&o,s?(0,r.h)("div",{class:{"column-header":!0,"column-header--sorted":l,"column-header--not-sortable":!o}},!("name"!==e||"multiple"!==this.store.state.selection)&&(0,r.h)("div",{role:"columnheader",class:"screen-reader-only"},(0,r.h)("span",null,this.i18n.selection)),(0,r.h)("div",{role:"columnheader","aria-sort":"asc"===c?"ascending":"descending"},(0,r.h)("calcite-button",{width:"full",alignment:"icon-end-space-between",scale:"m",appearance:"transparent",kind:l?"brand":"neutral","icon-end":o?l&&"asc"===c?"caret-up":"caret-down":"",onClick:()=>{o&&(l?this.arcgisMemberBrowserSort.emit({sortField:d,sortOrder:"asc"===c?"desc":"asc"}):this.arcgisMemberBrowserSort.emit({sortField:d,sortOrder:(0,a.a)(d)}))}},(0,r.h)("span",{class:{button__text:!0,"button__text--sorted":l}},t)))):(0,r.h)("div",{role:"columnheader",class:"column-header"},(0,r.h)("span",{class:"screen-reader-only"},t))}render(){const e="multiple"===this.store.state.selection,t=this.store.state.columns.filter((e=>(0,n.g)(e,this.store.state.width)));return(0,r.h)(r.H,{key:"1acc887b863d11d10962a05c8298825a71961b4d",style:{"--member-browser-table-columns":`${t.map((e=>{var t;return(0,n.a)(e,this.store.state.width,null===(t=this.textWidths)||void 0===t?void 0:t[e])})).join(" ")} `}},(0,r.h)("div",Object.assign({key:"76fcb29d02a07d4815bbc3f79534a592aa2e4f84",class:"table","aria-label":this.i18n.caption,role:"grid","aria-readonly":"true"},e?{"aria-multiselectable":"true"}:{},{onKeyDown:e=>this.handleKeyboard(e)}),(0,r.h)("div",{key:"aa340fc439435b49c13fccf6fff2ad3e32b12d6b",role:"rowgroup"},(0,r.h)("div",{key:"96e2ca7edc1413d6245f1f0bf07d9c36f8d399ba",role:"row",class:"header"},t.map((e=>this.renderColumn(e))))),(0,r.h)("div",{key:"c21ae26019cccee9be0c74b3526cb00b63b4c8ff"},(0,r.h)("slot",{key:"262ec9503e7cc5d29abe12b4c0d2017bbe01e923",ref:e=>this.rowSlot=e}))))}get el(){return(0,r.d)(this)}static get watchers(){return{columns:["updateColumns"]}}};i.style=".table{background-color:var(--calcite-color-foreground-1)}.header{display:grid;grid-template-columns:var(--member-browser-table-columns)}.button__-text-sorted{font-weight:500}.column-header{border-bottom:1px solid var(--calcite-color-border-2);margin-bottom:1px}.column-header--sorted{border-bottom-color:var(--calcite-color-brand)}.column-header--not-sortable{pointer-events:none}.screen-reader-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}"},11935:(e,t,s)=>{s.d(t,{c:()=>c});var r=s(7263);const o=e=>!("isConnected"in e)||e.isConnected,n=((e,t)=>{let s;return(...r)=>{s&&clearTimeout(s),s=setTimeout((()=>{s=0,e(...r)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(o))}),2e3),a=e=>"function"==typeof e?e():e,i=(e,t)=>{const s=e.indexOf(t);s>=0&&(e[s]=e[e.length-1],e.length--)},c=(e,t)=>{const s=((e,t=((e,t)=>e!==t))=>{const s=a(e);let r=new Map(Object.entries(null!=s?s:{}));const o={dispose:[],get:[],set:[],reset:[]},n=()=>{var t;r=new Map(Object.entries(null!==(t=a(e))&&void 0!==t?t:{})),o.reset.forEach((e=>e()))},c=e=>(o.get.forEach((t=>t(e))),r.get(e)),d=(e,s)=>{const n=r.get(e);t(s,n,e)&&(r.set(e,s),o.set.forEach((t=>t(e,s,n))))},l="undefined"==typeof Proxy?{}:new Proxy(s,{get:(e,t)=>c(t),ownKeys:e=>Array.from(r.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>r.has(t),set:(e,t,s)=>(d(t,s),!0)}),h=(e,t)=>(o[e].push(t),()=>{i(o[e],t)});return{state:l,get:c,set:d,on:h,onChange:(t,s)=>{const r=h("set",((e,r)=>{e===t&&s(r)})),o=h("reset",(()=>s(a(e)[t])));return()=>{r(),o()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(h("set",t.set)),t.get&&e.push(h("get",t.get)),t.reset&&e.push(h("reset",t.reset)),t.dispose&&e.push(h("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),n()},reset:n,forceUpdate:e=>{const t=r.get(e);o.set.forEach((s=>s(e,t,t)))}}})(e,t);return s.use((()=>{if("function"!=typeof r.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const s=(0,r.g)();s&&((e,t,s)=>{const r=e.get(t);r?r.includes(s)||r.push(s):e.set(t,[s])})(e,t,s)},set:t=>{const s=e.get(t);s&&e.set(t,s.filter(r.f)),n(e)},reset:()=>{e.forEach((e=>e.forEach(r.f))),n(e)}}})()),s}},5157:(e,t,s)=>{s.d(t,{D:()=>o,b:()=>r,s:()=>n});const r={xxs:320,xs:480,sm:640,md:768,lg:1024,xl:1280},o=960;function n(e){var t,s;return null!==(t=(s=e.state).resizeObserver)&&void 0!==t||(s.resizeObserver=new ResizeObserver(a)),e.state.resizeObserver}function a(e){e.forEach((e=>{if(e.contentRect.width>0){const t=new CustomEvent("arcgisBrowserResize",{detail:{width:e.contentRect.width,height:e.contentRect.height}});e.target.dispatchEvent(t)}}))}},69773:(e,t,s)=>{s.d(t,{a:()=>n,b:()=>i,g:()=>d,i:()=>o,o:()=>a});var r=s(78613);const o=e=>"item-browser"===e.state.type,n=(e,t,s)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||s()}))},a=(e,t)=>{e.onChange("preview",(e=>{t()}))},i=(e,t)=>{e.onChange("groupId",(e=>{t()}))},c=new Map;function d(e,t){const s=c.get(e);if(s)return s;const o=(0,r.c)(e,t);return o?(c.set(e,o.store),o.store):null}},32023:(e,t,s)=>{s.d(t,{g:()=>n,o:()=>a});var r=s(11935),o=s(69773);function n(e){return(0,o.g)(e,"arcgis-member-browser")}(0,r.c)({type:"member-browser",includeExternalUsers:!1});const a=(e,t)=>{e.onChange("sort",(e=>{t(e)}))}},84121:(e,t,s)=>{s.d(t,{a:()=>n,g:()=>o});const r={title:["asc","alphabetical"],owner:["asc","alphabetical"],numviews:["desc","num"],relevance:["desc"],modified:["desc","recent"],created:["desc","recent"],size:["desc","size"],fullname:["asc","alphabetical"],username:["asc","alphabetical"],name:["asc","alphabetical"],membertype:["asc","alphabetical"],joined:["desc","recent"],lastlogin:["desc","recent"],added:["desc","recent"]};function o(e,t,s){var o;const[n,a]=r[e];return{label:"modified"===e&&(null===(o=null==s?void 0:s.state)||void 0===o?void 0:o.recycleBin)?t.deleted:t[e],showSortOrder:!!a,defaultSortOrder:n,sortOrderLabels:{asc:t[`${a}Asc`],desc:t[`${a}Desc`]}}}function n(e){const[t]=r[e];return t}},50135:(e,t,s)=>{s.d(t,{C:()=>o,a:()=>a,g:()=>n});var r=s(5157);const o={name:{width:{default:"minmax(0, 1.75fr)"},header:!0,sortable:!0},membertype:{width:{default:"minmax(0, 1fr)"},header:!0,sortable:!0},affiliation:{width:{default:"minmax(0, 1.5fr)"},header:!0,sortable:!1,hide:1024},joined:{width:{default:"minmax(0, 1fr)"},header:!0,sortable:!0,hide:860},credits:{width:{default:"minmax(0, 1fr)"},header:!0,sortable:!1,hide:1024},lastlogin:{width:{default:"minmax(0, 1fr)"},header:!0,sortable:!0,hide:1024},usertype:{width:{default:"minmax(0, 1fr)"},header:!0,sortable:!1,hide:860},role:{width:{default:"minmax(0, 1fr)"},header:!0,sortable:!1,hide:860}};function n(e,t){const{hide:s}=o[e];return!s||t>s}function a(e,t,s){const n=o[e],{default:a,md:i,useTextWidth:c}=n.width;if(c&&s>0){return`${s+((n.header?18:0)+42)}px`}return t&&t<=r.b.md&&i?i:a}}}]);