/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a"],{74496:(e,t,r)=>{r.r(t),r.d(t,{arcgis_image_item_sort_popover:()=>l});var s=r(7263),o=r(62159),a=r(58233),i=r(55343);r(78613),r(28926),r(70506),r(99004);const l=class{constructor(e){(0,s.r)(this,e),this.arcgisImageItemSortChangeSaved=(0,s.c)(this,"arcgisImageItemSortChangeSaved",7),this.arcgisImageItemSortPopoverClosed=(0,s.c)(this,"arcgisImageItemSortPopoverClosed",7),this.renderSortFieldList=()=>{const{fields:e,selectedSortField:t}=this,r=(0,i.h)(e).map((e=>(0,s.h)("calcite-list-item",{label:e.name,value:e,selected:e.name===(null==t?void 0:t.name)})));return(0,s.h)("calcite-list",{"selection-mode":"single-persist",class:"field-list-wrapper",onCalciteListChange:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortField=t[0]}},r)},this.renderSortOrderChipGroup=()=>{const{strings:e,selectedSortField:t,selectedSortOrder:r}=this,{type:o}=t||{};let a=[];"string"===o?a=[{displayText:e.alphabetical,sortOrder:i.S.Asc},{displayText:e.reverseAlphabetical,sortOrder:i.S.Desc}]:"date"===o?a=[{displayText:e.mostRecent,sortOrder:i.S.Desc},{displayText:e.leastRecent,sortOrder:i.S.Asc}]:(0,i.s)(o)&&(a=[{displayText:e.highestValue,sortOrder:i.S.Desc},{displayText:e.lowestValue,sortOrder:i.S.Asc}]);const l=a.map((e=>{const{displayText:t,sortOrder:o}=e;return(0,s.h)("calcite-chip",{value:o,selected:r===o,appearance:"outline",kind:"neutral"},t)}));if(!(l.length<=0))return(0,s.h)("calcite-chip-group",{class:"sort-order-chip-group",label:e.sortOrder,"selection-mode":"single-persist",onCalciteChipGroupSelect:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortOrder=t[0]}},l)},this.handleSortChangeSaved=()=>{const{selectedSortField:e,selectedSortOrder:t}=this;this.arcgisImageItemSortChangeSaved.emit({sortField:e,sortOrder:t}),this.arcgisImageItemSortPopoverClosed.emit()},this.referenceElement=void 0,this.fields=[],this.preselectedSortField=void 0,this.preselectedSortOrder=void 0,this.open=void 0,this.selectedSortField=void 0,this.selectedSortOrder=void 0}async componentWillLoad(){[this.strings]=await(0,o.g)(this.hostElement,"arcgis-image-collection-explorer")}updateModal(e){e&&(this.selectedSortField=this.preselectedSortField,this.selectedSortOrder=this.preselectedSortOrder)}render(){const{strings:e,open:t}=this;return(0,s.h)(s.H,{key:"d70c2bf86438950b1cdd313391fe713e78b6a400",class:"js-app-flyout"},(0,s.h)("calcite-popover",{key:"ac6d2cbfa35f29e087c30445f77e8ff25cab3900",dir:(0,a.g)(this.hostElement),autoClose:!0,label:e.sort,referenceElement:this.referenceElement,closable:!0,heading:e.sort,placement:"leading-start",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:130,open:t,onCalcitePopoverClose:()=>{this.arcgisImageItemSortPopoverClosed.emit()}},(0,s.h)("calcite-panel",{key:"bf672847308732a4213d6046d5d33c93c5d91092",class:"sort-popover-wrapper"},(0,s.h)("calcite-label",{key:"db61699d7291dee68fceb940a65a02c6e6647c2e",class:"label-wrapper"},e.sortByField),this.renderSortFieldList(),(0,s.h)("calcite-label",{key:"6c7729d12206dfe35c3cbfd2af638e3cd6b4f8d3",class:"label-wrapper"},e.sortOrder),this.renderSortOrderChipGroup(),(0,s.h)("div",{key:"70edb07452fe926b75f0cf88a8da71e439f1b972",class:"button-wrapper"},(0,s.h)("calcite-button",{key:"0e0be779d1edf6c23831ae4464ea7af71c988ffb",width:"full",onClick:this.handleSortChangeSaved},e.done)))))}get hostElement(){return(0,s.d)(this)}static get watchers(){return{open:["updateModal"]}}};l.style=".sort-popover-wrapper{display:flex;padding:1rem;min-width:320px;max-height:50vh;background-color:var(--calcite-color-foreground-1) !important}.label-wrapper{background-color:var(--calcite-color-foreground-1);padding-top:0.5rem}.field-list-wrapper{overflow-y:auto}.sort-order-chip-group{padding:0 0.5rem 0.5rem;background-color:var(--calcite-color-foreground-1)}.button-wrapper{padding:1rem 0.25rem 0.25rem;background-color:var(--calcite-color-foreground-1)}"}}]);