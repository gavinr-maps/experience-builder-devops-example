/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-133667.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-133667"],{71700:(e,t,a)=>{a.d(t,{a:()=>r,b:()=>c,c:()=>n,d:()=>s});const s=(0,a(11935).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),r=s.state,n=s.state,c=s.state},59285:(e,t,a)=>{a.r(t),a.d(t,{arcgis_new_item_pages_feature_layer_select:()=>l});var s=a(7263),r=a(51325),n=a(71700),c=a(99907),o=a(17613);a(11935),a(31670);const l=class{constructor(e){(0,s.r)(this,e),this.newItemUpdatePage=(0,s.c)(this,"newItemUpdatePage",7),this.options={build:{icon:"layer",page:"featureLayerFromScratch"},existing:{icon:"layers",page:"featureLayerFromExisting"},template:{icon:"add-layer",page:"featureLayerFromTemplate"},link:{icon:"link",page:"featureLayerFromURL"}},this.selected="build"}async componentWillLoad(){n.a.enablePublishing=!1,n.a.newItemMode="featureLayer",n.a.type="Feature Service",r.i.tags=[],r.i.snippet="",n.a.serviceInfo=null,n.a.selectedServiceInfoLayersNames=null,this.selected=n.a.addFeatureLayerType||"build",this.i18n=c.u.i18n.featureLayerSelect}handleNext(){const e=this.selected;n.a.addFeatureLayerType=e,n.a.enablePublishing=!0,(0,o.c)(e),this.newItemUpdatePage.emit(this.options[e].page)}render(){const{i18n:e,options:t}=this;return(0,s.h)("div",{key:"6735eabcecd25e725d89daa95b958b5ec11efda2"},(0,s.h)("arcgis-new-item-description",{key:"5ce2aaf52f81b68dcd05c502b84952844b4d0808",header:e.heading}),(0,s.h)("calcite-tile-select-group",{key:"f335d26f8478d6ef32c0e9a34af072fe4d12b858",layout:"vertical",class:"tile-select"},Object.keys(t).map((a=>{const{icon:r}=t[a];return(0,s.h)("calcite-tile-select",{checked:this.selected===a,heading:e.options[a].title,description:e.options[a].description,icon:r,name:"feature-layer-create-mode","input-enabled":!0,width:"full",type:"radio",value:a,onCalciteTileSelectChange:e=>{this.selected=e.target.value}})}))))}get el(){return(0,s.d)(this)}};l.style=".tile-select{margin-top:1.25rem}"},31670:(e,t,a)=>{a.d(t,{c:()=>r,o:()=>n});const s=(0,a(11935).c)({portal:null,user:null,api:4,scale:"m"}),r=s.state,n=s.onChange},17613:(e,t,a)=>{a.d(t,{a:()=>p,b:()=>u,c:()=>d,e:()=>l,f:()=>g,i:()=>i});var s=a(31670),r=a(71700);const n="create feature layer",c="my content",o=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},l=e=>{const t=s.c.telemetry;null==t||t.stepWorkflow(n,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:n,attribute:o(r.a.addFeatureLayerType),pageName:c})},i=e=>{const t=s.c.telemetry;null==t||t.stepWorkflow(n,`expand ${e} details`,{category:n,attribute:o(r.a.addFeatureLayerType),pageName:c})},u=()=>{const e=s.c.telemetry;null==e||e.stepWorkflow(n,"filter",{category:n,attribute:o(r.a.addFeatureLayerType),pageName:c})},d=e=>{const t=o(e),a=s.c.telemetry;null==a||a.stepWorkflow(n,"from option",{category:n,attribute:t,pageName:c})},p=()=>{const{addFeatureLayerType:e,serviceInfo:t}=r.a,a=t,l=s.c.telemetry;null==l||l.endWorkflow(n,{category:n,attribute:o(e),pageName:c,count:a.layers.length,number:a.tables.length})},g=e=>{var t;null===(t=s.c.telemetry)||void 0===t||t.logError({category:n,error:e})}},11935:(e,t,a)=>{a.d(t,{c:()=>l});var s=a(7263);const r=e=>!("isConnected"in e)||e.isConnected,n=((e,t)=>{let a;return(...s)=>{a&&clearTimeout(a),a=setTimeout((()=>{a=0,e(...s)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(r))}),2e3),c=e=>"function"==typeof e?e():e,o=(e,t)=>{const a=e.indexOf(t);a>=0&&(e[a]=e[e.length-1],e.length--)},l=(e,t)=>{const a=((e,t=((e,t)=>e!==t))=>{const a=c(e);let s=new Map(Object.entries(null!=a?a:{}));const r={dispose:[],get:[],set:[],reset:[]},n=()=>{var t;s=new Map(Object.entries(null!==(t=c(e))&&void 0!==t?t:{})),r.reset.forEach((e=>e()))},l=e=>(r.get.forEach((t=>t(e))),s.get(e)),i=(e,a)=>{const n=s.get(e);t(a,n,e)&&(s.set(e,a),r.set.forEach((t=>t(e,a,n))))},u="undefined"==typeof Proxy?{}:new Proxy(a,{get:(e,t)=>l(t),ownKeys:e=>Array.from(s.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>s.has(t),set:(e,t,a)=>(i(t,a),!0)}),d=(e,t)=>(r[e].push(t),()=>{o(r[e],t)});return{state:u,get:l,set:i,on:d,onChange:(t,a)=>{const s=d("set",((e,s)=>{e===t&&a(s)})),r=d("reset",(()=>a(c(e)[t])));return()=>{s(),r()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(d("set",t.set)),t.get&&e.push(d("get",t.get)),t.reset&&e.push(d("reset",t.reset)),t.dispose&&e.push(d("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{r.dispose.forEach((e=>e())),n()},reset:n,forceUpdate:e=>{const t=s.get(e);r.set.forEach((a=>a(e,t,t)))}}})(e,t);return a.use((()=>{if("function"!=typeof s.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const a=(0,s.g)();a&&((e,t,a)=>{const s=e.get(t);s?s.includes(a)||s.push(a):e.set(t,[a])})(e,t,a)},set:t=>{const a=e.get(t);a&&e.set(t,a.filter(s.f)),n(e)},reset:()=>{e.forEach((e=>e.forEach(s.f))),n(e)}}})()),a}},51325:(e,t,a)=>{a.d(t,{a:()=>s,i:()=>r});const s=(0,a(11935).c)({title:"",snippet:"",tags:[],categories:[]}),r=s.state},99907:(e,t,a)=>{a.d(t,{a:()=>s,u:()=>r});const s=(0,a(11935).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),r=s.state}}]);