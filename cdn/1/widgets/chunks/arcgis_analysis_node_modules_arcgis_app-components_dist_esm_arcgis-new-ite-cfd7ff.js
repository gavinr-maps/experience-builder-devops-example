/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-cfd7ff.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-cfd7ff"],{71700:(e,t,a)=>{a.d(t,{a:()=>i,b:()=>o,c:()=>c,d:()=>s});const s=(0,a(11935).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),i=s.state,c=s.state,o=s.state},76173:(e,t,a)=>{a.d(t,{A:()=>l,N:()=>i,a:()=>o,b:()=>c,c:()=>n,d:()=>r,u:()=>s});const s=["esriFieldTypeOID","esriFieldTypeGlobalID"],i="<None>",c={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage"},o={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},l={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},r=["zip","csv","xls","xlsx","geojson","gpkg","json"],n=["zip","csv","xls","xlsx"]},55678:(e,t,a)=>{a.r(t),a.d(t,{arcgis_new_item_append_key_value_pair:()=>l});var s=a(7263),i=a(71700),c=a(99907),o=a(76173);a(11935);const l=class{constructor(e){(0,s.r)(this,e),this.keyPairChange=(0,s.c)(this,"keyPairChange",7),this.keyPairs=void 0,this.i18n=void 0,this.sourceValues=void 0,this.nameValues=void 0,this.selectedKeyPair=void 0,this.selectedSource=null,this.selectedUploadMatch=null}async componentWillLoad(){var e;const{existingItem:t,originalFileName:a}=i.a;let s=o.N;this.i18n=c.u.i18n.appendKeyValuePair,i.a.uidPair&&(s=i.a.uidPair.name,this.selectedSource=i.a.uidPair.source),this.selectedKeyPair=this.keyPairs[s],this.sourceValues=null===(e=this.selectedKeyPair)||void 0===e?void 0:e.possibleMatches,this.nameValues=Object.keys(this.keyPairs),this.originalFieldInfo=this.i18n.originalField.moreInfo.replace("${featureLayerName}",t.title),this.uploadedFieldInfo=this.i18n.uploadedField.moreInfo.replace("${uploadedFileName}",a)}handleKeyPairChange(e){const t=e.target.selectedOption.value;this.selectedKeyPair=this.keyPairs[t];const a=this.selectedKeyPair.possibleMatches.length>0?[...this.selectedKeyPair.possibleMatches]:[o.N];this.sourceValues=a,this.selectedSource=a.includes(this.selectedUploadMatch)?this.selectedUploadMatch:a[0];const s=Object.assign(Object.assign({},this.selectedKeyPair),{source:this.selectedSource,initialMatch:this.selectedSource});this.keyPairChange.emit(s)}handleSourceKeyPairChange(e){const t=e.target.selectedOption.value;this.selectedUploadMatch=t;const a=Object.assign(Object.assign({},this.selectedKeyPair),{source:t,initialMatch:t});this.keyPairChange.emit(a)}render(){const{originalFieldInfo:e,uploadedFieldInfo:t,i18n:a,selectedKeyPair:i,selectedSource:c}=this,o=this.nameValues,l=this.sourceValues;return(0,s.h)("div",{key:"5716963f61759a126f20b02368d9aa539af4078b",class:"key-pair-page"},(0,s.h)("div",{key:"506ce041585c5bf80ba516d75f1fef865adde083",class:"select-and-label"},(0,s.h)("arcgis-new-item-description",{key:"45d1bbc32e832837f859d16f83af4ee1a699c97b",header:a.selectUniqueIdentifier,content:a.selectUniqueIdentifierDescription}),(0,s.h)("div",{key:"1aee3b8845666f8c075e7a75abe931d1cea04273",class:"select-wrapper"},(0,s.h)("calcite-label",{key:"bbeaf6ca288223954c221cbac6d2843f5b4f3927",class:"name-key-pair-select"},(0,s.h)("span",{key:"de71348ddc3d9c88bb87d71211412ed342cad9a2",class:"original-field",role:"columnheader"},(0,s.h)("span",{key:"854f0941ed3778b3be4ef9bad60576e26d083042",class:"original-field-header"},a.originalField.header),(0,s.h)("arcgis-information",{key:"cab5204cc1d08d2999936dca0fbdf185a5c8a644",class:"original-field-popover",label:e,placement:"top-start",paddedContent:!0},(0,s.h)("p",{key:"2960b79e297585ae2cca1bd2e433493ed7b870de",class:"popover-content"},e))),(0,s.h)("calcite-select",{key:"3b497cd5dea668e910c34910f1251a086bab147b",width:"full",label:a.selectUniqueIdentifier,onCalciteSelectChange:this.handleKeyPairChange.bind(this)},o.map(((e,t)=>(0,s.h)("calcite-option",{key:t,selected:e===i.name},`${e}`))))),(0,s.h)("calcite-label",{key:"da4997f8bab24360e03c9d7013cd57d8c892252b",class:"source-key-pair-select"},(0,s.h)("span",{key:"6c577a9ce2ad53183da1af4ba3389c2ec70dc57a",class:"uploaded-field"},(0,s.h)("span",{key:"a85bb8ec1d1a8a7893ff98bb03b970db2e65d069",class:"uploaded-field-header"},a.uploadedField.header),(0,s.h)("arcgis-information",{key:"1f308302775865be8957b391a6b7e6f7e005aa0c",class:"uploaded-field-popover",label:t,placement:"top-start",paddedContent:!0},(0,s.h)("p",{key:"6185b48e77e3d4da82818bad3bb146d018646510",class:"popover-content"},t))),(0,s.h)("calcite-select",{key:"29e340c2b8d3809c563a39e26cd3bad022c505f1",width:"full",label:a.selectUniqueIdentifier,onCalciteSelectChange:this.handleSourceKeyPairChange.bind(this)},(l||[]).map(((e,t)=>(0,s.h)("calcite-option",{key:t,selected:e===c},`${e}`))))))))}get el(){return(0,s.d)(this)}};l.style=".description{margin-bottom:1rem;font-size:0.875rem;font-weight:300}.header{margin-bottom:0.5rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.description-label{margin-top:0.5rem;font-size:0.75rem}.key-pair-select{font-size:0.875rem}.key-pair-page{margin-bottom:1rem}.select-wrapper{margin-top:0.5rem;margin-bottom:2rem;display:flex;flex-direction:row;background-color:var(--calcite-color-background);padding-top:1rem;padding-bottom:0.75rem}.source-key-pair-select{margin-left:0.75rem;margin-right:1rem;width:100%}.name-key-pair-select{margin-right:0.75rem;margin-left:1rem;width:100%}.select-and-label{display:flex;flex-direction:column}.popover-icon{cursor:pointer;color:var(--calcite-color-text-3);margin-inline-start:0.75rem;margin-top:0.125rem}.popover-content{margin:0px;font-size:0.75rem;font-weight:400}.original-field,.uploaded-field{display:flex}.original-field-header,.uploaded-field-header{font-weight:500}.original-field-popover,.uploaded-field-popover{margin-top:-0.313rem}"},11935:(e,t,a)=>{a.d(t,{c:()=>r});var s=a(7263);const i=e=>!("isConnected"in e)||e.isConnected,c=((e,t)=>{let a;return(...s)=>{a&&clearTimeout(a),a=setTimeout((()=>{a=0,e(...s)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(i))}),2e3),o=e=>"function"==typeof e?e():e,l=(e,t)=>{const a=e.indexOf(t);a>=0&&(e[a]=e[e.length-1],e.length--)},r=(e,t)=>{const a=((e,t=((e,t)=>e!==t))=>{const a=o(e);let s=new Map(Object.entries(null!=a?a:{}));const i={dispose:[],get:[],set:[],reset:[]},c=()=>{var t;s=new Map(Object.entries(null!==(t=o(e))&&void 0!==t?t:{})),i.reset.forEach((e=>e()))},r=e=>(i.get.forEach((t=>t(e))),s.get(e)),n=(e,a)=>{const c=s.get(e);t(a,c,e)&&(s.set(e,a),i.set.forEach((t=>t(e,a,c))))},d="undefined"==typeof Proxy?{}:new Proxy(a,{get:(e,t)=>r(t),ownKeys:e=>Array.from(s.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>s.has(t),set:(e,t,a)=>(n(t,a),!0)}),h=(e,t)=>(i[e].push(t),()=>{l(i[e],t)});return{state:d,get:r,set:n,on:h,onChange:(t,a)=>{const s=h("set",((e,s)=>{e===t&&a(s)})),i=h("reset",(()=>a(o(e)[t])));return()=>{s(),i()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(h("set",t.set)),t.get&&e.push(h("get",t.get)),t.reset&&e.push(h("reset",t.reset)),t.dispose&&e.push(h("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{i.dispose.forEach((e=>e())),c()},reset:c,forceUpdate:e=>{const t=s.get(e);i.set.forEach((a=>a(e,t,t)))}}})(e,t);return a.use((()=>{if("function"!=typeof s.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const a=(0,s.g)();a&&((e,t,a)=>{const s=e.get(t);s?s.includes(a)||s.push(a):e.set(t,[a])})(e,t,a)},set:t=>{const a=e.get(t);a&&e.set(t,a.filter(s.f)),c(e)},reset:()=>{e.forEach((e=>e.forEach(s.f))),c(e)}}})()),a}},99907:(e,t,a)=>{a.d(t,{a:()=>s,u:()=>i});const s=(0,a(11935).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),i=s.state}}]);