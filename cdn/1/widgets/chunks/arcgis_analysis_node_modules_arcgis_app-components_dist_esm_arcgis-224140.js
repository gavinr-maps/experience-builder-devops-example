/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-224140.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-224140"],{48338:(e,t,r)=>{r.r(t),r.d(t,{arcgis_drag_and_drop:()=>u});var n=r(7263),i=r(62159),o=r(73596),l=r(59296),s=r(7380);r(78613),r(58233),r(28926),r(70506),r(99004),r(86537),r(2174),r(94788),r(31670),r(11935);const a={append:120001300,default:120000456};const u=class{constructor(e){(0,n.r)(this,e),this.arcgisDropSuccess=(0,n.c)(this,"arcgisDropSuccess",7),this.arcgisAlertActive=(0,n.c)(this,"arcgisAlertActive",7),this.arcgisDragOver=(0,n.c)(this,"arcgisDragOver",7),this.config=void 0,this.user=void 0,this.active=!0,this.alertMessage={title:""},this.alertActive=!1,this.error=!1,this.files=void 0,this.allowedExtensions=null,this.validTypes=null,this.dragOverNoticeMessage=void 0,this.insideModal=void 0,this.fullHeight=void 0,this.showHelpLinkOnError=!0,this.maxFileSize=void 0,this.helpIdType="default",this.isFolder=!1,this.dragOver=void 0}handleAlertChange(){var e,t;const{alertActive:r}=this;r?(window.dispatchEvent(new CustomEvent("calciteInternalAlertSync",{detail:{queue:[]}})),null===(e=this.el.shadowRoot.querySelector("#new-item-alert"))||void 0===e||e.setAttribute("active","")):null===(t=this.el.shadowRoot.querySelector("#new-item-alert"))||void 0===t||t.removeAttribute("active"),this.arcgisAlertActive.emit(r)}handleFileUpdate(){const{files:e,i18n:t,isFolder:r,user:n,config:i,validTypes:u,helpIdType:c}=this,{success:d,errorMessage:v}=function({fileConstraints:e,files:t,isFolder:r,uiInfo:n,user:i}){var u,c;const{helpBase:d,helpMap:v,i18n:p,helpIdType:h}=n,{extension:f}=(0,o.s)(t[0]),{maxFileSize:g,allowedExtensions:m}=e;let y,b=!1;const w=null===(u=null==m?void 0:m.includes(f))||void 0===u||u,S=Object.keys(t).some((e=>{const{extension:r}=(0,o.s)(t[e]);return["shp","shx","dbf","prj"].includes(r)})),x=null!==(c=e.validationTypes)&&void 0!==c?c:null,k=(0,s.f)((0,o.s)(t[0]).extension,x)[0],T=k&&(k.appendUploadFormat||k.allowAddDirect||!k.orgOnly||!(0,l.a)(i));if(S)y={title:p.error.shapefileErrorTitle,message:p.error.shapefileErrorMessage,link:{text:p.error.shapefileErrorLink,path:`${d}${v[120002804]}`}};else if(t.length>1)y={title:p.error.multipleFilesErrorTitle,message:p.error.multipleFilesErrorMessage};else if(null!=g&&t[0].size>g){const e=g/1e6;y={message:p.error.maxSize.replace("${size}",e.toString())}}else if(T&&w)b=!0;else{const e=a[h];y=r?{message:p.error.folderError}:{title:p.error.unsupportedFileTypeTitle,link:{text:p.error.unsupportedFileTypeMessage,path:`${d}${v[e]}`}}}return{success:b,errorMessage:y}}({files:e,isFolder:r,user:n,fileConstraints:{allowedExtensions:this.allowedExtensions,maxFileSize:this.maxFileSize,validationTypes:u},uiInfo:{helpIdType:c,i18n:t,helpBase:i.helpBase,helpMap:i.helpMap}});d?this.arcgisDropSuccess.emit(e[0]):(this.alertMessage=v,this.alertActive=!0)}handleDragOver(e){if(e.dataTransfer.types.includes("Files")){if(this.wellRef){const e=window.innerHeight,{y:t,bottom:r}=this.wellRef.getBoundingClientRect(),n=Math.max(t,0),i=Math.min(e,r);this.noticeRef.style.height=i-n+"px";const o=-Math.min(0,t);this.noticeRef.style.top=`${o}px`}e.preventDefault(),this.dragOver=!0,this.arcgisDragOver.emit(this.dragOver)}return!1}async componentWillLoad(){const e=await(0,i.g)(this.el);this.i18n=e[0]}render(){const{title:e,message:t,link:r}=this.alertMessage,{text:i,path:o}=Object.assign({},r),{active:l,dragOverNoticeMessage:s,dragOver:a,insideModal:u,fullHeight:c,showHelpLinkOnError:d}=this;return(0,n.h)("div",{key:"2a205c8b2440f51e1173d4c310af4bfa97293312",ref:e=>this.wellRef=e,class:{hide:!l,"drag-and-drop-well":!0,dragging:this.dragOver,"full-height":c},onDragOver:l&&this.handleDragOver.bind(this),onDragLeave:()=>{this.dragOver=!1},onDrop:e=>{var t,r,n,i;if(!l)return;e.preventDefault(),this.alertActive=!1,this.dragOver=!1;const{files:o,items:s}=e.dataTransfer,a=null==s?void 0:s[0];this.isFolder=(null===(i=null!==(r=null===(t=a.webkitGetAsEntry)||void 0===t?void 0:t.call(a))&&void 0!==r?r:null===(n=null==a?void 0:a.getAsEntry)||void 0===n?void 0:n.call(a))||void 0===i?void 0:i.isDirectory)||!1,this.files=o}},(0,n.h)("slot",{key:"ddcd6806600c3a8c410ca132086ce8dc7872e5a2"}),u?(0,n.h)("arcgis-new-item-alert",{id:"new-item-alert",kind:"danger",onAlertDismiss:()=>{this.alertActive=!1},active:!!this.alertActive,heading:e,description:t,link:{href:null==r?void 0:r.path,title:null==r?void 0:r.text}}):(0,n.h)("calcite-alert",{label:"",id:"new-item-alert",icon:"exclamation-mark-triangle",kind:"danger",onCalciteAlertClose:()=>{this.alertActive=!1},open:!!this.alertActive,tabIndex:this.alertActive?null:-1,ref:e=>{const t=e.shadowRoot.querySelector(".alert-queue-count");t&&(t.style.display="none")}},e&&(0,n.h)("div",{slot:"title"},e),t&&(0,n.h)("div",{slot:"message",class:"alert__message"},t),d&&r&&(0,n.h)("calcite-link",{slot:"link",target:"_blank",href:o,class:"alert__link"},i)),(0,n.h)("div",{key:"f1539be14e2d167316343db7c6a58fefc6bbb762",class:"notice-container",ref:e=>this.noticeRef=e},s&&(0,n.h)("calcite-notice",{key:"a5d69e52302000df07c526dfd864e6529b57f259",icon:"upload-to",open:a,scale:"m",width:"auto"},(0,n.h)("div",{key:"733e5efe2de310d2afe56ecc11a42768a7e0bad9",slot:"message"},s))))}get el(){return(0,n.d)(this)}static get watchers(){return{alertActive:["handleAlertChange"],files:["handleFileUpdate"]}}};u.style='.drag-and-drop-well{position:relative}.drag-and-drop-well ::slotted(*){transition:all 200ms ease-in-out;position:relative}.drag-and-drop-well ::slotted(*):before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 121, 193, 0) !important;pointer-events:none;transition:background-color 200ms ease-in-out !important;z-index:2}.dragging ::slotted(*){border-color:#007ac2 !important}.dragging ::slotted(*):before{border-color:#007ac2 !important;background-color:rgba(0, 121, 193, 0.05) !important}.notice-container{display:flex;align-items:center;justify-content:center;position:absolute;top:0px;left:0px;right:0px;pointer-events:none;z-index:10}.alert__message{display:block;line-height:1.375}.alert__link{display:inline}.full-height{height:100%}'},31670:(e,t,r)=>{r.d(t,{c:()=>i,o:()=>o});const n=(0,r(11935).c)({portal:null,user:null,api:4,scale:"m"}),i=n.state,o=n.onChange},73596:(e,t,r)=>{r.d(t,{a:()=>o,f:()=>u,g:()=>a,s:()=>l,v:()=>s});var n=r(86537),i=r(46227);function o(e,t){const r=/(?:\.([^.]+))?$/;let n=null==e?void 0:e.replace(/^.*(\\|\/|:)/,""),o=n&&r.exec(n)[1]?r.exec(n)[1].toLowerCase():"",l="";if(n.indexOf(".rft.")>-1){const[e,t]=n.split(".rft.");o=`rft.${t}`,l=e}return n&&!l&&(l=-1===n.lastIndexOf(".")?n:n.substring(0,n.lastIndexOf("."))),l=l.replace(/\.|-/g,"_"),t&&(l=function(e){return`${e}_${(0,i.g)()}`}(l),n=`${l}.${o}`),{title:l,fileName:n,extension:o}}function l(e,t){return o(e.name,!!t)}function s(e,t){let r=e;const n=e.lastIndexOf("\\");return n>-1&&(r=r.substring(n+1,r.length)),r.replace(/\ /g,"_")===t.replace(/\ /g,"_")}function a(e){return n.a[e]?n.a[e]:n.a[Object.keys(n.a).find((t=>n.a[t].type===e))]}function u(e){if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t))} ${["B","KB","MB","GB","TB"][t]}`}},11246:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>v,c:()=>i,d:()=>n,e:()=>o,f:()=>c,g:()=>p,i:()=>l,m:()=>s,t:()=>a,u:()=>d});const n=(e,t)=>{let r,n="idle";const i=(...i)=>new Promise((o=>{switch(n){case"flushed":n="idle",r?(clearTimeout(r),o(e(...i))):o(null);break;case"invoked":clearTimeout(r),n="idle",o(e(...i));break;case"cancelled":clearTimeout(r),n="idle",o(null);break;default:r&&clearTimeout(r),n="pending",r=setTimeout((()=>(n="idle",o(e(...i)))),t)}}));return i.flush=function(...e){return n="flushed",i(...e)},i.invoke=function(...e){return n="invoked",i(...e)},i.cancel=function(...e){return n="cancelled",i(...e)},i.getStatus=function(){return n},i},i=(e,t)=>{let r;return(...n)=>new Promise((i=>{r||(r=setTimeout((()=>{clearTimeout(r),r=void 0,i(e(...n))}),t))}))};function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(e){return null!=e}async function s(e,t){return await Promise.all([e,a(t)]),e}function a(e){return new Promise((t=>setTimeout(t,e)))}const u=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:r,data:n}=t(e);return[r,n]}))),c=(e,t)=>e.length===t.length&&e.reduce(((e,r)=>e&&t.indexOf(r)>-1),!0);function d(e,t){const r=[],n={};return e.forEach((e=>{const i=t(e);null==n[i]&&(n[i]=e,r.push(e))})),r}function v(e){const t={boolean:{},number:{},string:{}},r=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(r.indexOf(e)>=0)&&r.push(e)}))}const p=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((r,n)=>e.slice(t*n,t+t*n)))},46227:(e,t,r)=>{r.d(t,{g:()=>n});const n=()=>[2,1,1,1,3].map((e=>{let t="";for(let r=0;r<e;r++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},11935:(e,t,r)=>{r.d(t,{c:()=>a});var n=r(7263);const i=e=>!("isConnected"in e)||e.isConnected,o=((e,t)=>{let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout((()=>{r=0,e(...n)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(i))}),2e3),l=e=>"function"==typeof e?e():e,s=(e,t)=>{const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.length--)},a=(e,t)=>{const r=((e,t=((e,t)=>e!==t))=>{const r=l(e);let n=new Map(Object.entries(null!=r?r:{}));const i={dispose:[],get:[],set:[],reset:[]},o=()=>{var t;n=new Map(Object.entries(null!==(t=l(e))&&void 0!==t?t:{})),i.reset.forEach((e=>e()))},a=e=>(i.get.forEach((t=>t(e))),n.get(e)),u=(e,r)=>{const o=n.get(e);t(r,o,e)&&(n.set(e,r),i.set.forEach((t=>t(e,r,o))))},c="undefined"==typeof Proxy?{}:new Proxy(r,{get:(e,t)=>a(t),ownKeys:e=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>n.has(t),set:(e,t,r)=>(u(t,r),!0)}),d=(e,t)=>(i[e].push(t),()=>{s(i[e],t)});return{state:c,get:a,set:u,on:d,onChange:(t,r)=>{const n=d("set",((e,n)=>{e===t&&r(n)})),i=d("reset",(()=>r(l(e)[t])));return()=>{n(),i()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(d("set",t.set)),t.get&&e.push(d("get",t.get)),t.reset&&e.push(d("reset",t.reset)),t.dispose&&e.push(d("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{i.dispose.forEach((e=>e())),o()},reset:o,forceUpdate:e=>{const t=n.get(e);i.set.forEach((r=>r(e,t,t)))}}})(e,t);return r.use((()=>{if("function"!=typeof n.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const r=(0,n.g)();r&&((e,t,r)=>{const n=e.get(t);n?n.includes(r)||n.push(r):e.set(t,[r])})(e,t,r)},set:t=>{const r=e.get(t);r&&e.set(t,r.filter(n.f)),o(e)},reset:()=>{e.forEach((e=>e.forEach(n.f))),o(e)}}})()),r}},2174:(e,t,r)=>{r.d(t,{a:()=>s,b:()=>l,c:()=>c,d:()=>d,e:()=>v,f:()=>f,g:()=>k,h:()=>g,i:()=>a,j:()=>b,k:()=>w,l:()=>m,m:()=>x,n:()=>S,o:()=>h,p:()=>y,q:()=>p,u:()=>u});var n=r(28926),i=r(94788);function o(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function l(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function s(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function a(e,t){return e.owner===t.username}function u(e,t){return a(e,t)||function(e,t){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,i="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!a(e,t)&&i&&n.includes("esri_")&&!o.includes(n))return!1;return i}(e,t)}const c=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,i.a)(t)}item.html?id=${e}`,v=(e,t)=>`${(0,i.g)(t)}/content/users/${e}`,p=e=>e.reduce(((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e)),{});function h(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Spatiotemporal")}function f(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("View Service")}function g(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Hosted Service")}function m(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Multi Services View")}function y(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function b(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);if(null==o?void 0:o.user){return l(`${(0,i.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r;const n=null!==(r=null===(t=e.data)||void 0===t?void 0:t.groups)&&void 0!==r?r:[];return Promise.resolve(n)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function w(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);return l(`${(0,i.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r,n,i,o,l;const s=[...null!==(r=null===(t=e.data)||void 0===t?void 0:t.admin)&&void 0!==r?r:[],...null!==(i=null===(n=e.data)||void 0===n?void 0:n.member)&&void 0!==i?i:[],...null!==(l=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==l?l:[]];return Promise.resolve(s)}),(()=>Promise.reject()))}async function S(e,t,{relationshipType:r,direction:o}){const l=`${(0,i.g)(t)}content/items/${e}/relatedItems`,[s]=await(0,n.l)(["esri/request"]);return await s(l,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function x(e,t){return null==e?void 0:e.some((e=>null==t?void 0:t.some((t=>e.id===t.id&&e.capabilities.includes("updateitemcontrol")))))}const k=(e,t)=>`${t}/content/items/${e}`},7380:(e,t,r)=>{r.d(t,{a:()=>a,f:()=>o,i:()=>s,m:()=>l});var n=r(11246),i=r(86537);function o(e,t){let r;r=t?t.map((e=>e.type)):Object.keys(i.a);let n=[];return r.forEach((t=>{var r;(null===(r=i.a[t].fileExt)||void 0===r?void 0:r.indexOf(e))>=0&&n.push(i.a[t])})),n}function l(e){return e?(0,n.b)(e.flatMap((e=>{var t;return null===(t=i.a[e])||void 0===t?void 0:t.fileExt})).filter((e=>!!e))):null}const s=e=>e/1024/1024>50,a=e=>e/1024/1024>20},94788:(e,t,r)=>{r.d(t,{a:()=>p,b:()=>v,c:()=>y,d:()=>b,e:()=>f,f:()=>o,g:()=>m,h:()=>l,i:()=>g,p:()=>d,r:()=>a,s:()=>i,t:()=>h,v:()=>u});var n=r(31670);const i=/\+|\?|\/|\(|\)|\\|\!|\#|\"|\||\*|\:|<|>|\%|\$|\@|\'|\^|\[|\]|\,|\=|\;/gi,o=/(\.|outputFormat=)json|geojson$/i,l=/\/ags\//gi,s="MapServer|GeocodeServer|GPServer|GeometryServer|ImageServer|NAServer|FeatureServer|GeoDataServer|GlobeServer|MobileServer|WMServer|SceneServer|VectorTileServer|StreamServer|WorkspaceServer|GeoenrichmentServer|VideoServer",a=new RegExp(`http.+/(${s})`),u="/arcgis/rest/services|/rest/services|/arcgis/services|/arcgis/rest",c=new RegExp(`(?<server>http.+(?:${u})(?:/?.*/(?<name>.*)/(?<type>${s})))(?!.*/${s})/?(?<soe>\\d+)?.*`,"i"),d=e=>{const t=e.match(c);if(!t){return e.match(l)?{baseServerUrl:e,serverName:null,serverType:"MapServer",index:null}:null}const[,r,n,i,o]=t,s=parseInt(o);return{baseServerUrl:r,serverName:n,serverType:i,index:isNaN(s)?null:s}},v=e=>{if(!e)return null;if(!e.match(u))return null;const t=e.split("/rest");return t.length<2?null:`${t[0]}/rest/`},p=e=>e&&"/"!==e.charAt(e.length-1)?`${e}/`:e,h=({path:e,url:t})=>{const r=t.split("/"),n=e.split("/");return r.slice(0,r.length-n.length).join("/")};function f(e){const{customBaseUrl:t,portalHostname:r,urlKey:n}=e,{protocol:i}=window.location;return`${i}//${n?`${n}.${t}`:r}`}function g(e){var t,r;return null!==(t=null==e?void 0:e.isWebTierAuth)&&void 0!==t?t:null===(r=e.sourceJSON)||void 0===r?void 0:r.isWebTierAuth}function m(e){var t;const{portal:r,config:i}=n.c||{};return null!==(t=p(null==i?void 0:i.restBaseUrl))&&void 0!==t?t:y(e||r)}function y(e){var t;return p(null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl)}function b(e){var t,r,n;return(null===(r=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.sourceJSON)||void 0===r?void 0:r.culture)||(null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.culture)||navigator.language||"en-US"}},59296:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>p,c:()=>v,d:()=>d,e:()=>h,f:()=>g,g:()=>f,h:()=>O,i:()=>u,j:()=>a,k:()=>m,l:()=>M,m:()=>b,n:()=>w,o:()=>T,p:()=>x,q:()=>S,r:()=>k,s:()=>_,t:()=>c,u:()=>$,v:()=>l,w:()=>s});var n=r(2174);const i=e=>{var t,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function l(e,t){return(0,n.u)(e,t)||"update"===e.itemControl||(0,n.c)([e],t)&&v(t)}function s(e,t){const r=(0,n.c)([e],t),i=(0,n.u)(e,t)||v(t)&&r,o=h(t)&&y(t);return!!(i||r&&o)}const a=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))};function u(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}const d=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")};function v(e){return"org_admin"===i(e)||"account_admin"===i(e)}function p(e){return["org_admin","account_admin"].includes(i(e))&&!(null==e?void 0:e.roleId)}function h(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function f(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function g(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function m(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const y=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function O(e,t,r,n){const i=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!v(t)&&!o||!(null==r?void 0:r.isPortal)&&!i)}function $(e){return!!e&&(!h(e)||h(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const _=({items:e,user:t,portal:r})=>{const i=e[0],o=i.owner;if(r.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const s=(0,n.u)(i,t),a=h(t),u=A(t),c=l(i,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!a&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||b(e)||w(e)||!!t.canSharePublic&&S(e)}(t,r)||A(t));return s||c||(0,n.c)(e,t)&&u};function A(e){return T(e)||x(e)||k(e)}function M(e){const t=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>t.includes(e)))}}}]);