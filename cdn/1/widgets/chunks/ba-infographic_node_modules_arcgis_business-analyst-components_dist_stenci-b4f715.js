"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dist_stenci-b4f715"],{54615:(e,t,i)=>{i.r(t),i.d(t,{arcgis_infographic_modal:()=>n});var o=i(41488),s=i(22897);const n=class{constructor(e){(0,o.r)(this,e),this._idPrefix="arcgis-infographic-modal-",this.isOpen=!1,this.baseConfig=new s.a("modal",this,this.onUpdateUI),this._instanceId=s.E.generateId(this._idPrefix).id}onConfigChange(e,t){if(s.a.LogConfig("MODAL config change",e,t),e&&"string"==typeof e&&s.A.hasText(e)){const t=JSON.parse(e);s.a.LogConfig("BAC Modal config changing... ",t,t.username,t.token),this.baseConfig.updateConfig(t)}}onInvalidHierarchy(){this.el.style.setProperty("background-color","#f4f4f4"),this.el.style.setProperty("position","absolute"),this.el.style.setProperty("top","0"),this.el.style.setProperty("left","0"),this.el.style.setProperty("width","100%"),this.el.style.setProperty("height","100%")}onUpdateUI(){}setLocaleStrings(){}async componentWillLoad(){if(s.a.LogConfig("BAC Modal willLoad",this.config),this.config){let e="object"==typeof this.config?JSON.stringify(this.config):this.config;this.onConfigChange(e,"")}}componentDidLoad(){this.baseConfig&&this.baseConfig.onComponentHasRendered()}componentDidUpdate(){this.baseConfig&&this.baseConfig.onComponentHasRendered()}render(){if(!this.searchResultObj)return;const{env:e,username:t,token:i,geoenrichmentUrl:n,sourceCountry:r,selectedHierarchy:a,langCode:h}=this.baseConfig.config,{name:g,attributes:c,geometry:l,geography:f,symbol:p}=this.searchResultObj;return s.a.Log("BAC Modal render",this.baseConfig.config,this.infographicOptions),(0,o.h)("arcgis-infographic",{id:this.modalId,env:e,username:t,token:i,geoenrichmentUrl:n,portalUrl:this.portalUrl,portalOnlineGEProxy:this.portalOnlineGEProxy,locationName:g,locationAttributes:JSON.stringify(c),sourceCountry:r,selectedHierarchy:a,options:JSON.stringify(this.infographicOptions),langCode:h,reportId:this.selectedReport,reportLocation:`${this.searchResultObj.lon},${this.searchResultObj.lat}`,reportgeometry:JSON.stringify(l),reportgeography:JSON.stringify(f),onInvalidHierarchy:()=>this.onInvalidHierarchy(),reportsymbol:JSON.stringify(p)})}get el(){return(0,o.g)(this)}static get watchers(){return{config:["onConfigChange"]}}};n.style=":host{display:block}.arcgisInfographicModalDeprecated{background-color:#f4f4f4;position:absolute;top:0;left:0;width:100%;height:100%}"}}]);