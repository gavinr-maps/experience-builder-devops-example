System.register(["jimu-core","jimu-ui","jimu-ui/advanced/map","jimu-ui/advanced/setting-components","jimu-theme","jimu-arcgis"],(function(o,t){var e={},s={},i={},l={},n={},m={};return{setters:[function(o){e.Immutable=o.Immutable,e.React=o.React,e.css=o.css,e.jsx=o.jsx,e.polished=o.polished},function(o){s.Radio=o.Radio},function(o){i.JimuSymbolType=o.JimuSymbolType,i.SymbolSelector=o.SymbolSelector},function(o){l.SettingRow=o.SettingRow,l.SettingSection=o.SettingSection},function(o){n.withTheme=o.withTheme},function(o){m.featureUtils=o.featureUtils,m.loadArcGISJSAPIModules=o.loadArcGISJSAPIModules}],execute:function(){o((()=>{"use strict";var o={26826:o=>{o.exports=m},48891:o=>{o.exports=e},34796:o=>{o.exports=n},30726:o=>{o.exports=s},58290:o=>{o.exports=i},77756:o=>{o.exports=l}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,a),i.exports}a.d=(o,t)=>{for(var e in t)a.o(t,e)&&!a.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})},a.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t),a.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};return(()=>{a.r(r),a.d(r,{default:()=>m});var o=a(48891),t=a(30726),e=a(58290),s=a(77756);var i=a(34796),l=a(26826);class n extends o.React.PureComponent{constructor(t){super(t),this.modalStyle={position:"absolute",top:"0",bottom:"0",width:"259px",height:"auto",borderRight:"",borderBottom:"",paddingBottom:"1px"},this.handleIsUseCustomSymbolOption=o=>{this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config.set("isUseCustomSymbol",o).set("symbolOption",null)})},this.onSymbolChanged=(o,t)=>{this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config.setIn(["symbolOption",t],o.toJSON())})},this.onSymbolCreated=(o,t)=>{this.defaultSymbolOption=this.defaultSymbolOption.set(t,null==o?void 0:o.toJSON()),!this.props.config.symbolOption&&this.defaultSymbolOption.pointSymbol&&this.defaultSymbolOption.polylineSymbol&&this.defaultSymbolOption.polygonSymbol&&this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config.setIn(["symbolOption"],this.defaultSymbolOption)})},this.getInitSymbolFromConfig=o=>{let t;const s=this.props.config.symbolOption;return this.jsonUtils&&(o===e.JimuSymbolType.Point?t=(null==s?void 0:s.pointSymbol)?s.pointSymbol:l.featureUtils.getDefaultSymbol("point"):o===e.JimuSymbolType.Polyline?t=(null==s?void 0:s.polylineSymbol)?s.polylineSymbol:l.featureUtils.getDefaultSymbol("polyline"):o===e.JimuSymbolType.Polygon&&(t=(null==s?void 0:s.polygonSymbol)?s.polygonSymbol:l.featureUtils.getDefaultSymbol("polygon"))),t?this.jsonUtils.fromJSON(t):null},this.jsonUtils=null,this.defaultSymbolOption=(0,o.Immutable)({}),this.state={isModulesLoaded:!1}}componentDidMount(){(0,l.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils"]).then((o=>{[this.jsonUtils]=o,this.setState({isModulesLoaded:!0})})),this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config})}getStyle(t){return o.css`
      .setting-header {
        padding: ${o.polished.rem(10)} ${o.polished.rem(16)} ${o.polished.rem(0)} ${o.polished.rem(16)}
      }

      .deleteIcon {
        cursor: pointer;
        opacity: .8;
      }

      .deleteIcon:hover {
        opacity: 1;
      }
    `}render(){return(0,o.jsx)("div",{css:this.getStyle(this.props.theme)},(0,o.jsx)(s.SettingSection,{title:this.props.intl.formatMessage({id:"symbol",defaultMessage:"symbol"})},(0,o.jsx)(s.SettingRow,null,(0,o.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},(0,o.jsx)("div",{className:"align-items-center d-flex"},(0,o.jsx)(t.Radio,{style:{cursor:"pointer"},checked:!this.props.config.isUseCustomSymbol,onChange:()=>this.handleIsUseCustomSymbolOption(!1)}),(0,o.jsx)("label",{className:"m-0 ml-2",style:{cursor:"pointer"}},this.props.intl.formatMessage({id:"mapAction_UseLayerDefinedSymbols",defaultMessage:"Use layer defined symbols"}))))),(0,o.jsx)(s.SettingRow,null,(0,o.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},(0,o.jsx)("div",{className:"align-items-center d-flex"},(0,o.jsx)(t.Radio,{style:{cursor:"pointer"},checked:this.props.config.isUseCustomSymbol,onChange:()=>this.handleIsUseCustomSymbolOption(!0)}),(0,o.jsx)("label",{className:"m-0 ml-2",style:{cursor:"pointer"}},this.props.intl.formatMessage({id:"mapAction_UseCustomSymbols",defaultMessage:"Use custom symbols"}))))),this.props.config.isUseCustomSymbol&&this.jsonUtils&&(0,o.jsx)(s.SettingSection,null,(0,o.jsx)(s.SettingRow,{label:this.props.intl.formatMessage({id:"mapAction_Point",defaultMessage:"Point"})},(0,o.jsx)(e.SymbolSelector,{jimuSymbolType:e.JimuSymbolType.Point,symbol:this.getInitSymbolFromConfig(e.JimuSymbolType.Point),onPointSymbolChanged:o=>this.onSymbolChanged(o,"pointSymbol"),onCreated:o=>this.onSymbolCreated(o.symbol,"pointSymbol")})),(0,o.jsx)(s.SettingRow,{label:this.props.intl.formatMessage({id:"mapAction_Polyline",defaultMessage:"Polyline"})},(0,o.jsx)(e.SymbolSelector,{jimuSymbolType:e.JimuSymbolType.Polyline,symbol:this.getInitSymbolFromConfig(e.JimuSymbolType.Polyline),onPolylineSymbolChanged:o=>this.onSymbolChanged(o,"polylineSymbol"),onCreated:o=>this.onSymbolCreated(o.symbol,"polylineSymbol")})),(0,o.jsx)(s.SettingRow,{label:this.props.intl.formatMessage({id:"mapAction_Polygon",defaultMessage:"Polygon"})},(0,o.jsx)(e.SymbolSelector,{jimuSymbolType:e.JimuSymbolType.Polygon,symbol:this.getInitSymbolFromConfig(e.JimuSymbolType.Polygon),onPolygonSymbolChanged:o=>this.onSymbolChanged(o,"polygonSymbol"),onCreated:o=>this.onSymbolCreated(o.symbol,"polygonSymbol")})))))}}n.defaultProps={config:(0,o.Immutable)({isUseCustomSymbol:!0})};const m=(0,i.withTheme)(n)})(),r})())}}}));