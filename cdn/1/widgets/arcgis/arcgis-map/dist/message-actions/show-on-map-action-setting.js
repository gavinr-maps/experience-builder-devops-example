System.register(["jimu-core","jimu-ui","jimu-ui/advanced/map","jimu-ui/advanced/setting-components","jimu-theme","jimu-arcgis"],(function(o,e){var t={},s={},i={},l={},n={},m={};return{setters:[function(o){t.Immutable=o.Immutable,t.React=o.React,t.css=o.css,t.jsx=o.jsx,t.polished=o.polished},function(o){s.Radio=o.Radio},function(o){i.JimuSymbolType=o.JimuSymbolType,i.SymbolSelector=o.SymbolSelector},function(o){l.SettingRow=o.SettingRow,l.SettingSection=o.SettingSection},function(o){n.withTheme=o.withTheme},function(o){m.featureUtils=o.featureUtils,m.loadArcGISJSAPIModules=o.loadArcGISJSAPIModules}],execute:function(){o((()=>{"use strict";var o={62686:o=>{o.exports=m},79244:o=>{o.exports=t},1888:o=>{o.exports=n},14321:o=>{o.exports=s},48993:o=>{o.exports=i},79298:o=>{o.exports=l}},e={};function a(t){var s=e[t];if(void 0!==s)return s.exports;var i=e[t]={exports:{}};return o[t](i,i.exports,a),i.exports}a.d=(o,e)=>{for(var t in e)a.o(e,t)&&!a.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})},a.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),a.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var r={};return(()=>{a.r(r),a.d(r,{default:()=>b});var o=a(79244),e=a(14321),t=a(48993),s=a(79298);const i="Point",l="Polyline",n="Polygon",m="Use layer-defined symbols",y="Use custom symbols";var p=a(1888),d=a(62686);class u extends o.React.PureComponent{constructor(e){super(e),this.modalStyle={position:"absolute",top:"0",bottom:"0",width:"259px",height:"auto",borderRight:"",borderBottom:"",paddingBottom:"1px"},this.handleIsUseCustomSymbolOption=o=>{this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config.set("isUseCustomSymbol",o).set("symbolOption",null)})},this.onSymbolChanged=(o,e)=>{this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config.setIn(["symbolOption",e],o.toJSON())})},this.onSymbolCreated=(o,e)=>{this.defaultSymbolOption=this.defaultSymbolOption.set(e,null==o?void 0:o.toJSON()),!this.props.config.symbolOption&&this.defaultSymbolOption.pointSymbol&&this.defaultSymbolOption.polylineSymbol&&this.defaultSymbolOption.polygonSymbol&&this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config.setIn(["symbolOption"],this.defaultSymbolOption)})},this.getInitSymbolFromConfig=o=>{let e;const s=this.props.config.symbolOption;return this.jsonUtils&&(o===t.JimuSymbolType.Point?e=(null==s?void 0:s.pointSymbol)?s.pointSymbol:d.featureUtils.getDefaultSymbol("point"):o===t.JimuSymbolType.Polyline?e=(null==s?void 0:s.polylineSymbol)?s.polylineSymbol:d.featureUtils.getDefaultSymbol("polyline"):o===t.JimuSymbolType.Polygon&&(e=(null==s?void 0:s.polygonSymbol)?s.polygonSymbol:d.featureUtils.getDefaultSymbol("polygon"))),e?this.jsonUtils.fromJSON(e):null},this.jsonUtils=null,this.defaultSymbolOption=(0,o.Immutable)({}),this.state={isModulesLoaded:!1}}componentDidMount(){(0,d.loadArcGISJSAPIModules)(["esri/symbols/support/jsonUtils"]).then((o=>{[this.jsonUtils]=o,this.setState({isModulesLoaded:!0})})),this.props.onSettingChange({actionId:this.props.actionId,config:this.props.config})}getStyle(e){return o.css`
      .setting-header {
        padding: ${o.polished.rem(10)} ${o.polished.rem(16)} ${o.polished.rem(0)} ${o.polished.rem(16)}
      }

      .deleteIcon {
        cursor: pointer;
        opacity: .8;
      }

      .deleteIcon:hover {
        opacity: 1;
      }
    `}render(){return(0,o.jsx)("div",{css:this.getStyle(this.props.theme)},(0,o.jsx)(s.SettingSection,{title:this.props.intl.formatMessage({id:"symbol",defaultMessage:"symbol"})},(0,o.jsx)(s.SettingRow,null,(0,o.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},(0,o.jsx)("div",{className:"align-items-center d-flex"},(0,o.jsx)(e.Radio,{style:{cursor:"pointer"},checked:!this.props.config.isUseCustomSymbol,onChange:()=>{this.handleIsUseCustomSymbolOption(!1)},"aria-labelledby":"useLayerDefinedLabel"}),(0,o.jsx)("label",{id:"useLayerDefinedLabel",className:"m-0 ml-2",style:{cursor:"pointer"}},this.props.intl.formatMessage({id:"mapAction_UseLayerDefinedSymbols",defaultMessage:m}))))),(0,o.jsx)(s.SettingRow,null,(0,o.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},(0,o.jsx)("div",{className:"align-items-center d-flex"},(0,o.jsx)(e.Radio,{style:{cursor:"pointer"},checked:this.props.config.isUseCustomSymbol,onChange:()=>{this.handleIsUseCustomSymbolOption(!0)},"aria-labelledby":"useCustomLabel"}),(0,o.jsx)("label",{id:"useCustomLabel",className:"m-0 ml-2",style:{cursor:"pointer"}},this.props.intl.formatMessage({id:"mapAction_UseCustomSymbols",defaultMessage:y}))))),this.props.config.isUseCustomSymbol&&this.jsonUtils&&(0,o.jsx)(s.SettingSection,null,(0,o.jsx)(s.SettingRow,{label:this.props.intl.formatMessage({id:"mapAction_Point",defaultMessage:i})},(0,o.jsx)(t.SymbolSelector,{jimuSymbolType:t.JimuSymbolType.Point,symbol:this.getInitSymbolFromConfig(t.JimuSymbolType.Point),onPointSymbolChanged:o=>{this.onSymbolChanged(o,"pointSymbol")},onCreated:o=>{this.onSymbolCreated(o.symbol,"pointSymbol")}})),(0,o.jsx)(s.SettingRow,{label:this.props.intl.formatMessage({id:"mapAction_Polyline",defaultMessage:l})},(0,o.jsx)(t.SymbolSelector,{jimuSymbolType:t.JimuSymbolType.Polyline,symbol:this.getInitSymbolFromConfig(t.JimuSymbolType.Polyline),onPolylineSymbolChanged:o=>{this.onSymbolChanged(o,"polylineSymbol")},onCreated:o=>{this.onSymbolCreated(o.symbol,"polylineSymbol")}})),(0,o.jsx)(s.SettingRow,{label:this.props.intl.formatMessage({id:"mapAction_Polygon",defaultMessage:n})},(0,o.jsx)(t.SymbolSelector,{jimuSymbolType:t.JimuSymbolType.Polygon,symbol:this.getInitSymbolFromConfig(t.JimuSymbolType.Polygon),onPolygonSymbolChanged:o=>{this.onSymbolChanged(o,"polygonSymbol")},onCreated:o=>{this.onSymbolCreated(o.symbol,"polygonSymbol")}})))))}}u.defaultProps={config:(0,o.Immutable)({isUseCustomSymbol:!0})};const b=(0,p.withTheme)(u)})(),r})())}}}));