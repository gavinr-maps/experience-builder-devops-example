System.register(["jimu-core/emotion","jimu-core","jimu-arcgis","jimu-ui","jimu-ui/advanced/map","jimu-ui/advanced/data-source-selector","jimu-ui/basic/color-picker","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-theme"],function(e,t){var a={},i={},l={},s={},o={},n={},c={},r={},d={},p={};return{setters:[function(e){a.jsx=e.jsx,a.jsxs=e.jsxs},function(e){i.AllDataSourceTypes=e.AllDataSourceTypes,i.AppMode=e.AppMode,i.DataSourceManager=e.DataSourceManager,i.FormattedMessage=e.FormattedMessage,i.Immutable=e.Immutable,i.React=e.React,i.SessionManager=e.SessionManager,i.clamp=e.clamp,i.classNames=e.classNames,i.css=e.css,i.esri=e.esri,i.getAppStore=e.getAppStore,i.hooks=e.hooks,i.lodash=e.lodash,i.polished=e.polished},function(e){l.JimuMapViewComponent=e.JimuMapViewComponent,l.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){s.Alert=e.Alert,s.AlertPopup=e.AlertPopup,s.Button=e.Button,s.Checkbox=e.Checkbox,s.CollapsablePanel=e.CollapsablePanel,s.Image=e.Image,s.Label=e.Label,s.Modal=e.Modal,s.ModalBody=e.ModalBody,s.ModalFooter=e.ModalFooter,s.ModalHeader=e.ModalHeader,s.NumericInput=e.NumericInput,s.Radio=e.Radio,s.Select=e.Select,s.Switch=e.Switch,s.Tooltip=e.Tooltip,s.defaultMessages=e.defaultMessages},function(e){o.MapStatesEditor=e.MapStatesEditor},function(e){n.DataSourceSelector=e.DataSourceSelector},function(e){c.ColorPicker=e.ColorPicker},function(e){r.builderAppSync=e.builderAppSync,r.helpUtils=e.helpUtils},function(e){d.SettingRow=e.SettingRow,d.SettingSection=e.SettingSection,d.SidePopper=e.SidePopper},function(e){p.styled=e.styled}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=p},4108:e=>{"use strict";e.exports=r},6361:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTYiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxOTYgMTQiIGZpbGw9Im5vbmUiPg0KICA8cGF0aCBkPSJNMTk2IDE0SDBWMEgxOTZWMTRaTTQ4IDdIMlYxMkg0OFY3SDk3VjEySDE0NlY3SDk3VjJINDhWN1pNMTk0IDJIMTQ4VjdIMTk0VjJaIiBmaWxsPSIjQkRCREJEIi8+DQo8L3N2Zz4="},13089:e=>{"use strict";e.exports=n},13495:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M0 4v15l7-3 6 3 7-3V1l-7 3-6-3zm1 13.5v-13l5.5-2.292v13zm6.5-2.25 5 2.5v-13l-5-2.5zm6 2.542v-13L19 2.5v13z" clip-rule="evenodd"></path></svg>'},14321:e=>{"use strict";e.exports=s},23662:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.5 0a.5.5 0 0 0-.5.5V7H.5a.5.5 0 0 0 0 1H7v6.5a.5.5 0 0 0 1 0V8h6.5a.5.5 0 0 0 0-1H8V.5a.5.5 0 0 0-.5-.5"></path></svg>'},29435:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M14.938 8A7 7 0 0 1 1.01 9H0a8.001 8.001 0 0 0 15.938-1A8 8 0 0 0 1.02 3.98L1 .702a.5.5 0 1 0-1 .006L.031 5.9l5.128-.826a.5.5 0 0 0-.16-.987L1.819 4.6A7 7 0 0 1 14.938 8"></path></svg>'},45508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},48993:e=>{"use strict";e.exports=o},52222:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxnIGlkPSJ0aHVtYm5haWwvbWFwL2Rlc2t0b3AtMSIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzcwMV82NDgpIj4NCiAgICA8cmVjdCBpZD0iQmFja2dyb3VuZCAyIiB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgZmlsbD0iIzE4MTgxOCIvPg0KICAgIDxwYXRoIGlkPSJTaGFwZSBDb3B5IiBkPSJNODguMzkxOCAwQzg4LjA3OTcgMS4xMzY3NCA4Ny4yMzMxIDIuMDkwNiA4Ni4wNzc1IDIuNjA3NDNDODAuNTc5OSA0Ljk3MTg2IDc1LjMzMjUgNy44ODAxNCA3NS4zMzI1IDExLjEwNDdDNzUuMzMyNSAxMy4yODAxIDc3LjI5OTIgMTQuMjc1MyA3Ny4yOTkyIDE2LjQ2MjNDNzcuMjk5MiAxOS41MzY0IDczLjIwNDYgMjAuMzQ2NCA3Mi4yNTk0IDIyLjkwMzdDNzIuMTI5NiAyMy4yNTU1IDcyLjA2MzggMjMuNjI0MiA3Mi4wNjQ0IDIzLjk5NTNDNzIuMDY0NCAyNi4xODYxIDc0LjY4MzkgMzAuNzQ1MyA2OC41ODAyIDMwLjM0NDFDNjcuMTA5NCAzMC4yNTU0IDY0LjM2NyAzMi44MDExIDY0LjY0NjcgMzQuMTIwM0M2NS4zMDggMzcuMDk0MSA2Ni44Mjk3IDQyLjY0NDYgNjEuNTk0OSA0NS4yMjVDNTcuMzMwOCA0Ny4zMjMzIDU3LjUwODggNTMuMTYzIDUyLjY1OTcgNTMuMTYzQzQ5LjcxODEgNTMuMTYzIDQ4LjYyNDUgNTAuMzg1OSA0NS42ODcxIDUwLjM4NTlDNDMuNTM2OCA1MC41MjM5IDQxLjg5NTEgNTIuMTkwMyA0MS45NzgyIDU0LjE1MDRDNDEuOTc4MiA1Ni45ODE2IDM5LjM2MyA2MS42OTExIDM1LjIxNzUgNjEuNjkxMUMzMy4xMTM2IDYxLjg5MiAzMS4wNzI4IDYwLjk2MzQgMjkuOTg3IDU5LjMxMTNDMjguNjc3MiA1Ny4xNzgzIDI3LjQ4MTkgNTUuMTQ1NiAyNC43NTIyIDU1LjE0NTZDMjEuODY0OCA1NS4yNjI0IDE5LjYyNDkgNTcuNDgxOCAxOS43NDIxIDYwLjEwOTdDMTkuNzQyMSA2Mi4wMzgzIDIwLjYxMSA2My4xMjk5IDIwLjYxMSA2NS4wNjYxQzIwLjYxMSA2OC4wNDM5IDE4IDY5LjQyODYgMTggNzIuNDEwMUMxOC4yMDA2IDc0LjA5OCAxOS44NDU3IDc1LjMzMTMgMjEuNzA0NiA3NS4xODczQzI0LjcwMTQgNzUuMTg3MyAyNS40NzcgNzMuNzEzOSAyOC40NTY4IDczLjk5MTZDMzAuNTg4OSA3NC4xODgzIDMxLjI5NjggNzYuNzIyNCAzMS4yOTY4IDc3Ljk2NDRDMzEuMjk2OCA4Mi45NzQ5IDIxLjk1ODkgODQuNTg3MSAyNS40MDUgOTAuODU1QzI2Ljc5OTUgOTMuMzc3NiAzNS42NTQxIDkyLjE5MzQgMzUuNjU0MSA5Ni40MTMxQzM1LjYzMjEgOTcuODgzNyAzNS4zMjY1IDk5LjMzOTQgMzQuNzUxMyAxMDAuNzE0QzMzLjg2ODIgMTAyLjU1NCAzMy4zNjI1IDEwNC41MjUgMzMuMjU5MyAxMDYuNTNDMzMuMjU5MyAxMDYuNzg5IDMzLjMwMTcgMTA3LjMyOSAzMy4zNjk1IDEwOEg1My42MDVDNTQuNTE2MyAxMDUuMDkyIDU3LjEzNTggMTAyLjA5OSA1Ny4xMzU4IDEwMC40NFYxMDAuMjE2QzUyLjg5NzEgOTguODA4NCA1NS4zMTc0IDk3LjkzNjcgNTUuMzE3NCA5Ni40NjcxQzU1LjMxNzQgOTIuMDAwNiA2Mi44NzkyIDkyLjU5NDYgNjIuODc5MiA4OC4xMzU3QzYyLjg3OTIgODYuNzkzNCA2MS4zMTk0IDg2LjI5NTkgNjEuMzE5NCA4NC45NjEzQzYxLjMxOTQgODEuNjgyNyA2NS42MTMxIDgxLjAzODYgNjUuNjEzMSA3Ny43Njc3VjczLjg5NTFDNjUuNjEzMSA3Mi40MTAxIDY3Ljc0OTQgNzEuMzg4IDY5LjM4NTYgNzEuMzg4QzcxLjIzMzYgNzEuMzg4IDcyLjYwNyA3Mi41MTgxIDc0LjQ2MzUgNzIuNTE4MUM3OC41NTM5IDcyLjUxODEgNzguODcxOCA2Ni44MDk2IDgyLjk2NjMgNjYuODA5NkM4Ni4wMTgyIDY2LjgwOTYgODUuOTY3MyA3MC4wODgxIDg4LjIwMTEgNzEuODc3OUM5MC40Njc0IDczLjIzMTIgOTMuMjIwNiA3My43MzU2IDk1Ljg4NTggNzMuMjg1N0gxMDEuMjI3QzEwMi4xMDQgNzMuMjg1NyAxMDUuMzIxIDcxLjg3NzkgMTA4IDcxLjIwMjlWMEg4OC4zOTE4WiIgZmlsbD0iIzM2MzYzNiIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSAxMCIgeD0iNCIgeT0iNCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiM2QTZBNkEiLz4NCiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIENvcHkgMTMiIHg9IjQiIHk9IjI2IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzZBNkE2QSIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSAxNSIgeD0iNCIgeT0iNDAiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDQiIHg9Ijk4IiB5PSI0IiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDUiIHg9Ijk4IiB5PSIxMiIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0iIzZBNkE2QSIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSA2IiB4PSI5OCIgeT0iMjAiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIGZpbGw9IiM2QTZBNkEiLz4NCiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIENvcHkgNyIgeD0iOTgiIHk9IjI4IiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDExIiB4PSI0IiB5PSIxOCIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0iIzZBNkE2QSIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSAxNCIgeD0iNCIgeT0iNTQiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIHJ4PSIzIiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDEyIiB4PSIxMiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjYiIGZpbGw9IiM2QTZBNkEiLz4NCiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIENvcHkgMiIgeD0iNCIgeT0iOTQiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iIzZBNkE2QSIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSAzIiB4PSI5OCIgeT0iOTgiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIGZpbGw9IiM2QTZBNkEiLz4NCiAgPC9nPg0KICA8ZGVmcz4NCiAgICA8Y2xpcFBhdGggaWQ9ImNsaXAwXzcwMV82NDgiPg0KICAgICAgPHJlY3Qgd2lkdGg9IjEwOCIgaGVpZ2h0PSIxMDgiIGZpbGw9IndoaXRlIi8+DQogICAgPC9jbGlwUGF0aD4NCiAgPC9kZWZzPg0KPC9zdmc+DQo="},53089:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#050505" d="m12.687 9.074.073-.133a.15.15 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.1.1 0 0 1-.019.01l-.092.017a.04.04 0 0 0-.033.051l.019.077a.14.14 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066M13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069q.002 0 .003.002l.104.13q.008.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131zM13.878 6.775l-.048.043a.3.3 0 0 0-.094.187.3.3 0 0 1-.082.178.5.5 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.6.6 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011zM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.13.13 0 0 0-.058.105zM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.1.1 0 0 0-.031-.008h-.328l-.035-.038a.22.22 0 0 0-.157-.074L5.778 4l-.048.009-.048.009-.289.122a.2.2 0 0 1-.076.018l-.464.023a.2.2 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.09.09 0 0 0-.015.105l.183.37a.13.13 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.1.1 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.23.23 0 0 0-.001-.172l-.03-.07a.23.23 0 0 1 .097-.28M4.03 4.643l.061-.11a.2.2 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.2.2 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.23.23 0 0 0 .199-.118M4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.14.14 0 0 0-.081-.027h-.224a.13.13 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085q.01.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038q0 .007-.002.016l-.03.073a.04.04 0 0 0 .006.036l.07.084a.03.03 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007q.014 0 .024.007l.174.133c.013.011.017.029.01.044l-.057.116a.03.03 0 0 1-.03.018l-.054.004a.04.04 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009q.037.002.069.024l.206.146q.022.014.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.04.04 0 0 0-.004-.029l-.07-.11.022-.004a.04.04 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008M2.08 5.137h.07l.104.146q.02.027.05.044l.136.068q.028.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.14.14 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138zM2.679 5.022l.11-.058a.14.14 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003zM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028zM2.414 4.698l.158.057a.1.1 0 0 1 .03.015l.109.073q.027.019.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122zM7.46 5.712l.058.092a.03.03 0 0 1-.001.028l-.044.06q-.007.013-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.14.14 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.02.02 0 0 1 .014-.017l.049-.024q.015-.008.013-.026l-.002-.03a.03.03 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118q-.006.017-.024.018l-.11-.003a.02.02 0 0 1-.018-.007.02.02 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002q.012 0 .02-.01l.053-.079A.03.03 0 0 0 7.3 5.94V5.82q0-.012.01-.019l.115-.094a.024.024 0 0 1 .037.005"></path><path fill="#050505" fill-rule="evenodd" d="M15.073 5.1H14.7a.04.04 0 0 1-.04-.03l-.358-.069a.16.16 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.03.03 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049q0-.026.02-.044l.218-.2a.16.16 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.1.1 0 0 1-.03.008h-.101a.16.16 0 0 0-.114.049l-.244.252a.17.17 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.16.16 0 0 1-.098.11l-.081.032a.16.16 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.2.2 0 0 0-.042.027l-.62.565a.16.16 0 0 0-.006.231l.058.061.083-.069a.06.06 0 0 1 .076.003l.155.146h.04l.146-.176a.06.06 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.04.04 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.13.13 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.16.16 0 0 1-.134.064l-.254-.01a.05.05 0 0 1-.031-.013.05.05 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.04.04 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.16.16 0 0 1 .13-.067h.097q.05 0 .09.028l.157.11c.03.022.033.068.004.092l-.088.077a.16.16 0 0 1-.104.04h-.55a.16.16 0 0 0-.126.064l-.425.573a.17.17 0 0 0-.032.096v.38q0 .054.032.097l.148.198q.018.025.027.055c.01.033.036.08.1.08h.686s.172.005.172.12q0 .061-.003.116a.16.16 0 0 0 .083.148c.048.028.099.077.099.155v.21a.2.2 0 0 1-.007.049.8.8 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.6.6 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.1.1 0 0 0-.018-.062l-.033-.057a.16.16 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.6.6 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.16.16 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.16.16 0 0 0-.035-.1l-.125-.158a.16.16 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5 5 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001q.016 0 .03-.002a.13.13 0 0 1 .127.083q.01.024.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.12.12 0 0 1 .075-.045l.054-.011a.13.13 0 0 0 .08-.053l.247-.373a.17.17 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.16.16 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.16.16 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.13.13 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.15.15 0 0 0 .104-.039l.159-.14a.04.04 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08q0-.02.013-.032l.062-.058a.16.16 0 0 1 .181-.024l.104.055a.06.06 0 0 0 .076-.016l.051-.065a.06.06 0 0 0 .012-.052.06.06 0 0 0-.033-.042l-.503-.25a5 5 0 0 0-.39-.014M8.141 7.024l.09-.078zl-.133-.163a.1.1 0 0 1-.01-.019.1.1 0 0 0 .01.018zm.755.493h-.081a.1.1 0 0 1-.032-.004 9 9 0 0 1-.61-.186.06.06 0 0 1-.035-.045.06.06 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056.048-.061.048-.061.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088m.417-.503H9.2l-.083-.065a.06.06 0 0 0-.032-.01h-.108a.07.07 0 0 0-.044.017l-.078.07-.078.012a.05.05 0 0 1-.056-.026.1.1 0 0 1-.006-.02l-.011-.087a.1.1 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.05.05 0 0 0 .05.058h.029a.07.07 0 0 0 .064-.042l.026-.058.12.02.01.087a.08.08 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052m.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.05.05 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004q.008.031-.013.056a.1.1 0 0 0-.015.031l-.013.085.113.105-.08.054z" clip-rule="evenodd"></path><path fill="#050505" d="M12.945 7.8q-.008-.022-.017-.021t-.036.025a.11.11 0 0 0-.039.08q0 .03.012.062c.007.018.02.032.028.032.025 0 .066-.14.052-.178M12.894 8.108l.024.005.014.004q.026.008.033.015.006.007.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016q-.009.012.014.021c.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.1.1 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02s-.05.006-.05-.018a.05.05 0 0 1 .03-.044q.02-.006.02-.017 0-.01-.02-.038a.2.2 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201q.007-.004.012-.016a.2.2 0 0 0 .009-.053c0-.04.003-.054.021-.052M12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013M12.912 8.698a.02.02 0 0 1 .021.02q0 .018-.008.02s-.005 0-.007-.003a.1.1 0 0 1-.015-.017q-.01-.018.01-.02M13.254 8.913q-.021-.045-.044-.043t-.03.05a.1.1 0 0 1-.01.026c.013.052.052.06.064.063h.004l.025-.029.014-.015zM13.082 8.894c.026-.004.035.015.011.043l-.008.015-.057.01-.036.005c-.038.006-.077.011-.1.037q0 .006.01.009t.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017q-.009-.035-.012.021c-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.14.14 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012q.015-.009.031-.011M13.36 9.136c0-.027-.034-.042-.092-.042a1 1 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015M5.866 9.362l-.35-.185a.2.2 0 0 0-.102-.026h-.101a.04.04 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.22.22 0 0 1-.173-.088l-.048-.065a.22.22 0 0 0-.155-.086l-.262-.023a.03.03 0 0 1-.017-.007l-.043-.03q-.019-.012-.038 0l-.187.106a.2.2 0 0 1-.108.028h-.192a.04.04 0 0 1-.017-.004.15.15 0 0 1-.071-.133v-.112a.04.04 0 0 0-.023-.035l-.014-.003h-.122a.04.04 0 0 1-.032-.019.04.04 0 0 1 0-.038l.057-.1a.04.04 0 0 0 .006-.02V8.2q0-.016-.011-.027a.04.04 0 0 0-.027-.011h-.066a.04.04 0 0 0-.03.017l-.038.06a.22.22 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.1.1 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.04.04 0 0 1 .043.005l.07.066q.01.01.024.01h.015c.022 0 .051 0 .057-.003q.005-.003.003-.014c0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.04.04 0 0 0 .05.006l.023-.016a.04.04 0 0 0 .012-.05l-.002-.005a.22.22 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.8.8 0 0 0 .208-.093.04.04 0 0 0 .019-.033v-.047l-.143.03a.04.04 0 0 1-.044-.031l-.016-.095a.04.04 0 0 0-.036-.03l-.143.015.018-.043a.04.04 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.04.04 0 0 0 .004-.055l-.396-.41a.04.04 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.03.03 0 0 0-.007.02l-.01.174q0 .016.011.029l.048.05a.04.04 0 0 1-.005.056l-.07.051a.04.04 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.04.04 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.12.12 0 0 1-.12.104H2.54l-.05-.01-.04-.009-.358-.162-.075-.018-.33-.022-.092.015-.148.058a.2.2 0 0 1-.124.01L.591 5.23a.2.2 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.04.04 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.22.22 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.22.22 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.04.04 0 0 0 .014-.055s.365.383.4.399l.296.148a.2.2 0 0 0 .097.023h.147q.024 0 .033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.04.04 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212q0 .014.008.024c.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.04.04 0 0 1 .008.024v.122l.001.006.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.22.22 0 0 1 .076.186l-.027.345-.003.02-.003.02-.119.45-.007.08.012.185a.2.2 0 0 1-.01.095l-.044.126a.24.24 0 0 0-.007.125l.056.233a.12.12 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114q.016 0 .026-.012l.266-.294a.04.04 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.04.04 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215M14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044q.054.035-.022.03c-.038-.004-.049.002-.07.039a.3.3 0 0 1-.078.074c-.071.044-.108.109-.06.109q.02.001.012.026c-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.07.07 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076q-.006-.01.012-.011c.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003q-.035.008-.035-.01c0-.02-.075-.089-.102-.097M12.885 9.274l-.486-.057a.1.1 0 0 1-.035-.01l-.118-.048a.14.14 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.1.1 0 0 0 .04.005h.397zM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.3.3 0 0 0-.1.023l-.098.046a.3.3 0 0 0-.07.049l-.18.178a.2.2 0 0 1-.075.051l-.123.055a.26.26 0 0 0-.152.236v.02q0 .052.02.1l.096.228q.004.008.005.015a.11.11 0 0 0 .143.077l.245-.088a.25.25 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.25.25 0 0 0 .218.122h.118a.26.26 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006M13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.3.3 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043q.031-.033.058-.03M13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027M6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.13.13 0 0 1-.1-.028l-.153-.121zM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.13.13 0 0 0-.076-.024M8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08zM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109zM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456zM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082zM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038z"></path><path fill="#050505" d="m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13zM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0M14.162 10.93h-.28l.074.164h.066z"></path></svg>'},54337:e=>{"use strict";e.exports=c},62686:e=>{"use strict";e.exports=l},62838:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z"></path></svg>'},67386:e=>{"use strict";e.exports=a},69741:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTkiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxOTkgMTMiIGZpbGw9Im5vbmUiPg0KICA8cGF0aCBkPSJNMSAwVjEySDE5OFYwIiBzdHJva2U9IiNCREJEQkQiIHN0cm9rZS13aWR0aD0iMiIvPg0KPC9zdmc+"},79244:e=>{"use strict";e.exports=i},79298:e=>{"use strict";e.exports=d},93303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},95951:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxnIGlkPSJ0aHVtYm5haWwvbWFwL2Rlc2t0b3AtMiIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzcwMV80OTEpIj4NCiAgICA8cmVjdCBpZD0iQmFja2dyb3VuZCIgd2lkdGg9IjEwOCIgaGVpZ2h0PSIxMDgiIGZpbGw9IiMxODE4MTgiLz4NCiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIENvcHkgNiIgeD0iOTgiIHk9Ijg0IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzZBNkE2QSIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSA1IiB4PSI0IiB5PSI0IiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDExIiB4PSIxMiIgeT0iNCIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0iIzZBNkE2QSIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSAxMiIgeD0iMjAiIHk9IjQiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIGZpbGw9IiM2QTZBNkEiLz4NCiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIENvcHkgMTMiIHg9IjI4IiB5PSI0IiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDE0IiB4PSIzNiIgeT0iNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjYiIGZpbGw9IiM2QTZBNkEiLz4NCiAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIENvcHkgNyIgeD0iOTgiIHk9Ijk4IiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHBhdGggaWQ9IlNoYXBlIiBkPSJNODguMTc0IDBDODcuODU4NCAxLjEzNjc0IDg3LjAwMjMgMi4wOTA2IDg1LjgzMzkgMi42MDc0M0M4MC4yNzUzIDQuOTcxODYgNzQuOTY5NSA3Ljg4MDE0IDc0Ljk2OTUgMTEuMTA0N0M3NC45Njk1IDEzLjI4MDEgNzYuOTU4MSAxNC4yNzUzIDc2Ljk1ODEgMTYuNDYyM0M3Ni45NTgxIDE5LjUzNjQgNzIuODE4IDIwLjM0NjQgNzEuODYyMyAyMi45MDM3QzcxLjczMTEgMjMuMjU1NSA3MS42NjQ1IDIzLjYyNDIgNzEuNjY1MSAyMy45OTUzQzcxLjY2NTEgMjYuMTg2MSA3NC4zMTM4IDMwLjc0NTMgNjguMTQyMiAzMC4zNDQxQzY2LjY1NTEgMzAuMjU1NCA2My44ODIyIDMyLjgwMTEgNjQuMTY1IDM0LjEyMDNDNjQuODMzNiAzNy4wOTQxIDY2LjM3MjIgNDIuNjQ0NiA2MS4wNzkzIDQ1LjIyNUM1Ni43Njc4IDQ3LjMyMzMgNTYuOTQ3OCA1My4xNjMgNTIuMDQ0OCA1My4xNjNDNDkuMDcwNSA1My4xNjMgNDcuOTY0OCA1MC4zODU5IDQ0Ljk5NDcgNTAuMzg1OUM0Mi44MjA1IDUwLjUyMzkgNDEuMTYwNiA1Mi4xOTAzIDQxLjI0NDcgNTQuMTUwNEM0MS4yNDQ3IDU2Ljk4MTYgMzguNjAwMyA2MS42OTExIDM0LjQwODggNjEuNjkxMUMzMi4yODE1IDYxLjg5MiAzMC4yMTgxIDYwLjk2MzQgMjkuMTIwMiA1OS4zMTEzQzI3Ljc5NTkgNTcuMTc4MyAyNi41ODczIDU1LjE0NTYgMjMuODI3MyA1NS4xNDU2QzIwLjkwNzggNTUuMjYyNCAxOC42NDI5IDU3LjQ4MTggMTguNzYxNSA2MC4xMDk3QzE4Ljc2MTUgNjIuMDM4MyAxOS42NCA2My4xMjk5IDE5LjY0IDY1LjA2NjFDMTkuNjQgNjguMDQzOSAxNyA2OS40Mjg2IDE3IDcyLjQxMDFDMTcuMjAyOCA3NC4wOTggMTguODY2MiA3NS4zMzEzIDIwLjc0NTggNzUuMTg3M0MyMy43NzU4IDc1LjE4NzMgMjQuNTYwMSA3My43MTM5IDI3LjU3MyA3My45OTE2QzI5LjcyODggNzQuMTg4MyAzMC40NDQ1IDc2LjcyMjQgMzAuNDQ0NSA3Ny45NjQ0QzMwLjQ0NDUgODIuOTc0OSAyMS4wMDI5IDg0LjU4NzEgMjQuNDg3MyA5MC44NTVDMjUuODk3MyA5My4zNzc2IDM0Ljg1MDMgOTIuMTkzNCAzNC44NTAzIDk2LjQxMzFDMzQuODI4IDk3Ljg4MzcgMzQuNTE5IDk5LjMzOTQgMzMuOTM3NCAxMDAuNzE0QzMzLjA0NDUgMTAyLjU1NCAzMi41MzMyIDEwNC41MjUgMzIuNDI4OCAxMDYuNTNDMzIuNDI4OCAxMDYuNzg5IDMyLjQ3MTcgMTA3LjMyOSAzMi41NDAyIDEwOEg1My4wMDA2QzUzLjkyMiAxMDUuMDkyIDU2LjU3MDYgMTAyLjA5OSA1Ni41NzA2IDEwMC40NFYxMDAuMjE2QzUyLjI4NDggOTguODA4NCA1NC43MzIgOTcuOTM2NyA1NC43MzIgOTYuNDY3MUM1NC43MzIgOTIuMDAwNiA2Mi4zNzc5IDkyLjU5NDYgNjIuMzc3OSA4OC4xMzU3QzYyLjM3NzkgODYuNzkzNCA2MC44MDA3IDg2LjI5NTkgNjAuODAwNyA4NC45NjEzQzYwLjgwMDcgODEuNjgyNyA2NS4xNDIyIDgxLjAzODYgNjUuMTQyMiA3Ny43Njc3VjczLjg5NTFDNjUuMTQyMiA3Mi40MTAxIDY3LjMwMjIgNzEuMzg4IDY4Ljk1NjUgNzEuMzg4QzcwLjgyNTEgNzEuMzg4IDcyLjIxMzcgNzIuNTE4MSA3NC4wOTA5IDcyLjUxODFDNzguMjI2NyA3Mi41MTgxIDc4LjU0ODEgNjYuODA5NiA4Mi42ODgyIDY2LjgwOTZDODUuNzczOSA2Ni44MDk2IDg1LjcyMjUgNzAuMDg4MSA4Ny45ODExIDcxLjg3NzlDOTAuMjcyNiA3My4yMzEyIDkzLjA1NjQgNzMuNzM1NiA5NS43NTEyIDczLjI4NTdIMTAxLjE1MUMxMDIuMDM4IDczLjI4NTcgMTA1LjI5MSA3MS44Nzc5IDEwOCA3MS4yMDI5VjBIODguMTc0WiIgZmlsbD0iIzM2MzYzNiIvPg0KICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUgQ29weSA4IiB4PSI0IiB5PSI5NCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDkiIHg9Ijk5IiB5PSI0IiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDE1IiB4PSI5OCIgeT0iNzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDE3IiB4PSI5OCIgeT0iNTYiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjNkE2QTZBIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSBDb3B5IDE2IiB4PSI5OCIgeT0iNDgiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIHJ4PSIzIiBmaWxsPSIjNkE2QTZBIi8+DQogIDwvZz4NCiAgPGRlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJjbGlwMF83MDFfNDkxIj4NCiAgICAgIDxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiBmaWxsPSJ3aGl0ZSIvPg0KICAgIDwvY2xpcFBhdGg+DQogIDwvZGVmcz4NCjwvc3ZnPg0K"}},t={};function u(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,u),l.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var a in t)u.o(t,a)&&!u.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var g={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(g),u.d(g,{__set_webpack_public_path__:()=>ce,default:()=>ne});var e,t=u(67386),a=u(79244),i=u(62686),l=u(14321),s=u(48993),o=u(13089),n=u(54337),c=u(4108),r=u(79298);!function(e){e.auto="auto",e.low="low",e.medium="medium",e.high="high"}(e||(e={}));const d={sourceLabel:"Source",sourceDescript:"A web map or web scene, or any combination of the two.",selectThirdMapHint:"Please unselect a map or scene before you choose another one. Up to two are supported.",initialMap:"Initial map",initialMapView:"Initial view",selectMap:"Select map",setMapView:"Modify initial view",defaultView:"Default",defaultViewTip:"Initial position of the map inherited from the web map or web scene",customView:"Custom",customViewTip:"Create a new position of the map",customViewSet:"Modify",toolLabel:"Tools",selectionHighlightColor:"Selection highlight",featureSelectionColor:"Feature selection colors",featureHighlightFill:"Highlight fill",featureHighlightOutline:"Highlight outline",disableScrollZoom:"Disable scroll zooming",enableScrollZoom:"Enable scroll zooming",disablePopUp:"Disable pop-up",enablePopUp:"Enable pop-up",showPopupUponSelection:"Show pop-up upon feature selection",showPopupUponSelectionTooltip:"Selection made interactively from the map is excluded.",dockPopup:"Dock the pop-up",sceneQualityMode:"Scene quality mode",chooseALayer:"Select a layer",dataRelationShip:"Data relationship",mapNone:"none",messageField:"Message field",mapLayout:"Tools layout",mapLayout_LargeAndMedium:"Large and medium size",mapLayout_Small:"Small size",enableClientSideQuery:"Enable client-side query",clientQueryDisabledTip:"This web map has the client-side query already enabled in another map widget.",clientQueryHelpTip:"Enable client-side queries to alleviate server demand and enhance application performance. Be advised that it may take longer before you can see the features since the map will query more fields. Web scenes are not yet supported. See {link}.",moreInformation:"more information",scaleRange:"Scale range",scaleRangeTip:"Set scale limits for 2D maps",customLodSingleMapTip:"This feature only supports a single map.",wrongScaleRangeWarning:"The selected scale range exceeds the map definition. The zoom function will be limited.",customizeScaleList:"Customize scales list",adjustScaleRange:"Adjust scale range",originalScaleRangeTip:"Reference: Map's original scale range",hoverMapName:"Map: {mapName}",lodSingleMapTip:"This feature only supports a single web map.",resetLod:"Reset to the map\u2019s initial scales",typeScale:"Type a scale value",keepAtLeastOneLod:"The last scale can not be deleted.",autoScalebarOptionsTip:"Style defaults to Line. Units follow profile settings when signed in; otherwise, organization settings or both metric and imperial.",metric:"Metric",imperial:"Imperial",dual:"Dual",decimalPlaceCount:"Number of decimal places",scaleBarLine:"Line",scaleBarRuler:"Ruler",scaleBarNumber:"Number",mapAction_TriggerLayer:"Trigger data",mapAction_AllData:"All data",mapAction_CustomizeData:"Customized data",mapAction_TriggerActionConnectionMode:"Connection mode",mapAction_Customize:"Customize",mapFlashAction_AutomaticTriggerDataTip:"In this mode, the selected data will flash if the data from the source widgets is in the Map widget. The trigger and action data are from the same layer and will be automatically bound.",mapFilterAction_AutomaticTriggerDataTip:"In this mode, the selected data will be filtered if the data from the source widgets is in the Map widget. The trigger and action data are from the same layer and will be automatically bound.",mapAction_SetData:"Select data",mapAction_ActionLayer:"Action data",mapAction_Conditions:"Conditions",mapAction_RelateMessage:"Trigger / action connection",mapAction_TriggerLayerField:"Select a trigger field",mapAction_None:"none",mapAction_Equals:"equals",mapAction_ActionLayerField:"Select an action field",mapAction_MoreConditions:"More conditions",mapAction_SetExpression:"Please set your expression first.",mapAction_ChooseLayer:"Select data",mapAction_AutoBind:"Auto bound.",mapAction_NoLayer:"No data.",mapAction_Point:"Point",mapAction_Polyline:"Polyline",mapAction_Polygon:"Polygon",mapAction_UseLayerDefinedSymbols:"Use layer-defined symbols",mapAction_UseCustomSymbols:"Use custom symbols",mapAction_OperationalLayer:"Set as operational layers",mapAction_ReturnToInitialMapExtent:"Return to the initial map extent when selection is cleared",mapZoomToAction_ZoomScale:"Zoom scale",mapZoomToAction_Automatic:"Automatic",mapZoomToAction_Custom:"Custom",mapZoomToAction_TypeScale:"Type a scale"};var p=u(53089),h=u.n(p),m=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const M=e=>{const i=window.SVG,{className:l}=e,s=m(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:h()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))};class S extends a.React.PureComponent{constructor(e){super(e),this.unmount=!1,this.setMapThumbUrl=e=>{var t;e||this.setState({mapThumbUrl:null});const i=(null===(t=this.props)||void 0===t?void 0:t.portUrl)||(0,a.getAppStore)().getState().portalUrl,l=a.SessionManager.getInstance().getSessionByUrl(i)||null;a.esri.restPortal.searchItems({q:`id:${e}`,authentication:l,portal:i+"/sharing/rest"}).then(e=>{var t;if(!this.unmount)if(null===(t=e.results[0])||void 0===t?void 0:t.thumbnail){const t=a.SessionManager.getInstance().getSessionByUrl(i);let l=null;l=t&&t.token?`${i}/sharing/rest/content/items/${e.results[0].id}/info/${e.results[0].thumbnail}?token=${t.token}`:`${i}/sharing/rest/content/items/${e.results[0].id}/info/${e.results[0].thumbnail}`;const s=document.createElement("img");s.onerror=()=>{this.setState({mapThumbUrl:null})},s.src=l,this.setState({mapThumbUrl:l})}else this.setState({mapThumbUrl:null})})},this.state={mapThumbUrl:null}}componentDidMount(){this.unmount=!1,this.setMapThumbUrl(this.props.mapItemId)}componentDidUpdate(e,t){e.mapItemId!==this.props.mapItemId&&this.setMapThumbUrl(this.props.mapItemId)}componentWillUnmount(){this.unmount=!0}render(){var e,a,i;const s=(null===(e=this.props)||void 0===e?void 0:e.label)||"",o=this.state.mapThumbUrl;if(o)return(0,t.jsx)(l.Image,{src:o,alt:s});{const e=null===(a=this.props)||void 0===a?void 0:a.theme;let l=null==e?void 0:e.sys.color.surface.overlay,s=null==e?void 0:e.sys.color.surface.overlayHint;return(null===(i=this.props)||void 0===i?void 0:i.usedInSetting)&&(l=null==e?void 0:e.ref.palette.neutral[300],s=null==e?void 0:e.ref.palette.neutral[600]),(0,t.jsx)("div",{style:{backgroundColor:l,height:"100%"},children:(0,t.jsx)(M,{color:s,size:"100%"})})}}}const I={Zoom:{label:"Zoom",isNeedSetting:!0},Home:{label:"Home",isNeedSetting:!0},Navigation:{label:"Navigation",isNeedSetting:!0},Locate:{label:"Locate",isNeedSetting:!0},ClearActionData:{label:"ClearActionData",isNeedSetting:!1},Compass:{label:"Compass",isNeedSetting:!0},Search:{label:"Search",isNeedSetting:!0},Layers:{label:"Layers",isNeedSetting:!0},BaseMap:{label:"BaseMap",isNeedSetting:!0},Measure:{label:"Measure",isNeedSetting:!0},MapSwitch:{label:"MapSwitch",isNeedSetting:!1},FullScreen:{label:"FullScreen",isNeedSetting:!0},ScaleBar:{label:"ScaleBar",isNeedSetting:!0,hasSettingOptions:!0},Attribution:{label:"Attribution",isNeedSetting:!1},Select:{label:"Select",isNeedSetting:!0},ExtentNavigate:{label:"ExtentNavigate",isNeedSetting:!0},OverviewMap:{label:"OverviewMap",isNeedSetting:!0}};var N=u(45508),f=u.n(N),j=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const x=e=>{const i=window.SVG,{className:l}=e,s=j(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:f()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))};var D=u(13495),b=u.n(D),w=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const y=e=>{const i=window.SVG,{className:l}=e,s=w(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:b()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))},v=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"];function C(e){var t;let a=null,i=null;const l=null===(t=null==e?void 0:e.constraintsInfo)||void 0===t?void 0:t.lods;if(l&&l.length>0){const e=[];l.forEach(t=>{const a=null==t?void 0:t.scale;"number"==typeof a&&a>0&&e.push(a)}),e.length>0&&(a=Math.max(...e),i=Math.min(...e))}return{minScale:a,maxScale:i}}function A(e){let t=[];const a=null==e?void 0:e.originalBasemapLODs;if((null==a?void 0:a.length)>0){t=T(a.map(e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}return t}function T(e){return e||(e=[]),e.sort((e,t)=>t.scale-e.scale),e.forEach((e,t)=>{e.level=t}),e}function O(){var e;const t=function(){var e;const t=(0,a.getAppStore)().getState();return(null===(e=window.jimuConfig)||void 0===e?void 0:e.isBuilder)?t.appStateInBuilder:t}();return(null===(e=null==t?void 0:t.appRuntimeInfo)||void 0===e?void 0:e.appMode)===a.AppMode.Express}var z=u(1888);const k=(0,z.styled)(e=>{const{className:i,activate:s,onClick:o,title:n,"aria-label":c}=e;return(0,t.jsx)(l.Tooltip,{placement:"top",title:n,children:(0,t.jsx)("div",{role:"button",tabIndex:0,"aria-label":c,onClick:o,onKeyDown:e=>{"Enter"===e.key&&o&&o(e)},className:(0,a.classNames)("position-item",{activate:s},i),style:{cursor:"pointer"}})})})`
  width: 16px;
  height: 13px;
  cursor: pointer;
  background-color: transparent;
  border: 1px solid var(--sys-color-divider-secondary);

  &.top-left {
    border-right: 0;
    border-bottom: 0;
  }

  &.top-center {
    border-right: 0;
    border-bottom: 0;
  }

  &.top-right {
    border-bottom: 0;
  }

  &.bottom-left {
    border-right: 0;
  }

  &.bottom-center {
    border-right: 0;
  }

  &.activate {
    z-index: 1;
    background: var(--sys-color-primary-dark);
    border: 1px solid var(--sys-color-primary-light) !important;

    &.top-left {
      width: 16px;
      height: 13px;
    }

    &.top-center {
      width: 16px;
      height: 13px;
    }

    &.top-right {
      height: 13px;
    }

    &.bottom-left {
      width: 16px;
    }

    &.bottom-center {
      width: 16px;
    }
  }
`,L={auto:"default","top-left":"TL","top-center":"TC","top-right":"TR","bottom-left":"BL","bottom-center":"BC","bottom-right":"BR"},R=z.styled.div`
  display: grid;
  grid-template-columns: 16px 16px 16px;
  grid-template-rows: 13px 13px;
  gap: 0;
`,P=e=>{const{value:i,onChange:s}=e,o=a.hooks.useTranslation(l.defaultMessages);return(0,t.jsx)(R,{className:"position-setting",children:v.map(e=>(0,t.jsx)(k,{className:e,title:o(L[e]),"aria-label":o(L[e]),activate:e===i,onClick:()=>{null==s||s(e)}},e))})};function Q(e){return"number"==typeof e&&e>=0}function E(e){const i=e.scaleRangeSlider,l=null==i?void 0:i.viewModel,s=null==l?void 0:l.sliderViewModel,o=e.scaleRangleLimit,n=null==o?void 0:o.minScale,c=null==o?void 0:o.maxScale,r=e.lodScaleRange,p=null==r?void 0:r.minScale,u=null==r?void 0:r.maxScale,g=e.mapName;let h=!1,m=0,M=0;if(Q(n)&&Q(c)&&n>c&&Q(p)&&Q(u)&&p>=u&&l&&s){h=!0;const e=(0,a.clamp)(p,c,n),t=(0,a.clamp)(u,c,n),i=s.max,o=l.mapScaleToSlider(e),r=l.mapScaleToSlider(t);m=(0,a.clamp)(o/i*100,0,100),M=(0,a.clamp)(r/i*100,0,100)}const S=a.hooks.useTranslation(d),I=g?S("hoverMapName",{mapName:g}):"",N=a.css`
    position: relative;
    height: 8px;

    .full-line {
      position: absolute;
      width: 100%;
      height: 2px;
      top: 3px;
      background: var(--ref-palette-neutral-600);
    }

    .lod-segment {
      position: absolute;
      height: 2px;
      top: 3px;
      left: ${m}%;
      right: ${100-M}%;
      background: var(--ref-palette-neutral-900);
    }

    .lod-anchor {
      position: absolute;
      width: 2px;
      height: 8px;
      background: var(--ref-palette-neutral-900);
    }

    .left-lod-anchor {
      left: ${m}%;
      right: auto;
      margin-left: 0px;
    }

    .right-lod-anchor {
      left: ${M}%;
      right: auto;
      margin-left: 0px;
    }
  `;return(0,t.jsxs)("div",{className:(0,a.classNames)("lod-range-indicator",e.className),css:N,title:I,children:[(0,t.jsx)("div",{className:"full-line"}),h&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)("div",{className:"lod-segment"}),(0,t.jsx)("div",{className:"lod-anchor left-lod-anchor"}),(0,t.jsx)("div",{className:"lod-anchor right-lod-anchor"})]})]})}var B=u(23662),U=u.n(B),H=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const Z=e=>{const i=window.SVG,{className:l}=e,s=H(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:U()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))};var Y=u(62838),W=u.n(Y),V=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const F=e=>{const i=window.SVG,{className:l}=e,s=V(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:W()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))};var G=u(29435),J=u.n(G),q=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const _=e=>{const i=window.SVG,{className:l}=e,s=q(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:J()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))},K=a.css`
max-width: 480px !important;

.scale-numeric-input {
  margin-right: 1px;
}

.lod-list {
  height: 224px;
  background-color: var(--sys-color-action-input-field);
  color: var(--sys-color-surface-background-text);
  font-size: 14px;
  overflow: auto;
}

.lod-item {
  height: 32px;

  .lod-scale-text {
    height: 32px;
    line-height: 32px;
    cursor: default;
  }

  .delete-icon {
    cursor: pointer;
  }
}
`;function $(e){const i=a.React.useRef(null);i.current=e.jimuMapView;const s=a.React.useRef(null);s.current=e.lods;const o=e.onModalOk,n=e.onModalCancel,[c,r]=a.React.useState([]),p=c||[],[u,g]=a.React.useState(void 0),[h,m]=a.React.useState(!1),M=a.hooks.useTranslation(l.defaultMessages,d),S=M("customizeScaleList"),I=M("delete"),N=M("resetLod"),f=M("keepAtLeastOneLod"),j=M("ok"),x=M("cancel");a.React.useEffect(()=>{const e=s.current,t=i.current;if((null==e?void 0:e.length)>0){const t=e.asMutable({deep:!0});r(t)}else{const e=A(null==t?void 0:t.view);r(e)}},[]);const D=a.React.useCallback(e=>{"number"==typeof e&&!isNaN(e)&&e>0&&g(e)},[]),b=a.React.useCallback(()=>{const e=u;if("number"==typeof e&&!isNaN(e)&&e>0&&(null==c?void 0:c.length)>0){if(!c.find(t=>(null==t?void 0:t.scale)===e)){const t=c[0];if(t){const a=e/t.scale*t.resolution;if("number"==typeof a&&!isNaN(a)&&a>0){const t={level:c.length,resolution:a,scale:e};let i=c.slice();i.push(t),i=T(i),r(i)}}}}g(void 0)},[c,u]),w=a.React.useCallback(()=>{m(!1)},[]),y=a.React.useCallback(()=>{const e=i.current,t=A(null==e?void 0:e.view);r(t)},[]),v=a.React.useCallback(e=>{if((null==c?void 0:c.length)>0&&e>=0){let t=c.filter((t,a)=>a!==e);t.length>0?(t=T(t),r(t)):m(!0)}},[c]),C=a.React.useCallback(()=>{o&&o(c)},[c,o]),O=a.React.useCallback(()=>{n&&n()},[n]);return(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsxs)(l.Modal,{className:"custom-lods-modal",centered:!0,isOpen:!0,keyboard:!0,css:K,children:[(0,t.jsx)(l.ModalHeader,{className:"d-flex justify-content-between align-items-center",toggle:O,children:S}),(0,t.jsxs)(l.ModalBody,{className:"w-auto pt-5",children:[(0,t.jsxs)("div",{className:"scale-input-container d-flex align-items-center",children:[(0,t.jsx)(l.NumericInput,{className:"scale-numeric-input w-100",showHandlers:!1,min:0,value:u,onChange:D}),(0,t.jsx)(l.Button,{className:"ml-2",icon:!0,onClick:b,children:(0,t.jsx)(Z,{})})]}),(0,t.jsx)("div",{className:"lod-list mt-6 pl-2 pr-2",children:(null==p?void 0:p.length)>0&&p.map((e,a)=>{var i;return(0,t.jsxs)("div",{className:"lod-item d-flex align-items-center",children:[(0,t.jsx)("div",{className:"lod-scale-text w-100","aria-label":null===(i=e.scale)||void 0===i?void 0:i.toString(),children:e.scale}),(0,t.jsx)(F,{className:"delete-icon ml-2","aria-label":I,onClick:()=>{v(a)}})]},a)})}),(0,t.jsxs)(l.Button,{className:"mt-2","aria-label":N,variant:"text",onClick:y,children:[(0,t.jsx)(_,{}),N]})]}),(0,t.jsxs)(l.ModalFooter,{className:"d-flex",children:[(0,t.jsx)(l.Button,{type:"primary",className:"ml-auto mr-2",style:{minWidth:"64px",minHeight:"32px"},"aria-label":j,onClick:C,children:j}),(0,t.jsx)(l.Button,{type:"secondary",style:{minWidth:"64px",minHeight:"32px"},"aria-label":x,onClick:O,children:x})]})]}),(0,t.jsx)(l.AlertPopup,{isOpen:h,severity:"warning",title:"",description:f,withIcon:!0,closable:!1,hideCancel:!0,onClickOk:w})]})}var X=u(93303),ee=u.n(X),te=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]])}return a};const ae=e=>{const i=window.SVG,{className:l}=e,s=te(e,["className"]),o=(0,a.classNames)("jimu-icon jimu-icon-component",l);return i?(0,t.jsx)(i,Object.assign({className:o,src:ee()},s)):(0,t.jsx)("svg",Object.assign({className:o},s))};function ie(e){const i=e.scalebarOptions,s=e.onChange,o=a.React.useMemo(()=>{let e=i;return e||(e=le()),e},[i]),n=!i,c=null==i?void 0:i.style,p=null==i?void 0:i.unit,g=null==i?void 0:i.decimalPlace,h=null==i?void 0:i.thousandSeparator,m=a.hooks.useTranslation(l.defaultMessages,d),M=m("mapZoomToAction_Automatic"),S=m("autoScalebarOptionsTip"),I=m("style"),N=m("scaleBarLine"),f=m("scaleBarRuler"),j=m("scaleBarNumber"),x=m("unit"),D=m("metric"),b=m("imperial"),w=m("dual"),y=m("decimalPlaceCount"),v=m("showThousandSeparator"),C=a.React.useCallback(e=>{s&&s(e)},[s]),A=a.React.useCallback((e,t)=>{const a=t?null:le();C(a)},[C]),T=a.React.useCallback(()=>{let e=o.set("style","line").set("decimalPlace",0).set("thousandSeparator",!1);e.unit||(e=e.set("unit","metric")),C(e)},[o,C]),O=a.React.useCallback(()=>{let e=o.set("style","ruler").set("decimalPlace",0).set("thousandSeparator",!1);"metric"!==e.unit&&"imperial"!==e.unit&&(e=e.set("unit","metric")),C(e)},[o,C]),z=a.React.useCallback(()=>{const e=o.set("style","number").set("unit",null).set("decimalPlace",0).set("thousandSeparator",!1);C(e)},[o,C]),k=a.React.useCallback(()=>{const e=o.set("unit","metric");C(e)},[o,C]),L=a.React.useCallback(()=>{const e=o.set("unit","imperial");C(e)},[o,C]),R=a.React.useCallback(()=>{const e=o.set("unit","dual");C(e)},[o,C]),P=a.React.useCallback(e=>{if(e>=0){const t=o.set("decimalPlace",Math.floor(e));C(t)}},[o,C]),Q=a.React.useCallback((e,t)=>{const a=o.set("thousandSeparator",!!t);C(a)},[o,C]),E=a.css`
  padding: 0 16px 16px 16px;

  .auto-scalebar-options-tip-row .jimu-widget-setting--row-label {
    margin-right: 0;
    max-width: 100%;
  }

  .scale-bar-styles {
    flex-direction: column;
  }

  .scale-bar-style {
    height: 42px;
    padding: 16px;
    cursor: pointer;
    text-align: center;
    background-color: var(--sys-color-action-input-field);
    border: 2px solid transparent;
  }

  .scale-bar-style.selected {
    border-color: var(--sys-color-action-selected);
  }

  .units {
    flex-direction: column;
  }
  `,B="d-flex w-100 justify-content-center align-items-center scale-bar-style";return(0,t.jsxs)("div",{className:"scalebar-setting",css:E,children:[(0,t.jsx)(r.SettingRow,{level:1,tag:"label",label:M,children:(0,t.jsx)(l.Switch,{checked:n,onChange:A})}),!i&&(0,t.jsx)(r.SettingRow,{className:"auto-scalebar-options-tip-row",label:S}),i&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)(r.SettingRow,{tag:"label",label:I,flow:"wrap",children:(0,t.jsxs)("div",{className:"scale-bar-styles d-flex w-100",children:[(0,t.jsx)("div",{className:(0,a.classNames)(B,"scale-bar-line-style",{selected:"line"===c}),title:N,onClick:T,children:(0,t.jsx)("img",{src:u(69741)})}),(0,t.jsx)("div",{className:(0,a.classNames)(B,"scale-bar-ruler-style mt-2",{selected:"ruler"===c}),title:f,onClick:O,children:(0,t.jsx)("img",{src:u(6361)})}),(0,t.jsx)("div",{className:(0,a.classNames)(B,"scale-bar-number-style mt-2",{selected:"number"===c}),title:j,onClick:z,children:(0,t.jsx)("span",{children:"1:1000"})})]})}),("line"===c||"ruler"===c)&&(0,t.jsx)(r.SettingRow,{tag:"label",label:x,flow:"wrap",children:(0,t.jsxs)("div",{className:"units d-flex",role:"radiogroup","aria-label":x,children:[(0,t.jsxs)(l.Label,{className:"metric-unit d-flex",title:D,children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},onChange:k,checked:"metric"===p}),D]}),(0,t.jsxs)(l.Label,{className:"imperial-unit d-flex",title:b,children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},checked:"imperial"===p,onChange:L}),b]}),"line"===c&&(0,t.jsxs)(l.Label,{className:"dual-unit d-flex",title:w,children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},checked:"dual"===p,onChange:R}),w]})]})}),"number"===c&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)(r.SettingRow,{tag:"label",label:y,flow:"wrap",children:(0,t.jsx)(l.NumericInput,{className:"w-100",size:"sm",min:0,max:10,step:1,value:"number"==typeof g?g:0,onChange:P})}),(0,t.jsxs)(l.Label,{className:"d-flex mt-4",children:[(0,t.jsx)(l.Checkbox,{className:"mr-2",style:{cursor:"pointer"},checked:!!h,onChange:Q}),v]})]})]})]})}function le(){return(0,a.Immutable)({style:"line",unit:"metric",decimalPlace:0,thousandSeparator:!1})}var se=function(e,t,a,i){return new(a||(a=Promise))(function(l,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function n(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,n)}c((i=i.apply(e,t||[])).next())})};class oe extends a.React.PureComponent{constructor(e){var t,i;super(e),this.unmount=!1,this.dsManager=a.DataSourceManager.getInstance(),this.integratedDataSourceSetting={},this.supportedDsTypes=(0,a.Immutable)([a.AllDataSourceTypes.WebMap,a.AllDataSourceTypes.WebScene]),this.alertRef=a.React.createRef(),this.debounceHandleMinMaxScaleChange=()=>{},this.scaleRangeCounter=0,this.presetColors=[{label:"#00FFFF",value:"#00FFFF",color:"#00FFFF"},{label:"#FF9F0A",value:"#FF9F0A",color:"#FF9F0A"},{label:"#089BDC",value:"#089BDC",color:"#089BDC"},{label:"#FFD159",value:"#FFD159",color:"#FFD159"},{label:"#74B566",value:"#74B566",color:"#74B566"},{label:"#FF453A",value:"#FF453A",color:"#FF453A"},{label:"#9868ED",value:"#9868ED",color:"#9868ED"},{label:"#43ABEB",value:"#43ABEB",color:"#43ABEB"}],this.onScaleRangeSwitchChange=e=>{var t;const a=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.checked;a||this.removeScaleRangeSlider();const i=a?{}:null;this.minScale=null==i?void 0:i.minScale,this.maxScale=null==i?void 0:i.maxScale;const l=this.props.config.set("scaleRange",i).set("customLODs",null);this.updateConfig(l)},this.onCustomLodRadioChecked=()=>{this.removeScaleRangeSlider(),this.minScale=void 0,this.maxScale=void 0;const e=this.props.config.set("customLODs",{}).set("scaleRange",null);this.updateConfig(e)},this.onScaleSliderRadioChecked=()=>{this.minScale=void 0,this.maxScale=void 0;const e=this.props.config.set("scaleRange",{}).set("customLODs",null);this.updateConfig(e)},this.onModifyCustomLodBtnClick=()=>{this.setState({showCustomLodModal:!0})},this.onCustomLodModalOk=e=>{const t={lods:e},a=this.props.config.set("customLODs",t);this.updateConfig(a),this.setState({showCustomLodModal:!1})},this.onCustomLodModalCancel=()=>{this.setState({showCustomLodModal:!1})},this.onJimuMapViewsChange=e=>{this.releaseWebMapLodHandles(),this.webMapJimuMapViews=Object.values(e||{}).filter(e=>{var t;return"2d"===(null===(t=null==e?void 0:e.view)||void 0===t?void 0:t.type)}),this.webMapJimuMapViews.forEach(e=>se(this,void 0,void 0,function*(){const t=yield e.watch(()=>{var t;return null===(t=(null==e?void 0:e.view).constraintsInfo)||void 0===t?void 0:t.lods},()=>{this.updateWebMapJimuMapViewInfos()});this.handlesOfWebMapLods||(this.handlesOfWebMapLods=[]),this.handlesOfWebMapLods.push(t)})),this.updateWebMapJimuMapViewInfos()},this.onActiveJimuViewChange=e=>{this.releaseScaleHandleOfMapView(),this.activeJimuMapView=e,this.updateScaleRangeSlider(),this.forceUpdate()},this.onScaleRangeSliderContainerChange=e=>{this.scaleRangeSliderContainer=e,this.updateScaleRangeSlider()},this.getPortUrl=()=>(0,a.getAppStore)().getState().portalUrl,this.onNewDataAdded=e=>{if(O()&&(null==e?void 0:e.length)>0){const t=this.props.useDataSources||(0,a.Immutable)([]);if(t.length+e.length<=2){const a=t.map(e=>null==e?void 0:e.dataSourceId),i=e.filter(e=>e&&!a.includes(e.dataSourceId));i.length>0&&this.onDataSourceSelected(i,t)}}},this.onDataSourceChange=e=>{if(!e)return;let t=this.props.useDataSources;if(t||(t=(0,a.Immutable)([])),e.length>t.length){const a=t.map(e=>null==e?void 0:e.dataSourceId),i=e.filter(e=>!a.includes(null==e?void 0:e.dataSourceId));this.onDataSourceSelected(i,t)}else if(e.length<t.length){const a=t.find(t=>!e.some(e=>t.dataSourceId===e.dataSourceId));this.onDataSourceRemoved(a)}},this.onDataSourceSelected=(e,t)=>{if(!e)return;if(0===(e=e.filter(e=>!!e)).length)return;t||(t=(0,a.Immutable)([]));const i=e[0],l=t.asMutable({deep:!0})||[];l.push(...e),this.integratedDataSourceSetting={id:this.props.id,useDataSources:(0,a.Immutable)(l)},this.activeJimuMapView&&!this.activeJimuMapView.dataSourceId&&this.removeScaleRangeSlider(),this.resetMinScaleAndMaxScale();const s=Object.assign({},this.integratedDataSourceSetting),o=this.props.config.set("initialMapDataSourceID",i.dataSourceId).set("isUseCustomMapState",!1).set("initialMapState",null).set("scaleRange",null).set("customLODs",null);s.config=o,this.props.onSettingChange(s)},this.onDataSourceRemoved=e=>{if(!e)return;const t=e.dataSourceId;let i=[];i=Object.assign(i,this.props.useDataSources);for(let e=0;e<i.length;e++)if(i[e].dataSourceId===t){i.splice(e,1);break}const l={id:this.props.id,useDataSources:(0,a.Immutable)(i)};let s={};this.integratedDataSourceSetting=l,s=Object.assign({},this.integratedDataSourceSetting);let o=null;this.activeJimuMapView&&t&&this.activeJimuMapView.dataSourceId===t&&this.removeScaleRangeSlider(),this.resetMinScaleAndMaxScale();let n=null;n=i.length>0?i[0]&&i[0].dataSourceId:null,o=this.props.config.set("initialMapDataSourceID",n).set("isUseCustomMapState",!1).set("initialMapState",null).set("scaleRange",null).set("customLODs",null),o=this.getNewConfigByDisableDataSourceClientQuery(o,t),s.config=o,this.props.onSettingChange(Object.assign({},s))},this.onMapToolsContainerRef=e=>{this.mapToolsContainer=e,this.forceUpdate()},this.onMapToolsContainerClick=e=>{const t=null==e?void 0:e.target;t&&!t.classList.contains("map-tool-sidepopper-setting-btn")&&(this.mapToolsContainerClickedTimestamp=Date.now())},this.onMapToolSettingBtnClick=(e,t,a)=>{if(this.mapToolsContainerClickedTimestamp>0){if(Date.now()-this.mapToolsContainerClickedTimestamp<=200)return void this.onMapToolSwitchChanged(e,t,!a)}e&&this.state.sidePopperMapTool===e?this.setState({sidePopperMapTool:""}):this.setState({sidePopperMapTool:e})},this.onMapToolSidePopperToggle=()=>{this.setState({sidePopperMapTool:""})},this.onMapToolSwitchChanged=(e,t,a)=>{this.handleMapToolSwitchChanged(e,t,a),e&&e===this.state.sidePopperMapTool&&!a&&this.setState({sidePopperMapTool:""})},this.handleMapToolSwitchChanged=(e,t,a)=>{let i=this.props.config.setIn(["toolConfig",t],a);"Select"===e&&(i=i.setIn(["toolConfig","canSelectState"],a)),a||i.toolOptions&&i.toolOptions[e]&&(i=i.setIn(["toolOptions",e],null)),this.props.onSettingChange({id:this.props.id,config:i})},this.onMapOptionsChanged=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set(t,e)})},this.onSceneQualityModeChanged=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set(t,e)})},this.onDisableSelection=e=>e.length>1,this.onClickDisabledDsItem=()=>{this.props.useDataSources&&this.props.useDataSources.length>=2&&setTimeout(()=>{this.showSelectThirdMapAlert()},0)},this.onClickBody=()=>{this.unmount||this.hideSelectThirdMapAlert()},this.onSelectThirdMapAlertClose=()=>{this.hideSelectThirdMapAlert()},this.initDataSourceSettingOption=()=>{let e=[];e=Object.assign(e,this.props.useDataSources);const t={widgetId:this.props.id,useDataSources:(0,a.Immutable)(e)};this.integratedDataSourceSetting=t},this.setInitialMap=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("initialMapDataSourceID",e)}),c.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"initialMapDataSourceID",value:e})},this.changeToolLayout=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("layoutIndex",e)})},this.handleMapInitStateChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("initialMapDataSourceID",e.initialMapDataSourceID).set("initialMapState",e.initialMapState)})},this.handleIsUseCustomMapState=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("isUseCustomMapState",e).set("initialMapState",null)})},this.updateSelectionHighlightColor=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("selectionHighlightColor",e)})},this.updateSelectionHighlightHaloColor=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("selectionHighlightHaloColor",e)})},this.onEnablePopupSwitchChange=e=>{const t=!e.target.checked;let a=this.props.config.set("disablePopUp",t);t&&(a=a.set("showPopupUponSelection",!1).set("popupDockPosition","")),this.props.onSettingChange({id:this.props.id,config:a})},this.onShowPopupUponSelectionCheckboxChange=e=>{this.onMapOptionsChanged(e.target.checked,"showPopupUponSelection")},this.onDockPopupCheckboxChange=e=>{const t=this.props.config;let a=t;a=e.target.checked?t.set("popupDockPosition","auto"):t.set("popupDockPosition",""),this.props.onSettingChange({id:this.props.id,config:a})},this.onAutoDockPopupPositionRadioChange=()=>{const e=this.props.config.set("popupDockPosition","auto");this.props.onSettingChange({id:this.props.id,config:e})},this.onCustomDockPopupPositionRadioChange=()=>{const e=this.props.config.set("popupDockPosition","top-right");this.props.onSettingChange({id:this.props.id,config:e})},this.onPopupDockPositionChange=e=>{const t=this.props.config;if(t.popupDockPosition===e)return;const a=t.set("popupDockPosition",e);this.props.onSettingChange({id:this.props.id,config:a})},this.handleMapThumbKeyDown=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(this.setInitialMap(this.props.useDataSources[t].dataSourceId),null==e||e.preventDefault())},this.handleLayoutThumbKeyDown=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(this.changeToolLayout(t),null==e||e.preventDefault())},this.getAppClientQueryDataSourceWidgetInfo=()=>{var e,t,i,l,s;const o={},n=null===(i=null===(t=null===(e=(0,a.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===i?void 0:i.widgets;if(n){const e=Object.values(n);for(const t of e)if("widgets/arcgis/arcgis-map/"===t.uri){const e=t.id,a=t.useDataSources,i=t.config,n=[];a&&a.length>0&&a.forEach(e=>{const t=null==e?void 0:e.dataSourceId;t&&n.push(t)});const c=[];(null===(l=null==i?void 0:i.clientQueryDataSourceIds)||void 0===l?void 0:l.length)>0&&(null===(s=null==i?void 0:i.clientQueryDataSourceIds)||void 0===s||s.forEach(e=>{n.includes(e)&&c.push(e)})),(null==c?void 0:c.length)>0&&(null==c||c.forEach(t=>{o[t]||(o[t]=[]),o[t].includes(e)||o[t].push(e)}))}}return o},this.canNewSelectedDataSourceEnableClientQuery=e=>{let t=!1;const a=e.dataSourceId,i=this.props.dsJsons,l=i&&i[a];if(l&&"WEB_MAP"===l.type){t=0===(this.getAppClientQueryDataSourceWidgetInfo()[a]||[]).length}return t},this.getDsClientQueryInfos=()=>{var e,t;const a=[],i=this.getAppClientQueryDataSourceWidgetInfo(),l=this.props.id,s=this.props.dsJsons;return s&&(null===(e=this.props.useDataSources)||void 0===e?void 0:e.length)>0&&(null===(t=this.props.useDataSources)||void 0===t||t.forEach(e=>{const t=e.dataSourceId;if(t){const e=s[t];if(e&&"WEB_MAP"===e.type){const s=e.label||e.sourceLabel||"",o=i[t]||[],n=o.includes(l);let c=!1;c=!!n||0===o.length,a.push({dataSourceId:t,dsLabel:s,clientQueryEnabled:n,switchEnabled:c})}}})),a},this.getNewConfigByEnableDataSourceClientQuery=(e,t)=>{let i=e;const l=e.clientQueryDataSourceIds;let s=null;return s=l?l.includes(t)?l:(0,a.Immutable)(l.asMutable().concat(t)):(0,a.Immutable)([t]),l!==s&&(i=e.set("clientQueryDataSourceIds",s)),i},this.getNewConfigByDisableDataSourceClientQuery=(e,t)=>{var a;let i=e;if(null===(a=e.clientQueryDataSourceIds)||void 0===a?void 0:a.includes(t)){const a=e.clientQueryDataSourceIds.filter(e=>e!==t);i=i.set("clientQueryDataSourceIds",a)}return i},this.onClientQueryChanged=(e,t)=>{const a=this.props.id,i=this.props.config;let l=i;if(t){const t=(this.getAppClientQueryDataSourceWidgetInfo()[e]||[]).filter(e=>e!==a);if(t.length>0)return void console.warn(`the data source ${e} is enabled client query in another map widget, ${t}`);l=this.getNewConfigByEnableDataSourceClientQuery(i,e)}else l=this.getNewConfigByDisableDataSourceClientQuery(i,e);this.props.onSettingChange({id:a,config:l})},this.onScalebarSettingChange=e=>{const t=this.props.config.setIn(["toolOptions","ScaleBar"],e);this.updateConfig(t)},this.debounceHandleMinMaxScaleChange=a.lodash.debounce(()=>{this.handleMinMaxScaleChange()},1e3),this.mapToolsContainerClickedTimestamp=-1;const l=null===(i=null===(t=this.props)||void 0===t?void 0:t.config)||void 0===i?void 0:i.scaleRange;l&&(this.minScale=l.minScale,this.maxScale=l.maxScale),this.webMapJimuMapViews=[],this.handlesOfWebMapLods=[],this.handlesOfScaleRangeSlider=[],this.state={showSelectThirdMapAlert:!1,clientQueryHelpHref:"#",scaleRangleLimit:null,webMapInfos:[],scaleRangeCounter:0,showCustomLodModal:!1,sidePopperMapTool:""},this.initDataSourceSettingOption()}getStyle(){var e;const t=(0,a.getAppStore)().getState(),i=(null===(e=null==t?void 0:t.appContext)||void 0===e?void 0:e.isRTL)?"transform: scale(-1);":"";return a.css`
      .widget-setting-map {
        color: ${this.props.theme.ref.palette.neutral[1e3]};

        .setting-row-text-level-1 {
          color: ${this.props.theme.ref.palette.neutral[1100]} !important;
        }

        .source-description {
          color: ${this.props.theme.ref.palette.neutral[1e3]};
        }

        .webmap-thumbnail{
          cursor: pointer;
          width: 100%;
          height: 120px;
          overflow: hidden;
          padding: 1px;
          border: ${a.polished.rem(2)} solid initial;
          img, div{
            width: 100%;
            height: 100%;
          }
        }

        .selected-item{
          border: ${a.polished.rem(2)} solid ${this.props.theme.sys.color.primary.light} !important;
        }

        .webmap-thumbnail-multi{
          cursor: pointer;
          width: 48%;
          height: 100px;
          overflow: hidden;
          padding: 1px;
          border: ${a.polished.rem(2)} solid initial;
          img, div{
            width: 100%;
            height: 100%;
          }
        }

        .placeholder-container {
          background-color: ${this.props.theme.sys.color.secondary.main};
          width: 100%;
          height: 120px;
          position: relative;
        }

        .placeholder-icon {
          top: 40%;
          left: 46%;
          position: absolute;
          fill: ${this.props.theme.ref.palette.neutral[900]};
        }

        .choose-btn{
          width: 100%;
        }

        .webmap-tools{
          .webmap-tools-item{
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
          }
        }

        .uploadInput {
          position: absolute;
          opacity: 0;
          left: 0;
          top: 0;
          cursor: pointer;
        }

        .uploadInput-container {
          position: relative;
        }

        .setting-map-button{
          cursor: 'pointer';
        }

        .select-third-map-alert {
          position: fixed;
          right: 0;
          top: 139px;
          width: 260px;
          height: auto;
          z-index: 1;
        }
      }

      .item-selector-popup {
        width: 850px;
        .modal-body {
          max-height: 70vh;
          overflow: auto;
        }
      }

      .dock-popup-label {
        display: inline;
      }

      .dock-popup-custom-position-label {
        justify-content: start;
        line-height: 26px;
        text-wrap: wrap;
        word-break: break-all;

        &.use-custom-dock-popup-position {
          width: calc(100% - 46px);
        }
      }

      .enable-client-query-header >.jimu-widget-setting--row-label {
        margin-bottom: 0;
      }

      .original-scale-range-tip-setting-row > .jimu-widget-setting--row-label {
        max-width: 100%;
        margin: 0;
      }

      .lod-range-indicator-setting-row {
        padding-left: 10px;
        padding-right: 10px;
      }

      .lod-range-indicator {
        width: 100% !important;
        flex-grow: 0;
        flex-shrink: 0;
        ${i}
      }

      .exb-scale-range-slider-setting-row {
        .exb-scale-range-slider-container {
          width: 100% !important;
          flex-grow: 0;
          flex-shrink: 0;
        }
      }

      .esri-scale-range-slider {
        min-width: auto;
        width: 100%;

        &.esri-widget {
          background: transparent;
        }

        .esri-slider.esri-widget {
          background-color: transparent;
        }

        .esri-scale-range-slider__segment-active {
          background-color: var(--sys-color-action-selected, #007F94);
        }

        .esri-slider__thumb {
          border-color: var(--sys-color-action-selected, #007F94);
        }

        --calcite-color-brand: var(--sys-color-primary-light, #00D8ED);
        --calcite-color-brand-hover: var(--sys-color-primary-light, #00D8ED);

        .esri-scale-range-slider__scale-menu-container {
          width: 100%;
          > calcite-dropdown {
            max-width: 50%;

            .esri-scale-range-slider__scale-menu-toggle {
              max-width: 100%;
              --calcite-offset-invert-focus: 1;
            }
          }
        }

        calcite-dropdown-group {
          border-radius: 4px;
          border: 1px solid var(--sys-color-divider-secondary, #585858);
          background: var(--sys-color-surface-overlay, #282828);
          box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.20);
          --calcite-color-text-3: var(--sys-color-surface-overlay-hint, #DCDCDC);
        }
      }
    `}componentDidMount(){this.unmount=!1,document.body.addEventListener("click",this.onClickBody,!1),this.updateClientQueryHelpHref(),this.loadApiScaleRangeSlider()}updateClientQueryHelpHref(){return se(this,void 0,void 0,function*(){var e;try{const t=null===(e=this.props.manifest)||void 0===e?void 0:e.name;if(t){let e=yield c.helpUtils.getWidgetHelpLink(t);e||(e="#"),this.unmount||this.setState({clientQueryHelpHref:e})}}catch(e){console.error("can not get help link of map",e)}})}componentWillUnmount(){this.unmount=!0,document.body.removeEventListener("click",this.onClickBody,!1),this.cancelCloseSelectThirdMapAlertTimer(),this.releaseWebMapLodHandles(),this.releaseScaleHandleOfMapView(),this.removeScaleRangeSlider()}updateConfig(e){this.props.onSettingChange({id:this.props.id,config:e})}releaseWebMapLodHandles(){var e;(null===(e=this.handlesOfWebMapLods)||void 0===e?void 0:e.length)>0&&this.handlesOfWebMapLods.forEach(e=>{e&&e.remove()}),this.handlesOfWebMapLods=[]}updateWebMapJimuMapViewInfos(){var e;const t=[];(null===(e=this.webMapJimuMapViews)||void 0===e?void 0:e.length)>0&&this.webMapJimuMapViews.forEach(e=>{var a,i;const l=e.view,s=(null===(i=null===(a=l.map)||void 0===a?void 0:a.portalItem)||void 0===i?void 0:i.title)||"",o=C(l),n={jimuMapViewId:e.id,mapName:s,lodScaleRange:o};t.push(n)}),this.setState({webMapInfos:t})}loadApiScaleRangeSlider(){(0,i.loadArcGISJSAPIModules)(["esri/core/reactiveUtils","esri/widgets/ScaleRangeSlider"]).then(e=>{this.reactiveUtils=e[0],this.ScaleRangeSlider=e[1],this.updateScaleRangeSlider()})}releaseScaleHandleOfMapView(){this.scaleHandleOfMapView&&(this.scaleHandleOfMapView.remove(),this.scaleHandleOfMapView=null)}updateScaleRangeSlider(){return se(this,void 0,void 0,function*(){var e,t;if(this.unmount)return;this.releaseScaleHandleOfMapView(),this.removeScaleRangeSlider();const i=null===(e=this.activeJimuMapView)||void 0===e?void 0:e.view,l=this.props.config;if(this.ScaleRangeSlider&&i&&this.scaleRangeSliderContainer&&(null==l?void 0:l.scaleRange)){const e=document.createElement("div");this.scaleRangeSliderContainer.appendChild(e);const l={container:e,view:i};"number"==typeof this.minScale&&(l.minScale=this.minScale),"number"==typeof this.maxScale&&(l.maxScale=this.maxScale);const s=(0,a.getAppStore)().getState(),o=null===(t=null==s?void 0:s.appContext)||void 0===t?void 0:t.locale;if(o){const e=o.split("-");if((null==e?void 0:e.length)>0){const t=e[e.length-1];if(t){const e=t.toUpperCase();["AE","AR","AT","AU","BE","BG","BO","BR","CA","CH","CI","CL","CN","CO","CR","CZ","DE","DK","EE","EG","ES","FI","FR","GB","GL","GR","GT","HK","ID","IE","IL","IN","IQ","IS","IT","JP","KE","KR","KW","LI","LT","LU","LV","MA","MG","ML","MO","MX","MY","NI","NL","NO","NZ","PE","PL","PR","PT","RO","RU","RW","SE","SG","SK","SR","SV","TH","TN","TW","US","VE","VI","ZA"].includes(e)&&(l.region=e)}}}this.scaleRangeSlider=new this.ScaleRangeSlider(l),this.watchHandlesOfScaleRangeSlider(),this.updateScaleRangeLimitState(this.scaleRangeSlider),this.scaleHandleOfMapView=yield this.activeJimuMapView.watch(()=>i.scale,()=>{this.scaleRangeSlider&&(this.scaleRangeSlider.view=null,this.scaleRangeSlider.view=i)}),this.updateScaleRangeCounterState()}})}watchHandlesOfScaleRangeSlider(){this.releaseHandlesOfScaleRangeSlider();const e=this.scaleRangeSlider;if(e){const t=this.reactiveUtils.watch(()=>e.minScale,e=>{this.minScale=e,this.debounceHandleMinMaxScaleChange()}),a=this.reactiveUtils.watch(()=>e.maxScale,e=>{this.maxScale=e,this.debounceHandleMinMaxScaleChange()}),i=this.reactiveUtils.watch(()=>[e.minScaleLimit,e.maxScaleLimit],()=>{this.updateScaleRangeLimitState(e)});this.handlesOfScaleRangeSlider||(this.handlesOfScaleRangeSlider=[]),this.handlesOfScaleRangeSlider.push(t,a,i)}}updateScaleRangeLimitState(e){const t={minScale:e.minScaleLimit,maxScale:e.maxScaleLimit};this.setState({scaleRangleLimit:t})}releaseHandlesOfScaleRangeSlider(){var e;(null===(e=this.handlesOfScaleRangeSlider)||void 0===e?void 0:e.length)>0&&this.handlesOfScaleRangeSlider.forEach(e=>{e&&e.remove()}),this.handlesOfScaleRangeSlider=[]}removeScaleRangeSlider(){if(this.releaseScaleHandleOfMapView(),this.releaseHandlesOfScaleRangeSlider(),this.scaleRangeSlider){const e=this.scaleRangeSlider.container;this.scaleRangeSlider.destroy(),this.scaleRangeSlider=null,e&&e.parentElement&&e.parentElement.removeChild(e)}this.updateScaleRangeCounterState()}updateScaleRangeCounterState(){this.scaleRangeCounter++,this.unmount||this.setState({scaleRangeCounter:this.scaleRangeCounter})}handleMinMaxScaleChange(){if(this.unmount)return;const e={};"number"==typeof this.minScale&&this.minScale>0&&(e.minScale=this.minScale),"number"==typeof this.maxScale&&this.maxScale>0&&(e.maxScale=this.maxScale);const t=this.props.config.set("scaleRange",e);this.updateConfig(t)}resetMinScaleAndMaxScale(){this.minScale=null,this.maxScale=null,this.scaleRangeSlider&&(this.releaseHandlesOfScaleRangeSlider(),this.scaleRangeSlider.minScale=0,this.scaleRangeSlider.maxScale=0,this.watchHandlesOfScaleRangeSlider())}getMapDataSourceCount(){let e=0,t=0,a=0;const i=this.props.useDataSources;return i&&i.length>0&&(a=i.length,i.forEach(a=>{var i;const l=null===(i=this.props.dsJsons[a.dataSourceId])||void 0===i?void 0:i.type;"WEB_MAP"===l?e++:"WEB_SCENE"===l&&t++})),[e,t,a]}showSelectThirdMapAlert(){this.unmount||(this.setState({showSelectThirdMapAlert:!0},()=>{this.unmount||this.forceUpdate()}),this.startCloseSelectThirdMapAlertTimer())}hideSelectThirdMapAlert(){this.cancelCloseSelectThirdMapAlertTimer(),this.unmount||this.setState({showSelectThirdMapAlert:!1})}cancelCloseSelectThirdMapAlertTimer(){this.closeThirdMapAlertTimer&&(clearTimeout(this.closeThirdMapAlertTimer),this.closeThirdMapAlertTimer=null)}startCloseSelectThirdMapAlertTimer(){this.cancelCloseSelectThirdMapAlertTimer(),this.closeThirdMapAlertTimer=setTimeout(()=>{this.unmount||this.setState({showSelectThirdMapAlert:!1})},5e3)}render(){var c,p,g,h,m,M,N,f;const j=null===(c=this.props)||void 0===c?void 0:c.widgetId,D=this.props.config,b=null==D?void 0:D.customLODs,w=null==D?void 0:D.scaleRange,C=this.getPortUrl(),[A,T,O]=this.getMapDataSourceCount();let z=null;if(T>0){const i=this.props.intl.formatMessage({id:"sceneQualityMode",defaultMessage:d.sceneQualityMode}),s=this.props.intl.formatMessage({id:"mapZoomToAction_Automatic",defaultMessage:d.mapZoomToAction_Automatic});z=(0,t.jsx)(r.SettingRow,{flow:"wrap",label:i,children:(0,t.jsxs)(l.Select,{size:"sm",value:this.props.config&&this.props.config.sceneQualityMode||e.auto,onChange:e=>{this.onSceneQualityModeChanged(e.target.value,"sceneQualityMode")},children:[(0,t.jsx)("option",{value:"auto",children:s},"auto"),(0,t.jsx)("option",{value:"low",children:(0,t.jsx)(a.FormattedMessage,{id:"low",defaultMessage:"Low"})},"low"),(0,t.jsx)("option",{value:"medium",children:(0,t.jsx)(a.FormattedMessage,{id:"medium",defaultMessage:"Medium"})},"medium"),(0,t.jsx)("option",{value:"high",children:(0,t.jsx)(a.FormattedMessage,{id:"high",defaultMessage:"High"})},"high")]})})}const k=this.props.intl.formatMessage({id:"selectThirdMapHint",defaultMessage:d.selectThirdMapHint}),L=this.props.intl.formatMessage({id:"showPopupUponSelectionTooltip",defaultMessage:d.showPopupUponSelectionTooltip});let R=null;this.alertRef&&this.alertRef.current&&(R=this.alertRef.current);const Q=!(!this.props.config||this.props.config.disablePopUp),B=Q&&!(!this.props.config||!this.props.config.showPopupUponSelection),U=Q?function(e){let t=null;return e&&e.popupDockPosition&&("auto"===e.popupDockPosition||v.includes(e.popupDockPosition))&&(t=e.popupDockPosition),t}(this.props.config):null,H=!!U,Z="auto"===U,Y=U&&"auto"!==U,W=this.getDsClientQueryInfos(),V=this.props.intl.formatMessage({id:"moreInformation",defaultMessage:d.moreInformation});let F="";F=this.props.intl.formatMessage({id:"clientQueryHelpTip",defaultMessage:d.clientQueryHelpTip},{link:(0,t.jsx)("a",{href:this.state.clientQueryHelpHref,target:"_blank",rel:"noopener noreferrer",children:V})});const G=a.css`
      width: 360px;
      font-size: 12px;
    `,J=(0,t.jsx)("div",{className:"p-2",css:G,children:(0,t.jsx)("div",{children:F})}),q=this.props.intl.formatMessage({id:"clientQueryDisabledTip",defaultMessage:d.clientQueryDisabledTip}),_=this.props.intl.formatMessage({id:"default",defaultMessage:l.defaultMessages.default}),K=this.props.intl.formatMessage({id:"custom",defaultMessage:l.defaultMessages.custom}),X=null===(g=null===(p=this.props.useDataSources)||void 0===p?void 0:p[0])||void 0===g?void 0:g.dataSourceId,ee=X?this.props.dsJsons[X]:null,te=(null==ee?void 0:ee.portalUrl)||null,ie=(null==ee?void 0:ee.itemId)||null,le=(null==ee?void 0:ee.label)||(null==ee?void 0:ee.sourceLabel)||"",se=null===(m=null===(h=this.props.useDataSources)||void 0===h?void 0:h[1])||void 0===m?void 0:m.dataSourceId,oe=se?this.props.dsJsons[se]:null,ne=(null==oe?void 0:oe.portalUrl)||null,ce=(null==oe?void 0:oe.itemId)||null,re=(null==oe?void 0:oe.label)||(null==oe?void 0:oe.sourceLabel)||"",de=A<=1&&0===T,pe=A>0||0===O,ue=de||pe,ge=!!b,he=!!w,me=ue&&(ge||he);let Me=!1;if(w&&(null===(M=this.state.webMapInfos)||void 0===M?void 0:M.length)>0){const e="number"==typeof w.minScale&&w.minScale>0?w.minScale:1/0,t="number"==typeof w.maxScale&&w.maxScale>0?w.maxScale:0;Me=this.state.webMapInfos.every(a=>{const i=a.lodScaleRange,l=i.minScale,s=i.maxScale;return"number"==typeof l&&"number"==typeof s&&(l<t||s>e)})}const Se=!!this.activeJimuMapView,Ie=this.props.intl.formatMessage({id:"originalScaleRangeTip",defaultMessage:d.originalScaleRangeTip});return(0,t.jsx)("div",{css:this.getStyle(),children:(0,t.jsxs)("div",{className:"widget-setting-map",children:[(0,t.jsx)(l.Alert,{closable:!0,className:"select-third-map-alert",form:"basic",onClose:this.onSelectThirdMapAlertClose,open:this.state.showSelectThirdMapAlert,text:k,type:"warning",withIcon:!0,ref:this.alertRef}),(0,t.jsx)(i.JimuMapViewComponent,{useMapWidgetId:j,onViewsChange:this.onJimuMapViewsChange,onActiveViewChange:this.onActiveJimuViewChange}),(0,t.jsxs)(r.SettingSection,{className:"section-title",title:this.props.intl.formatMessage({id:"sourceLabel",defaultMessage:d.sourceLabel}),children:[(0,t.jsx)(r.SettingRow,{flow:"wrap",children:(0,t.jsx)("div",{className:"source-description text-break",children:this.props.intl.formatMessage({id:"sourceDescript",defaultMessage:d.sourceDescript})})}),(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)(o.DataSourceSelector,{isMultiple:!0,types:this.supportedDsTypes,buttonLabel:this.props.intl.formatMessage({id:"selectMap",defaultMessage:d.selectMap}),onNewDataAdded:this.onNewDataAdded,onChange:this.onDataSourceChange,useDataSources:this.props.useDataSources,disableSelection:this.onDisableSelection,mustUseDataSource:!0,widgetId:this.props.id,onClickDisabledDsItem:this.onClickDisabledDsItem,sidePopperTrigger:R})}),C&&this.props.dsJsons&&this.props.useDataSources&&1===this.props.useDataSources.length&&(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)("div",{className:"webmap-thumbnail selected-item",title:le,onClick:()=>{this.setInitialMap(this.props.useDataSources[0].dataSourceId)},children:(0,t.jsx)(S,{usedInSetting:!0,portUrl:te,mapItemId:ie,label:le,theme:this.props.theme})})})}),C&&this.props.dsJsons&&this.props.useDataSources&&2===this.props.useDataSources.length&&(0,t.jsx)(r.SettingRow,{children:(0,t.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[(0,t.jsx)("div",{onClick:()=>{this.setInitialMap(this.props.useDataSources[0].dataSourceId)},title:le,className:(0,a.classNames)("webmap-thumbnail-multi",{"selected-item":this.props.config.initialMapDataSourceID===this.props.useDataSources[0].dataSourceId}),tabIndex:0,role:"button",onKeyDown:e=>{this.handleMapThumbKeyDown(e,0)},children:(0,t.jsx)(S,{usedInSetting:!0,portUrl:te,mapItemId:ie,label:le,theme:this.props.theme})}),(0,t.jsx)("div",{onClick:()=>{this.setInitialMap(this.props.useDataSources[1].dataSourceId)},title:re,className:(0,a.classNames)("webmap-thumbnail-multi",{"selected-item":this.props.config.initialMapDataSourceID===this.props.useDataSources[1].dataSourceId}),tabIndex:0,role:"button",onKeyDown:e=>{this.handleMapThumbKeyDown(e,1)},children:(0,t.jsx)(S,{usedInSetting:!0,portUrl:ne,mapItemId:ce,label:re,theme:this.props.theme})})]})})]}),(0,t.jsx)(r.SettingSection,{children:(0,t.jsxs)(l.CollapsablePanel,{label:this.props.intl.formatMessage({id:"initialMapView",defaultMessage:d.initialMapView}),"aria-label":this.props.intl.formatMessage({id:"initialMapView",defaultMessage:d.initialMapView}),level:1,type:"default",wrapperClassName:"mt-4",children:[(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center",children:(0,t.jsxs)(l.Label,{title:this.props.intl.formatMessage({id:"defaultViewTip",defaultMessage:d.defaultViewTip}),children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},onChange:()=>{this.handleIsUseCustomMapState(!1)},checked:!this.props.config.isUseCustomMapState}),this.props.intl.formatMessage({id:"defaultView",defaultMessage:d.defaultView})]})})}),(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center",children:(0,t.jsxs)(l.Label,{title:this.props.intl.formatMessage({id:"customViewTip",defaultMessage:d.customViewTip}),children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},onChange:()=>{this.handleIsUseCustomMapState(!0)},checked:this.props.config.isUseCustomMapState}),this.props.intl.formatMessage({id:"customView",defaultMessage:d.customView})]})})}),this.props.config.isUseCustomMapState&&(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)("div",{className:"ml-5",children:(0,t.jsx)(s.MapStatesEditor,{title:this.props.intl.formatMessage({id:"setMapView",defaultMessage:d.setMapView}),buttonLabel:this.props.intl.formatMessage({id:"customViewSet",defaultMessage:d.customViewSet}),useDataSources:this.props.useDataSources,jimuMapConfig:this.props.config,id:this.props.id,onConfigChanged:this.handleMapInitStateChanged,isUseWidgetSize:!0})})})]})}),(0,t.jsx)(r.SettingSection,{className:"scale-range-setting-section",children:(0,t.jsxs)(l.CollapsablePanel,{className:"scale-range-collapsable-panel",label:this.props.intl.formatMessage({id:"scaleRange",defaultMessage:d.scaleRange}),"aria-label":this.props.intl.formatMessage({id:"scaleRange",defaultMessage:d.scaleRange}),level:1,type:"default",wrapperClassName:"mt-4",children:[(0,t.jsx)(r.SettingRow,{tag:"label",label:this.props.intl.formatMessage({id:"scaleRangeTip",defaultMessage:d.scaleRangeTip}),children:(0,t.jsx)(l.Switch,{disabled:!ue,checked:me,onChange:this.onScaleRangeSwitchChange})}),me&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsxs)(r.SettingRow,{children:[(0,t.jsxs)(l.Label,{className:"w-100",style:{justifyContent:"flex-start"},title:this.props.intl.formatMessage({id:"customizeScaleList",defaultMessage:d.customizeScaleList}),children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},disabled:!de,checked:ge,onChange:this.onCustomLodRadioChecked}),this.props.intl.formatMessage({id:"customizeScaleList",defaultMessage:d.customizeScaleList})]}),(0,t.jsx)(l.Tooltip,{title:this.props.intl.formatMessage({id:"lodSingleMapTip",defaultMessage:d.lodSingleMapTip}),showArrow:!0,placement:"left",children:(0,t.jsx)("span",{className:"ml-2",children:(0,t.jsx)(x,{})})})]}),me&&ge&&(0,t.jsx)(l.Button,{className:"modify-custom-lod-btn mt-4 mb-4 ml-6",size:"sm",disabled:!Se,onClick:this.onModifyCustomLodBtnClick,children:this.props.intl.formatMessage({id:"customViewSet",defaultMessage:d.customViewSet})}),(0,t.jsx)(r.SettingRow,{children:(0,t.jsxs)(l.Label,{title:this.props.intl.formatMessage({id:"adjustScaleRange",defaultMessage:d.adjustScaleRange}),children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},disabled:!pe,checked:he,onChange:this.onScaleSliderRadioChecked}),this.props.intl.formatMessage({id:"adjustScaleRange",defaultMessage:d.adjustScaleRange})]})})]}),this.activeJimuMapView&&b&&this.state.showCustomLodModal&&(0,t.jsx)($,{jimuMapView:this.activeJimuMapView,lods:null==b?void 0:b.lods,onModalOk:this.onCustomLodModalOk,onModalCancel:this.onCustomLodModalCancel}),me&&he&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)(r.SettingRow,{className:"exb-scale-range-slider-setting-row",children:(0,t.jsx)("div",{className:"exb-scale-range-slider-container",ref:this.onScaleRangeSliderContainerChange})}),(0,t.jsx)(r.SettingRow,{className:"original-scale-range-tip-setting-row",tag:"label",label:Ie}),this.scaleRangeSlider&&(null===(N=this.state.webMapInfos)||void 0===N?void 0:N.length)>0&&(0,t.jsx)(a.React.Fragment,{children:null===(f=this.state.webMapInfos)||void 0===f?void 0:f.map(e=>(0,t.jsx)(r.SettingRow,{className:"lod-range-indicator-setting-row",children:(0,t.jsx)(E,{mapName:e.mapName,scaleRangeSlider:this.scaleRangeSlider,scaleRangleLimit:this.state.scaleRangleLimit,lodScaleRange:e.lodScaleRange})},e.jimuMapViewId))})]}),Me&&(0,t.jsx)(r.SettingRow,{className:"p-0 scale-range-alert-setting-row",children:(0,t.jsx)(l.Alert,{className:"w-100",closable:!1,form:"basic",text:this.props.intl.formatMessage({id:"wrongScaleRangeWarning",defaultMessage:d.wrongScaleRangeWarning}),type:"warning",withIcon:!0})})]})}),(0,t.jsxs)(r.SettingSection,{children:[(0,t.jsx)(l.CollapsablePanel,{label:this.props.intl.formatMessage({id:"toolLabel",defaultMessage:d.toolLabel}),"aria-label":this.props.intl.formatMessage({id:"toolLabel",defaultMessage:d.toolLabel}),level:1,type:"default",wrapperClassName:"mt-4",children:(0,t.jsx)("div",{className:"w-100",ref:this.onMapToolsContainerRef,onClick:this.onMapToolsContainerClick,children:Object.keys(I).map((e,a)=>{const i=I[e];if(i.isNeedSetting){const s=e+"Label",o="map-tool-option-setting-row "+(0===a?"mt-0":"mt-2"),n=`can${e}`,c=this.props.config.toolConfig&&this.props.config.toolConfig[n]||!1;return(0,t.jsxs)(r.SettingRow,{className:o,tag:"label",label:this.props.intl.formatMessage({id:s,defaultMessage:l.defaultMessages[s]}),children:[i.hasSettingOptions&&c&&(0,t.jsx)(l.Button,{"aria-haspopup":"dialog",className:"map-tool-sidepopper-setting-btn p-0 border-0 mr-2",type:"tertiary",icon:!0,size:"sm",onClick:()=>{this.onMapToolSettingBtnClick(e,n,c)},children:(0,t.jsx)(ae,{size:16})}),(0,t.jsx)(l.Switch,{className:"can-x-switch",checked:c,onChange:t=>{this.onMapToolSwitchChanged(e,n,t.target.checked)}})]},e)}return null})})}),this.renderMapToolSidePopper()]}),(0,t.jsx)(r.SettingSection,{children:(0,t.jsxs)(l.CollapsablePanel,{label:this.props.intl.formatMessage({id:"mapLayout",defaultMessage:d.mapLayout}),"aria-label":this.props.intl.formatMessage({id:"mapLayout",defaultMessage:d.mapLayout}),level:1,type:"default",wrapperClassName:"mt-4",children:[(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)("div",{className:"source-description",id:"largeAndMediumLayout",children:this.props.intl.formatMessage({id:"mapLayout_LargeAndMedium",defaultMessage:d.mapLayout_LargeAndMedium})})}),(0,t.jsx)(r.SettingRow,{children:(0,t.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[(0,t.jsx)("div",{onClick:()=>{this.changeToolLayout(0)},className:(0,a.classNames)("webmap-thumbnail-multi border d-flex justify-content-center align-items-center",{"selected-item":!this.props.config.layoutIndex}),"aria-labelledby":"largeAndMediumLayout",tabIndex:0,role:"button",onKeyDown:e=>{this.handleLayoutThumbKeyDown(e,0)},children:(0,t.jsx)(l.Image,{src:u(52222)})}),(0,t.jsx)("div",{onClick:()=>{this.changeToolLayout(1)},className:(0,a.classNames)("webmap-thumbnail-multi border d-flex justify-content-center align-items-center",{"selected-item":1===this.props.config.layoutIndex}),"aria-labelledby":"largeAndMediumLayout",tabIndex:0,role:"button",onKeyDown:e=>{this.handleLayoutThumbKeyDown(e,1)},children:(0,t.jsx)(l.Image,{src:u(95951)})})]})})]})}),(0,t.jsx)(r.SettingSection,{children:(0,t.jsxs)(l.CollapsablePanel,{label:this.props.intl.formatMessage({id:"options",defaultMessage:l.defaultMessages.options}),"aria-label":this.props.intl.formatMessage({id:"options",defaultMessage:l.defaultMessages.options}),level:1,type:"default",wrapperClassName:"mt-4",children:[(0,t.jsx)(r.SettingRow,{children:(0,t.jsxs)("div",{className:"w-100 webmap-tools",children:[(0,t.jsx)("div",{className:"webmap-tools-item",children:(0,t.jsx)("label",{children:(0,t.jsx)(a.FormattedMessage,{id:"featureSelectionColor",defaultMessage:d.featureSelectionColor})})}),(0,t.jsxs)("div",{className:"d-flex justify-content-between",style:{marginBottom:"8px",color:this.props.theme.ref.palette.neutral[900]},children:[(0,t.jsx)("label",{id:"highlightFill",children:(0,t.jsx)(a.FormattedMessage,{id:"featureHighlightFill",defaultMessage:d.featureHighlightFill})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.ColorPicker,{style:{padding:"4"},width:30,height:26,color:this.props.config.selectionHighlightColor?this.props.config.selectionHighlightColor:"#00FFFF",onChange:this.updateSelectionHighlightColor,presetColors:this.presetColors,"aria-label":this.props.intl.formatMessage({id:"featureHighlightFill",defaultMessage:d.featureHighlightFill})})})]}),(0,t.jsxs)("div",{className:"d-flex justify-content-between",style:{color:this.props.theme.ref.palette.neutral[900]},children:[(0,t.jsx)("label",{children:(0,t.jsx)(a.FormattedMessage,{id:"featureHighlightOutline",defaultMessage:d.featureHighlightOutline})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.ColorPicker,{style:{padding:"4"},width:30,height:26,color:this.props.config.selectionHighlightHaloColor?this.props.config.selectionHighlightHaloColor:"#00FFFF",onChange:this.updateSelectionHighlightHaloColor,presetColors:this.presetColors,"aria-label":this.props.intl.formatMessage({id:"featureHighlightOutline",defaultMessage:d.featureHighlightOutline})})})]})]})}),(0,t.jsx)(r.SettingRow,{tag:"label",label:this.props.intl.formatMessage({id:"enableScrollZoom",defaultMessage:d.enableScrollZoom}),children:(0,t.jsx)(l.Switch,{className:"can-x-switch",checked:this.props.config&&!0!==this.props.config.disableScroll,"data-key":"disableScroll",onChange:e=>{this.onMapOptionsChanged(!e.target.checked,"disableScroll")}})}),(0,t.jsx)(r.SettingRow,{tag:"label",label:this.props.intl.formatMessage({id:"enablePopUp",defaultMessage:d.enablePopUp}),children:(0,t.jsx)(l.Switch,{className:"can-x-switch",checked:Q,"data-key":"disablePopUp",onChange:this.onEnablePopupSwitchChange})}),Q&&(0,t.jsxs)(r.SettingRow,{children:[(0,t.jsxs)(l.Label,{children:[(0,t.jsx)(l.Checkbox,{checked:B,className:"mr-1",onChange:this.onShowPopupUponSelectionCheckboxChange}),(0,t.jsx)(a.FormattedMessage,{id:"showPopupUponSelection",defaultMessage:d.showPopupUponSelection})]}),(0,t.jsx)(l.Tooltip,{title:L,showArrow:!0,placement:"left",children:(0,t.jsx)("span",{children:(0,t.jsx)(x,{})})})]}),Q&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)(r.SettingRow,{children:(0,t.jsxs)(l.Label,{children:[(0,t.jsx)(l.Checkbox,{checked:H,className:"mr-1",onChange:this.onDockPopupCheckboxChange}),(0,t.jsx)(a.FormattedMessage,{id:"dockPopup",defaultMessage:d.dockPopup})]})}),H&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)(r.SettingRow,{children:(0,t.jsx)("div",{className:"dock-popup-section d-flex w-100 align-items-center",children:(0,t.jsx)("label",{className:"dock-popup-label w-100",children:(0,t.jsx)(a.FormattedMessage,{id:"position",defaultMessage:l.defaultMessages.position})})})}),(0,t.jsx)(r.SettingRow,{children:(0,t.jsxs)(l.Label,{title:_,children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},checked:Z,onChange:this.onAutoDockPopupPositionRadioChange}),_]})}),(0,t.jsxs)(r.SettingRow,{children:[(0,t.jsxs)(l.Label,{title:K,className:(0,a.classNames)("dock-popup-custom-position-label",{"use-custom-dock-popup-position":Y,"pr-1":Y}),style:{},children:[(0,t.jsx)(l.Radio,{className:"mr-2",style:{cursor:"pointer"},checked:Y,onChange:this.onCustomDockPopupPositionRadioChange}),K]}),Y&&(0,t.jsx)(P,{value:U,onChange:this.onPopupDockPositionChange})]})]})]}),z,W.length>0&&(0,t.jsxs)(a.React.Fragment,{children:[(0,t.jsx)(r.SettingRow,{bottomLine:!0}),(0,t.jsx)(r.SettingRow,{level:2,label:this.props.intl.formatMessage({id:"enableClientSideQuery",defaultMessage:d.enableClientSideQuery}),flow:"no-wrap",className:"enable-client-query-header",children:(0,t.jsx)(l.Tooltip,{title:J,showArrow:!0,placement:"left",interactive:!0,leaveDelay:1e3,children:(0,t.jsx)("span",{children:(0,t.jsx)(x,{})})})}),W.map(e=>{const{dataSourceId:a,dsLabel:i,clientQueryEnabled:s,switchEnabled:o}=e,n=!o,c=(0,t.jsxs)("div",{className:"d-flex align-items-center",title:i,children:[(0,t.jsx)(y,{className:"mr-2",style:{flexBasis:"16px",flexShrink:0}}),i]});return(0,t.jsxs)(r.SettingRow,{level:3,tag:"label",label:c,"aria-label":i,flow:"no-wrap",className:"w-100",children:[n&&(0,t.jsx)(l.Tooltip,{title:q,showArrow:!0,placement:"left",children:(0,t.jsx)("span",{className:"mr-2",children:(0,t.jsx)(x,{})})}),(0,t.jsx)(l.Switch,{className:"can-x-switch",disabled:n,checked:s,onChange:e=>{this.onClientQueryChanged(a,e.target.checked)}})]},a)})]})]})})]})})}renderMapToolSidePopper(){var e,i;const{sidePopperMapTool:s}=this.state,o=!!s;let n="";if(s){const e=s+"Label";n=this.props.intl.formatMessage({id:e,defaultMessage:l.defaultMessages[e]})||""}const c=null===(i=null===(e=this.props.config)||void 0===e?void 0:e.toolOptions)||void 0===i?void 0:i.ScaleBar;let d=null;if(o&&this.mapToolsContainer){const e=Array.from(this.mapToolsContainer.querySelectorAll(".map-tool-option-setting-row")).filter(e=>null==e?void 0:e.querySelector(".map-tool-sidepopper-setting-btn"));e.length>0&&(d=e)}return(0,t.jsx)(r.SidePopper,{isOpen:o,toggle:this.onMapToolSidePopperToggle,position:"right",trigger:d,title:n,children:o&&(0,t.jsx)(a.React.Fragment,{children:"ScaleBar"===s&&(0,t.jsx)(ie,{scalebarOptions:c,onChange:this.onScalebarSettingChange})})})}}oe.mapExtraStateProps=e=>({dsJsons:e.appStateInBuilder.appConfig.dataSources});const ne=oe;function ce(e){u.p=e}})(),g})())}}});