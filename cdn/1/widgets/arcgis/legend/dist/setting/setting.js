System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-arcgis","jimu-ui/advanced/data-source-selector","jimu-layouts/layout-runtime","jimu-ui/basic/color-picker"],(function(e,t){var s={},a={},o={},i={},r={},l={},n={};return{setters:[function(e){s.FormattedMessage=e.FormattedMessage,s.Immutable=e.Immutable,s.React=e.React,s.css=e.css,s.getAppStore=e.getAppStore,s.jsx=e.jsx,s.polished=e.polished},function(e){a.FillType=e.FillType,a.Label=e.Label,a.Radio=e.Radio,a.Switch=e.Switch,a.defaultMessages=e.defaultMessages},function(e){o.MapWidgetSelector=e.MapWidgetSelector,o.SettingRow=e.SettingRow,o.SettingSection=e.SettingSection},function(e){i.DataSourceTypes=e.DataSourceTypes},function(){},function(e){l.defaultMessages=e.defaultMessages},function(e){n.ThemeColorPicker=e.ThemeColorPicker}],execute:function(){e((()=>{var e={38275:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><path fill="#000" fill-rule="nonzero" d="m6.828.535 4.966 11.01A.323.323 0 0 1 11.5 12a.776.776 0 0 1-.707-.455L9.182 8H2.818l-1.611 3.545A.776.776 0 0 1 .5 12a.323.323 0 0 1-.294-.456L5.172.535a.909.909 0 0 1 1.656 0ZM6 1 3.272 7h5.456L6 1Z"></path></svg>'},26826:e=>{"use strict";e.exports=i},48891:e=>{"use strict";e.exports=s},74758:e=>{"use strict";e.exports=l},30726:e=>{"use strict";e.exports=a},338:e=>{"use strict";e.exports=r},77756:e=>{"use strict";e.exports=o},41362:e=>{"use strict";e.exports=n}},t={};function d(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,d),o.exports}d.d=(e,t)=>{for(var s in t)d.o(t,s)&&!d.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="";var c={};return d.p=window.jimuConfig.baseUrl,(()=>{"use strict";d.r(c),d.d(c,{CardLayout:()=>h,__set_webpack_public_path__:()=>m,default:()=>f});var e=d(48891),t=d(30726),s=d(77756),a=d(26826),o=(d(338),d(74758)),i=d(41362);const r="Source",l="Options",n="Show basemap legends",p="Use card style",g="Select a Map widget",u=d(38275);var h;!function(e){e.Auto="auto",e.SideBySide="side-by-side",e.Stack="stack"}(h||(h={}));class f extends e.React.PureComponent{constructor(s){super(s),this.supportedDsTypes=(0,e.Immutable)([a.DataSourceTypes.WebMap,a.DataSourceTypes.WebScene]),this.getPortUrl=()=>(0,e.getAppStore)().getState().portalUrl,this.onOptionsChanged=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set(t,e)}),"cardStyle"===t&&this.setState({cardStyle:e})},this.onRadioChange=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("cardLayout",e)}),this.setState({cardLayoutValue:e})},this.onToggleUseDataEnabled=e=>{this.props.onSettingChange({id:this.props.id,useDataSourcesEnabled:e})},this.onDataSourceChange=e=>{e&&this.props.onSettingChange({id:this.props.id,useDataSources:e})},this.onMapWidgetSelected=e=>{this.props.onSettingChange({id:this.props.id,useMapWidgetIds:e})},this.onUseCustomStyleChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["style","useCustom"],e)})},this.onFontStyleChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["style","fontColor"],e)})},this.onBackgroundStyleChange=s=>{var a,o,i;const r={color:s,fillType:t.FillType.FILL};let l=(0,e.Immutable)(null!==(i=null===(o=null===(a=this.props.config)||void 0===a?void 0:a.style)||void 0===o?void 0:o.background)&&void 0!==i?i:{});for(const e in r)switch(e){case"fillType":l.fillType!==r[e]&&(l=l.set("fillType",r[e]));break;case"color":l=l.set("color",r[e]);break;case"image":l=l.set("image",r[e])}this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["style","background"],l)})},this.state={cardStyle:this.props.config.cardStyle||!1,cardLayoutValue:this.props.config.cardLayout||h.Auto}}getDefaultStyleConfig(){return{useCustom:!1,background:{color:"",fillType:t.FillType.FILL},fontColor:""}}getStyleConfig(){return this.props.config.style&&this.props.config.style.useCustom?this.props.config.style:this.getDefaultStyleConfig()}render(){var a,d,c,f,m;let y,S=null;return this.state.cardStyle&&(S=(0,e.jsx)("div",{className:"card-layout-content pl-2",role:"radiogroup"},(0,e.jsx)("div",{className:"w-100 legend-tools"},(0,e.jsx)("div",{className:"legend-tools-item card-style-radio"},(0,e.jsx)(t.Radio,{id:"auto",style:{cursor:"pointer"},name:"card-style-type",onChange:e=>{this.onRadioChange(h.Auto)},checked:this.state.cardLayoutValue===h.Auto}),(0,e.jsx)(t.Label,{style:{cursor:"pointer"},for:"auto",className:"ml-1"},this.props.intl.formatMessage({id:"auto",defaultMessage:"Auto"})))),(0,e.jsx)("div",{className:"w-100 legend-tools"},(0,e.jsx)("div",{className:"legend-tools-item card-style-radio"},(0,e.jsx)(t.Radio,{id:"side-by-side",style:{cursor:"pointer"},name:"card-style-type",onChange:e=>{this.onRadioChange(h.SideBySide)},checked:this.state.cardLayoutValue===h.SideBySide}),(0,e.jsx)(t.Label,{style:{cursor:"pointer"},for:"side-by-side",className:"ml-1"},this.props.intl.formatMessage({id:"sideBySide",defaultMessage:t.defaultMessages.sideBySide})))),(0,e.jsx)("div",{className:"w-100 legend-tools"},(0,e.jsx)("div",{className:"legend-tools-item card-style-radio"},(0,e.jsx)(t.Radio,{id:"stack",style:{cursor:"pointer"},name:"card-style-type",onChange:e=>{this.onRadioChange(h.Stack)},checked:this.state.cardLayoutValue===h.Stack}),(0,e.jsx)(t.Label,{style:{cursor:"pointer"},for:"stack",className:"ml-1"},this.props.intl.formatMessage({id:"stack",defaultMessage:o.defaultMessages.stack})))))),y=(null===(a=this.props.config.style)||void 0===a?void 0:a.useCustom)?"block":"none",(0,e.jsx)("div",{css:(M=this.props.theme,e.css`
    .widget-setting-legend{
      font-weight: lighter;
      font-size: 13px;

      .source-descript {
        color: ${M.colors.palette.dark[600]};
      }

      .webmap-thumbnail{
        cursor: auto;
        width: 100%;
        height: 120px;
        overflow: hidden;
        padding: 1px;
        border: ${e.polished.rem(2)} solid initial;
        img, div{
          width: 100%;
          height: 100%;
        }
      }

      .card-layout-content{
        width: 100%;
      }

      .legend-tools{
        .legend-tools-item{
          display: flex;
          margin-bottom: 8px;
        }
      }

      .advanced-setting-row .jimu-widget-setting--row-label {
        color: #c5c5c5;
        font-size: 0.875rem;
      }

      .map-selector-section .component-map-selector .form-control{
        width: 100%;
      }

      .jimu-builder--background-setting .background-image {
        display: none;
      }

      .jimu-builder--background-setting .background-image-fill-type {
        display: none;
      }
    }
  `)},(0,e.jsx)("div",{className:"widget-setting-legend"},(0,e.jsx)(s.SettingSection,{className:"map-selector-section",title:this.props.intl.formatMessage({id:"sourceLabel",defaultMessage:r}),role:"group","aria-label":this.props.intl.formatMessage({id:"sourceLabel",defaultMessage:r})},(0,e.jsx)(s.SettingRow,{label:(0,e.jsx)(e.FormattedMessage,{id:"selectMapWidget",defaultMessage:g})}),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(s.MapWidgetSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:this.props.useMapWidgetIds,"aria-label":this.props.intl.formatMessage({id:"selectMapWidget",defaultMessage:g})}))),(0,e.jsx)(s.SettingSection,{title:this.props.intl.formatMessage({id:"options",defaultMessage:l}),role:"group","aria-label":this.props.intl.formatMessage({id:"options",defaultMessage:l})},(0,e.jsx)(s.SettingRow,{label:(0,e.jsx)(e.FormattedMessage,{id:"showBaseMap",defaultMessage:n})},(0,e.jsx)(t.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.showBaseMap||!1,"data-key":"showBaseMap",onChange:e=>{this.onOptionsChanged(e.target.checked,"showBaseMap")},"aria-label":this.props.intl.formatMessage({id:"showBaseMap",defaultMessage:n})})),(0,e.jsx)(s.SettingRow,{label:(0,e.jsx)(e.FormattedMessage,{id:"cardStyle",defaultMessage:p})},(0,e.jsx)(t.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.cardStyle||!1,"data-key":"cardStyle",onChange:e=>{this.onOptionsChanged(e.target.checked,"cardStyle")},"aria-label":this.props.intl.formatMessage({id:"cardStyle",defaultMessage:p})})),(0,e.jsx)(s.SettingRow,{flow:"wrap",role:"radiogroup"},S)),(0,e.jsx)(s.SettingSection,null,(0,e.jsx)(s.SettingRow,{className:"advanced-setting-row",label:(0,e.jsx)(e.FormattedMessage,{id:"advance",defaultMessage:"Advanced"})},(0,e.jsx)(t.Switch,{className:"can-x-switch",checked:this.getStyleConfig().useCustom||!1,"data-key":"showBaseMap",onChange:e=>{this.onUseCustomStyleChanged(e.target.checked)},"aria-label":this.props.intl.formatMessage({id:"advance",defaultMessage:t.defaultMessages.advance})})),(0,e.jsx)("div",{className:"mt-3",style:{display:y}},(0,e.jsx)(s.SettingRow,{label:(0,e.jsx)(e.FormattedMessage,{id:"font",defaultMessage:"Font"})},(0,e.jsx)(i.ThemeColorPicker,{icon:u,type:"with-icon",specificTheme:this.props.theme2,value:this.getStyleConfig().fontColor||(null===(f=null===(c=null===(d=this.props.theme2.arcgis.widgets.legend.variants)||void 0===d?void 0:d.default)||void 0===c?void 0:c.root)||void 0===f?void 0:f.color)||"",onChange:this.onFontStyleChanged,"aria-label":this.props.intl.formatMessage({id:"fontColor",defaultMessage:t.defaultMessages.fontColor})})),(0,e.jsx)(s.SettingRow,{label:(0,e.jsx)(e.FormattedMessage,{id:"background",defaultMessage:"Background"})},(0,e.jsx)(i.ThemeColorPicker,{specificTheme:this.props.theme2,value:(null===(m=this.getStyleConfig().background)||void 0===m?void 0:m.color)||this.props.theme2.surfaces[1].bg||"",onChange:this.onBackgroundStyleChange,"aria-label":this.props.intl.formatMessage({id:"backgroundColor",defaultMessage:t.defaultMessages.backgroundColor})}))))));var M}}function m(e){d.p=e}f.mapExtraStateProps=e=>({dsJsons:e.appStateInBuilder.appConfig.dataSources})})(),c})())}}}));