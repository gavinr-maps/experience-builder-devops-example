System.register(["jimu-core/emotion","jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-ui/advanced/data-source-selector","jimu-arcgis","jimu-core/react"],function(e,t){var s={},a={},i={},l={},o={},r={},n={};return{setters:[function(e){s.jsx=e.jsx,s.jsxs=e.jsxs},function(e){a.AllDataSourceTypes=e.AllDataSourceTypes,a.FormattedMessage=e.FormattedMessage,a.Immutable=e.Immutable,a.React=e.React,a.SessionManager=e.SessionManager,a.classNames=e.classNames,a.css=e.css,a.esri=e.esri,a.getAppStore=e.getAppStore,a.polished=e.polished},function(e){i.Alert=e.Alert,i.Checkbox=e.Checkbox,i.Image=e.Image,i.Label=e.Label,i.Radio=e.Radio,i.Switch=e.Switch,i.defaultMessages=e.defaultMessages},function(e){l.LayerSetting=e.LayerSetting,l.MapWidgetSelector=e.MapWidgetSelector,l.SettingRow=e.SettingRow,l.SettingSection=e.SettingSection,l.getAllItemsInMapView=e.getAllItemsInMapView},function(e){o.DataSourceSelector=e.DataSourceSelector},function(e){r.JimuMapViewComponent=e.JimuMapViewComponent,r.MapViewManager=e.MapViewManager},function(e){n.createRef=e.createRef}],execute:function(){e((()=>{var e={13089:e=>{"use strict";e.exports=o},14321:e=>{"use strict";e.exports=i},53089:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#050505" d="m12.687 9.074.073-.133a.15.15 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.1.1 0 0 1-.019.01l-.092.017a.04.04 0 0 0-.033.051l.019.077a.14.14 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066M13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069q.002 0 .003.002l.104.13q.008.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131zM13.878 6.775l-.048.043a.3.3 0 0 0-.094.187.3.3 0 0 1-.082.178.5.5 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.6.6 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011zM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.13.13 0 0 0-.058.105zM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.1.1 0 0 0-.031-.008h-.328l-.035-.038a.22.22 0 0 0-.157-.074L5.778 4l-.048.009-.048.009-.289.122a.2.2 0 0 1-.076.018l-.464.023a.2.2 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.09.09 0 0 0-.015.105l.183.37a.13.13 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.1.1 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.23.23 0 0 0-.001-.172l-.03-.07a.23.23 0 0 1 .097-.28M4.03 4.643l.061-.11a.2.2 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.2.2 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.23.23 0 0 0 .199-.118M4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.14.14 0 0 0-.081-.027h-.224a.13.13 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085q.01.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038q0 .007-.002.016l-.03.073a.04.04 0 0 0 .006.036l.07.084a.03.03 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007q.014 0 .024.007l.174.133c.013.011.017.029.01.044l-.057.116a.03.03 0 0 1-.03.018l-.054.004a.04.04 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009q.037.002.069.024l.206.146q.022.014.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.04.04 0 0 0-.004-.029l-.07-.11.022-.004a.04.04 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008M2.08 5.137h.07l.104.146q.02.027.05.044l.136.068q.028.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.14.14 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138zM2.679 5.022l.11-.058a.14.14 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003zM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028zM2.414 4.698l.158.057a.1.1 0 0 1 .03.015l.109.073q.027.019.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122zM7.46 5.712l.058.092a.03.03 0 0 1-.001.028l-.044.06q-.007.013-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.14.14 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.02.02 0 0 1 .014-.017l.049-.024q.015-.008.013-.026l-.002-.03a.03.03 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118q-.006.017-.024.018l-.11-.003a.02.02 0 0 1-.018-.007.02.02 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002q.012 0 .02-.01l.053-.079A.03.03 0 0 0 7.3 5.94V5.82q0-.012.01-.019l.115-.094a.024.024 0 0 1 .037.005"></path><path fill="#050505" fill-rule="evenodd" d="M15.073 5.1H14.7a.04.04 0 0 1-.04-.03l-.358-.069a.16.16 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.03.03 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049q0-.026.02-.044l.218-.2a.16.16 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.1.1 0 0 1-.03.008h-.101a.16.16 0 0 0-.114.049l-.244.252a.17.17 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.16.16 0 0 1-.098.11l-.081.032a.16.16 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.2.2 0 0 0-.042.027l-.62.565a.16.16 0 0 0-.006.231l.058.061.083-.069a.06.06 0 0 1 .076.003l.155.146h.04l.146-.176a.06.06 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.04.04 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.13.13 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.16.16 0 0 1-.134.064l-.254-.01a.05.05 0 0 1-.031-.013.05.05 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.04.04 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.16.16 0 0 1 .13-.067h.097q.05 0 .09.028l.157.11c.03.022.033.068.004.092l-.088.077a.16.16 0 0 1-.104.04h-.55a.16.16 0 0 0-.126.064l-.425.573a.17.17 0 0 0-.032.096v.38q0 .054.032.097l.148.198q.018.025.027.055c.01.033.036.08.1.08h.686s.172.005.172.12q0 .061-.003.116a.16.16 0 0 0 .083.148c.048.028.099.077.099.155v.21a.2.2 0 0 1-.007.049.8.8 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.6.6 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.1.1 0 0 0-.018-.062l-.033-.057a.16.16 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.6.6 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.16.16 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.16.16 0 0 0-.035-.1l-.125-.158a.16.16 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5 5 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001q.016 0 .03-.002a.13.13 0 0 1 .127.083q.01.024.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.12.12 0 0 1 .075-.045l.054-.011a.13.13 0 0 0 .08-.053l.247-.373a.17.17 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.16.16 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.16.16 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.13.13 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.15.15 0 0 0 .104-.039l.159-.14a.04.04 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08q0-.02.013-.032l.062-.058a.16.16 0 0 1 .181-.024l.104.055a.06.06 0 0 0 .076-.016l.051-.065a.06.06 0 0 0 .012-.052.06.06 0 0 0-.033-.042l-.503-.25a5 5 0 0 0-.39-.014M8.141 7.024l.09-.078zl-.133-.163a.1.1 0 0 1-.01-.019.1.1 0 0 0 .01.018zm.755.493h-.081a.1.1 0 0 1-.032-.004 9 9 0 0 1-.61-.186.06.06 0 0 1-.035-.045.06.06 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056.048-.061.048-.061.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088m.417-.503H9.2l-.083-.065a.06.06 0 0 0-.032-.01h-.108a.07.07 0 0 0-.044.017l-.078.07-.078.012a.05.05 0 0 1-.056-.026.1.1 0 0 1-.006-.02l-.011-.087a.1.1 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.05.05 0 0 0 .05.058h.029a.07.07 0 0 0 .064-.042l.026-.058.12.02.01.087a.08.08 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052m.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.05.05 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004q.008.031-.013.056a.1.1 0 0 0-.015.031l-.013.085.113.105-.08.054z" clip-rule="evenodd"></path><path fill="#050505" d="M12.945 7.8q-.008-.022-.017-.021t-.036.025a.11.11 0 0 0-.039.08q0 .03.012.062c.007.018.02.032.028.032.025 0 .066-.14.052-.178M12.894 8.108l.024.005.014.004q.026.008.033.015.006.007.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016q-.009.012.014.021c.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.1.1 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02s-.05.006-.05-.018a.05.05 0 0 1 .03-.044q.02-.006.02-.017 0-.01-.02-.038a.2.2 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201q.007-.004.012-.016a.2.2 0 0 0 .009-.053c0-.04.003-.054.021-.052M12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013M12.912 8.698a.02.02 0 0 1 .021.02q0 .018-.008.02s-.005 0-.007-.003a.1.1 0 0 1-.015-.017q-.01-.018.01-.02M13.254 8.913q-.021-.045-.044-.043t-.03.05a.1.1 0 0 1-.01.026c.013.052.052.06.064.063h.004l.025-.029.014-.015zM13.082 8.894c.026-.004.035.015.011.043l-.008.015-.057.01-.036.005c-.038.006-.077.011-.1.037q0 .006.01.009t.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017q-.009-.035-.012.021c-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.14.14 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012q.015-.009.031-.011M13.36 9.136c0-.027-.034-.042-.092-.042a1 1 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015M5.866 9.362l-.35-.185a.2.2 0 0 0-.102-.026h-.101a.04.04 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.22.22 0 0 1-.173-.088l-.048-.065a.22.22 0 0 0-.155-.086l-.262-.023a.03.03 0 0 1-.017-.007l-.043-.03q-.019-.012-.038 0l-.187.106a.2.2 0 0 1-.108.028h-.192a.04.04 0 0 1-.017-.004.15.15 0 0 1-.071-.133v-.112a.04.04 0 0 0-.023-.035l-.014-.003h-.122a.04.04 0 0 1-.032-.019.04.04 0 0 1 0-.038l.057-.1a.04.04 0 0 0 .006-.02V8.2q0-.016-.011-.027a.04.04 0 0 0-.027-.011h-.066a.04.04 0 0 0-.03.017l-.038.06a.22.22 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.1.1 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.04.04 0 0 1 .043.005l.07.066q.01.01.024.01h.015c.022 0 .051 0 .057-.003q.005-.003.003-.014c0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.04.04 0 0 0 .05.006l.023-.016a.04.04 0 0 0 .012-.05l-.002-.005a.22.22 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.8.8 0 0 0 .208-.093.04.04 0 0 0 .019-.033v-.047l-.143.03a.04.04 0 0 1-.044-.031l-.016-.095a.04.04 0 0 0-.036-.03l-.143.015.018-.043a.04.04 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.04.04 0 0 0 .004-.055l-.396-.41a.04.04 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.03.03 0 0 0-.007.02l-.01.174q0 .016.011.029l.048.05a.04.04 0 0 1-.005.056l-.07.051a.04.04 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.04.04 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.12.12 0 0 1-.12.104H2.54l-.05-.01-.04-.009-.358-.162-.075-.018-.33-.022-.092.015-.148.058a.2.2 0 0 1-.124.01L.591 5.23a.2.2 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.04.04 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.22.22 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.22.22 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.04.04 0 0 0 .014-.055s.365.383.4.399l.296.148a.2.2 0 0 0 .097.023h.147q.024 0 .033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.04.04 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212q0 .014.008.024c.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.04.04 0 0 1 .008.024v.122l.001.006.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.22.22 0 0 1 .076.186l-.027.345-.003.02-.003.02-.119.45-.007.08.012.185a.2.2 0 0 1-.01.095l-.044.126a.24.24 0 0 0-.007.125l.056.233a.12.12 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114q.016 0 .026-.012l.266-.294a.04.04 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.04.04 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215M14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044q.054.035-.022.03c-.038-.004-.049.002-.07.039a.3.3 0 0 1-.078.074c-.071.044-.108.109-.06.109q.02.001.012.026c-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.07.07 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076q-.006-.01.012-.011c.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003q-.035.008-.035-.01c0-.02-.075-.089-.102-.097M12.885 9.274l-.486-.057a.1.1 0 0 1-.035-.01l-.118-.048a.14.14 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.1.1 0 0 0 .04.005h.397zM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.3.3 0 0 0-.1.023l-.098.046a.3.3 0 0 0-.07.049l-.18.178a.2.2 0 0 1-.075.051l-.123.055a.26.26 0 0 0-.152.236v.02q0 .052.02.1l.096.228q.004.008.005.015a.11.11 0 0 0 .143.077l.245-.088a.25.25 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.25.25 0 0 0 .218.122h.118a.26.26 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006M13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.3.3 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043q.031-.033.058-.03M13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027M6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.13.13 0 0 1-.1-.028l-.153-.121zM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.13.13 0 0 0-.076-.024M8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08zM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109zM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456zM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082zM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038z"></path><path fill="#050505" d="m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13zM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0M14.162 10.93h-.28l.074.164h.066z"></path></svg>'},62686:e=>{"use strict";e.exports=r},67386:e=>{"use strict";e.exports=s},68972:e=>{"use strict";e.exports=n},79244:e=>{"use strict";e.exports=a},79298:e=>{"use strict";e.exports=l}},t={};function c(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,c),i.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var s in t)c.o(t,s)&&!c.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var h={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(h),c.d(h,{__set_webpack_public_path__:()=>v,default:()=>S});var e=c(67386),t=c(79244),s=c(14321),a=c(79298),i=c(13089);var l=c(53089),o=c.n(l),r=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(s[a[i]]=e[a[i]])}return s};const n=s=>{const a=window.SVG,{className:i}=s,l=r(s,["className"]),n=(0,t.classNames)("jimu-icon jimu-icon-component",i);return a?(0,e.jsx)(a,Object.assign({className:n,src:o()},l)):(0,e.jsx)("svg",Object.assign({className:n},l))};class p extends t.React.PureComponent{constructor(e){super(e),this.unmount=!1,this.setMapThumbUrl=e=>{if(e||this.setState({mapThumbUrl:null}),this.props.portUrl&&this.props.portUrl!==(0,t.getAppStore)().getState().portalUrl)t.esri.restPortal.searchItems({q:`id:${e}`,portal:this.props.portUrl+"/sharing/rest"}).then(e=>{if(!this.unmount)if(e.results[0]){const t=`${this.props.portUrl}/sharing/rest/content/items/${e.results[0].id}/info/${e.results[0].thumbnail}`;this.setState({mapThumbUrl:t})}else this.setState({mapThumbUrl:null})});else{const s=(0,t.getAppStore)().getState().portalUrl,a=t.SessionManager.getInstance().getSessionByUrl(s);t.esri.restPortal.searchItems({q:`id:${e}`,authentication:t.SessionManager.getInstance().getSessionByUrl(s),portal:s+"/sharing/rest"}).then(e=>{if(!this.unmount)if(e.results[0]){const t=`${s}/sharing/rest/content/items/${e.results[0].id}/info/${e.results[0].thumbnail}?token=${null==a?void 0:a.token}`;this.setState({mapThumbUrl:t})}else this.setState({mapThumbUrl:null})})}},this.state={mapThumbUrl:null}}componentDidMount(){this.unmount=!1,this.setMapThumbUrl(this.props.mapItemId)}componentDidUpdate(e,t){e.mapItemId!==this.props.mapItemId&&this.setMapThumbUrl(this.props.mapItemId)}componentWillUnmount(){this.unmount=!0}render(){return this.state.mapThumbUrl?(0,e.jsx)(s.Image,{src:this.state.mapThumbUrl}):(0,e.jsx)("div",{style:{backgroundColor:"var(--ref-palette-neutral-300)",height:"100%"},children:(0,e.jsx)(n,{color:"var(--ref-palette-neutral-600)",size:"100%"})})}}var d=c(62686),u=c(68972);const g=Object.assign({},{sourceLabel:"Source",sourceDescript:"A web map or web scene, or any combination of the two.",goto:"Zoom to",layerTransparency:"Adjust layer transparency",information:"View layer details",setVisibility:"Toggle layer visibility",showOrHideLabels:"Show or hide labels",showLayerForMap:"Show layers for map data only",customizeLayerDesc:"Select the layers to display for users.",enableLegend:"Show legend",showAllLegend:"Show legend for all visible layers by default",useTickBoxes:"Use tick boxes to control layer visibility",reorderLayers:"Reorder layers",searchLayers:"Search layers",showTables:"Show tables",popup:"Enable or disable pop-up",customizeDescription:"Specify which layers will be displayed for each map",expandAllLayersByDefault:"Expand all layers by default",visibilityRange:"Visibility range",layerBatchOptions:"Enable layer batch options",changeSymbolForRuntimeLayers:"Change symbols for layers generated at runtime"},s.defaultMessages);class m extends t.React.PureComponent{constructor(i){super(i),this.supportedDsTypes=(0,t.Immutable)([t.AllDataSourceTypes.WebMap,t.AllDataSourceTypes.WebScene]),this.customizeLayersTrigger=(0,u.createRef)(),this.getPortUrl=()=>(0,t.getAppStore)().getState().portalUrl,this.shouldShowCustomizeLayerOptions=()=>{var e;return(null===(e=this.props.useMapWidgetIds)||void 0===e?void 0:e.length)>0},this.shouldShowLayerList=()=>!this.isDataSourceEmpty(),this.isCustomizeOptionEmpty=()=>this.isDataSourceEmpty()&&!this.shouldShowCustomizeWarning(),this.onMapModeChange=e=>{const t={id:this.props.id,config:this.props.config.set("useMapWidget",e)};e||(t.useMapWidgetIds=[]),this.props.onSettingChange(t),this.setState({useMapWidget:e})},this.onOptionsChanged=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set(t,e)})},this.onToggleUseDataEnabled=e=>{this.props.onSettingChange({id:this.props.id,useDataSourcesEnabled:e})},this.onDataSourceChange=e=>{e&&this.props.onSettingChange({id:this.props.id,useDataSources:e})},this.onMapWidgetSelected=e=>{var t;const s=(null===(t=d.MapViewManager.getInstance().getJimuMapViewGroup(e[0]))||void 0===t?void 0:t.jimuMapViews)||{};this.setState({mapViews:s}),this.props.onSettingChange({id:this.props.id,useMapWidgetIds:e})},this.onViewsCreate=e=>{const t=Object.keys(e);this.setState({mapViews:e,viewIdsFromMapWidget:t})},this.onListItemBodyClick=e=>{var t;const s=`${null===(t=this.props.useMapWidgetIds)||void 0===t?void 0:t[0]}-${e}`;this.setState({activeCustomizeJmvId:s})},this.getActiveCustomizeStatus=()=>{var e,t,s;return(null===(s=null===(t=null===(e=this.props.config)||void 0===e?void 0:e.customizeLayerOptions)||void 0===t?void 0:t[this.state.activeCustomizeJmvId])||void 0===s?void 0:s.isEnabled)||!1},this.getShowRuntimeAddedLayerStatus=()=>{var e,t,s,a;return null===(a=null===(s=null===(t=null===(e=this.props.config)||void 0===e?void 0:e.customizeLayerOptions)||void 0===t?void 0:t[this.state.activeCustomizeJmvId])||void 0===s?void 0:s.showRuntimeAddedLayers)||void 0===a||a},this.getSelectedValues=()=>{var e,s;const i={},l=this.state.activeCustomizeJmvId;return l&&(null===(s=null===(e=this.props.config)||void 0===e?void 0:e.customizeLayerOptions)||void 0===s?void 0:s[l])&&this.props.config.customizeLayerOptions[l].isEnabled&&this.props.config.customizeLayerOptions[l].showJimuLayerViewIds?(i[l]=this.props.config.customizeLayerOptions[l].showJimuLayerViewIds,i):{[this.state.activeCustomizeJmvId]:(0,t.Immutable)((0,a.getAllItemsInMapView)(this.state.activeCustomizeJmvId,!0))}},this.onCustomizeLayerChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["customizeLayerOptions",this.state.activeCustomizeJmvId],{isEnabled:e,hiddenJimuLayerViewIds:[],showJimuLayerViewIds:e?[...t]:[]})})},this.onShowRuntimeAddedLayersChange=e=>{const t=this.props.config.setIn(["customizeLayerOptions",this.state.activeCustomizeJmvId,"showRuntimeAddedLayers"],e);this.props.onSettingChange({id:this.props.id,config:t})},this.onLayerIdChange=e=>{const t=this.props.config.setIn(["customizeLayerOptions",this.state.activeCustomizeJmvId,"showJimuLayerViewIds"],e);this.props.onSettingChange({id:this.props.id,config:t})},this.getCustomizeLayerList=()=>{var t;return(0,e.jsx)("div",{ref:this.customizeLayersTrigger,className:"w-100",children:(0,e.jsx)(a.LayerSetting,{mapWidgetId:null===(t=this.props.useMapWidgetIds)||void 0===t?void 0:t[0],onMapItemClick:this.onListItemBodyClick,mapViewId:this.state.activeCustomizeJmvId,isCustomizeEnabled:this.getActiveCustomizeStatus(),isShowRuntimeAddedLayerEnabled:this.getShowRuntimeAddedLayerStatus(),showTable:!0,onToggleCustomize:this.onCustomizeLayerChange,onShowRuntimeAddedLayersChange:this.onShowRuntimeAddedLayersChange,onSelectedLayerIdChange:this.onLayerIdChange,selectedValues:this.getSelectedValues()})})},this.getCustomizeSettingContent=()=>{const i=(0,e.jsx)(s.Label,{id:"multiple-jimu-map-desc",children:this.getTranslatedString("customizeDescription")});return this.shouldShowCustomizeLayerOptions()&&(0,e.jsx)(t.React.Fragment,{children:(0,e.jsxs)(a.SettingRow,{label:i,flow:"wrap","aria-label":this.getTranslatedString("customizeDescription"),className:this.isCustomizeOptionEmpty()?"empty-customize-layer-list":"customize-layer-list",children:[this.shouldShowCustomizeWarning()&&(0,e.jsx)(s.Alert,{tabIndex:0,className:"warningMsg",open:!0,text:this.getTranslatedString("customizeLayerWarnings"),type:"warning"}),this.shouldShowLayerList()&&this.getCustomizeLayerList()]})})},this.shouldShowCustomizeWarning=()=>!this.state.useMapWidget||this.isDataSourceEmpty(),this.isDataSourceEmpty=()=>{var e,t,s;const a=(null===(e=d.MapViewManager.getInstance().getJimuMapViewGroup(this.props.useMapWidgetIds[0]))||void 0===e?void 0:e.jimuMapViews)||{};return 1===Object.keys(a).length&&!(null===(s=null===(t=Object.values(a))||void 0===t?void 0:t[0])||void 0===s?void 0:s.dataSourceId)},this.state={mapViews:null,useMapWidget:this.props.config.useMapWidget||!1,viewIdsFromMapWidget:null,activeCustomizeJmvId:""}}setDefaultConfig(){var e;void 0===(null===(e=this.props.config)||void 0===e?void 0:e.showTables)&&this.props.onSettingChange({id:this.props.id,config:this.props.config.set("showTables",!0)})}getTranslatedString(e){return this.props.intl.formatMessage({id:e,defaultMessage:g[e]})}getFormattedMessage(s){return(0,e.jsx)(t.FormattedMessage,{id:s,defaultMessage:g[s]})}getSwitchOption(i,l){return(0,e.jsx)(t.React.Fragment,{children:(0,e.jsx)(a.SettingRow,{tag:"label",label:this.getFormattedMessage(l||i),children:(0,e.jsx)(s.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config[i]||!1,"data-key":i,onChange:e=>{this.onOptionsChanged(e.target.checked,i)}})})})}render(){var l,o;const r=this.getPortUrl();let n=null,c=null,h=null,u=null,g=null;return c=(0,e.jsxs)("div",{className:"data-selector-section",children:[(0,e.jsx)(a.SettingRow,{children:(0,e.jsx)(i.DataSourceSelector,{types:this.supportedDsTypes,useDataSources:this.props.useDataSources,useDataSourcesEnabled:!0,mustUseDataSource:!0,onChange:this.onDataSourceChange,widgetId:this.props.id})}),r&&this.props.dsJsons&&this.props.useDataSources&&1===this.props.useDataSources.length&&(0,e.jsx)(a.SettingRow,{children:(0,e.jsx)("div",{className:"w-100",children:(0,e.jsx)("div",{className:"webmap-thumbnail",title:null===(l=this.props.dsJsons[this.props.useDataSources[0].dataSourceId])||void 0===l?void 0:l.label,children:(0,e.jsx)(p,{mapItemId:this.props.dsJsons[this.props.useDataSources[0].dataSourceId]?this.props.dsJsons[this.props.useDataSources[0].dataSourceId].itemId:null,portUrl:this.props.dsJsons[this.props.useDataSources[0].dataSourceId]?this.props.dsJsons[this.props.useDataSources[0].dataSourceId].portalUrl:null})})})})]}),h=(0,e.jsxs)("div",{className:"map-selector-section",children:[(0,e.jsx)(a.SettingRow,{children:(0,e.jsx)(a.MapWidgetSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:this.props.useMapWidgetIds})}),(0,e.jsx)(d.JimuMapViewComponent,{useMapWidgetId:null===(o=this.props.useMapWidgetIds)||void 0===o?void 0:o[0],onViewsCreate:this.onViewsCreate}),this.getCustomizeSettingContent()]}),this.state.useMapWidget?(n=h,u=(0,e.jsxs)(t.React.Fragment,{children:[this.getSwitchOption("goto"),this.getSwitchOption("label","showOrHideLabels"),this.getSwitchOption("popup"),this.getSwitchOption("opacity","transparency"),this.getSwitchOption("visibilityRange"),this.getSwitchOption("information"),this.getSwitchOption("changeSymbolForRuntimeLayers")]}),g=(0,e.jsxs)(t.React.Fragment,{children:[this.getSwitchOption("useTickBoxes"),this.getSwitchOption("enableLegend"),this.props.config&&this.props.config.enableLegend&&(0,e.jsx)(a.SettingRow,{children:(0,e.jsxs)(s.Label,{"aria-label":this.getTranslatedString("showAllLegend"),className:"cursor-pointer",children:[(0,e.jsx)(s.Checkbox,{className:"mr-2",checked:this.props.config&&this.props.config.showAllLegend,onChange:e=>{this.onOptionsChanged(e.target.checked,"showAllLegend")}}),(0,e.jsx)("span",{className:"check-box-label",children:` ${this.getTranslatedString("showAllLegend")}`})]})}),this.getSwitchOption("reorderLayers"),this.getSwitchOption("searchLayers"),this.getSwitchOption("expandAllLayers","expandAllLayersByDefault"),this.getSwitchOption("layerBatchOptions"),this.getSwitchOption("showTables")]})):(n=c,u=(0,e.jsx)(t.React.Fragment,{children:this.getSwitchOption("information")}),g=(0,e.jsxs)(t.React.Fragment,{children:[this.getSwitchOption("expandAllLayers","expandAllLayersByDefault"),this.getSwitchOption("layerBatchOptions"),this.getSwitchOption("showTables")]})),(0,e.jsx)("div",{css:(m=this.props.theme,t.css`
    .widget-setting-layerlist{
      .source-descript {
        color: ${m.ref.palette.neutral[1e3]};
      }

      .webmap-thumbnail{
        cursor: auto;
        width: 100%;
        height: 120px;
        overflow: hidden;
        padding: 1px;
        border: ${t.polished.rem(2)} solid initial;
        img, div{
          width: 100%;
          height: 100%;
        }
      }

      .warning-tooltip{
        .jimu-icon-component {
          color: ${m.sys.color.warning.main}
        }
      }

      .layerlist-tools{
        .layerlist-tools-item{
          display: flex;
          /* justify-content: space-between; */
          margin-bottom: 8px;
          align-items: center;
        }
      }

      .map-selector-section .component-map-selector .form-control{
        width: 100%;
      }

      .data-selector-section, .map-selector-section{
        padding-top: 10px;
      }

      .check-box-label {
        color: ${m.ref.palette.neutral[1e3]};
        font-weight: 400;
        line-height: ${t.polished.rem(18)};
      }

      .cursor-pointer {
        cursor: pointer;
      }

    }
  `),children:(0,e.jsxs)("div",{className:"widget-setting-layerlist",children:[(0,e.jsxs)(a.SettingSection,{title:this.getTranslatedString("sourceLabel"),role:"group","aria-label":this.getTranslatedString("sourceLabel"),children:[(0,e.jsx)(a.SettingRow,{children:(0,e.jsxs)("div",{className:"layerlist-tools w-100",children:[(0,e.jsx)("div",{className:"w-100",children:(0,e.jsxs)("div",{className:"layerlist-tools-item radio",children:[(0,e.jsx)(s.Radio,{id:"map-data",style:{cursor:"pointer"},name:"source-option",onChange:e=>{this.onMapModeChange(!1)},checked:!this.state.useMapWidget}),(0,e.jsx)(s.Label,{style:{cursor:"pointer"},for:"map-data",className:"ml-1",children:this.getTranslatedString("showLayerForMap")})]})}),(0,e.jsx)("div",{className:"w-100",children:(0,e.jsxs)("div",{className:"layerlist-tools-item radio",children:[(0,e.jsx)(s.Radio,{id:"map-view",style:{cursor:"pointer"},name:"source-option",onChange:e=>{this.onMapModeChange(!0)},checked:this.state.useMapWidget}),(0,e.jsx)(s.Label,{style:{cursor:"pointer"},for:"map-view",className:"ml-1",children:this.getTranslatedString("interactWithMap")})]})})]})}),n]}),(0,e.jsxs)(a.SettingSection,{title:this.getTranslatedString("options"),role:"group","aria-label":this.getTranslatedString("options"),children:[u,g]})]})});var m}}m.mapExtraStateProps=e=>({dsJsons:e.appStateInBuilder.appConfig.dataSources});const S=m;function v(e){c.p=e}})(),h})())}}});