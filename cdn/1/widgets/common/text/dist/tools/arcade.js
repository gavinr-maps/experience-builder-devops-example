System.register(["jimu-core","jimu-ui","jimu-for-builder"],function(e,t){var i={},n={},o={};return{setters:[function(e){i.Immutable=e.Immutable,i.appActions=e.appActions,i.getAppStore=e.getAppStore,i.i18n=e.i18n},function(e){n.defaultMessages=e.defaultMessages},function(e){o.builderAppSync=e.builderAppSync}],execute:function(){e((()=>{var e={3800:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M0 0h16v16H0z" opacity=".01"></path><path fill="#000" fill-rule="evenodd" d="m9.603 3-4.175 9.642.97.358 4.174-9.642zm1.897 8.233-.738-.681L13.524 8l-2.762-2.552.738-.681L15 8zm-7-6.466.738.681L2.476 8l2.762 2.552-.738.681L1 8z" clip-rule="evenodd"></path></svg>'},4108:e=>{"use strict";e.exports=o},14321:e=>{"use strict";e.exports=n},79244:e=>{"use strict";e.exports=i},80210:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><g id="Data/code" clip-path="url(#clip0_379_1023)"><path id="Rectangle" fill="#000" d="M0 0h16v16H0z" opacity=".01"></path><path id="Union" fill="#C5C5C5" fill-rule="evenodd" d="m9.603 3-4.175 9.642.97.358 4.174-9.642zm1.897 8.233-.738-.681L13.524 8l-2.762-2.552.738-.681L15 8zm-7-6.466.738.681L2.476 8l2.762 2.552-.738.681L1 8z" clip-rule="evenodd"></path></g><defs><clipPath id="clip0_379_1023"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg>'}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var a={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(a),r.d(a,{default:()=>c});var e=r(79244),t=r(14321),i=r(3800),n=r.n(i),o=r(80210),l=r.n(o),d=r(4108);const p=()=>{const t=(0,e.getAppStore)().getState();return t.appStateInBuilder?t.appStateInBuilder:t},s=e=>{var t,i,n;const o=e.layoutItem.widgetId,r=null===(i=null===(t=p().appConfig)||void 0===t?void 0:t.widgets)||void 0===i?void 0:i[o];return null!=(null==r?void 0:r.useDataSources)&&(null===(n=null==r?void 0:r.useDataSources)||void 0===n?void 0:n.length)>0&&(null==r?void 0:r.useDataSourcesEnabled)},u=t=>{var i;const n=t.layoutItem.widgetId;return(null!==(i=p().widgetsState[n])&&void 0!==i?i:(0,e.Immutable)({})).canAddArcadeContent};class c{constructor(){this.index=2,this.id="text-arcade"}disabled(e){return!s(e)||!u(e)}getGroupId(){return null}getTitle(i){const n=s(i);let o=n?"arcade":"arcadeTip";n&&!u(i)&&(o="dataSourcesArcadeContentCountLimit");const r=e.i18n.getIntl("_jimu");return r?r.formatMessage({id:o,defaultMessage:t.defaultMessages[o]}):o}checked(t){var i;const n=t.layoutItem.widgetId;return!!(null!==(i=p().widgetsState[n])&&void 0!==i?i:(0,e.Immutable)({})).showArcade}getIcon(){return window.jimuConfig.isBuilder?l():n()}onClick(t){var i;const n=t.layoutItem.widgetId,o=p(),r=!(null!==(i=o.widgetsState[n])&&void 0!==i?i:(0,e.Immutable)({})).showArcade,a=r&&!o.widgetsRuntimeInfo[n].isInlineEditing;window.jimuConfig.isBuilder?(a&&d.builderAppSync.publishSetWidgetIsInlineEditingStateToApp(n,!0),d.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:n,propKey:"showExpression",value:!1}),d.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:n,propKey:"showArcade",value:r}),d.builderAppSync.publishWidgetToolbarStateChangeToApp(n,["text-inline-editing","text-arcade"])):(a&&(0,e.getAppStore)().dispatch(e.appActions.setWidgetIsInlineEditingState(n,!0)),(0,e.getAppStore)().dispatch(e.appActions.widgetStatePropChange(n,"showExpression",!1)),(0,e.getAppStore)().dispatch(e.appActions.widgetStatePropChange(n,"showArcade",r)),(0,e.getAppStore)().dispatch(e.appActions.widgetToolbarStateChange(n,["text-inline-editing","text-arcade"])))}getSettingPanel(){return null}}})(),a})())}}});