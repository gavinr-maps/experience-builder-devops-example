System.register(["jimu-core","jimu-ui"],(function(t,e){var i={},o={};return{setters:[function(t){i.MutableStoreManager=t.MutableStoreManager,i.appActions=t.appActions,i.getAppStore=t.getAppStore,i.i18n=t.i18n},function(t){o.ImageFillMode=t.ImageFillMode}],execute:function(){t((()=>{var t={41835:t=>{t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3 3v9.288L12.288 3H3zm0-1h10.288L15.14.146a.5.5 0 11.708.708L14 2.702V13h1.5a.5.5 0 010 1H14v1.5a.5.5 0 01-1 0V14H2V3H.5a.5.5 0 010-1H2V.5a.5.5 0 011 0V2zm10 1.702L3.702 13H13V3.702z"></path></svg>'},48891:t=>{"use strict";t.exports=i},30726:t=>{"use strict";t.exports=o}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>i});var t=n(48891),e=n(30726);class i{constructor(){this.index=1,this.id="image-croptool",this.classes={},this.isEmptySource=t=>!(t.functionConfig.imageParam&&t.functionConfig.imageParam.url||t.functionConfig.srcExpression)}getGroupId(){return null}getTitle(){const e=this.widgetId,i=t.i18n.getIntl(e);return i?i.formatMessage({id:"imageCrop",defaultMessage:"Crop"}):"Crop"}getIcon(){return n(41835)}onClick(e){const i=(0,t.getAppStore)().getState().appConfig.widgets[e.layoutItem.widgetId],o={bottom:e.clientRect.bottom,height:e.clientRect.height,left:window.scrollX+e.clientRect.left,right:e.clientRect.right,top:window.scrollY+e.clientRect.top,width:e.clientRect.width};if(t.MutableStoreManager.getInstance().updateStateValue(e.layoutItem.widgetId,"clientRect",o),i){const o=i.config;o.functionConfig.imageParam&&o.functionConfig.imageParam.url&&(0,t.getAppStore)().dispatch(t.appActions.setWidgetIsInlineEditingState(e.layoutItem.widgetId,!0))}}visible(i){const o=(0,t.getAppStore)().getState().appConfig.widgets[i.layoutItem.widgetId];if(o){const t=o.config;return!(this.isEmptySource(t)||t.functionConfig.srcExpression||t.functionConfig.imageParam&&t.functionConfig.imageFillMode===e.ImageFillMode.Fit)}return!1}getSettingPanel(t){return null}}})(),r})())}}}));