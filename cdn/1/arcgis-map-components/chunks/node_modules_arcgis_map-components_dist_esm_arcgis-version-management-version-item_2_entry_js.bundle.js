/*! For license information please see node_modules_arcgis_map-components_dist_esm_arcgis-version-management-version-item_2_entry_js.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_esm_arcgis-version-management-version-item_2_entry_js"],{2231:(e,i,t)=>{t.r(i),t.d(i,{arcgis_version_management_version_item:()=>o,arcgis_version_management_version_list:()=>c});var n=t(4336),s=t(8960);const o=class{constructor(e){(0,n.r)(this,e),this.versionItemActionClickedEvent=(0,n.c)(this,"versionItemActionClickedEvent",7),this.strings=void 0,this.hasAdvEditingUte=void 0,this.isVersioningApiAvailable=void 0,this.versionInfo=void 0}render(){const{strings:{actions:e},versionInfo:i}=this,t=i.versionIdentifier.name,s=i.versionIdentifier.guid,o=`actionSwitchToVersion_${s}`;return(0,n.h)(n.H,null,(0,n.h)("calcite-list-item",{description:t.split(".")[0],label:t.split(".")[1],value:s},(0,n.h)("calcite-action",{id:o,icon:"switch",text:"",onClick:()=>{this.versionItemActionClickedEvent.emit({actionType:"changeVersion",versionInfo:i})},slot:"actions-start"}),(0,n.h)("calcite-tooltip",{"overlay-positioning":"fixed",referenceElement:o},(0,n.h)("span",null,e.switchToVersion)),(0,n.h)("calcite-action-menu",{"overlay-positioning":"fixed",slot:"actions-end",label:""},(0,n.h)("calcite-action",{icon:"switch",onClick:()=>{this.versionItemActionClickedEvent.emit({actionType:"changeVersion",versionInfo:i})},scale:"s",text:e.switchToVersion,textEnabled:!0}),(0,n.h)("calcite-action",{disabled:"SDE.DEFAULT"===t.toUpperCase()||!this.hasAdvEditingUte||!this.isVersioningApiAvailable,icon:"edit-attributes",onClick:()=>{this.versionItemActionClickedEvent.emit({actionType:"editVersion",versionInfo:i})},scale:"s",text:e.editVersion,textEnabled:!0}))))}get _hostElement(){return(0,n.g)(this)}},c=class{constructor(e){(0,n.r)(this,e),this.versionItemActionClickedEventWithServiceUrl=(0,n.c)(this,"versionItemActionClickedEventWithServiceUrl",7),this.versionListActionClickedEvent=(0,n.c)(this,"versionListActionClickedEvent",7),this._watchHandles=[],this.heading=void 0,this.serviceName=void 0,this.serviceUrl=void 0,this.strings=void 0,this.userHasAdvancedEditingUserTypeExtension=void 0,this.versionInfos=void 0,this.viewModel=void 0,this.state=void 0}async componentDidLoad(){const{watch:e}=await(0,s.i)();this._watchHandles.push(e((()=>this.versionInfos),(e=>{this.versionInfos=e})),e((()=>this.viewModel.state),(e=>{this.state=e})))}async componentWillLoad(){this.state=this.viewModel.state}disconnectedCallback(){this._watchHandles.forEach((e=>{e.remove()})),this._watchHandles=[]}render(){const{heading:e,serviceName:i,serviceUrl:t,state:s,strings:o,versionInfos:c,viewModel:r}=this,a=r.versionIdentifierLookup.get(t);return(0,n.h)(n.H,null,(0,n.h)("calcite-flow-item",{heading:e,description:i},a?(0,n.h)("calcite-panel",{disabled:"executing"===s,class:"panel-versions",heading:"Current version",description:a.name}):void 0,(0,n.h)("calcite-panel",{loading:"executing"===s,class:"panel-versions",heading:c.length?`${o.headers.manageVersions} (${c.length})`:o.headers.manageVersions},(0,n.h)("calcite-action",{id:"actionRefreshVersions",icon:"refresh",text:"",onClick:()=>{this.versionListActionClickedEvent.emit({actionType:"refreshVersions",serviceUrl:t})},slot:"header-actions-end"}),(0,n.h)("calcite-tooltip",{"overlay-positioning":"fixed",referenceElement:"actionRefreshVersions"},(0,n.h)("span",null,o.actions.refreshVersions)),(0,n.h)("calcite-list",{class:"version-list",filterEnabled:!0},c.map((e=>(0,n.h)("arcgis-version-management-version-item",{strings:o,hasAdvEditingUte:r.advancedEditingUserTypeExtensionLookup.get(t),isVersioningApiAvailable:(r.serverVersionLookup.get(t)??0)>=11.2,versionInfo:e,onVersionItemActionClickedEvent:e=>{this.versionItemActionClickedEventWithServiceUrl.emit({...e.detail,serviceUrl:t})}})))),(0,n.h)("calcite-fab",{appearance:"outline-fill",slot:"fab",textEnabled:!0,text:o.actions.newVersion,onClick:()=>{this.versionListActionClickedEvent.emit({actionType:"newVersion",serviceUrl:t})}}))))}get _hostElement(){return(0,n.g)(this)}}}}]);