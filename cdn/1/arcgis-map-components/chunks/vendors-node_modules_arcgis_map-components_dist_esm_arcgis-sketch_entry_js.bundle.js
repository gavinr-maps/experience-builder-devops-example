/*! For license information please see vendors-node_modules_arcgis_map-components_dist_esm_arcgis-sketch_entry_js.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-node_modules_arcgis_map-components_dist_esm_arcgis-sketch_entry_js"],{7649:(e,t,i)=>{i.r(t),i.d(t,{arcgis_sketch:()=>a});var s=i(4336),l=i(8960),n=i(3912),o=i(7199);const a=class{constructor(e){(0,s.r)(this,e),this.arcgisSketchReady=(0,s.c)(this,"arcgisSketchReady",7),this.sketchCreate=(0,s.c)(this,"sketchCreate",7),this.sketchDelete=(0,s.c)(this,"sketchDelete",7),this.sketchRedo=(0,s.c)(this,"sketchRedo",7),this.sketchUndo=(0,s.c)(this,"sketchUndo",7),this.sketchUpdate=(0,s.c)(this,"sketchUpdate",7),this._watchHandles=[],this.referenceElement=void 0,this.activeTool=void 0,this.availableCreateTools=void 0,this.createGraphic=void 0,this.creationMode="continuous",this.defaultCreateOptions=void 0,this.defaultUpdateOptions=void 0,this.icon=void 0,this.labelOptions=void 0,this.layer=void 0,this.layout="horizontal",this.pointSymbol=void 0,this.polylineSymbol=void 0,this.polygonSymbol=void 0,this.snappingOptions=void 0,this.tooltipOptions=void 0,this.updateGraphics=void 0,this.visibleElementsCreateToolsPoint=!0,this.visibleElementsCreateToolsPolyline=!0,this.visibleElementsCreateToolsPolygon=!0,this.visibleElementsCreateToolsRectangle=!0,this.visibleElementsCreateToolsCircle=!0,this.visibleElementsDuplicateButton=!0,this.visibleElementsSelectionToolsRectangle=!0,this.visibleElementsSelectionToolsLasso=!0,this.visibleElementsSettingsMenu=!0,this.visibleElementsLabelsToggle=!0,this.visibleElementsTooltipsToggle=!0,this.visibleElementsSnappingControls=!0,this.visibleElementsSnappingControlsElementsHeader=!0,this.visibleElementsSnappingControlsElementsEnabledToggle=!0,this.visibleElementsSnappingControlsElementsSelfEnabledToggle=!0,this.visibleElementsSnappingControlsElementsFeatureEnabledToggle=!0,this.visibleElementsSnappingControlsElementsLayerList=!0,this.visibleElementsUndoRedoMenu=!0,this.position="bottom-left",this.view=void 0,this.widget=void 0}referenceElementWatcher(e){(0,n.r)(this,e)}availableCreateToolsWatcher(e){this.widget&&(this.widget.availableCreateTools=e)}creationModeWatcher(e){this.widget&&(this.widget.creationMode=e)}defaultCreateOptionsWatcher(e){this.widget&&(this.widget.defaultCreateOptions=e)}defaultUpdateOptionsWatcher(e){this.widget&&(this.widget.defaultUpdateOptions=e)}iconWatcher(e){this.widget&&(this.widget.icon=e)}labelOptionsWatcher(e){this.widget&&(this.widget.labelOptions=e)}layerWatcher(e){this.widget&&(this.widget.layer=e)}layoutWatcher(e){this.widget&&(this.widget.layout=e)}pointSymbolWatcher(e){this.widget&&(this.widget.viewModel.pointSymbol=e)}polylineSymbolWatcher(e){this.widget&&(this.widget.viewModel.polylineSymbol=e)}polygonSymbolWatcher(e){this.widget&&(this.widget.viewModel.polygonSymbol=e)}snappingOptionsWatcher(e){this.widget&&(this.widget.snappingOptions=e)}tooltipOptionsWatcher(e){this.widget&&(this.widget.tooltipOptions=e)}visibleElementsCreateToolsPointWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,createTools:{...this.widget.visibleElements.createTools,point:e}})}visibleElementsCreateToolsPolylineWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,createTools:{...this.widget.visibleElements.createTools,polyline:e}})}visibleElementsCreateToolsPolygonWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,createTools:{...this.widget.visibleElements.createTools,polygon:e}})}visibleElementsCreateToolsRectangleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,createTools:{...this.widget.visibleElements.createTools,rectangle:e}})}visibleElementsCreateToolsCircleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,createTools:{...this.widget.visibleElements.createTools,circle:e}})}visibleElementsDuplicateButtonWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,duplicateButton:e})}visibleElementsSelectionToolsRectangleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,selectionTools:{...this.widget.visibleElements.selectionTools,"rectangle-selection":e}})}visibleElementsSelectionToolsLassoWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,selectionTools:{...this.widget.visibleElements.selectionTools,"lasso-selection":e}})}visibleElementsSettingsMenuWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,settingsMenu:e})}visibleElementsLabelsToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,labelsToggle:e})}visibleElementsTooltipsToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,tooltipsToggle:e})}visibleElementsSnappingControlsWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,snappingControls:e})}visibleElementsSnappingControlsElementsHeaderWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,snappingControlsElements:{header:e}})}visibleElementsSnappingControlsElementsEnabledToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,snappingControlsElements:{enabledToggle:e}})}visibleElementsSnappingControlsElementsSelfEnabledToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,snappingControlsElements:{selfEnabledToggle:e}})}visibleElementsSnappingControlsElementsFeatureEnabledToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,snappingControlsElements:{featureEnabledToggle:e}})}visibleElementsSnappingControlsElementsLayerListWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,snappingControlsElements:{layerList:e}})}visibleElementsUndoRedoMenuWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,undoRedoMenu:e})}positionWatcher(e){void 0!==e&&this.widget&&this.view.ui.move(this.childElem,e)}viewWatcher(e){void 0!==e&&this.widget&&(this.widget.view=e,this.widget.view.map?.add(this.layer))}async cancel(){this.widget?.cancel()}async complete(){this.widget?.complete()}async create(e,t){this.widget?.create(e,t)}async delete(){this.widget?.delete()}async duplicate(){this.widget?.duplicate()}async redo(){this.widget?.redo()}async undo(){this.widget?.undo()}async update(e,t){this.widget?.update(e,t)}async componentDidLoad(){const e=await this._createParams(),t=await(0,l.V)(e);this.widget=t,this._setViewModelParams(),await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisSketchReady.emit(),(0,n.c)(this)}disconnectedCallback(){(0,o.o)(this)}render(){return(0,s.h)("div",{ref:e=>this.childElem=e})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:e}=await(0,l.i)();(0,n.a)(this,e((()=>this.widget.activeTool),(e=>this.activeTool=e),{initial:!0})),(0,n.a)(this,e((()=>this.widget.createGraphic),(e=>this.createGraphic=e),{initial:!0})),(0,n.a)(this,e((()=>this.widget.updateGraphics),(e=>this.updateGraphics=e),{initial:!0}))}async _createParams(){this.layer||(this.layer=await(0,l.W)({title:"Sketch Layer",creationMode:"update"}));const e={layer:this.layer};return e.visibleElements={createTools:{point:this.visibleElementsCreateToolsPoint,polyline:this.visibleElementsCreateToolsPolyline,polygon:this.visibleElementsCreateToolsPolygon,rectangle:this.visibleElementsCreateToolsRectangle,circle:this.visibleElementsCreateToolsCircle},duplicateButton:this.visibleElementsDuplicateButton,selectionTools:{"rectangle-selection":this.visibleElementsSelectionToolsRectangle,"lasso-selection":this.visibleElementsSelectionToolsLasso},settingsMenu:this.visibleElementsSettingsMenu,labelsToggle:this.visibleElementsLabelsToggle,tooltipsToggle:this.visibleElementsTooltipsToggle,snappingControls:this.visibleElementsSnappingControls,snappingControlsElements:{header:this.visibleElementsSnappingControlsElementsHeader,enabledToggle:this.visibleElementsSnappingControlsElementsEnabledToggle,selfEnabledToggle:this.visibleElementsSnappingControlsElementsSelfEnabledToggle,featureEnabledToggle:this.visibleElementsSnappingControlsElementsFeatureEnabledToggle,layerList:this.visibleElementsSnappingControlsElementsLayerList},undoRedoMenu:this.visibleElementsUndoRedoMenu},this.view&&(e.view=this.view),this.availableCreateTools&&(e.availableCreateTools=this.availableCreateTools),this.creationMode&&(e.creationMode=this.creationMode),this.defaultCreateOptions&&(e.defaultCreateOptions=this.defaultCreateOptions),this.defaultUpdateOptions&&(e.defaultUpdateOptions=this.defaultUpdateOptions),this.labelOptions&&(e.labelOptions=this.labelOptions),this.layout&&(e.layout=this.layout),this.snappingOptions&&(e.snappingOptions=this.snappingOptions),this.tooltipOptions&&(e.tooltipOptions=this.tooltipOptions),e}_setViewModelParams(){const e={};this.pointSymbol&&(e.pointSymbol=this.pointSymbol),this.polylineSymbol&&(e.polylineSymbol=this.polylineSymbol),this.polygonSymbol&&(e.polygonSymbol=this.polygonSymbol),this.widget.viewModel.set(e)}_proxyEvents(){this.widget.on("create",(e=>this.sketchCreate.emit(e))),this.widget.on("delete",(e=>this.sketchDelete.emit(e))),this.widget.on("redo",(e=>this.sketchRedo.emit(e))),this.widget.on("undo",(e=>this.sketchUndo.emit(e))),this.widget.on("update",(e=>this.sketchUpdate.emit(e)))}get el(){return(0,s.g)(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],availableCreateTools:["availableCreateToolsWatcher"],creationMode:["creationModeWatcher"],defaultCreateOptions:["defaultCreateOptionsWatcher"],defaultUpdateOptions:["defaultUpdateOptionsWatcher"],icon:["iconWatcher"],labelOptions:["labelOptionsWatcher"],layer:["layerWatcher"],layout:["layoutWatcher"],pointSymbol:["pointSymbolWatcher"],polylineSymbol:["polylineSymbolWatcher"],polygonSymbol:["polygonSymbolWatcher"],snappingOptions:["snappingOptionsWatcher"],tooltipOptions:["tooltipOptionsWatcher"],visibleElementsCreateToolsPoint:["visibleElementsCreateToolsPointWatcher"],visibleElementsCreateToolsPolyline:["visibleElementsCreateToolsPolylineWatcher"],visibleElementsCreateToolsPolygon:["visibleElementsCreateToolsPolygonWatcher"],visibleElementsCreateToolsRectangle:["visibleElementsCreateToolsRectangleWatcher"],visibleElementsCreateToolsCircle:["visibleElementsCreateToolsCircleWatcher"],visibleElementsDuplicateButton:["visibleElementsDuplicateButtonWatcher"],visibleElementsSelectionToolsRectangle:["visibleElementsSelectionToolsRectangleWatcher"],visibleElementsSelectionToolsLasso:["visibleElementsSelectionToolsLassoWatcher"],visibleElementsSettingsMenu:["visibleElementsSettingsMenuWatcher"],visibleElementsLabelsToggle:["visibleElementsLabelsToggleWatcher"],visibleElementsTooltipsToggle:["visibleElementsTooltipsToggleWatcher"],visibleElementsSnappingControls:["visibleElementsSnappingControlsWatcher"],visibleElementsSnappingControlsElementsHeader:["visibleElementsSnappingControlsElementsHeaderWatcher"],visibleElementsSnappingControlsElementsEnabledToggle:["visibleElementsSnappingControlsElementsEnabledToggleWatcher"],visibleElementsSnappingControlsElementsSelfEnabledToggle:["visibleElementsSnappingControlsElementsSelfEnabledToggleWatcher"],visibleElementsSnappingControlsElementsFeatureEnabledToggle:["visibleElementsSnappingControlsElementsFeatureEnabledToggleWatcher"],visibleElementsSnappingControlsElementsLayerList:["visibleElementsSnappingControlsElementsLayerListWatcher"],visibleElementsUndoRedoMenu:["visibleElementsUndoRedoMenuWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};a.style="arcgis-sketch{}"},3912:(e,t,i)=>{function s(e){const t=e.el.closest("arcgis-expand")??e.expandElem;if(t?.widget)return e.view=t.view,t.widget.content=e.childElem??e.el,t.expandIcon||(t.widget.expandIcon=e.widget?e.widget.icon:e?.icon),!0;if(t){const i=()=>{t.removeEventListener("arcgisExpandReady",i,!1),e.view=t.view,t.widget.content=e.childElem??e.el,t.expandIcon||(t.widget.expandIcon=e.widget?e.widget.icon:e?.icon)};return t.addEventListener("arcgisExpandReady",i,!1),!0}return!1}function l(e,t){Array.isArray(t)?e._watchHandles=[...e._watchHandles,...t]:e._watchHandles.push(t)}function n(e){let t=!1;if(s(e)){const t=e.el.closest("arcgis-map")??e.el.closest("arcgis-scene");if(t?.view)e.view=t.view;else if(t){const i=()=>{t.removeEventListener("arcgisViewReadyChange",i,!1),e.view=t.view};t.addEventListener("arcgisViewReadyChange",i,!1)}}else{let i=e.el.closest("arcgis-map")??e.el.closest("arcgis-scene");if(i||"string"!=typeof e.referenceElement||(i=document.querySelector(e.referenceElement),t=!0),i?.view){e.view=i.view;const s=e.childElem??e.el;t||e.view.ui.add(s,e.position)}else i&&function(e,t,i){const s=()=>{e.removeEventListener("arcgisViewReadyChange",s,!1),t.view=e.view,i||t.view.ui.add(t.childElem??t.el,t.position)};e.addEventListener("arcgisViewReadyChange",s,!1)}(i,e,t)}}function o(e){return null==e||""===e}function a(e){return null!=e&&e%1==0}function h(e,t){return void 0===t||e.position!==t.position||e.heading!==t.heading||e.tilt!==t.tilt}function r(e,t){return void 0===t||t.atmosphereEnabled!==e.atmosphereEnabled||t.lighting.date!==e.lighting.date||t.lighting.directShadowsEnabled!==e.lighting.directShadowsEnabled||t.lighting.cameraTrackingEnabled!==e.lighting.cameraTrackingEnabled||t.lighting.date!==e.lighting.date||t.lighting.displayUTCOffset!==e.lighting.displayUTCOffset}function d(e,t){return void 0===t||e.targetGeometry!==t.targetGeometry||e.rotation!==t.rotation||e.scale!==t.scale}async function g(e,t){void 0!==t&&("string"==typeof t?e.view=await async function(e){const t=document.querySelector(e);return await new Promise((e=>{if(void 0!==t?.view)e(t.view);else if(t){const i=()=>{t.removeEventListener("arcgisViewReadyChange",i,!1),e(t.view)};t.addEventListener("arcgisViewReadyChange",i,!1)}}))}(t):e.widget&&(e.view=t.view))}i.d(t,{a:()=>l,b:()=>d,c:()=>n,d:()=>s,e:()=>h,f:()=>r,g:()=>a,i:()=>o,r:()=>g})},7199:(e,t,i)=>{function s(e){e.childElem?e.el.isConnected||(e.view?e.view.ui.remove(e.childElem):e.widget?.view&&e.widget.view.ui.remove(e.childElem),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy()):setTimeout((()=>{e.el.isConnected||(e.view?e.view.ui.remove(e.el):e.widget?.view&&e.widget.view.ui.remove(e.el),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy())}),1e3)}i.d(t,{o:()=>s})}}]);