/*! For license information please see vendors-node_modules_arcgis_map-components_dist_esm_arcgis-feature-table_entry_js.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-node_modules_arcgis_map-components_dist_esm_arcgis-feature-table_entry_js"],{4034:(e,t,i)=>{i.r(t),i.d(t,{arcgis_feature_table:()=>h});var s=i(4336),l=i(8960),n=i(3912),a=i(7199);const h=class{constructor(e){(0,s.r)(this,e),this.arcgisFeatureTableReady=(0,s.c)(this,"arcgisFeatureTableReady",7),this.featureTableSelectionChange=(0,s.c)(this,"featureTableSelectionChange",7),this._watchHandles=[],this.referenceElement=void 0,this.activeFilters=void 0,this.activeSortOrders=[],this.attachmentsEnabled=!1,this.autoRefreshEnabled=!0,this.columnReorderingEnabled=!0,this.columns=void 0,this.editingEnabled=!1,this.filterGeometry=void 0,this.hiddenFields=!0,this.highlightEnabled=!0,this.highlightIds=void 0,this.layer=void 0,this.menuConfig=void 0,this.multiSortEnabled=!1,this.pageSize=50,this.returnGeometryEnabled=!1,this.state=void 0,this.tableTemplate=void 0,this.timeZone=void 0,this.itemId=void 0,this.url=void 0,this.visibleElementsHeader=!0,this.visibleElementsMenu=!0,this.visibleElementsSelectionColumn=!0,this.visibleElementsColumnMenus=!0,this.visibleElementsMenuItemsClearSelection=!0,this.visibleElementsMenuItemsDeleteSelection=!0,this.visibleElementsMenuItemsRefreshData=!0,this.visibleElementsMenuItemsSelectedRecordsShowAllToggle=!0,this.visibleElementsMenuItemsToggleColumns=!0,this.visibleElementsMenuItemsZoomToSelection=!0,this.view=void 0,this.widget=void 0}referenceElementWatcher(e){(0,n.r)(this,e)}attachmentsEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.attachmentsEnabled=e)}autoRefreshEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.autoRefreshEnabled=e)}columnReorderingEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.columnReorderingEnabled=e)}editingEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.editingEnabled=e)}filterGeometryWatcher(e){e&&this.widget&&(this.widget.filterGeometry=e)}hiddenFieldsWatcher(e){e&&this.widget&&(this.widget.hiddenFields=e)}highlightEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.highlightEnabled=e)}highlightIdsWatcher(e){e&&this.widget&&(this.widget.highlightIds=e)}layerWatcher(e){e&&this.widget?this.widget.layer=e:e||(this.widget.layer=null)}menuConfigWatcher(e){e&&this.widget&&(this.widget.menuConfig=e)}multiSortEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.multiSortEnabled=e)}pageSizeWatcher(e){void 0!==e&&this.widget&&(this.widget.pageSize=e)}returnGeometryEnabledWatcher(e){void 0!==e&&this.widget&&(this.widget.returnGeometryEnabled=e)}tableTemplateWatcher(e){e&&this.widget&&(this.widget.tableTemplate=e)}timeZoneWatcher(e){this.widget&&(this.widget.timeZone=e)}async itemIdWatcher(e,t){if((0,n.i)(e))this.layer=null;else if(e&&e!==t){const t=await(0,l.z)({portalItem:{id:e}});this.layer=t}}async urlWatcher(e,t){if(e&&e!==t){const t=await(0,l.z)({url:e});this.layer=t}}visibleElementsHeaderWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,header:e})}visibleElementsMenuWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menu:e})}visibleElementsSelectionColumnWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,selectionColumn:e})}visibleElementsColumnMenusWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,columnMenus:e})}visibleElementsMenuItemsClearSelectionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,clearSelection:e}})}visibleElementsMenuItemsDeleteSelectionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,deleteSelection:e}})}visibleElementsMenuItemsRefreshDataWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,refreshData:e}})}visibleElementsMenuItemsSelectedRecordsShowAllToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,selectedRecordsShowAllToggle:e}})}visibleElementsMenuItemsToggleColumnsWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,toggleColumns:e}})}visibleElementsMenuItemsZoomToSelectionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,zoomToSelection:e}})}viewWatcher(e){void 0!==e&&this.widget&&(this.widget.view=e)}async clearSelectionFilter(){this.widget?.clearSelectionFilter()}async deleteSelection(e){await(this.widget?.deleteSelection(e))}async filterBySelection(){this.widget?.filterBySelection()}async findColumn(e){return this.widget?.findColumn(e)}async hideColumn(e){this.widget?.hideColumn(e)}async refresh(){await(this.widget?.refresh())}async scrollToIndex(e){this.widget?.scrollToIndex(e)}async showAllColumns(){this.widget?.showAllColumns()}async showColumn(e){this.widget?.showColumn(e)}async sortColumn(e,t){this.widget?.sortColumn(e,t)}async zoomToSelection(){this.widget?.zoomToSelection()}async componentDidLoad(){const e=await this._createParams(),t=await(0,l.A)(e);this.widget=t,await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisFeatureTableReady.emit(),(0,n.c)(this)}disconnectedCallback(){(0,a.o)(this)}render(){return(0,s.h)("div",{class:"arcgis-feature-table",ref:e=>this.childElem=e})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:e}=await(0,l.i)();(0,n.a)(this,e((()=>this.widget.activeFilters),(e=>this.activeFilters=e),{initial:!0})),(0,n.a)(this,e((()=>this.widget.activeSortOrders),(e=>this.activeSortOrders=e),{initial:!0})),(0,n.a)(this,e((()=>this.widget.columns),(e=>this.columns=e),{initial:!0})),(0,n.a)(this,e((()=>this.widget.state),(e=>this.state=e),{initial:!0}))}async _createParams(){const e={};return e.visibleElements={header:this.visibleElementsHeader,menu:this.visibleElementsMenu,selectionColumn:this.visibleElementsSelectionColumn,columnMenus:this.visibleElementsColumnMenus,menuItems:{clearSelection:this.visibleElementsMenuItemsClearSelection,deleteSelection:this.visibleElementsMenuItemsDeleteSelection,refreshData:this.visibleElementsMenuItemsRefreshData,selectedRecordsShowAllToggle:this.visibleElementsMenuItemsSelectedRecordsShowAllToggle,toggleColumns:this.visibleElementsMenuItemsToggleColumns,zoomToSelection:this.visibleElementsMenuItemsZoomToSelection}},this.view&&(e.view=this.view),void 0!==this.attachmentsEnabled&&(e.attachmentsEnabled=this.attachmentsEnabled),void 0!==this.autoRefreshEnabled&&(e.autoRefreshEnabled=this.autoRefreshEnabled),void 0!==this.columnReorderingEnabled&&(e.columnReorderingEnabled=this.columnReorderingEnabled),void 0!==this.editingEnabled&&(e.editingEnabled=this.editingEnabled),void 0!==this.filterGeometry&&(e.filterGeometry=this.filterGeometry),void 0!==this.hiddenFields&&(e.hiddenFields=this.hiddenFields),void 0!==this.highlightEnabled&&(e.highlightEnabled=this.highlightEnabled),void 0!==this.highlightIds&&(e.highlightIds=this.highlightIds),void 0!==this.menuConfig&&(e.menuConfig=this.menuConfig),void 0!==this.multiSortEnabled&&(e.multiSortEnabled=this.multiSortEnabled),void 0!==this.pageSize&&(e.pageSize=this.pageSize),void 0!==this.tableTemplate&&(e.tableTemplate=this.tableTemplate),void 0!==this.timeZone&&(e.timeZone=this.timeZone),void 0!==this.layer?e.layer=this.layer:this.url?e.layer=await(0,l.z)({url:this.url}):this.itemId&&(e.layer=await(0,l.z)({portalItem:{id:this.itemId}})),e}_proxyEvents(){this.widget?.highlightIds.on("change",(e=>this.featureTableSelectionChange.emit(e)))}get el(){return(0,s.g)(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],attachmentsEnabled:["attachmentsEnabledWatcher"],autoRefreshEnabled:["autoRefreshEnabledWatcher"],columnReorderingEnabled:["columnReorderingEnabledWatcher"],editingEnabled:["editingEnabledWatcher"],filterGeometry:["filterGeometryWatcher"],hiddenFields:["hiddenFieldsWatcher"],highlightEnabled:["highlightEnabledWatcher"],highlightIds:["highlightIdsWatcher"],layer:["layerWatcher"],menuConfig:["menuConfigWatcher"],multiSortEnabled:["multiSortEnabledWatcher"],pageSize:["pageSizeWatcher"],returnGeometryEnabled:["returnGeometryEnabledWatcher"],tableTemplate:["tableTemplateWatcher"],timeZone:["timeZoneWatcher"],itemId:["itemIdWatcher"],url:["urlWatcher"],visibleElementsHeader:["visibleElementsHeaderWatcher"],visibleElementsMenu:["visibleElementsMenuWatcher"],visibleElementsSelectionColumn:["visibleElementsSelectionColumnWatcher"],visibleElementsColumnMenus:["visibleElementsColumnMenusWatcher"],visibleElementsMenuItemsClearSelection:["visibleElementsMenuItemsClearSelectionWatcher"],visibleElementsMenuItemsDeleteSelection:["visibleElementsMenuItemsDeleteSelectionWatcher"],visibleElementsMenuItemsRefreshData:["visibleElementsMenuItemsRefreshDataWatcher"],visibleElementsMenuItemsSelectedRecordsShowAllToggle:["visibleElementsMenuItemsSelectedRecordsShowAllToggleWatcher"],visibleElementsMenuItemsToggleColumns:["visibleElementsMenuItemsToggleColumnsWatcher"],visibleElementsMenuItemsZoomToSelection:["visibleElementsMenuItemsZoomToSelectionWatcher"],view:["viewWatcher"]}}};h.style=".arcgis-feature-table{width:100%;height:100%}"},3912:(e,t,i)=>{function s(e){const t=e.el.closest("arcgis-expand")??e.expandElem;if(t?.widget)return e.view=t.view,t.widget.content=e.childElem??e.el,t.expandIcon||(t.widget.expandIcon=e.widget?e.widget.icon:e?.icon),!0;if(t){const i=()=>{t.removeEventListener("arcgisExpandReady",i,!1),e.view=t.view,t.widget.content=e.childElem??e.el,t.expandIcon||(t.widget.expandIcon=e.widget?e.widget.icon:e?.icon)};return t.addEventListener("arcgisExpandReady",i,!1),!0}return!1}function l(e,t){Array.isArray(t)?e._watchHandles=[...e._watchHandles,...t]:e._watchHandles.push(t)}function n(e){let t=!1;if(s(e)){const t=e.el.closest("arcgis-map")??e.el.closest("arcgis-scene");if(t?.view)e.view=t.view;else if(t){const i=()=>{t.removeEventListener("arcgisViewReadyChange",i,!1),e.view=t.view};t.addEventListener("arcgisViewReadyChange",i,!1)}}else{let i=e.el.closest("arcgis-map")??e.el.closest("arcgis-scene");if(i||"string"!=typeof e.referenceElement||(i=document.querySelector(e.referenceElement),t=!0),i?.view){e.view=i.view;const s=e.childElem??e.el;t||e.view.ui.add(s,e.position)}else i&&function(e,t,i){const s=()=>{e.removeEventListener("arcgisViewReadyChange",s,!1),t.view=e.view,i||t.view.ui.add(t.childElem??t.el,t.position)};e.addEventListener("arcgisViewReadyChange",s,!1)}(i,e,t)}}function a(e){return null==e||""===e}function h(e){return null!=e&&e%1==0}function d(e,t){return void 0===t||e.position!==t.position||e.heading!==t.heading||e.tilt!==t.tilt}function o(e,t){return void 0===t||t.atmosphereEnabled!==e.atmosphereEnabled||t.lighting.date!==e.lighting.date||t.lighting.directShadowsEnabled!==e.lighting.directShadowsEnabled||t.lighting.cameraTrackingEnabled!==e.lighting.cameraTrackingEnabled||t.lighting.date!==e.lighting.date||t.lighting.displayUTCOffset!==e.lighting.displayUTCOffset}function r(e,t){return void 0===t||e.targetGeometry!==t.targetGeometry||e.rotation!==t.rotation||e.scale!==t.scale}async function c(e,t){void 0!==t&&("string"==typeof t?e.view=await async function(e){const t=document.querySelector(e);return await new Promise((e=>{if(void 0!==t?.view)e(t.view);else if(t){const i=()=>{t.removeEventListener("arcgisViewReadyChange",i,!1),e(t.view)};t.addEventListener("arcgisViewReadyChange",i,!1)}}))}(t):e.widget&&(e.view=t.view))}i.d(t,{a:()=>l,b:()=>r,c:()=>n,d:()=>s,e:()=>d,f:()=>o,g:()=>h,i:()=>a,r:()=>c})},7199:(e,t,i)=>{function s(e){e.childElem?e.el.isConnected||(e.view?e.view.ui.remove(e.childElem):e.widget?.view&&e.widget.view.ui.remove(e.childElem),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy()):setTimeout((()=>{e.el.isConnected||(e.view?e.view.ui.remove(e.el):e.widget?.view&&e.widget.view.ui.remove(e.el),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy())}),1e3)}i.d(t,{o:()=>s})}}]);