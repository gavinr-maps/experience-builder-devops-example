/*! For license information please see 1242.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[1242],{1242:(e,t,n)=>{n.r(t),n.d(t,{calcite_color_picker:()=>U,calcite_color_picker_hex_input:()=>W,calcite_color_picker_swatch:()=>Q});var a=n(861),i=n(6077),r=n(2447),o=n(1402),l=n(5483),s=n(6591),c=n(3862),h=n(3616),u=n(7572),d=n(6426);function p(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}n(5603),n(3803);var g={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},m=p((function(e){var t=Array.prototype.concat,n=Array.prototype.slice,a=e.exports=function(e){for(var a,i=[],r=0,o=e.length;r<o;r++){var l=e[r];(a=l)&&"string"!=typeof a&&(a instanceof Array||Array.isArray(a)||a.length>=0&&(a.splice instanceof Function||Object.getOwnPropertyDescriptor(a,a.length-1)&&"String"!==a.constructor.name))?i=t.call(i,n.call(l)):i.push(l)}return i};a.wrap=function(e){return function(){return e(a(arguments))}}})),f=p((function(e){var t=Object.hasOwnProperty,n={};for(var a in g)t.call(g,a)&&(n[g[a]]=a);var i=e.exports={to:{},get:{}};function r(e,t,n){return Math.min(Math.max(t,e),n)}function o(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}i.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=i.get.hsl(e),n="hsl";break;case"hwb":t=i.get.hwb(e),n="hwb";break;default:t=i.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},i.get.rgb=function(e){if(!e)return null;var n,a,i,o=[0,0,0,1];if(n=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=n[2],n=n[1],a=0;a<3;a++){var l=2*a;o[a]=parseInt(n.slice(l,l+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(n=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(n=n[1])[3],a=0;a<3;a++)o[a]=parseInt(n[a]+n[a],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(n=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(a=0;a<3;a++)o[a]=parseInt(n[a+1],0);n[4]&&(n[5]?o[3]=.01*parseFloat(n[4]):o[3]=parseFloat(n[4]))}else{if(!(n=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(n=e.match(/^(\w+)$/))?"transparent"===n[1]?[0,0,0,0]:t.call(g,n[1])?((o=g[n[1]])[3]=1,o):null:null;for(a=0;a<3;a++)o[a]=Math.round(2.55*parseFloat(n[a+1]));n[4]&&(n[5]?o[3]=.01*parseFloat(n[4]):o[3]=parseFloat(n[4]))}for(a=0;a<3;a++)o[a]=r(o[a],0,255);return o[3]=r(o[3],0,1),o},i.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,r(parseFloat(t[2]),0,100),r(parseFloat(t[3]),0,100),r(isNaN(n)?1:n,0,1)]}return null},i.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,r(parseFloat(t[2]),0,100),r(parseFloat(t[3]),0,100),r(isNaN(n)?1:n,0,1)]}return null},i.to.hex=function(){var e=m(arguments);return"#"+o(e[0])+o(e[1])+o(e[2])+(e[3]<1?o(Math.round(255*e[3])):"")},i.to.rgb=function(){var e=m(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},i.to.rgb.percent=function(){var e=m(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),a=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+a+"%)":"rgba("+t+"%, "+n+"%, "+a+"%, "+e[3]+")"},i.to.hsl=function(){var e=m(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},i.to.hwb=function(){var e=m(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},i.to.keyword=function(e){return n[e.slice(0,3)]}})),b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const y={};for(const e of Object.keys(b))y[b[e]]=e;const v={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var C=v;for(const e of Object.keys(v)){if(!("channels"in v[e]))throw new Error("missing channels property: "+e);if(!("labels"in v[e]))throw new Error("missing channel labels property: "+e);if(v[e].labels.length!==v[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=v[e];delete v[e].channels,delete v[e].labels,Object.defineProperty(v[e],"channels",{value:t}),Object.defineProperty(v[e],"labels",{value:n})}function w(e,t){return function(n){return t(e(n))}}function x(e,t){const n=[t[e].parent,e];let a=C[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),a=w(C[t[i].parent][i],a),i=t[i].parent;return a.conversion=n,a}v.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,a=e[2]/255,i=Math.min(t,n,a),r=Math.max(t,n,a),o=r-i;let l,s;r===i?l=0:t===r?l=(n-a)/o:n===r?l=2+(a-t)/o:a===r&&(l=4+(t-n)/o),l=Math.min(60*l,360),l<0&&(l+=360);const c=(i+r)/2;return s=r===i?0:c<=.5?o/(r+i):o/(2-r-i),[l,100*s,100*c]},v.rgb.hsv=function(e){let t,n,a,i,r;const o=e[0]/255,l=e[1]/255,s=e[2]/255,c=Math.max(o,l,s),h=c-Math.min(o,l,s),u=function(e){return(c-e)/6/h+.5};return 0===h?(i=0,r=0):(r=h/c,t=u(o),n=u(l),a=u(s),o===c?i=a-n:l===c?i=1/3+t-a:s===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*r,100*c]},v.rgb.hwb=function(e){const t=e[0],n=e[1];let a=e[2];const i=v.rgb.hsl(e)[0],r=1/255*Math.min(t,Math.min(n,a));return a=1-1/255*Math.max(t,Math.max(n,a)),[i,100*r,100*a]},v.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,a=e[2]/255,i=Math.min(1-t,1-n,1-a);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-a-i)/(1-i)||0),100*i]},v.rgb.keyword=function(e){const t=y[e];if(t)return t;let n,a=1/0;for(const t of Object.keys(b)){const o=(r=b[t],((i=e)[0]-r[0])**2+(i[1]-r[1])**2+(i[2]-r[2])**2);o<a&&(a=o,n=t)}var i,r;return n},v.keyword.rgb=function(e){return b[e]},v.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,a=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,a=a>.04045?((a+.055)/1.055)**2.4:a/12.92,[100*(.4124*t+.3576*n+.1805*a),100*(.2126*t+.7152*n+.0722*a),100*(.0193*t+.1192*n+.9505*a)]},v.rgb.lab=function(e){const t=v.rgb.xyz(e);let n=t[0],a=t[1],i=t[2];return n/=95.047,a/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,a=a>.008856?a**(1/3):7.787*a+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*a-16,500*(n-a),200*(a-i)]},v.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,a=e[2]/100;let i,r,o;if(0===n)return o=255*a,[o,o,o];i=a<.5?a*(1+n):a+n-a*n;const l=2*a-i,s=[0,0,0];for(let e=0;e<3;e++)r=t+1/3*-(e-1),r<0&&r++,r>1&&r--,o=6*r<1?l+6*(i-l)*r:2*r<1?i:3*r<2?l+(i-l)*(2/3-r)*6:l,s[e]=255*o;return s},v.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,a=e[2]/100,i=n;const r=Math.max(a,.01);return a*=2,n*=a<=1?a:2-a,i*=r<=1?r:2-r,[t,100*(0===a?2*i/(r+i):2*n/(a+n)),(a+n)/2*100]},v.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let a=e[2]/100;const i=Math.floor(t)%6,r=t-Math.floor(t),o=255*a*(1-n),l=255*a*(1-n*r),s=255*a*(1-n*(1-r));switch(a*=255,i){case 0:return[a,s,o];case 1:return[l,a,o];case 2:return[o,a,s];case 3:return[o,l,a];case 4:return[s,o,a];case 5:return[a,o,l]}},v.hsv.hsl=function(e){const t=e[0],n=e[1]/100,a=e[2]/100,i=Math.max(a,.01);let r,o;o=(2-n)*a;const l=(2-n)*i;return r=n*i,r/=l<=1?l:2-l,r=r||0,o/=2,[t,100*r,100*o]},v.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,a=e[2]/100;const i=n+a;let r;i>1&&(n/=i,a/=i);const o=Math.floor(6*t),l=1-a;r=6*t-o,0!=(1&o)&&(r=1-r);const s=n+r*(l-n);let c,h,u;switch(o){default:case 6:case 0:c=l,h=s,u=n;break;case 1:c=s,h=l,u=n;break;case 2:c=n,h=l,u=s;break;case 3:c=n,h=s,u=l;break;case 4:c=s,h=n,u=l;break;case 5:c=l,h=n,u=s}return[255*c,255*h,255*u]},v.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,a=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,a*(1-i)+i))]},v.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,a=e[2]/100;let i,r,o;return i=3.2406*t+-1.5372*n+-.4986*a,r=-.9689*t+1.8758*n+.0415*a,o=.0557*t+-.204*n+1.057*a,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=Math.min(Math.max(0,i),1),r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),[255*i,255*r,255*o]},v.xyz.lab=function(e){let t=e[0],n=e[1],a=e[2];return t/=95.047,n/=100,a/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,a=a>.008856?a**(1/3):7.787*a+16/116,[116*n-16,500*(t-n),200*(n-a)]},v.lab.xyz=function(e){let t,n,a;n=(e[0]+16)/116,t=e[1]/500+n,a=n-e[2]/200;const i=n**3,r=t**3,o=a**3;return n=i>.008856?i:(n-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,a=o>.008856?o:(a-16/116)/7.787,t*=95.047,n*=100,a*=108.883,[t,n,a]},v.lab.lch=function(e){const t=e[0],n=e[1],a=e[2];let i;return i=360*Math.atan2(a,n)/2/Math.PI,i<0&&(i+=360),[t,Math.sqrt(n*n+a*a),i]},v.lch.lab=function(e){const t=e[0],n=e[1],a=e[2]/360*2*Math.PI;return[t,n*Math.cos(a),n*Math.sin(a)]},v.rgb.ansi16=function(e,t=null){const[n,a,i]=e;let r=null===t?v.rgb.hsv(e)[2]:t;if(r=Math.round(r/50),0===r)return 30;let o=30+(Math.round(i/255)<<2|Math.round(a/255)<<1|Math.round(n/255));return 2===r&&(o+=60),o},v.hsv.ansi16=function(e){return v.rgb.ansi16(v.hsv.rgb(e),e[2])},v.rgb.ansi256=function(e){const t=e[0],n=e[1],a=e[2];return t===n&&n===a?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(a/255*5)},v.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},v.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},v.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},v.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const a=parseInt(n,16);return[a>>16&255,a>>8&255,255&a]},v.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,a=e[2]/255,i=Math.max(Math.max(t,n),a),r=Math.min(Math.min(t,n),a),o=i-r;let l,s;return l=o<1?r/(1-o):0,s=o<=0?0:i===t?(n-a)/o%6:i===n?2+(a-t)/o:4+(t-n)/o,s/=6,s%=1,[360*s,100*o,100*l]},v.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,a=n<.5?2*t*n:2*t*(1-n);let i=0;return a<1&&(i=(n-.5*a)/(1-a)),[e[0],100*a,100*i]},v.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,a=t*n;let i=0;return a<1&&(i=(n-a)/(1-a)),[e[0],100*a,100*i]},v.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,a=e[2]/100;if(0===n)return[255*a,255*a,255*a];const i=[0,0,0],r=t%1*6,o=r%1,l=1-o;let s=0;switch(Math.floor(r)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return s=(1-n)*a,[255*(n*i[0]+s),255*(n*i[1]+s),255*(n*i[2]+s)]},v.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let a=0;return n>0&&(a=t/n),[e[0],100*a,100*n]},v.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],100*a,100*n]},v.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},v.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,a=n-t;let i=0;return a<1&&(i=(n-a)/(1-a)),[e[0],100*a,100*i]},v.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},v.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},v.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},v.gray.hsl=function(e){return[0,0,e[0]]},v.gray.hsv=v.gray.hsl,v.gray.hwb=function(e){return[0,100,e[0]]},v.gray.cmyk=function(e){return[0,0,0,e[0]]},v.gray.lab=function(e){return[e[0],0,0]},v.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},v.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const S={};Object.keys(C).forEach((e=>{S[e]={},Object.defineProperty(S[e],"channels",{value:C[e].channels}),Object.defineProperty(S[e],"labels",{value:C[e].labels});const t=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(C);for(let n=t.length,a=0;a<n;a++)e[t[a]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),a=Object.keys(C[e]);for(let i=a.length,r=0;r<i;r++){const i=a[r],o=t[i];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,n.unshift(i))}}return t}(e),n={},a=Object.keys(t);for(let e=a.length,i=0;i<e;i++){const e=a[i];null!==t[e].parent&&(n[e]=x(e,t))}return n}(e);Object.keys(t).forEach((n=>{const a=t[n];S[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const a=e(t);if("object"==typeof a)for(let e=a.length,t=0;t<e;t++)a[t]=Math.round(a[t]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}(a),S[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(a)}))}));var k=S;const I=["keyword","gray","hex"],M={};for(const e of Object.keys(k))M[[...k[e].labels].sort().join("")]=e;const D={};function A(e,t){if(!(this instanceof A))return new A(e,t);if(t&&t in I&&(t=null),t&&!(t in k))throw new Error("Unknown model: "+t);let n,a;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof A)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=f.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,a=k[this.model].channels,this.color=t.value.slice(0,a),this.valpha="number"==typeof t.value[a]?t.value[a]:1}else if(e.length>0){this.model=t||"rgb",a=k[this.model].channels;const n=Array.prototype.slice.call(e,0,a);this.color=O(n,a),this.valpha="number"==typeof e[a]?e[a]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const a=t.sort().join("");if(!(a in M))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=M[a];const{labels:i}=k[this.model],r=[];for(n=0;n<i.length;n++)r.push(e[i[n]]);this.color=O(r)}if(D[this.model])for(a=k[this.model].channels,n=0;n<a;n++){const e=D[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}A.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in f.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return f.to[t.model](n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return f.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=k[this.model],{labels:n}=k[this.model];for(let a=0;a<t;a++)e[n[a]]=this.color[a];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new A([...this.color.map(F(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new A([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:H("rgb",0,L(255)),green:H("rgb",1,L(255)),blue:H("rgb",2,L(255)),hue:H(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:H("hsl",1,L(100)),lightness:H("hsl",2,L(100)),saturationv:H("hsv",1,L(100)),value:H("hsv",2,L(100)),chroma:H("hcg",1,L(100)),gray:H("hcg",2,L(100)),white:H("hwb",1,L(100)),wblack:H("hwb",2,L(100)),cyan:H("cmyk",0,L(100)),magenta:H("cmyk",1,L(100)),yellow:H("cmyk",2,L(100)),black:H("cmyk",3,L(100)),x:H("xyz",0,L(95.047)),y:H("xyz",1,L(100)),z:H("xyz",2,L(108.833)),l:H("lab",0,L(100)),a:H("lab",1),b:H("lab",2),keyword(e){return void 0!==e?new A(e):k[this.model].keyword(this.color)},hex(e){return void 0!==e?new A(e):f.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new A(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),f.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,a]of e.entries()){const e=a/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return A.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),a=this.rgb(),i=void 0===t?.5:t,r=2*i-1,o=n.alpha()-a.alpha(),l=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,s=1-l;return A.rgb(l*n.red()+s*a.red(),l*n.green()+s*a.green(),l*n.blue()+s*a.blue(),n.alpha()*i+a.alpha()*(1-i))}};for(const e of Object.keys(k)){if(I.includes(e))continue;const{channels:t}=k[e];A.prototype[e]=function(...t){return this.model===e?new A(this):t.length>0?new A(t,e):new A([...(n=k[this.model][e].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],e);var n},A[e]=function(...n){let a=n[0];return"number"==typeof a&&(a=O(n,t)),new A(a,e)}}function F(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function H(e,t,n){e=Array.isArray(e)?e:[e];for(const a of e)(D[a]||(D[a]=[]))[t]=n;return e=e[0],function(a){let i;return void 0!==a?(n&&(a=n(a)),i=this[e](),i.color[t]=a,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function L(e){return function(t){return Math.max(0,Math.min(e,t))}}function O(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}var R=A;const _="channel",P="control",z="control-and-scope",$="scope",E="section",j="slider",N=R("#007AC2"),T="calcite-color-",B={r:255,g:255,b:255},K={h:360,s:100,v:100},V=100,q={s:{slider:{height:12,width:104},colorField:{height:80,width:160},thumb:{radius:10}},m:{slider:{height:12,width:204},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:12,width:384},colorField:{height:200,width:464},thumb:{radius:10}}},U=class{constructor(e){(0,a.r)(this,e),this.calciteColorPickerChange=(0,a.c)(this,"calciteColorPickerChange",6),this.calciteColorPickerInput=(0,a.c)(this,"calciteColorPickerInput",6),this.internalColorUpdateContext=null,this.mode=r.C.HEX,this.shiftKeyChannelAdjustment=0,this.handleTabActivate=e=>{this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=e=>{const{key:t}=e,n={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};n[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+n[t].x||0,this.colorFieldScopeTop+n[t].y||0,!1))},this.handleHueScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:n}=e,a={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(a[n]){e.preventDefault();const i=a[n]*t,r=this.baseColorFieldColor.hue(),o=this.baseColorFieldColor.hue(r+i);this.internalColorSet(o,!1)}},this.handleHexInputChange=e=>{e.stopPropagation();const{allowEmpty:t,color:n}=this,a=e.target.value;!t||a?a!==(n&&(0,r.n)((0,r.a)(n,(0,r.c)(this.mode))))&&this.internalColorSet(R(a)):this.internalColorSet(null)},this.handleSavedColorSelect=e=>{const t=e.currentTarget;this.internalColorSet(R(t.color))},this.handleChannelInput=e=>{const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),a=3===n?V:"rgb"===this.channelMode?B[Object.keys(B)[n]]:K[Object.keys(K)[n]];let i;if(this.allowEmpty&&!t.value)i="";else{const e=Number(t.value)+this.shiftKeyChannelAdjustment;i=(0,h.c)(e,0,a).toString()}t.value=i,t.internalSyncChildElValue()},this.handleChannelChange=e=>{const t=e.currentTarget,n=Number(t.getAttribute("data-channel-index")),a=[...this.channels];if(this.allowEmpty&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const i=3===n,o=Number(t.value);a[n]=i?(0,r.o)(o):o,this.updateColorFromChannels(a)},this.handleSavedColorKeyDown=e=>{(0,l.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))},this.handleColorFieldPointerDown=e=>{if(!(0,i.i)(e))return;const{offsetX:t,offsetY:n}=e;document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.colorFieldRenderingContext,bounds:this.colorFieldRenderingContext.canvas.getBoundingClientRect()},this.captureColorFieldColor(t,n),this.colorFieldScopeNode.focus()},this.handleHueSliderPointerDown=e=>{if(!(0,i.i)(e))return;const{offsetX:t}=e;document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.hueSliderRenderingContext,bounds:this.hueSliderRenderingContext.canvas.getBoundingClientRect()},this.captureHueSliderColor(t),this.hueScopeNode.focus()},this.handleOpacitySliderPointerDown=e=>{if(!(0,i.i)(e))return;const{offsetX:t}=e;document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.opacitySliderRenderingContext,bounds:this.opacitySliderRenderingContext.canvas.getBoundingClientRect()},this.captureOpacitySliderValue(t),this.opacityScopeNode.focus()},this.globalPointerUpHandler=e=>{if(!(0,i.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:n}=this;if(!n.isConnected||!t)return;const{context:a,bounds:i}=t;let r,o;const{clientX:l,clientY:s}=e;a.canvas.matches(":hover")?(r=l-i.x,o=s-i.y):(r=l<i.x+i.width&&l>i.x?l-i.x:l<i.x?0:i.width-1,o=s<i.y+i.height&&s>i.y?s-i.y:s<i.y?0:i.height),a===this.colorFieldRenderingContext?this.captureColorFieldColor(r,o,!1):a===this.hueSliderRenderingContext?this.captureHueSliderColor(r):a===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(r)},this.storeColorFieldScope=e=>{this.colorFieldScopeNode=e},this.storeHueScope=e=>{this.hueScopeNode=e},this.renderChannelsTabTitle=e=>{const{channelMode:t,messages:n}=this,i=e===t,r="rgb"===e?n.rgb:n.hsv;return(0,a.h)("calcite-tab-title",{class:"color-mode","data-color-mode":e,key:e,onCalciteTabsActivate:this.handleTabActivate,selected:i},r)},this.renderChannelsTab=e=>{const{allowEmpty:t,channelMode:n,channels:o,messages:l,alphaChannel:s}=this,c=e===n,h="rgb"===e?[l.red,l.green,l.blue]:[l.hue,l.saturation,l.value],u=(0,i.b)(this.el),d=s?o:o.slice(0,3);return(0,a.h)("calcite-tab",{class:P,key:e,selected:c},(0,a.h)("div",{class:"channels",dir:"ltr"},d.map(((e,n)=>{const a=3===n;return a&&(e=t&&!e?e:(0,r.b)(e)),this.renderChannel(e,n,h[n],u,a?"%":"")}))))},this.renderChannel=(e,t,n,i,r)=>(0,a.h)("calcite-input",{class:_,"data-channel-index":t,dir:i,key:t,label:n,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputChange:this.handleChannelChange,onCalciteInputInput:this.handleChannelInput,onKeyDown:this.handleKeyDown,scale:"l"===this.scale?"m":"s",style:{marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""},suffixText:r,type:"number",value:e?.toString()}),this.deleteColor=()=>{const e=(0,r.a)(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter((t=>t!==e));this.savedColors=t;const n=`${T}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(t))},this.saveColor=()=>{const e=(0,r.a)(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const n=`${T}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(t))},this.drawColorControls=(0,d.t)(((e="all")=>{"all"!==e&&"color-field"!==e||!this.colorFieldRenderingContext||this.drawColorField(),"all"!==e&&"hue-slider"!==e||!this.hueSliderRenderingContext||this.drawHueSlider(),this.alphaChannel&&("all"===e||"opacity-slider"===e)&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()}),16),this.captureColorFieldColor=(e,t,n=!0)=>{const{dimensions:{colorField:{height:a,width:i}}}=this,r=Math.round(K.s/i*e),o=Math.round(K.v/a*(a-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(r).value(o),n)},this.initColorField=e=>{this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls()},this.initHueSlider=e=>{this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider()},this.initOpacitySlider=e=>{this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider()},this.storeOpacityScope=e=>{this.opacityScopeNode=e},this.handleOpacityScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:n}=e,a={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(a[n]){e.preventDefault();const i=(0,r.o)(a[n]*t);this.captureHueSliderColor(this.opacityScopeLeft+i)}},this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.color=N,this.disabled=!1,this.format="auto",this.hideChannels=!1,this.hexDisabled=!1,this.hideHex=!1,this.hideSaved=!1,this.savedDisabled=!1,this.scale="m",this.storageId=void 0,this.messageOverrides=void 0,this.numberingSystem=void 0,this.value=(0,r.n)((0,r.a)(N,this.alphaChannel)),this.defaultMessages=void 0,this.channelMode="rgb",this.channels=this.toChannels(N),this.dimensions=q.m,this.effectiveLocale="",this.messages=void 0,this.savedColors=[],this.colorFieldScopeTop=void 0,this.colorFieldScopeLeft=void 0,this.hueScopeLeft=void 0,this.opacityScopeLeft=void 0,this.scopeOrientation=void 0}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!(0,r.c)(t)&&(console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`),this.alphaChannel=!1)}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatChange(e){this.setMode(e),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(e="m"){this.updateDimensions(e),this.updateCanvasSize("all"),this.drawColorControls()}onMessagesChange(){}handleValueChange(e,t){const{allowEmpty:n,format:a}=this;let i=!1;if(!n||e){const n=(0,r.p)(e);if(!n||"auto"!==a&&n!==a)return this.showIncompatibleColorWarning(e,a),void(this.value=t);i=this.mode!==n,this.setMode(n,null===this.internalColorUpdateContext)}const o=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(o||this.calciteColorPickerChange.emit());const l=n&&!e?null:R(null!=e&&"object"==typeof e&&(0,r.c)(this.mode)?(0,r.g)(e):e),s=!(0,r.d)(l,this.color);(i||s)&&this.internalColorSet(l,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css")),"internal")}get baseColorFieldColor(){return this.color||this.previousColor||N}effectiveLocaleChange(){(0,u.u)(this,this.effectiveLocale)}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some((e=>e.classList?.contains(_))))return;const{shiftKey:n}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&n?9:"ArrowDown"===t&&n?-9:0}async setFocus(){await(0,s.c)(this),this.el.focus()}async componentWillLoad(){(0,s.s)(this);const{allowEmpty:e,color:t,format:n,value:a}=this,i=e&&!a,o=(0,r.p)(a),l=i||"auto"===n&&o||n===o,c=i?null:l?R(a):t;l||this.showIncompatibleColorWarning(a,n),this.setMode(n,!1),this.internalColorSet(c,!1,"initial"),this.updateDimensions(this.scale);const h=`${T}${this.storageId}`;this.storageId&&localStorage.getItem(h)&&(this.savedColors=JSON.parse(localStorage.getItem(h))),await(0,u.s)(this)}connectedCallback(){(0,c.c)(this),(0,u.c)(this)}componentDidLoad(){(0,s.a)(this)}disconnectedCallback(){document.removeEventListener("pointermove",this.globalPointerMoveHandler),document.removeEventListener("pointerup",this.globalPointerUpHandler),(0,c.d)(this),(0,u.d)(this)}componentDidRender(){(0,o.u)(this)}render(){const{allowEmpty:e,channelsDisabled:t,color:n,colorFieldScopeLeft:i,colorFieldScopeTop:o,dimensions:{colorField:{width:l},slider:{width:s},thumb:{radius:c}},hexDisabled:h,hideChannels:u,hideHex:d,hideSaved:p,hueScopeLeft:g,messages:m,alphaChannel:f,opacityScopeLeft:b,savedColors:y,savedDisabled:v,scale:C,scopeOrientation:w}=this,x=n?(0,r.a)(n,f):null,S=c,k=g??s*N.hue()/K.h,I=c,M=b??l*(0,r.b)(N.alpha())/V,D=null===n,A="vertical"===w,F=h||d,H=t||u,L=v||p;return(0,a.h)("div",{class:"container"},(0,a.h)("div",{class:z},(0,a.h)("canvas",{class:"color-field",onPointerDown:this.handleColorFieldPointerDown,ref:this.initColorField}),(0,a.h)("div",{"aria-label":A?m.value:m.saturation,"aria-valuemax":A?K.v:K.s,"aria-valuemin":"0","aria-valuenow":(A?n?.saturationv():n?.value())||"0",class:{[$]:!0,"scope--color-field":!0},onKeyDown:this.handleColorFieldScopeKeyDown,role:"slider",style:{top:`${o||0}px`,left:`${i||0}px`},tabindex:"0",ref:this.storeColorFieldScope})),(0,a.h)("div",{class:"preview-and-sliders"},(0,a.h)("calcite-color-picker-swatch",{class:"preview",color:x,scale:"l"}),(0,a.h)("div",{class:"sliders"},(0,a.h)("div",{class:z},(0,a.h)("canvas",{class:{[j]:!0,"hue-slider":!0},onPointerDown:this.handleHueSliderPointerDown,ref:this.initHueSlider}),(0,a.h)("div",{"aria-label":m.hue,"aria-valuemax":K.h,"aria-valuemin":"0","aria-valuenow":n?.round().hue()||N.round().hue(),class:{[$]:!0,"scope--hue":!0},onKeyDown:this.handleHueScopeKeyDown,role:"slider",style:{top:`${S}px`,left:`${k}px`},tabindex:"0",ref:this.storeHueScope})),f?(0,a.h)("div",{class:z},(0,a.h)("canvas",{class:{[j]:!0,"opacity-slider":!0},onPointerDown:this.handleOpacitySliderPointerDown,ref:this.initOpacitySlider}),(0,a.h)("div",{"aria-label":m.opacity,"aria-valuemax":V,"aria-valuemin":0,"aria-valuenow":(n||N).round().alpha(),class:{[$]:!0,"scope--opacity":!0},onKeyDown:this.handleOpacityScopeKeyDown,role:"slider",style:{top:`${I}px`,left:`${M}px`},tabindex:"0",ref:this.storeOpacityScope})):null)),F&&H?null:(0,a.h)("div",{class:{"control-section":!0,[E]:!0}},(0,a.h)("div",{class:"hex-and-channels-group"},F?null:(0,a.h)("div",{class:"color-hex-options"},(0,a.h)("calcite-color-picker-hex-input",{allowEmpty:e,alphaChannel:f,class:P,messages:m,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:C,value:x})),H?null:(0,a.h)("calcite-tabs",{class:{"color-mode-container":!0,"section--split":!0},scale:"l"===C?"m":"s"},(0,a.h)("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv")))),L?null:(0,a.h)("div",{class:{"saved-colors-section":!0,[E]:!0}},(0,a.h)("div",{class:"header"},(0,a.h)("label",null,m.saved),(0,a.h)("div",{class:"saved-colors-buttons"},(0,a.h)("calcite-button",{appearance:"transparent",class:"delete-color",disabled:D,iconStart:"minus",kind:"neutral",label:m.deleteColor,onClick:this.deleteColor,scale:C,type:"button"}),(0,a.h)("calcite-button",{appearance:"transparent",class:"save-color",disabled:D,iconStart:"plus",kind:"neutral",label:m.saveColor,onClick:this.saveColor,scale:C,type:"button"}))),y.length>0?(0,a.h)("div",{class:"saved-colors"},[...y.map((e=>(0,a.h)("calcite-color-picker-swatch",{class:"saved-color",color:e,key:e,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:C,tabIndex:0})))]):null))}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e,t=!0){const n="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(n,t)}ensureCompatibleMode(e,t){const{alphaChannel:n}=this,a=(0,r.c)(e);if(n&&!a){const n=(0,r.f)(e);return t&&console.warn(`setting format to (${n}) as the provided one (${e}) does not support alpha`),n}if(!n&&a){const n=(0,r.t)(e);return t&&console.warn(`setting format to (${n}) as the provided one (${e}) does not support alpha`),n}return e}captureHueSliderColor(e){const{dimensions:{slider:{width:t}}}=this,n=360/t*e;this.internalColorSet(this.baseColorFieldColor.hue(n),!1)}captureOpacitySliderValue(e){const{dimensions:{slider:{width:t}}}=this,n=(0,r.o)(V/t*e);this.internalColorSet(this.baseColorFieldColor.alpha(n),!1)}internalColorSet(e,t=!0,n="user-interaction"){t&&(0,r.d)(e,this.color)||(this.internalColorUpdateContext=n,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;if(t.includes("hex")){const n=t===r.C.HEXA;return(0,r.n)((0,r.a)(e.round(),n),n)}if(t.includes("-css")){const n=e[t.replace("-css","").replace("a","")]().round().string();return(t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()?`${n.slice(0,3)}a(${n.slice(4,-1)}, ${e.alpha()})`:n}const n=e[(0,r.t)(t)]().round().object();return t.endsWith("a")?(0,r.e)(n):n}getSliderCapSpacing(){const{dimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateDimensions(e="m"){this.dimensions=q[e]}drawColorField(){const e=this.colorFieldRenderingContext,{dimensions:{colorField:{height:t,width:n}}}=this;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,n,t);const a=e.createLinearGradient(0,0,n,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=a,e.fillRect(0,0,n,t);const i=e.createLinearGradient(0,0,0,t);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=i,e.fillRect(0,0,n,t),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:n}){if(!e)return;const a=window.devicePixelRatio||1;e.width=n*a,e.height=t*a,e.style.height=`${t}px`,e.style.width=`${n}px`,e.getContext("2d").scale(a,a)}updateCanvasSize(e="all"){const{dimensions:t}=this;"all"!==e&&"color-field"!==e||this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,t.colorField);const n={width:t.slider.width,height:t.slider.height+2*(t.thumb.radius-t.slider.height/2)};"all"!==e&&"hue-slider"!==e||this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,n),"all"!==e&&"opacity-slider"!==e||this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,n)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{dimensions:{colorField:{height:n,width:a},thumb:{radius:i}}}=this,r=t.saturationv()/(K.s/a),o=n-t.value()/(K.v/n);requestAnimationFrame((()=>{this.colorFieldScopeLeft=r,this.colorFieldScopeTop=o})),this.drawThumb(this.colorFieldRenderingContext,i,r,o,t)}drawThumb(e,t,n,a,i){const r=2*Math.PI;t-=1,e.beginPath(),e.arc(n,a,t,0,r),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),e.beginPath(),e.arc(n,a,t-3,0,r),e.fillStyle=i.rgb().alpha(1).string(),e.fill()}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{dimensions:{slider:{height:n,width:a},thumb:{radius:i}}}=this,r=t.hue()/(360/a),o=i-n/2+n/2;requestAnimationFrame((()=>{this.hueScopeLeft=r})),this.drawThumb(this.hueSliderRenderingContext,i,r,o,t)}drawHueSlider(){const e=this.hueSliderRenderingContext,{dimensions:{slider:{height:t,width:n},thumb:{radius:a}}}=this,i=a-t/2,r=e.createLinearGradient(0,0,n,0),o=["red","yellow","lime","cyan","blue","magenta","red"],l=1/(o.length-1);let s=0;o.forEach((e=>{r.addColorStop(s,R(e).string()),s+=l})),e.clearRect(0,0,n,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,n,0,i),e.fillStyle=r,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,dimensions:{slider:{height:n,width:a},thumb:{radius:i}}}=this,r=i-n/2;e.clearRect(0,0,a,n+2*this.getSliderCapSpacing());const o=e.createLinearGradient(0,r,a,0),l=t.rgb().alpha(0),s=t.rgb().alpha(.5),c=t.rgb().alpha(1);o.addColorStop(0,l.string()),o.addColorStop(.5,s.string()),o.addColorStop(1,c.string()),this.drawSliderPath(e,n,a,0,r);const h=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=h,e.fill(),e.fillStyle=o,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,n,a,i){const r=t/2+1;e.beginPath(),e.moveTo(a+r,i),e.lineTo(a+n-r,i),e.quadraticCurveTo(a+n,i,a+n,i+r),e.lineTo(a+n,i+t-r),e.quadraticCurveTo(a+n,i+t,a+n-r,i+t),e.lineTo(a+r,i+t),e.quadraticCurveTo(a,i+t,a,i+t-r),e.lineTo(a,i+r),e.quadraticCurveTo(a,i,a+r,i),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{dimensions:{slider:{width:n},thumb:{radius:a}}}=this,i=(0,r.b)(t.alpha())/(V/n),o=a;requestAnimationFrame((()=>{this.opacityScopeLeft=i})),this.drawThumb(this.opacitySliderRenderingContext,a,i,o,t)}updateColorFromChannels(e){this.internalColorSet(R(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,n=e[t]().array().map(((e,t)=>3===t?e:Math.floor(e)));return 3===n.length&&n.push(1),n}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return(0,a.a)(this)}static get watchers(){return{alphaChannel:["handleAlphaChannelChange"],color:["handleColorChange"],format:["handleFormatChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}};U.style='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){--calcite-color-picker-spacing:8px}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{gap:0.25rem;grid-template-columns:repeat(auto-fill, 20px)}:host([scale=m]){--calcite-color-picker-spacing:12px}:host([scale=m]) .container{inline-size:272px}:host([scale=l]){--calcite-color-picker-spacing:16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, 32px)}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline;flex-wrap:wrap}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.scope{position:absolute;z-index:var(--calcite-app-z-index);font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          );outline-offset:16px}.hex-and-channels-group{inline-size:100%}.hex-and-channels-group,.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-ui-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex;row-gap:0.125rem}.channel[data-channel-index="3"]{inline-size:159px}:host([scale=s]) .channels{flex-wrap:wrap}:host([scale=s]) .channel{flex-basis:30%;flex-grow:1}:host([scale=s]) .channel[data-channel-index="3"]{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .channel[data-channel-index="3"]{inline-size:131px}.saved-colors{display:grid;gap:0.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill, 24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}';const G=R(),W=class{constructor(e){(0,a.r)(this,e),this.calciteColorPickerHexInputChange=(0,a.c)(this,"calciteColorPickerHexInputChange",6),this.onHexInputBlur=()=>{const e=this.hexInputNode,t=e.value,n=`#${t}`,{allowEmpty:a,internalColor:i}=this,o=a&&!t,l=(0,r.j)(n);this.onHexInputChange(),o||(0,r.i)(n)&&l||(e.value=a&&!i?"":this.formatHexForInternalInput((0,r.r)(i.object())))},this.onOpacityInputBlur=()=>{const e=this.opacityInputNode,t=e.value,{allowEmpty:n,internalColor:a}=this;n&&!t||(e.value=n&&!a?"":this.formatOpacityForInternalInput(a))},this.onHexInputChange=()=>{let e=this.hexInputNode.value;if(e){const t=(0,r.n)(e,!1);(0,r.i)(t)&&this.alphaChannel&&this.internalColor&&(e=`${t+(0,r.n)(this.internalColor.hexa(),!0).slice(-2)}`)}this.internalSetValue(e,this.value)},this.onOpacityInputChange=()=>{const e=this.opacityInputNode;let t;if(e.value){const n=(0,r.o)(Number(e.value));t=this.internalColor?.alpha(n).hexa()}else t=e.value;this.internalSetValue(t,this.value)},this.onInputKeyDown=e=>{const{altKey:t,ctrlKey:n,metaKey:a,shiftKey:i}=e,{alphaChannel:o,hexInputNode:l,internalColor:s,value:c}=this,{key:h}=e,u=e.composedPath();if("Tab"===h||"Enter"===h)return u.includes(l)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===h&&e.preventDefault());const d="ArrowDown"===h||"ArrowUp"===h,p=this.value;if(d){if(!c)return this.internalSetValue(this.previousNonNullValue,p),void e.preventDefault();const t="ArrowUp"===h?1:-1,n=i?10:1;return this.internalSetValue((0,r.a)(this.nudgeRGBChannels(s,n*t,u.includes(l)?"rgb":"a"),o),p),void e.preventDefault()}const g=t||n||a,m=1===h.length,f=r.k.test(h);!m||g||f||e.preventDefault()},this.onHexInputPaste=e=>{const t=e.clipboardData.getData("text");(0,r.i)(t)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1),this.hexInputNode.internalSyncChildElValue())},this.previousNonNullValue=this.value,this.storeHexInputRef=e=>{this.hexInputNode=e},this.storeOpacityInputRef=e=>{this.opacityInputNode=e},this.allowEmpty=!1,this.alphaChannel=!1,this.hexLabel="Hex",this.messages=void 0,this.numberingSystem=void 0,this.scale="m",this.value=(0,r.n)((0,r.a)(G,this.alphaChannel),this.alphaChannel,!0),this.internalColor=G}connectedCallback(){const{allowEmpty:e,alphaChannel:t,value:n}=this;if(n){const e=(0,r.n)(n,t);(0,r.i)(e,t)&&this.internalSetValue(e,e,!1)}else e&&this.internalSetValue(null,null,!1)}componentWillLoad(){(0,s.s)(this)}componentDidLoad(){(0,s.a)(this)}handleValueChange(e,t){this.internalSetValue(e,t,!1)}render(){const{alphaChannel:e,hexLabel:t,internalColor:n,messages:i,scale:r,value:o}=this,l=this.formatHexForInternalInput(o),s=this.formatOpacityForInternalInput(n),c="l"===r?"m":"s";return(0,a.h)("div",{class:"container"},(0,a.h)("calcite-input",{class:"hex-input",label:i?.hex||t,maxLength:6,numberingSystem:this.numberingSystem,onCalciteInputChange:this.onHexInputChange,onCalciteInternalInputBlur:this.onHexInputBlur,onKeyDown:this.onInputKeyDown,onPaste:this.onHexInputPaste,prefixText:"#",scale:c,value:l,ref:this.storeHexInputRef}),e?(0,a.h)("calcite-input-number",{class:"opacity-input",key:"opacity-input",label:i?.opacity,max:V,maxLength:3,min:0,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.onOpacityInputChange,onCalciteInternalInputNumberBlur:this.onOpacityInputBlur,onKeyDown:this.onInputKeyDown,scale:c,suffixText:"%",value:s,ref:this.storeOpacityInputRef}):null)}async setFocus(){await(0,s.c)(this),(0,i.f)(this.hexInputNode)}internalSetValue(e,t,n=!0){if(e){const{alphaChannel:t}=this,a=(0,r.n)(e,t,t);if((0,r.i)(a,t)){const{internalColor:e}=this,i=R(a),o=(0,r.n)((0,r.a)(i,t),t),l=!e||o!==(0,r.n)((0,r.a)(e,t),t);return this.internalColor=i,this.previousNonNullValue=o,this.value=o,void(l&&n&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=null,this.value=null,void(n&&this.calciteColorPickerHexInputChange.emit());this.value=t}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?`${(0,r.b)(e.alpha())}`:""}nudgeRGBChannels(e,t,n){let a;const i=e.array(),o=i.slice(0,3);if("rgb"===n)a=[...o.map((e=>e+t)),this.alphaChannel?i[3]:void 0];else{const n=(0,r.o)((0,r.b)(e.alpha())+t);a=[...o,n]}return R(a)}get el(){return(0,a.a)(this)}static get watchers(){return{value:["handleValueChange"]}}};W.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:68px;margin-inline-start:-1px}:host([scale=s]) .container{flex-wrap:wrap;row-gap:0.125rem}:host([scale=s]) .opacity-input{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .opacity-input{inline-size:88px}";const X="checker",J=4,Y=8,Q=class{constructor(e){(0,a.r)(this,e),this.active=!1,this.color=void 0,this.scale="m"}handleColorChange(e){this.internalColor=e?R(e):null}componentWillLoad(){this.handleColorChange(this.color)}render(){const e={swatch:!0,"swatch--no-color":!this.internalColor};return(0,a.h)("svg",{class:e,xmlns:"http://www.w3.org/2000/svg"},this.renderSwatch())}renderSwatch(){const{active:e,el:t,internalColor:n}=this,o=e?"100%":"0",l={height:"100%",rx:o,stroke:"light"===(0,i.h)(t)?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.15)","stroke-width":"2",width:"100%"};if(!n)return(0,a.h)(a.F,null,(0,a.h)("clipPath",{id:"shape"},(0,a.h)("rect",{height:"100%",rx:o,width:"100%"})),(0,a.h)("rect",{"clip-path":`inset(0 round ${o})`,rx:o,...l}),(0,a.h)("line",{"clip-path":"url(#shape)","stroke-width":"3",x1:"100%",x2:"0",y1:"0",y2:"100%"}));const s=n.alpha(),c=(0,r.a)(n),h=(0,r.a)(n,s<1);return(0,a.h)(a.F,null,(0,a.h)("title",null,h),(0,a.h)("defs",null,(0,a.h)("pattern",{height:Y,id:"checker",patternUnits:"userSpaceOnUse",width:Y,x:"0",y:"0"},(0,a.h)("rect",{class:X,height:J,width:J,x:"0",y:"0"}),(0,a.h)("rect",{class:X,height:J,width:J,x:J,y:J}))),(0,a.h)("rect",{fill:"url(#checker)",height:"100%",rx:o,width:"100%"}),(0,a.h)("rect",{fill:c,style:{"clip-path":s<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${o})`},...l}),s<1?(0,a.h)("rect",{fill:h,key:"opacity-fill",style:{"clip-path":"polygon(100% 0, 100% 100%, 0 100%)"},...l}):null)}get el(){return(0,a.a)(this)}static get watchers(){return{color:["handleColorChange"]}}};Q.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.swatch--no-color rect{fill:var(--calcite-ui-foreground-1)}.swatch--no-color line{stroke:var(--calcite-ui-danger)}.checker{fill:#cacaca}"},3616:(e,t,n)=>{n.d(t,{c:()=>a,d:()=>r});const a=(e,t,n)=>Math.max(t,Math.min(e,n)),i=new RegExp(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),r=e=>{const t=(""+e).match(i);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}},2447:(e,t,n)=>{n.d(t,{C:()=>w,a:()=>m,b:()=>s,c:()=>M,d:()=>I,e:()=>y,f:()=>D,g:()=>v,h:()=>C,i:()=>h,j:()=>p,k:()=>a,n:()=>g,o:()=>c,p:()=>S,r:()=>f,t:()=>A});const a=/^[0-9A-F]$/i,i=/^#[0-9A-F]{3}$/i,r=/^#[0-9A-F]{6}$/i,o=/^#[0-9A-F]{4}$/i,l=/^#[0-9A-F]{8}$/i,s=e=>Number((100*e).toFixed()),c=e=>Number((e/100).toFixed(2));function h(e,t=!1){return d(e,t)||p(e,t)}function u(e,t,n){return!!e&&e.length===t&&n.test(e)}function d(e,t=!1){return u(e,t?5:4,t?o:i)}function p(e,t=!1){return u(e,t?9:7,t?l:r)}function g(e,t=!1,n=!1){return(e=e.toLowerCase()).startsWith("#")||(e=`#${e}`),d(e,t)?f(C(e,t)):t&&n&&h(e,!1)?f(C(`${e}${d(e,!1)?"f":"ff"}`,!0)):e}function m(e,t=!1){return t?e.hexa():e.hex()}function f(e){const{r:t,g:n,b:a}=e;return`#${b(t)}${b(n)}${b(a)}${"a"in e?b(255*e.a):""}`.toLowerCase()}function b(e){return e.toString(16).padStart(2,"0")}function y(e){const t={...e,a:e.alpha??1};return delete t.alpha,t}function v(e){const t={...e,alpha:e.a??1};return delete t.a,t}function C(e,t=!1){if(!h(e,t))return null;let n,a,i,r;if(3===(e=e.replace("#","")).length||4===e.length){const[t,o,l,s]=e.split("");n=parseInt(`${t}${t}`,16),a=parseInt(`${o}${o}`,16),i=parseInt(`${l}${l}`,16),r=parseInt(`${s}${s}`,16)/255}else n=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16),r=parseInt(e.slice(6,8),16)/255;return isNaN(r)?{r:n,g:a,b:i}:{r:n,g:a,b:i,a:r}}const w={HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"},x={RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"};function S(e){if("string"==typeof e){if(e.startsWith("#")){const{length:t}=e;if(4===t||7===t)return w.HEX;if(5===t||9===t)return w.HEXA}if(e.startsWith("rgba("))return w.RGBA_CSS;if(e.startsWith("rgb("))return w.RGB_CSS;if(e.startsWith("hsl("))return w.HSL_CSS;if(e.startsWith("hsla("))return w.HSLA_CSS}if("object"==typeof e){if(k(e,"r","g","b"))return k(e,"a")?x.RGBA:x.RGB;if(k(e,"h","s","l"))return k(e,"a")?x.HSLA:x.HSL;if(k(e,"h","s","v"))return k(e,"a")?x.HSVA:x.HSV}return null}function k(e,...t){return t.every((t=>t&&e&&`${t}`in e))}function I(e,t){return e?.rgb().array().toString()===t?.rgb().array().toString()}function M(e){return e===w.HEXA||e===w.RGBA_CSS||e===w.HSLA_CSS||e===x.RGBA||e===x.HSLA||e===x.HSVA}function D(e){return e===w.HEX?w.HEXA:e===w.RGB_CSS?w.RGBA_CSS:e===w.HSL_CSS?w.HSLA_CSS:e===x.RGB?x.RGBA:e===x.HSL?x.HSLA:e===x.HSV?x.HSVA:e}function A(e){return e===w.HEXA?w.HEX:e===w.RGBA_CSS?w.RGB_CSS:e===w.HSLA_CSS?w.HSL_CSS:e===x.RGBA?x.RGB:e===x.HSLA?x.HSL:e===x.HSVA?x.HSV:e}}}]);