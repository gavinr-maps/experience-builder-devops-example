System.register(["arcgis-portal-components","jimu-core","jimu-core/emotion","jimu-theme","jimu-ui"],function(e,t){var s={},a={},n={},o={},r={};return{setters:[function(){},function(e){a.React=e.React,a.classNames=e.classNames,a.getAppStore=e.getAppStore,a.hooks=e.hooks,a.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){n.Fragment=e.Fragment,n.jsx=e.jsx,n.jsxs=e.jsxs},function(e){o.styled=e.styled},function(e){r.Loading=e.Loading,r.defaultMessages=e.defaultMessages}],execute:function(){e((()=>{"use strict";var e={1888:e=>{e.exports=o},14321:e=>{e.exports=r},61274:e=>{e.exports=s},67386:e=>{e.exports=n},79244:e=>{e.exports=a}},t={};function c(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,c),n.exports}c.d=(e,t)=>{for(var s in t)c.o(t,s)&&!c.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};c.r(i),c.d(i,{ClassificationBanner:()=>d,ClassificationConfig:()=>y,ClassificationConfigModalContent:()=>x});var l=c(67386),f=c(79244);const u=(e,t)=>{const[s,a]=f.React.useState(null);return f.React.useEffect(()=>{e&&(0,f.loadArcGISJSAPIModules)(["esri/portal/PortalItem"]).then(s=>{const[n]=s,o=new n({portal:{url:(0,f.getAppStore)().getState().portalUrl},id:e});o.load().then(()=>{t&&(o.classification=t),a(o)})})},[e]),s};c(61274);const d=e=>{const{className:t,portalItemId:s,classification:a,position:n,needSticky:o=!0,onReady:r}=e,c=u(s,a);f.hooks.useUpdateEffect(()=>{if(c){const e=c.clone();e.classification=a,p.current.portalItem=e}},[a]);const[i,d]=f.React.useState(!1);f.React.useEffect(()=>{customElements.whenDefined("arcgis-portal-classification-banner").then(()=>{d(!0)})},[]);const p=f.React.useRef(null),[m,g]=f.React.useState(!1);f.React.useEffect(()=>{if(m){const e=new ResizeObserver(t=>{for(const s of t)if(s.target===p.current){s.contentRect.height&&(null==r||r(),e.disconnect())}});e.observe(p.current)}},[m]);return c&&i?(0,l.jsx)("arcgis-portal-classification-banner",{className:(0,f.classNames)("w-100",t),style:o?{position:"sticky",[n]:0,zIndex:2}:void 0,ref:e=>{e&&!p.current&&(e.portalItem=c,e.variant="full",e.componentOnReady().then(()=>{g(!0)}),p.current=e)}}):null};var p=c(1888),m=c(14321),g=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]])}return s};const h=p.styled.div`
  position: relative;
  overflow-y: auto;
  --calcite-loader-progress-color: transparent;
  --calcite-loader-track-color: transparent;
`,y=f.React.forwardRef((e,t)=>{const{className:s,portalItemId:a,values:n,onChange:o}=e,r=u(a,n),c=f.React.useRef(null),i=f.hooks.useForkRef(c,t),[d,p]=f.React.useState(!1);f.React.useEffect(()=>{customElements.whenDefined("arcgis-portal-classification-config").then(()=>{p(!0)})},[]);const[g,y]=f.React.useState(!0),[v,x]=f.React.useState(),[R,S]=f.React.useState(!1);f.React.useEffect(()=>{o(g,v)},[g,v]);return(0,l.jsx)(h,{className:(0,f.classNames)("w-100",s),children:(0,l.jsxs)(l.Fragment,{children:[!R&&(0,l.jsx)(m.Loading,{}),r&&d&&(0,l.jsx)("arcgis-portal-classification-config",{ref:e=>{!c.current&&e&&(e.addEventListener("arcgisPropertyChange",({detail:e,target:t})=>{"valid"===e.name?r.classification&&y(t.valid):"values"===e.name&&x(t.values)}),e.componentOnReady().then(()=>{S(!0)}),i(e))},portalItem:r})]})})}),v=p.styled.div(({theme:e})=>`\n    height: 425px;\n    .header {\n      font-size: ${e.sys.typography.h5.fontSize};\n      font-weight: 600;\n      color: #C5C5C5;\n    }\n    .config-content {\n      flex: 1;\n    }\n  `),x=f.React.forwardRef((e,t)=>{const{className:s,showHeader:a=!0}=e,n=g(e,["className","showHeader"]),o=f.hooks.useTranslation(m.defaultMessages),r=f.React.useCallback(e=>{const t=new PointerEvent("click",e);t.composedPath=()=>e.composedPath(),document.dispatchEvent(t)},[]);return(0,l.jsxs)(v,{className:"d-flex flex-column",ref:e=>{const t=null==e?void 0:e.closest(".jimu-modal");t&&t.addEventListener("click",r)},children:[a&&(0,l.jsx)("div",{className:(0,f.classNames)("header mb-2 px-2",s),children:o("classification")}),(0,l.jsx)(y,Object.assign({className:"config-content"},n,{ref:t}))]})});return i})())}}});