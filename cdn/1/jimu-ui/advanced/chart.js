System.register(["arcgis-charts","jimu-core","jimu-theme","jimu-ui"],(function(e,t){var s={},r={},a={},i={};return Object.defineProperty(s,"__esModule",{value:!0}),{setters:[function(e){Object.keys(e).forEach((function(t){s[t]=e[t]}))},function(e){r.React=e.React,r.classNames=e.classNames,r.lodash=e.lodash,r.polished=e.polished},function(e){a.getThemeColorValue=e.getThemeColorValue,a.styled=e.styled,a.useTheme=e.useTheme},function(e){i.utils=e.utils}],execute:function(){e((()=>{"use strict";var e={55101:(e,t,s)=>{s.d(t,{k:()=>c});var r=s(48891),a=s(22051),i=s(90622),n=s(12653),o=s(34796);const c=r.React.memo(r.React.forwardRef(((e,t)=>{const{className:s,config:c,data:l,selectedDataItems:h,options:g}=e,d=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]])}return s}(e,["className","config","data","selectedDataItems","options"]),p=(0,o.useTheme)(),u=r.React.useMemo((()=>{var e;const t=c;if(null!=t.asMutable){const s=t.asMutable(),r=null===(e=t.dataSource)||void 0===e?void 0:e.asMutable({deep:!0});return s.dataSource=r,s}return c}),[c]),C=r.React.useMemo((()=>{const e=(0,i.getSeriesType)(u.series),t=((e,t,s)=>{let r=e;if("inline"===(null==e?void 0:e.type))return r="pieSeries"===s?Object.assign(Object.assign({},r),{data:t.items}):"scatterSeries"===s?Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},r.data),{data:t.items})}):Object.assign(Object.assign({},r),{data:{dataItems:t.items}}),r})(u.dataSource,l,e);return Object.assign(Object.assign({},u),{dataSource:t})}),[u,l]),v=r.React.useMemo((()=>{const e=r.lodash.cloneDeep(C);return(0,n.If)(e,p)}),[C,p]),f=r.React.useMemo((()=>{let e=g;return h&&(e=e||{},e=Object.assign(Object.assign({},e),{selectionData:{selectionItems:h}})),e}),[g,h]);return r.React.createElement(a.P,Object.assign({ref:t,options:f,className:(0,r.classNames)("chart",s),config:v,dataVersion:null==l?void 0:l.version},d))})));c.displayName="Chart"},22051:(e,t,s)=>{s.d(t,{k:()=>c,P:()=>g});var r=s(48891),a=s(90622),i=s(30726),n=s(34796),o=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}c((r=r.apply(e,t||[])).next())}))};function c(e){return void 0===e||(null==e?void 0:e.type)===a.WebChartDataSourceTypes.FeatureLayer||void 0!==(null==e?void 0:e.data)&&void 0!==(null==e?void 0:e.processed)}const l=n.styled.div`
  pointer-events: auto;
`;class h extends r.React.PureComponent{constructor(e){super(e),this.events={},this.nodeRef=r.React.createRef(),this.createChart=this.createChart.bind(this),this.updateChart=this.updateChart.bind(this),this.registerEvent=this.registerEvent.bind(this),this.registerEvents=this.registerEvents.bind(this)}registerEvent(e,t){const s=this.nodeRef.current;null!=s&&(this.events[e]&&(this.events[e](),delete this.events[e]),t&&(s.addEventListener(e,t),this.events[e]=()=>{s.removeEventListener(e,t)}))}registerEvents(e,t){const{arcgisChartsJSDataProcessComplete:s,arcgisChartsJSLegendItemVisibilityChange:r,arcgisChartsJSUpdateComplete:a,arcgisChartsJSRenderingComplete:i,arcgisChartsJSSelectionChange:n,arcgisChartsJSSeriesColorChange:o,arcgisChartsJSAxesMinMaxChange:c,arcgisChartsJSSelectionComplete:l,arcgisChartsJSBadDataWarningRaise:h,arcgisChartsJSTooManySelectedElements:g}=e;(null==t?void 0:t.arcgisChartsJSDataProcessComplete)!==s&&this.registerEvent("arcgisChartsJSDataProcessComplete",s),(null==t?void 0:t.arcgisChartsJSLegendItemVisibilityChange)!==r&&this.registerEvent("arcgisChartsJSLegendItemVisibilityChange",r),(null==t?void 0:t.arcgisChartsJSUpdateComplete)!==a&&this.registerEvent("arcgisChartsJSUpdateComplete",a),(null==t?void 0:t.arcgisChartsJSRenderingComplete)!==i&&this.registerEvent("arcgisChartsJSRenderingComplete",i),(null==t?void 0:t.arcgisChartsJSSelectionChange)!==n&&this.registerEvent("arcgisChartsJSSelectionChange",n),(null==t?void 0:t.arcgisChartsJSSeriesColorChange)!==o&&this.registerEvent("arcgisChartsJSSeriesColorChange",o),(null==t?void 0:t.arcgisChartsJSAxesMinMaxChange)!==c&&this.registerEvent("arcgisChartsJSAxesMinMaxChange",c),(null==t?void 0:t.arcgisChartsJSSelectionComplete)!==l&&this.registerEvent("arcgisChartsJSSelectionComplete",l),(null==t?void 0:t.arcgisChartsJSBadDataWarningRaise)!==h&&this.registerEvent("arcgisChartsJSBadDataWarningRaise",h),(null==t?void 0:t.arcgisChartsJSTooManySelectedElements)!==g&&this.registerEvent("arcgisChartsJSTooManySelectedElements",g)}removeRegisteredEvents(){const e=Object.values(this.events);e.length&&(e.forEach((e=>e())),this.events={})}componentDidMount(){return o(this,void 0,void 0,(function*(){this.registerEvents(this.props),void 0!==this.nodeRef&&(yield this.createChart())}))}componentDidUpdate(e){const{config:t,options:s,globalOptions:r}=this.props;if(e.config!==t||e.options!==s||e.globalOptions!==r){if(this.processing)return void(this.pending=!0);null!=this.chart?this.updateChart():this.createChart()}this.registerEvents(this.props,e)}createChart(){return o(this,void 0,void 0,(function*(){const{config:e,options:t,globalOptions:s,chartRef:r,dataVersion:n}=this.props;this.processing=(0,a.createChart)({chartContainer:this.nodeRef.current,chartConfig:e,options:Object.assign(Object.assign({},t),{dataUpdated:!0}),globalOptions:s}),this.processing.then((e=>{this.chart=e,i.utils.setRef(r,e),this.processing=void 0,this.pending&&(this.pending=!1,setTimeout((()=>{this.updateChart()}))),this.prevDataVersion=n}),(e=>{var t;null===(t=this.chart)||void 0===t||t.dispose(),this.chart=null,i.utils.setRef(r,null),this.processing=void 0,this.pending=!1,console.error(null==e?void 0:e.details)}))}))}updateChart(){return o(this,void 0,void 0,(function*(){const{config:e,options:t,globalOptions:s,dataVersion:r}=this.props,a=r!==this.prevDataVersion;this.processing=this.chart.update({newChartConfig:e,updateOptions:Object.assign(Object.assign({},t),{dataUpdated:a}),updateGlobalOptions:s}),this.processing.then((()=>{this.processing=void 0,this.pending&&(this.pending=!1,setTimeout((()=>{this.updateChart()}))),this.prevDataVersion=r}),(e=>{this.processing=void 0,this.pending=!1,console.error(null==e?void 0:e.details)}))}))}componentWillUnmount(){this.removeRegisteredEvents(),void 0!==this.chart&&this.chart.dispose()}render(){const e=this.props,{className:t,config:s,dataVersion:a,options:i,globalOptions:n,chartRef:o,arcgisChartsJSDataProcessComplete:c,arcgisChartsJSLegendItemVisibilityChange:h,arcgisChartsJSUpdateComplete:g,arcgisChartsJSRenderingComplete:d,arcgisChartsJSSelectionChange:p,arcgisChartsJSSeriesColorChange:u,arcgisChartsJSAxesMinMaxChange:C,arcgisChartsJSSelectionComplete:v,arcgisChartsJSBadDataWarningRaise:f,arcgisChartsJSTooManySelectedElements:m}=e,S=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]])}return s}(e,["className","config","dataVersion","options","globalOptions","chartRef","arcgisChartsJSDataProcessComplete","arcgisChartsJSLegendItemVisibilityChange","arcgisChartsJSUpdateComplete","arcgisChartsJSRenderingComplete","arcgisChartsJSSelectionChange","arcgisChartsJSSeriesColorChange","arcgisChartsJSAxesMinMaxChange","arcgisChartsJSSelectionComplete","arcgisChartsJSBadDataWarningRaise","arcgisChartsJSTooManySelectedElements"]);return r.React.createElement(l,Object.assign({className:(0,r.classNames)("chart-core w-100 h-100",t)},S,{ref:this.nodeRef}))}}h.defaultProps={globalOptions:{queueChartCreation:!0,hideLicenceWatermark:!0,enableResponsiveFeatures:!1,useAnimatedCharts:!1,autoDisposeChart:!0}};const g=r.React.forwardRef(((e,t)=>r.React.createElement(h,Object.assign({},e,{chartRef:t}))));g.displayName="ChartCore"},99772:(e,t,s)=>{s.r(t),s.d(t,{Chart:()=>r.k,ChartCore:()=>a.P,isInlineDataDefined:()=>a.k,traverse:()=>i.fw,traverseConvertColor:()=>i.T5,traverseConvertWebChartColor:()=>i.If}),s(55515);var r=s(55101),a=s(22051),i=s(12653),n=s(90622),o={};for(const e in n)["default","Chart","ChartCore","isInlineDataDefined","traverse","traverseConvertColor","traverseConvertWebChartColor"].indexOf(e)<0&&(o[e]=()=>n[e]);s.d(t,o)},55515:()=>{},12653:(e,t,s)=>{s.d(t,{fw:()=>c,T5:()=>n,If:()=>o});var r=s(48891),a=s(34796);const i=/^var\(--(.+?)\)$/,n=(e,t,s="color")=>{if(!t)return e;const n=c(e,((e,t,n)=>{if((e=>"string"==typeof s?e===s:"function"==typeof s?s(e):void 0)(t)){const t=((e,t)=>{var s;if("string"!=typeof e||""===e||null==e)return e;const n=((e,t)=>(e=>!!i.test(e))(e)?(0,a.getThemeColorValue)(e,t):e)(e,t),o=r.polished.parseToRgb(n);if(null==o)return;const{red:c,green:l,blue:h}=o;return[c,l,h,255*(null!==(s=o.alpha)&&void 0!==s?s:1)]})(n,e);return t}return n}).bind(null,t),null);return n},o=(e,t)=>n(e,t,(e=>"color"===e||"background"===e)),c=(e,t,s)=>("[object Object]"===Object.prototype.toString.call(e)?Object.entries(e).forEach((([s,r])=>{r=c(r,t,s),e.asMutable?e=e.set(s,r):e[s]=r})):"[object Array]"===Object.prototype.toString.call(e)?e.forEach(((s,r)=>{s=c(s,t,r),e.asMutable?e=e.set(r,s):e[r]=s})):e=t(s,e),e)},90622:e=>{e.exports=s},48891:e=>{e.exports=r},34796:e=>{e.exports=a},30726:e=>{e.exports=i}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{n.r(o);var e=n(99772),t={};for(const s in e)"default"!==s&&(t[s]=()=>e[s]);n.d(o,t)})(),o})())}}}));