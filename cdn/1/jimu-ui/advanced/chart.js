System.register(["arcgis-charts-components","jimu-core","jimu-core/emotion","jimu-theme","jimu-ui"],function(e,t){var r={},o={},n={},i={},s={};return{setters:[function(){},function(e){o.React=e.React,o.lodash=e.lodash},function(e){n.jsx=e.jsx},function(e){i.colorUtils=e.colorUtils,i.useTheme=e.useTheme},function(e){s.utils=e.utils}],execute:function(){e((()=>{"use strict";var e={1888:e=>{e.exports=i},14321:e=>{e.exports=s},56907:e=>{e.exports=r},67386:e=>{e.exports=n},79244:e=>{e.exports=o}},t={};function l(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,l),n.exports}l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};l.r(a),l.d(a,{Chart:()=>A,escapeSQLString:()=>h,getDefaultCategoryFormat:()=>d,getSeriesType:()=>m,getSplitByField:()=>C,getSplitByValue:()=>b,isEmptyStringField:()=>y,makeUnprivilegedChart:()=>R,normalizeString:()=>g,traverse:()=>x,traverseConvertColor:()=>S,traverseConvertSymbolColor:()=>j,traverseConvertWebChartColor:()=>v,useChartComponentDefined:()=>M,useForkChartRef:()=>P,useNormalizedChartObject:()=>O,useUnprivilegedChartRef:()=>w});var u=l(67386),c=l(79244),p=(l(56907),l(1888)),f=l(14321);function m(e,t){let r;if(void 0!==e&&e.length>0)if(void 0!==t&&t<e.length)r=e[t].type;else{const t=new Set(e.map(e=>e.type)),o=function(e){return 2===e.size&&e.has("lineSeries")&&e.has("barSeries")}(t),n=function(e){return 2===e.size&&e.has("lineSeries")&&e.has("boxPlotSeries")||1===e.size&&e.has("boxPlotSeries")}(t);r=o?"comboLineAndBarSeries":n?"boxPlotSeries":t.size>=2?void 0:e[0].type}return r}function d(){return{type:"category",characterLimit:11}}function h(e){let t=e,r="";e.startsWith("'")&&e.endsWith("'")&&(t=e.slice(1,-1),r="'"),t=t.replace(/'/gu,"''");let o="";return function(e){let t=!1;"number"!=typeof e&&(t=[...e].some(e=>e.charCodeAt(0)>255));return t}(t)&&(o="N"),`${o}${r}${t}${r}`}function y(e){return null==e||"string"==typeof e&&""===e.trim()}function g(e){const{value:t,keepSurroundingQuotes:r,escape:o}=e;let n=null==t?void 0:t.trim();if(!y(n)){let e="";n.startsWith("'")&&n.endsWith("'")&&(n=n.slice(1,-1),r&&(e="'")),o&&(n=function(e){let t=e;return t=t.replace(/'/gu,"''"),t=t.replace(/[/\\"|[\]\\]/gu,"\\$&"),t}(n)),n=`${e}${n}${e}`}return n}function b(e){const{where:t,normalize:r,keepSurroundingQuotes:o,escape:n}=e;let i="";return void 0!==t&&t.includes("=")&&(i=t.split("=").slice(1).join("=").trim(),"null"===i?i=null:""===i.trim()||Number.isNaN(Number(i))?r?i=g({value:i,keepSurroundingQuotes:o,escape:n}):n&&(i=h(i)):i=Number(i)),i}function C(e,t){let r="";return void 0!==e&&e.includes("=")&&(r=t?g({value:e.split("=")[0]}):e.split("=")[0].trim()),r}const S=(e,t,r="color")=>{if(!t)return e;const o=x(e,((e,t,o)=>{if((e=>"string"==typeof r?e===r:"function"==typeof r?r(e):void 0)(t)){return p.colorUtils.convertStringColorToJsAPISymbolColor(o,e)||[0,0,0,0]}return o}).bind(null,t),null);return o},v=(e,t)=>j(e,t),j=(e,t)=>S(e,t,e=>"color"===e||"background"===e),x=(e,t,r)=>("[object Object]"===Object.prototype.toString.call(e)?Object.entries(e).forEach(([r,o])=>{o=x(o,t,r),e.asMutable?e=e.set(r,o):e[r]=o}):"[object Array]"===Object.prototype.toString.call(e)?e.forEach((r,o)=>{r=x(r,t,o),e.asMutable?e=e.set(o,r):e[o]=r}):e=t(r,e),e),O=e=>{const t=(0,p.useTheme)(),r=c.React.useMemo(()=>{const t=e;return null!=t.asMutable?t.asMutable({deep:!0}):t},[e]);return c.React.useMemo(()=>{const e=c.lodash.cloneDeep(r);return j(e,t)},[t,r])},R=e=>{if(null!=e)return{setActionMode:t=>{e.actionMode=t},resetZoom:function(){return e.resetZoom.apply(e,arguments)},clearSelection:function(){return e.clearSelection.apply(e,arguments)},switchSelection:function(){return e.switchSelection.apply(e,arguments)},refresh:function(){return e.refresh.apply(e,arguments)},errorAlert:function(){return e.errorAlert.apply(e,arguments)}}},P=(e,t)=>c.React.useMemo(()=>null==e&&null==t?null:r=>{e.current=r,f.utils.setRef(t,R(r))},[e,t]),w=e=>c.React.useMemo(()=>null==e?null:t=>{f.utils.setRef(e,R(t))},[e]),M=()=>{const[e,t]=c.React.useState(!1);return c.React.useEffect(()=>{customElements.whenDefined("arcgis-chart").then(function(){t(!0)})},[]),e};var T=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r};const A=c.React.memo(c.React.forwardRef((e,t)=>{const{config:r,returnSelectionIndexes:o=!0,returnSelectionOIDs:n=!1,autoDisposeChart:i=!1,enableResponsiveFeatures:s=!1,queueChartCreation:l=!0,useAnimatedCharts:a=!1,hideLicenseWatermark:f=!0,layerFieldsChangePolicy:m="ignore",viewTimeExtentChangePolicy:d="ignore",loaderColors:h}=e,y=T(e,["config","returnSelectionIndexes","returnSelectionOIDs","autoDisposeChart","enableResponsiveFeatures","queueChartCreation","useAnimatedCharts","hideLicenseWatermark","layerFieldsChangePolicy","viewTimeExtentChangePolicy","loaderColors"]),g=(0,p.useTheme)(),b=c.React.useMemo(()=>{if(h)return h;return{spinnerColor:p.colorUtils.convertStringColorToJsAPISymbolColor("var(--sys-color-primary-main)",g),curtainColor:"dark"===g.sys.color.mode?[0,0,0,127]:[255,255,255,127]}},[h,g]),C=O(r);return(0,u.jsx)("arcgis-chart",Object.assign({ref:t,model:C,loaderColors:b,returnSelectionOIDs:n,returnSelectionIndexes:o,autoDisposeChart:i,enableResponsiveFeatures:s,queueChartCreation:l,useAnimatedCharts:a,hideLicenseWatermark:f,layerFieldsChangePolicy:m,viewTimeExtentChangePolicy:d},y))}));return A.displayName="Chart",a})())}}});