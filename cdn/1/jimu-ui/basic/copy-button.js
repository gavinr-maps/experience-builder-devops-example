System.register(["jimu-core","jimu-core/emotion","jimu-core/react","jimu-theme","jimu-ui"],function(e,t){var o={},n={},r={},a={},s={};return{setters:[function(e){o.React=e.React,o.classNames=e.classNames,o.css=e.css,o.hooks=e.hooks},function(e){n.jsx=e.jsx,n.jsxs=e.jsxs},function(e){r.Children=e.Children,r.cloneElement=e.cloneElement,r.useCallback=e.useCallback},function(e){a.registerStyles=e.registerStyles,a.withTheme=e.withTheme},function(e){s.Button=e.Button,s.Tooltip=e.Tooltip,s.defaultMessages=e.defaultMessages}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=a},14321:e=>{"use strict";e.exports=s},56499:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m6.036 12.157 8.01-8.01a.5.5 0 1 1 .707.707l-8.01 8.01a1 1 0 0 1-1.415 0L1.146 8.682a.5.5 0 1 1 .708-.707z"></path></svg>'},67386:e=>{"use strict";e.exports=n},68972:e=>{"use strict";e.exports=r},79244:e=>{"use strict";e.exports=o},98657:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11 2v10H3V4.414L5.414 2zM2 4.414a1 1 0 0 1 .293-.707l2.414-2.414A1 1 0 0 1 5.414 1H11a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zM13.048 3v10.56c0 .265-.214.48-.477.48H4V15h8.571c.79 0 1.429-.645 1.429-1.44V3z" clip-rule="evenodd"></path></svg>'}},t={};function c(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,c),r.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{"use strict";c.r(l),c.d(l,{CopyButton:()=>R});var e={};c.r(e),c.d(e,{getStyles:()=>n});var t=c(1888),o=c(79244);function n(){return o.css`
    border: none;
    max-height: 32px;
    max-width: 32px;
    .copy-btn{
      color: var(--sys-color-surface-overlay-text);
    }
  `}var r,a,s,i,u=c(67386),p=c(14321),d=c(68972);function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const f=m(function(){if(i)return s;i=1;var e=(a||(a=1,r=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach(function(t){e.addRange(t)}),t&&t.focus()}}),r),t={"text/plain":"Text","text/html":"Url",default:"Text"};return s=function(o,n){var r,a,s,c,l,i,u=!1;n||(n={}),r=n.debug||!1;try{if(s=e(),c=document.createRange(),l=document.getSelection(),(i=document.createElement("span")).textContent=o,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",function(e){if(e.stopPropagation(),n.format)if(e.preventDefault(),typeof e.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=t[n.format]||t.default;window.clipboardData.setData(a,o)}else e.clipboardData.clearData(),e.clipboardData.setData(n.format,o);n.onCopy&&(e.preventDefault(),n.onCopy(e.clipboardData))}),document.body.appendChild(i),c.selectNodeContents(i),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(e){r&&console.error("unable to copy using execCommand: ",e),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",o),n.onCopy&&n.onCopy(window.clipboardData),u=!0}catch(e){r&&console.error("unable to copy using clipboardData: ",e),r&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,o)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),i&&document.body.removeChild(i),s()}return u}}()),y=({text:e,onCopy:t,options:o,children:n,...r})=>{const a=d.useCallback(r=>{const a=d.Children.only(n),s=f(e,o);t&&t(e,s),a.props.onClick&&"function"==typeof a.props.onClick&&a.props.onClick(r)},[e,t,o,n]),s=d.Children.only(n);return d.cloneElement(s,{onClick:a,...r})};var b=c(98657),g=c.n(b),v=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};const x=e=>{const t=window.SVG,{className:n}=e,r=v(e,["className"]),a=(0,o.classNames)("jimu-icon jimu-icon-component",n);return t?(0,u.jsx)(t,Object.assign({className:a,src:g()},r)):(0,u.jsx)("svg",Object.assign({className:a},r))};var w=c(56499),h=c.n(w),j=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};const C=e=>{const t=window.SVG,{className:n}=e,r=j(e,["className"]),a=(0,o.classNames)("jimu-icon jimu-icon-component",n);return t?(0,u.jsx)(t,Object.assign({className:a,src:h()},r)):(0,u.jsx)("svg",Object.assign({className:a},r))};var O=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};const S=o.React.memo(e=>{const{text:t,disabled:r,className:a,onCopy:s}=e,c=O(e,["text","disabled","className","onCopy"]),[l,i]=o.React.useState(null),[d,m]=((e,t)=>{const n=o.React.useRef(null),r=o.React.useCallback(e=>{t(e)},[t]),a=o.React.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null),r(!1)},[r]),s=o.React.useCallback(()=>{a(),r(!0),n.current=setTimeout(()=>{a()},e)},[e,r,a]);return o.React.useEffect(()=>()=>{a()},[]),[s,a]})(3e3,i);o.React.useEffect(()=>{m()},[t,m]);const f=o.React.useCallback((t,o)=>{(null==e?void 0:e.onCopy)&&e.onCopy(t,o),d()},[e,d]),b=o.hooks.useTranslation(p.defaultMessages),g=b("copy"),v=b("copiedToClipboard"),w=l?v:g,h=(0,u.jsxs)(p.Button,Object.assign({className:"copy-btn jimu-outline-inside d-flex",icon:!0,size:"sm",type:"tertiary",disabled:r},c,{children:[!l&&(0,u.jsx)(x,{size:"m",autoFlip:!1,className:"ready-to-copy"}),l&&(0,u.jsx)(C,{size:"m",autoFlip:!1,className:"copy-succeeded"})]}));return(0,u.jsx)("div",{css:n(),className:a,children:(0,u.jsx)(y,{onCopy:f,text:t,options:{format:"text/plain"},"data-testid":"copy-btn",children:r?h:(0,u.jsx)(p.Tooltip,{title:w,placement:"auto-end",children:h})})})}),R=(0,t.withTheme)(S);(0,t.registerStyles)("jimu-ui/basic/copy-button",e)})(),l})())}}});