{
  "toolName": "DistanceAllocation",
  "version": "0.1.0",
  "rules": [
    {
      "ruleType": "set",
      "value": "$[Component].inputSourceRasterOrFeatures.selectedLayers",
      "destination": [
        "sourceField",
        "sourceInitialAccumulation.UIparameterInfos[1]",
        "sourceMaximumAccumulation.UIparameterInfos[1]",
        "sourceCostMultiplier.UIparameterInfos[1]",
        "sourceDirection.UIparameterInfos[1]"
      ],
      "property": "mapLayer"
    },
    {
      "ruleType": "expression",
      "expression": "(($[Component].inputSourceRasterOrFeatures.selectedLayers.type.length > 0) AND ($[Component].inputSourceRasterOrFeatures NOT null)) AND (($[Component].inputSourceRasterOrFeatures.selectedLayers.type NOT 'feature') AND ($[Component].inputSourceRasterOrFeatures.processedLayerProperties.rasterInfo.attributeTable = NULL))",
      "destination": "sourceField",
      "effectParams": {
        "readOnly": true,
        "value": "Value"
      }
    },
    {
      "ruleType": "expression",
      "expression": "(($[Component].inputSourceRasterOrFeatures.selectedLayers.type.length > 0) AND ($[Component].inputSourceRasterOrFeatures NOT null)) AND (($[Component].inputSourceRasterOrFeatures.selectedLayers.type NOT 'feature') AND ($[Component].inputSourceRasterOrFeatures.processedLayerProperties.rasterInfo.attributeTable = NULL))",
      "destination": ["sourceInitialAccumulation", "sourceMaximumAccumulation", "sourceCostMultiplier"],
      "effectParams": {
        "UIparameterInfos[1].readOnly": true,
        "UIparameterInfos[1].value": "Value"
      }
    },
    {
      "ruleType": "expression",
      "expression": "(($[Data].inputSourceRasterOrFeatures NOT null) AND ($[Component].inputSourceRasterOrFeatures NOT null)) AND (($[Component].inputSourceRasterOrFeatures.selectedLayers.type NOT 'feature') AND ($[Component].inputSourceRasterOrFeatures.processedLayerProperties.rasterInfo.attributeTable = NULL))",
      "destination": "sourceDirection",
      "effectParams": {
        "visibleTypes": ["GPString"]
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].inputVerticalRaster NOT null",
      "destination": "verticalFactor",
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Component].inputHorizontalRaster.selectedLayers.type.length > 0",
      "destination": "horizontalFactor",
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'BINARY'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[5]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'BINARY'",
      "destination": [
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[10]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'COS'",
      "destination": [
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[10]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType= 'COS'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SEC'",
      "destination": [
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[10]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SEC'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[8]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[10]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'INVERSE_LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[9]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'INVERSE_LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[10]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SYM_LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[8]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SYM_LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[10]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SYM_INVERSE_LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[9]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SYM_INVERSE_LINEAR'",
      "destination": [
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[10]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'COS_SEC'",
      "destination": [
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'COS_SEC'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[10]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SEC_COS'",
      "destination": [
        "verticalFactor.UIparameterInfos[4]",
        "verticalFactor.UIparameterInfos[7]",
        "verticalFactor.UIparameterInfos[11]",
        "verticalFactor.UIparameterInfos[12]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].verticalFactor.verticalFactorType = 'SEC_COS'",
      "destination": [
        "verticalFactor.UIparameterInfos[1]",
        "verticalFactor.UIparameterInfos[2]",
        "verticalFactor.UIparameterInfos[3]",
        "verticalFactor.UIparameterInfos[5]",
        "verticalFactor.UIparameterInfos[6]",
        "verticalFactor.UIparameterInfos[8]",
        "verticalFactor.UIparameterInfos[9]",
        "verticalFactor.UIparameterInfos[10]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'BINARY'",
      "destination": ["horizontalFactor.UIparameterInfos[2]", "horizontalFactor.UIparameterInfos[4]"],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'BINARY'",
      "destination": [
        "horizontalFactor.UIparameterInfos[1]",
        "horizontalFactor.UIparameterInfos[3]",
        "horizontalFactor.UIparameterInfos[5]",
        "horizontalFactor.UIparameterInfos[6]",
        "horizontalFactor.UIparameterInfos[7]",
        "horizontalFactor.UIparameterInfos[8]",
        "horizontalFactor.UIparameterInfos[9]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'FORWARD'",
      "destination": ["horizontalFactor.UIparameterInfos[1]", "horizontalFactor.UIparameterInfos[9]"],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'FORWARD'",
      "destination": [
        "horizontalFactor.UIparameterInfos[2]",
        "horizontalFactor.UIparameterInfos[3]",
        "horizontalFactor.UIparameterInfos[4]",
        "horizontalFactor.UIparameterInfos[5]",
        "horizontalFactor.UIparameterInfos[6]",
        "horizontalFactor.UIparameterInfos[7]",
        "horizontalFactor.UIparameterInfos[8]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'LINEAR'",
      "destination": [
        "horizontalFactor.UIparameterInfos[1]",
        "horizontalFactor.UIparameterInfos[6]",
        "horizontalFactor.UIparameterInfos[7]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'LINEAR'",
      "destination": [
        "horizontalFactor.UIparameterInfos[2]",
        "horizontalFactor.UIparameterInfos[3]",
        "horizontalFactor.UIparameterInfos[4]",
        "horizontalFactor.UIparameterInfos[5]",
        "horizontalFactor.UIparameterInfos[8]",
        "horizontalFactor.UIparameterInfos[9]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'INVERSE_LINEAR'",
      "destination": [
        "horizontalFactor.UIparameterInfos[3]",
        "horizontalFactor.UIparameterInfos[5]",
        "horizontalFactor.UIparameterInfos[8]"
      ],
      "effectParams": {
        "visible": true
      }
    },
    {
      "ruleType": "expression",
      "expression": "$[Data].horizontalFactor.horizontalFactorType = 'INVERSE_LINEAR'",
      "destination": [
        "horizontalFactor.UIparameterInfos[1]",
        "horizontalFactor.UIparameterInfos[2]",
        "horizontalFactor.UIparameterInfos[4]",
        "horizontalFactor.UIparameterInfos[6]",
        "horizontalFactor.UIparameterInfos[7]",
        "horizontalFactor.UIparameterInfos[9]"
      ],
      "effectParams": {
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "(($[Component].inputSourceRasterOrFeatures.user.portal NOT undefined) AND ($[Component].inputSourceRasterOrFeatures.user.portal.isPortal = true))",
      "destination": "resultType",
      "effectParams": {
        "value": "DYNAMIC_IMAGERY_LAYER",
        "visible": false
      }
    },
    {
      "ruleType": "expression",
      "expression": "(('portal:publisher:publishDynamicImagery' IN $[Component].inputSourceRasterOrFeatures.user.privileges) AND ('portal:publisher:publishTiledImagery' NOT IN $[Component].inputSourceRasterOrFeatures.user.privileges))",
      "destination": "resultType",
      "effectParams": {
        "choiceList": ["DYNAMIC_IMAGERY_LAYER"],
        "choiceListIcons": {
          "DYNAMIC_IMAGERY_LAYER": "image-layer"
        },
        "choiceListLabels": {
          "DYNAMIC_IMAGERY_LAYER": "$dynamicImageryLayer"
        },
        "value": "DYNAMIC_IMAGERY_LAYER"
      }
    },
    {
      "ruleType": "expression",
      "expression": "(('portal:publisher:publishDynamicImagery' NOT IN $[Component].inputSourceRasterOrFeatures.user.privileges) AND ('portal:publisher:publishTiledImagery' IN $[Component].inputSourceRasterOrFeatures.user.privileges))",
      "destination": "resultType",
      "effectParams": {
        "choiceListIcons": {
          "TILED_IMAGERY_LAYER": "tiled-imagery-layer"
        },
        "choiceListLabels": {
          "TILED_IMAGERY_LAYER": "$tiledImageryLayer"
        },
        "value": "TILED_IMAGERY_LAYER"
      }
    }
  ],
  "environmentSettings": {
    "raster": ["snapRaster", "cellSize", "mask", "parallelProcessingFactor"]
  },
  "UIparameters": [
    {
      "label": "$inputLayersGroupLabel",
      "componentName": "analysis-block",
      "summaryText": "$inputLayersGroupText",
      "UIparameters": [
        {
          "name": "inputSourceRasterOrFeatures",
          "label": "$inputSourceRasterOrFeaturesLabel",
          "componentName": "analysis-layer-input",
          "required": true,
          "selectionMode": "single",
          "hideSketch": false,
          "layerFilterType": ["feature", "imagery_integer"]
        },
        {
          "name": "sourceField",
          "label": "$inputSourceField",
          "componentName": "analysis-field-input",
          "fieldTypes": ["oid", "integer", "small-integer", "long"],
          "selectionMode": "single",
          "showFieldInfo": true,
          "required": false,
          "useDefaultValue": true,
          "readOnly": false
        },
        {
          "label": "$optionalLayersSectionLabel",
          "componentName": "analysis-section",
          "UIparameters": [
            {
              "name": "inputBarrierRasterOrFeatures",
              "label": "$inputBarrierRasterOrFeaturesLabel",
              "componentName": "analysis-layer-input",
              "required": false,
              "selectionMode": "single",
              "hideSketch": false,
              "layerFilterType": ["feature", "imagery"]
            },
            {
              "name": "inputSurfaceRaster",
              "label": "$inputSurfaceRasterLabel",
              "componentName": "analysis-layer-input",
              "layerFilterType": ["imagery"],
              "required": false,
              "selectionMode": "single",
              "hideSketch": true
            },
            {
              "name": "inputCostRaster",
              "label": "$inputCostRasterLabel",
              "componentName": "analysis-layer-input",
              "layerFilterType": ["imagery"],
              "required": false,
              "selectionMode": "single",
              "hideSketch": true
            }
          ]
        }
      ]
    },
    {
      "label": "$inputDistanceSettingsGroupLabel",
      "summaryText": "$inputDistanceSettingsGroupText",
      "componentName": "analysis-block",
      "UIparameters": [
        {
          "name": "distanceMethod",
          "label": "$distanceMethodLabel",
          "choiceList": ["PLANAR", "GEODESIC"],
          "choiceListLabels": {
            "PLANAR": "$planar",
            "GEODESIC": "$geodesic"
          }
        },
        {
          "label": "$verticalFactorSectionLabel",
          "componentName": "analysis-section",
          "open": false,
          "UIparameters": [
            {
              "name": "inputVerticalRaster",
              "label": "$inputVerticalRasterLabel",
              "componentName": "analysis-layer-input",
              "required": false,
              "selectionMode": "single",
              "hideSketch": true,
              "layerFilterType": ["imagery"]
            },
            {
              "name": "verticalFactor",
              "label": "$verticalFactorLabel",
              "visible": false,
              "required": true,
              "componentName": "analysis-key-value",
              "serializationType": "sequentialValues",
              "serializationKeys": [
                "verticalFactorType",
                "vfZeroFactor",
                "vfLowCutAngle_neg30",
                "vfLowCutAngle_neg45",
                "vfLowCutAngle_neg90",
                "vfHighCutAngle_30",
                "vfHighCutAngle_45",
                "vfHighCutAngle_90",
                "vfSlope_011",
                "vfSlope_neg022",
                "vfPower",
                "vfCosPower",
                "vfSecPower"
              ],
              "layout": "vertical",
              "defaultValue": {
                "verticalFactorType": "BINARY",
                "vfZeroFactor": 1,
                "vfLowCutAngle_neg30": -30,
                "vfHighCutAngle_30": 30
              },
              "parameterInfos": [
                {
                  "name": "verticalFactorType",
                  "dataType": "GPString",
                  "choiceList": [
                    "BINARY",
                    "LINEAR",
                    "INVERSE_LINEAR",
                    "SYM_LINEAR",
                    "SYM_INVERSE_LINEAR",
                    "COS",
                    "SEC",
                    "COS_SEC",
                    "SEC_COS"
                  ]
                },
                {
                  "name": "vfZeroFactor",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfLowCutAngle_neg30",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfLowCutAngle_neg45",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfLowCutAngle_neg90",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfHighCutAngle_30",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfHighCutAngle_45",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfHighCutAngle_90",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfSlope_011",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfSlope_neg022",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfPower",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfCosPower",
                  "dataType": "GPDouble"
                },
                {
                  "name": "vfSecPower",
                  "dataType": "GPDouble"
                }
              ],
              "UIparameterInfos": [
                {
                  "name": "verticalFactorType",
                  "label": "$type",
                  "visible": true,
                  "choiceListLabels": {
                    "BINARY": "$binary",
                    "LINEAR": "$linear",
                    "INVERSE_LINEAR": "$invLinear",
                    "SYM_LINEAR": "$symLinear",
                    "SYM_INVERSE_LINEAR": "$symInvLinear",
                    "COS": "$cos",
                    "SEC": "$sec",
                    "COS_SEC": "$cos_sec",
                    "SEC_COS": "$sec_cos"
                  },
                  "defaultValue": "BINARY"
                },
                {
                  "name": "vfZeroFactor",
                  "label": "$zeroFactorLabel",
                  "visible": true,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 1
                },
                {
                  "name": "vfLowCutAngle_neg30",
                  "label": "$lowCutAngleLabel",
                  "visible": true,
                  "min": -90,
                  "max": 90,
                  "defaultValue": -30
                },
                {
                  "name": "vfLowCutAngle_neg45",
                  "label": "$lowCutAngleLabel",
                  "visible": false,
                  "min": -90,
                  "max": 90,
                  "defaultValue": -45
                },
                {
                  "name": "vfLowCutAngle_neg90",
                  "label": "$lowCutAngleLabel",
                  "visible": false,
                  "min": -90,
                  "max": 90,
                  "defaultValue": -90
                },
                {
                  "name": "vfHighCutAngle_30",
                  "label": "$highCutAngleLabel",
                  "visible": true,
                  "min": -90,
                  "max": 90,
                  "defaultValue": 30
                },
                {
                  "name": "vfHighCutAngle_45",
                  "label": "$highCutAngleLabel",
                  "visible": false,
                  "min": -90,
                  "max": 90,
                  "defaultValue": 45
                },
                {
                  "name": "vfHighCutAngle_90",
                  "label": "$highCutAngleLabel",
                  "visible": false,
                  "min": -90,
                  "max": 90,
                  "defaultValue": 90
                },
                {
                  "name": "vfSlope_011",
                  "label": "$slopeLabel",
                  "visible": false,
                  "defaultValue": 0.011
                },
                {
                  "name": "vfSlope_neg022",
                  "label": "$slopeLabel",
                  "visible": false,
                  "defaultValue": -0.022
                },
                {
                  "name": "vfPower",
                  "label": "$powerLabel",
                  "visible": false,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 1
                },
                {
                  "name": "vfCosPower",
                  "label": "$cosPowerLabel",
                  "visible": false,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 1
                },
                {
                  "name": "vfSecPower",
                  "label": "$secPowerLabel",
                  "visible": false,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 1
                }
              ]
            }
          ]
        },
        {
          "label": "$horizontalFactorSectionLabel",
          "componentName": "analysis-section",
          "open": false,
          "UIparameters": [
            {
              "name": "inputHorizontalRaster",
              "label": "$inputHorizontalRasterLabel",
              "componentName": "analysis-layer-input",
              "required": false,
              "selectionMode": "single",
              "hideSketch": true,
              "layerFilterType": ["imagery"]
            },
            {
              "name": "horizontalFactor",
              "label": "$horizontalFactorLabel",
              "visible": false,
              "required": true,
              "componentName": "analysis-key-value",
              "serializationType": "sequentialValues",
              "serializationKeys": [
                "horizontalFactorType",
                "hfZeroFactor_1",
                "hfZeroFactor_05",
                "hfZeroFactor_2",
                "hfCutAngle_45",
                "hfCutAngle_180",
                "hfCutAngle_181",
                "hfSlope_011",
                "hfSlope_neg011",
                "hfSide"
              ],
              "layout": "vertical",
              "defaultValue": {
                "horizontalFactorType": "BINARY",
                "hfZeroFactor_1": 1,
                "hfCutAngle_45": 45
              },
              "parameterInfos": [
                {
                  "name": "horizontalFactorType",
                  "dataType": "GPString",
                  "choiceList": ["BINARY", "LINEAR", "INVERSE_LINEAR", "FORWARD"]
                },
                {
                  "name": "hfZeroFactor_1",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfZeroFactor_05",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfZeroFactor_2",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfCutAngle_45",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfCutAngle_180",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfCutAngle_181",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfSlope_011",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfSlope_neg011",
                  "dataType": "GPDouble"
                },
                {
                  "name": "hfSide",
                  "dataType": "GPDouble"
                }
              ],
              "UIparameterInfos": [
                {
                  "name": "horizontalFactorType",
                  "label": "$type",
                  "visible": true,
                  "choiceListLabels": {
                    "BINARY": "$binary",
                    "LINEAR": "$linear",
                    "INVERSE_LINEAR": "$invLinear",
                    "FORWARD": "$forward"
                  },
                  "defaultValue": "BINARY"
                },
                {
                  "name": "hfZeroFactor_05",
                  "label": "$zeroFactorLabel",
                  "visible": false,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 0.5
                },
                {
                  "name": "hfZeroFactor_1",
                  "label": "$zeroFactorLabel",
                  "visible": true,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 1
                },
                {
                  "name": "hfZeroFactor_2",
                  "label": "$zeroFactorLabel",
                  "visible": false,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 2
                },
                {
                  "name": "hfCutAngle_45",
                  "label": "$cutAngleLabel",
                  "visible": true,
                  "min": 0,
                  "max": 180,
                  "excludeMinValue": true,
                  "defaultValue": 45
                },
                {
                  "name": "hfCutAngle_180",
                  "label": "$cutAngleLabel",
                  "visible": false,
                  "min": 0,
                  "max": 180,
                  "excludeMinValue": true,
                  "defaultValue": 180
                },
                {
                  "name": "hfCutAngle_181",
                  "label": "$cutAngleLabel",
                  "visible": false,
                  "min": 0,
                  "max": 181,
                  "excludeMinValue": true,
                  "defaultValue": 181
                },
                {
                  "name": "hfSlope_011",
                  "label": "$slopeLabel",
                  "visible": false,
                  "defaultValue": 0.011
                },
                {
                  "name": "hfSlope_neg011",
                  "label": "$slopeLabel",
                  "visible": false,
                  "defaultValue": -0.011
                },
                {
                  "name": "hfSide",
                  "label": "$sideLabel",
                  "visible": false,
                  "min": 0,
                  "excludeMinValue": true,
                  "defaultValue": 1
                }
              ]
            }
          ]
        },
        {
          "label": "$sourceSectionLabel",
          "componentName": "analysis-section",
          "open": false,
          "UIparameters": [
            {
              "name": "sourceInitialAccumulation",
              "label": "$sourceInitialAccumulationLabel",
              "componentName": "analysis-parameter-group",
              "UIparameterInfos": [
                {
                  "name": "sourceInitialAccumulationValue",
                  "dataType": "GPDouble",
                  "label": "",
                  "min": "0",
                  "parameterGroupDataTypeLabel": "$value",
                  "placeholderText": "$sourceValueText"
                },
                {
                  "name": "sourceInitialAccumulationField",
                  "dataType": "Field",
                  "label": "",
                  "fieldTypes": ["integer", "small-integer", "long", "double", "single"],
                  "selectionMode": "single",
                  "showFieldInfo": true,
                  "required": false
                }
              ]
            },
            {
              "name": "sourceMaximumAccumulation",
              "label": "$sourceMaximumAccumulationLabel",
              "componentName": "analysis-parameter-group",
              "UIparameterInfos": [
                {
                  "name": "sourceMaximumAccumulationValue",
                  "dataType": "GPDouble",
                  "label": "",
                  "min": "0",
                  "excludeMinValue": true,
                  "parameterGroupDataTypeLabel": "$value",
                  "placeholderText": "$sourceValueText"
                },
                {
                  "name": "sourceMaximumAccumulationField",
                  "dataType": "Field",
                  "label": "",
                  "fieldTypes": ["integer", "small-integer", "long", "double", "single"],
                  "selectionMode": "single",
                  "showFieldInfo": true,
                  "required": false
                }
              ]
            },
            {
              "name": "sourceCostMultiplier",
              "label": "$sourceCostMultiplierLabel",
              "componentName": "analysis-parameter-group",
              "UIparameterInfos": [
                {
                  "name": "sourceCostMultiplierValue",
                  "dataType": "GPDouble",
                  "label": "",
                  "min": "0",
                  "excludeMinValue": true,
                  "parameterGroupDataTypeLabel": "$value",
                  "placeholderText": "$sourceValueText"
                },
                {
                  "name": "sourceCostMultiplierField",
                  "dataType": "Field",
                  "label": "",
                  "fieldTypes": ["integer", "small-integer", "long", "double", "single"],
                  "selectionMode": "single",
                  "showFieldInfo": true,
                  "required": false
                }
              ]
            },
            {
              "name": "sourceDirection",
              "label": "$sourceDirectionLabel",
              "componentName": "analysis-parameter-group",
              "defaultValue": null,
              "UIparameterInfos": [
                {
                  "name": "sourceDirectionString",
                  "dataType": "GPString",
                  "label": "",
                  "required": false,
                  "parameterGroupDataTypeLabel": "$keyword",
                  "defaultValue": "FROM_SOURCE",
                  "choiceList": ["FROM_SOURCE", "TO_SOURCE"],
                  "choiceListLabels": {
                    "FROM_SOURCE": "$fromSourceLabel",
                    "TO_SOURCE": "$toSourceLabel"
                  }
                },
                {
                  "name": "sourceDirectionField",
                  "dataType": "Field",
                  "label": "",
                  "fieldTypes": ["string"],
                  "selectionMode": "single",
                  "showFieldInfo": true,
                  "required": false
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "label": "$resultLayersGroupLabel",
      "componentName": "analysis-block",
      "summaryText": "$resultLayersGroupText",
      "UIparameters": [
        {
          "name": "outputDistanceAllocationRasterName",
          "label": "$outputDistanceAllocationRasterNameLabel",
          "placeholderText": "$outputNamePlaceholderText",
          "required": true
        },
        {
          "label": "$optionalLayersSectionLabel",
          "componentName": "analysis-section",
          "open": false,
          "UIparameters": [
            {
              "name": "outputDistanceAccumulationRasterName",
              "label": "$outputDistanceAccumulationRasterNameLabel",
              "placeholderText": "$outputNamePlaceholderText",
              "required": false
            },
            {
              "name": "outputBackDirectionRasterName",
              "label": "$outputBackDirectionRasterNameLabel",
              "placeholderText": "$outputNamePlaceholderText",
              "required": false
            },
            {
              "name": "outputSourceDirectionRasterName",
              "label": "$outputSourceDirectionRasterNameLabel",
              "placeholderText": "$outputNamePlaceholderText",
              "required": false
            },
            {
              "name": "outputSourceLocationRasterName",
              "label": "$outputSourceLocationRasterNameLabel",
              "placeholderText": "$outputNamePlaceholderText",
              "required": false
            }
          ]
        },
        {
          "name": "resultType",
          "label": "$resultType",
          "componentName": "analysis-string-input",
          "choiceList": ["TILED_IMAGERY_LAYER", "DYNAMIC_IMAGERY_LAYER"],
          "choiceListIcons": {
            "TILED_IMAGERY_LAYER": "tiled-imagery-layer",
            "DYNAMIC_IMAGERY_LAYER": "image-layer"
          },
          "choiceListLabels": {
            "TILED_IMAGERY_LAYER": "$tiledImageryLayer",
            "DYNAMIC_IMAGERY_LAYER": "$dynamicImageryLayer"
          },
          "value": "TILED_IMAGERY_LAYER"
        },
        {
          "name": "saveResultIn",
          "label": "$saveResultIn",
          "componentName": "analysis-folder-input"
        }
      ]
    }
  ]
}
