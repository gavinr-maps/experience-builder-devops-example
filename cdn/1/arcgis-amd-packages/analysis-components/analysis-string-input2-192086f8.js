define(["exports","./index-86304dcd","./index2-600fb1b2","./utils-2b3d82c1","./analysis-label2-b880686f","./isEqual-7dac7fee"],(function(t,e,i,s,l,a){"use strict";const o=e.proxyCustomElement(class extends e.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisStringInputChange=e.createEvent(this,"analysisStringInputChange",7),this.analysisHelpClick=e.createEvent(this,"analysisHelpClick",7),this.layoutUpdating=!1,this.setErrorMessage=t=>{this.isValid=void 0===t,this.errorMessage=t},this.validateSingleInput=t=>{var e,s,l,a;let o;if(!0===this.required&&""===t&&(o=i.formatMessage(this.strings.requiredError,{label:this.label})),t.length<(null!==(e=this.minLength)&&void 0!==e?e:-1)&&""!==t&&(o=i.formatMessage(this.strings.minLengthError,{label:this.label,minLength:i.formatNumberToLocale(null!==(s=this.minLength)&&void 0!==s?s:-1)})),t.length>=(null!==(l=this.maxLength)&&void 0!==l?l:Number.MAX_SAFE_INTEGER)&&(o=i.formatMessage(this.strings.maxLengthError,{label:this.label,maxLength:i.formatNumberToLocale(null!==(a=this.maxLength)&&void 0!==a?a:Number.MAX_SAFE_INTEGER)})),void 0!==this.invalidCharactersRegex){const e=i.getRegExFromString(this.invalidCharactersRegex);void 0!==e&&!0===e.test(t)&&(o=i.formatMessage(this.strings.invalidCharacterError,{label:this.label}))}return this.setErrorMessage(o),void 0===o},this.validateInput=()=>{var t,e,s;let l;if(this.required||void 0!==this.maxLength||void 0!==this.invalidCharactersRegex||void 0!==this.minLength)if("multi"!==this.selectionMode){const e=null!==(t=this.value)&&void 0!==t?t:"";this.validateSingleInput(e)}else{const t=null!==(e=this.value)&&void 0!==e?e:[];if(0===t.length)l=i.formatMessage(this.strings.requiredError,{label:this.label}),this.setErrorMessage(l);else{let e=!0;for(let i=0;i<t.length;i+=1)this.validateSingleInput(null!==(s=t[i])&&void 0!==s?s:"")||(e=!1);this.isValid=e,!1===e&&(l=i.formatMessage(this.strings.choiceListBadInput,{label:this.label}),this.setErrorMessage(l))}}},this.adjustLayout=()=>{this.layout=this.segmentedControl&&this.segmentedControl.clientWidth<this.hostElement.clientWidth?"horizontal":"vertical"},this.renderInput=()=>{var t;return e.h("calcite-input",{scale:s.UIDefaults.Scale,type:this.showAsTextArea?"textarea":"text",readOnly:this.readOnly,value:this.value,status:this.isValid?i.UIInputStatus.VALID:i.UIInputStatus.INVALID,placeholder:null!==(t=this.placeholderText)&&void 0!==t?t:this.strings.inputPlaceholderText,onCalciteInputInput:this.inputChanged})},this.renderCombobox=()=>{var t;const i="multi"===this.selectionMode&&void 0===this.choiceList||!0===this.allowCustomValues,l=[];if(Array.isArray(this.choiceList)&&l.push(...this.choiceList),i&&void 0!==this.initialValues){const t=new Set(l),e="multi"===this.selectionMode?this.initialValues:[this.initialValues];for(const i of e)t.has(i)||l.push(i)}return e.h("calcite-combobox",{scale:s.UIDefaults.Scale,label:this.strings.choiceList,disabled:this.readOnly,maxItems:this.maxItems,selectionMode:"multi"!==this.selectionMode?"single":"multiple",placeholder:null!==(t=this.placeholderText)&&void 0!==t?t:this.strings.comboboxPlaceholderText,placeholderIcon:this.placeholderIcon,allowCustomValues:i,onCalciteComboboxChange:this.comboboxChanged,clearDisabled:"multi"!==this.selectionMode},l.map((t=>this.buildComboBoxItem(t))))},this.buildComboBoxItem=t=>{var i;let l,a=!1;return a="multi"!==this.selectionMode?this.value===t:void 0!==this.value&&this.value.includes(t),l=void 0===this.choiceListLabels?t:this.allowCustomValues?null!==(i=this.choiceListLabels[t])&&void 0!==i?i:t:this.choiceListLabels[t],e.h("calcite-combobox-item",Object.assign({key:t,value:t,textLabel:l,icon:void 0!==this.choiceListIcons?this.choiceListIcons[t]:void 0,selected:a},{scale:s.UIDefaults.Scale}))},this.renderRadioGroup=()=>{const t=this.choiceList;return e.h("calcite-segmented-control",{class:"segmented-control",scale:s.UIDefaults.Scale,onCalciteSegmentedControlChange:this.segmentedControlChange,ref:t=>this.segmentedControl=t,layout:this.layout},null==t?void 0:t.map((t=>this.buildRadioGroupItem(t))))},this.buildRadioGroupItem=t=>{const i=void 0!==this.choiceListLabels?this.choiceListLabels[t]:t;return e.h("calcite-segmented-control-item",{value:t,checked:t===this.value},i)},this.renderRadioButtonGroup=()=>{const t=this.choiceList;return e.h("calcite-radio-button-group",{name:this.label,scale:s.UIDefaults.Scale,layout:"vertical",onCalciteRadioButtonGroupChange:this.radioButtonGroupChange},null==t?void 0:t.map((t=>this.buildRadioButton(t))))},this.buildRadioButton=t=>{const i=void 0!==this.choiceListLabels?this.choiceListLabels[t]:t;return e.h("calcite-label",{layout:"inline",scale:s.UIDefaults.Scale},e.h("calcite-radio-button",{value:t,checked:t===this.value}),i)},this.renderCheckList=()=>{var t,i;return e.h(e.Fragment,null,this.showSelectAllForCheckList?this.renderCheckBox(!0,this.strings.selectAll):null,null===(i=null===(t=this.choiceList)||void 0===t?void 0:t.filter((t=>void 0!==t)))||void 0===i?void 0:i.map((t=>this.renderCheckBox(!1,t))))},this.toggleCheckListSelectAll=t=>{var e;const i=t.target.checked?[...null!==(e=this.choiceList)&&void 0!==e?e:[]]:[];this.checkListChange(i)},this.toggleCheckBoxSingleSelection=(t,e)=>{let i=t;i=t.includes(e)?i.filter((t=>t!==e)):[...i,e],this.checkListChange(i)},this.renderCheckBox=(t,i)=>{var l,a,o;const n=t?this.strings.selectAll:null!==(a=null===(l=this.choiceListLabels)||void 0===l?void 0:l[i])&&void 0!==a?a:i,h=Array.isArray(this.value)?[...this.value]:[],r=t?h.length===(null===(o=this.choiceList)||void 0===o?void 0:o.length):h.includes(i),c=t&&!r&&h.length>0;return e.h("calcite-label",{layout:"inline",scale:s.UIDefaults.Scale},e.h("calcite-checkbox",{scale:s.UIDefaults.Scale,value:n,checked:r,indeterminate:c,onCalciteCheckboxChange:e=>{t?this.toggleCheckListSelectAll(e):this.toggleCheckBoxSingleSelection(h,i)}}),n)},this.inputChanged=t=>{null!==t.target&&(this.value=t.target.value,this.validateInput(),this.analysisStringInputChange.emit())},this.comboboxChanged=t=>{const e=t.target;if(null!==e){if("multi"===this.selectionMode)this.value=e.selectedItems.filter((t=>void 0!==(null==t?void 0:t.value))).map((t=>t.value));else{const[t]=e.selectedItems;this.value=null==t?void 0:t.value}this.validateInput(),this.analysisStringInputChange.emit()}},this.segmentedControlChange=t=>{var e;const i=t.target;null!==i&&(this.value=null!==(e=i.value)&&void 0!==e?e:"",this.validateInput(),this.analysisStringInputChange.emit())},this.radioButtonGroupChange=t=>{null!==(null==t?void 0:t.target)&&(this.value=t.target.selectedItem.value,this.validateInput(),this.analysisStringInputChange.emit())},this.checkListChange=t=>{this.value=t,this.validateInput(),this.analysisStringInputChange.emit()},this.value=void 0,this.label=void 0,this.validationParams=void 0,this.required=void 0,this.maxLength=void 0,this.minLength=void 0,this.invalidCharactersRegex=void 0,this.selectionMode=void 0,this.readOnly=!1,this.choiceList=void 0,this.choiceListIcons=void 0,this.choiceListLabels=void 0,this.placeholderText=void 0,this.placeholderIcon=void 0,this.showAsRadioGroup=!1,this.showAsRadioButtonGroup=!1,this.showAsCheckList=!1,this.showSelectAllForCheckList=!1,this.showAsTextArea=!1,this.useDefaultOnReset=!1,this.allowCustomValues=!1,this.maxItems=10,this.isValid=!0,this.errorMessage=void 0,this.layout=void 0}updatedSelectionMode(){this.initialValues=this.value}updatedChoiceList(t,e){if(!a.isEqual(e,t)){let e=this.value;const i=(Array.isArray(e)?e:void 0!==e?[e]:[]).filter((e=>null==t?void 0:t.includes(e)));e="multi"===this.selectionMode?i:i[0],this.useDefaultOnReset&&0===i.length&&(e=void 0!==t?"multi"===this.selectionMode?[t[0]]:t[0]:void 0),a.isEqual(e,this.value)||(this.value=e,this.analysisStringInputChange.emit())}}async componentWillLoad(){({strings:this.strings}=await i.fetchComponentLocaleStrings(this.hostElement,e.getAssetPath("."))),void 0===this.value&&this.updatedChoiceList(this.choiceList,void 0),this.initialValues=this.value}async checkValidity(){return this.validateInput(),Promise.resolve(this.isValid)}componentDidLoad(){void 0!==this.segmentedControl&&(this.resizeObserver=new ResizeObserver((()=>{0!==this.hostElement.clientWidth?this.layoutUpdating?this.layoutUpdating=!1:(this.layoutUpdating=!0,this.adjustLayout()):this.layout="horizontal"})),this.resizeObserver.observe(this.hostElement))}disconnectedCallback(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect()}render(){var t,l;let a;a=void 0===this.choiceList?"multi"!==this.selectionMode?this.renderInput():this.renderCombobox():!0===this.showAsCheckList?this.renderCheckList():"multi"!==this.selectionMode&&!0===this.showAsRadioGroup?this.renderRadioGroup():"multi"!=this.selectionMode&&!0===this.showAsRadioButtonGroup?this.renderRadioButtonGroup():this.renderCombobox();const o=!1===this.isValid,n=i.formatValidationParamsMessage(this.validationParams),h=!1===i.isEmptyDataItem(n)||!0===o,r=void 0!==this.errorMessage?i.UIInputStatus.INVALID:i.getUIInputStatusFromMessageType(null===(t=this.validationParams)||void 0===t?void 0:t.type);return e.h(e.Host,null,e.h("calcite-label",{class:"label",scale:s.UIDefaults.Scale},""!==this.label?e.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit()}):null,a,e.h("calcite-input-message",{status:r,hidden:!h,scale:s.UIDefaults.Scale,icon:"exclamationMarkTriangle"},null!==(l=this.errorMessage)&&void 0!==l?l:n)))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{selectionMode:["updatedSelectionMode"],choiceList:["updatedChoiceList"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-ui-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height:30vh;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex;width:var(--analysis-component-default-width);--calcite-ui-border-input:var(--analysis-ui-border-input)}.label{width:var(--analysis-component-default-width)}.segmented-control:not([layout]){visibility:hidden;position:absolute}"}},[1,"analysis-string-input",{value:[1537],label:[513],validationParams:[16],required:[516],maxLength:[514,"max-length"],minLength:[514,"min-length"],invalidCharactersRegex:[513,"invalid-characters-regex"],selectionMode:[513,"selection-mode"],readOnly:[516,"read-only"],choiceList:[16],choiceListIcons:[16],choiceListLabels:[16],placeholderText:[513,"placeholder-text"],placeholderIcon:[513,"placeholder-icon"],showAsRadioGroup:[516,"show-as-radio-group"],showAsRadioButtonGroup:[516,"show-as-radio-button-group"],showAsCheckList:[516,"show-as-check-list"],showSelectAllForCheckList:[516,"show-select-all-for-check-list"],showAsTextArea:[516,"show-as-text-area"],useDefaultOnReset:[516,"use-default-on-reset"],allowCustomValues:[516,"allow-custom-values"],maxItems:[514,"max-items"],isValid:[32],errorMessage:[32],layout:[32],checkValidity:[64]}]);function n(){"undefined"!=typeof customElements&&["analysis-string-input","analysis-label"].forEach((t=>{switch(t){case"analysis-string-input":customElements.get(t)||customElements.define(t,o);break;case"analysis-label":customElements.get(t)||l.defineCustomElement()}}))}n(),t.AnalysisStringInput=o,t.defineCustomElement=n}));