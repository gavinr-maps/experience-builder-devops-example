define(["exports","./index-86304dcd","./index2-600fb1b2","./utils-2b3d82c1","./analysis-label2-b880686f"],(function(e,t,i,l,s){"use strict";const a=t.proxyCustomElement(class extends t.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisSelectFieldClick=t.createEvent(this,"analysisSelectFieldClick",7),this.analysisFieldRemove=t.createEvent(this,"analysisFieldRemove",7),this.analysisHelpClick=t.createEvent(this,"analysisHelpClick",7),this.renderErrorMessage=()=>{const e=!1===i.isEmptyDataItem(this.errorMessage);return t.h("calcite-input-message",{class:"error-message",icon:"exclamationMarkTriangle",status:i.UIInputStatus.INVALID,scale:l.UIDefaults.Scale,hidden:!e},this.errorMessage)},this.handleReplaceFieldClick=e=>{const t=e.target;"calcite-value-list-item"!==(null==t?void 0:t.localName)||e.composedPath().find((e=>"calcite-action"===e.localName))||this.analysisSelectFieldClick.emit()},this.handleMouseOver=e=>{const t=e.target;"calcite-value-list-item"!==(null==t?void 0:t.localName)||e.composedPath().find((e=>"calcite-action"===e.localName))||(void 0===this.replaceTooltip&&(this.replaceTooltip=document.createElement("calcite-tooltip"),this.replaceTooltip.placement="bottom",this.replaceTooltip.innerText=this.strings.replaceField),this.replaceTooltip.referenceElement=t,l.addOpenableDomElement(document,this.replaceTooltip))},this.mouseOut=()=>{l.removeOpenableDomElement(this.replaceTooltip)},this.onSelectClick=()=>{this.analysisSelectFieldClick.emit()},this.onListItemRemoved=e=>{l.removeOpenableDomElement(this.replaceTooltip);const t=e.target;this.analysisFieldRemove.emit({value:t.value})},this.value=void 0,this.label=void 0,this.disabled=!1,this.selectionMode=void 0,this.useValueLabel=!1,this.fields=void 0,this.errorMessage=void 0,this.placeholderText=void 0,this.required=!1,this.readOnly=!1,this.loading=!1}get fieldLabels(){let e=[];return!0===this.useValueLabel&&void 0!==this.value?e=(Array.isArray(this.value)?this.value:[this.value]).map((e=>[e,e])):!1===this.useValueLabel&&void 0!==this.fields&&(e=this.fields.map((e=>[e.name,e.alias]))),new Map(e)}async componentWillLoad(){({strings:this.strings}=await i.fetchComponentLocaleStrings(this.hostElement,t.getAssetPath(".")))}render(){return t.h(t.Host,null,void 0!==this.label&&""!==this.label?t.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit()}):null,void 0===this.selectionMode||"single"===this.selectionMode?void 0===this.value?this.renderSingleSelectButton():this.renderSingleListItem():this.renderMultiple(),this.renderErrorMessage())}renderSingleListItem(){var e,i;const l=null!==(e=this.fieldLabels.get(this.value))&&void 0!==e?e:this.value;return t.h("calcite-value-list-item",{"data-layerId":this.value,class:"single-list-item",key:null===(i=this.value)||void 0===i?void 0:i.toString(),value:this.value,label:l,nonInteractive:!0===this.readOnly,removable:!1===this.readOnly,onMouseOver:!1===this.readOnly?this.handleMouseOver:void 0,onMouseOut:!1===this.readOnly?this.mouseOut:void 0,onClick:!1===this.readOnly?this.handleReplaceFieldClick:void 0,onCalciteListItemRemove:!1===this.readOnly?this.onListItemRemoved:void 0})}renderSingleSelectButton(){var e;const i=void 0!==this.value?this.fieldLabels.get(this.value):null!==(e=this.placeholderText)&&void 0!==e?e:this.strings.inputPlaceholderText;return t.h("calcite-button",{scale:l.UIDefaults.Scale,width:"full",alignment:"space-between",appearance:"transparent",kind:"neutral","icon-end":"chevron-down",id:"single-select-field-btn",onClick:this.onSelectClick,disabled:this.disabled,loading:this.loading},i)}renderMultiple(){var e,i;const s=void 0!==this.value&&this.value.length>0?"field-multi-select-btn-spaced":void 0,a=null===(e=this.value)||void 0===e?void 0:e.map((e=>{var i;return t.h("calcite-value-list-item",{key:e,label:null!==(i=this.fieldLabels.get(e))&&void 0!==i?i:e,value:e,removable:!0,onCalciteListItemRemove:this.onListItemRemoved})}));return t.h("div",{class:"multi-select-container"},void 0!==a&&a.length>0&&t.h("calcite-value-list",null,a),t.h("calcite-button",{round:!0,iconStart:"plus",appearance:"outline",kind:"neutral",width:"full",onClick:this.onSelectClick,class:s,id:"multi-select-field-btn",scale:l.UIDefaults.Scale,loading:this.loading},null!==(i=this.placeholderText)&&void 0!==i?i:this.strings.multiSelectFieldButtonText))}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-ui-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height:30vh;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{width:var(--analysis-component-default-width);font-size:var(--analysis-label-font-size)}.error-message{margin-top:var(--analysis-quarter-spacing)}.field-multi-select-btn-spaced{margin-top:var(--analysis-half-spacing)}.single-list-item{border:1px solid var(--analysis-ui-border-input)}#single-select-field-btn{border:1px solid var(--analysis-ui-border-input)}.multi-select-container{display:flex;flex-direction:column;gap:var(--analysis-quarter-spacing);width:100%;margin-bottom:var(--analysis-half-spacing)}.text-s{margin-block-start:0;margin-block-end:0;color:var(--calcite-ui-text-1);font-size:var(--calcite-font-size--2);line-height:1rem}.text-m{margin-block-start:0;margin-block-end:0;color:var(--calcite-ui-text-1);font-size:var(--calcite-font-size--1);line-height:1rem}"}},[1,"analysis-field-select",{value:[1],label:[513],disabled:[516],selectionMode:[513,"selection-mode"],useValueLabel:[516,"use-value-label"],fields:[16],errorMessage:[513,"error-message"],placeholderText:[513,"placeholder-text"],required:[516],readOnly:[516,"read-only"],loading:[516]}]);function n(){"undefined"!=typeof customElements&&["analysis-field-select","analysis-label"].forEach((e=>{switch(e){case"analysis-field-select":customElements.get(e)||customElements.define(e,a);break;case"analysis-label":customElements.get(e)||s.defineCustomElement()}}))}n(),e.AnalysisFieldSelect=a,e.defineCustomElement=n}));