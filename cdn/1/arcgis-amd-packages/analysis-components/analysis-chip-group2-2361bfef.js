define(["exports","./index-86304dcd","./index2-600fb1b2","./utils-2b3d82c1"],(function(e,i,s,t){"use strict";const l=i.proxyCustomElement(class extends i.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisChipGroupSelectionChange=i.createEvent(this,"analysisChipGroupSelectionChange",7),this.chipRefs=[],this.isValid=!0,this.selectAllHandler=()=>{Array.isArray(this.value)?this.selectedChips.length<this.value.length?(this.selectedChips=this.value,this.canSelectAll=!1):(this.selectedChips=[],this.canSelectAll=!0):(this.selectedChips=1===this.selectedChips.length?[]:[this.value],this.canSelectAll=1!==this.selectedChips.length),this.analysisChipGroupSelectionChange.emit()},this.handleCalciteChipClick=e=>{const i=e.target.value;this.disabled||this.handleChipSelection(i)},this.validateSelection=()=>{this.isValid=this.selectedChips.length>0},this.renderChips=()=>{const e=s.zip(this.value,this.chipLabel);return i.h(i.Host,null,i.h("div",null,e.map((([e,s],t)=>i.h("calcite-chip",{key:e,scale:this.scale,ref:e=>{null==e||this.value.includes(e.value)||this.chipRefs.push(e)},appearance:"outline",kind:this.selectedChips.includes(e)?"brand":"neutral",icon:Array.isArray(this.iconLabel)?this.iconLabel[t]:this.iconLabel,value:e,onClick:this.handleCalciteChipClick,class:this.disabled?"analysis-chip-disabled":"analysis-chip-button",closed:!1,closable:this.dismissible},s))),this.selectAllEnabled?i.h("calcite-button",{round:!0,scale:this.scale,kind:"brand",appearance:"transparent",onClick:this.selectAllHandler},this.canSelectAll?this.strings.selectAll:this.strings.deselectAll):null,this.renderErrorMessage()))},this.renderErrorMessage=()=>{var e,l;return!0===this.required&&!1===this.isValid?i.h("calcite-input-message",{status:s.UIInputStatus.INVALID,scale:t.UIDefaults.Scale,icon:"exclamationMarkTriangle"},s.formatMessage(null!==(l=null===(e=this.validationParams)||void 0===e?void 0:e.badInputMessage)&&void 0!==l?l:this.strings.requiredError,{})):null},this.renderChip=()=>i.h(i.Host,null,i.h("div",null,i.h("calcite-chip",{ref:e=>{0===this.chipRefs.length&&this.chipRefs.push(e)},kind:this.selectedChips.includes(this.value)?"brand":"neutral",appearance:"outline",icon:this.chipLabel,scale:this.scale,value:this.value,onClick:this.handleCalciteChipClick,class:this.disabled?"analysis-chip-disabled":"analysis-chip-button",closable:this.dismissible},this.chipLabel))),this.canSelectAll=!0,this.value=void 0,this.iconLabel=void 0,this.scale=t.UIDefaults.Scale,this.selectAllEnabled=!1,this.label=void 0,this.selectionMode=void 0,this.disabled=!1,this.dismissible=!1,this.selectedChips=[],this.initialChipSelection=[],this.chipLabel=void 0,this.required=!1,this.validationParams=void 0}validateValues(e){if(!0===s.areThereDuplicates(e))throw new s.ArcgisWebAnalysisError("DuplicateValueError","There are duplicate strings in the values array")}selectedChipsChange(){this.validateSelection(),this.analysisChipGroupSelectionChange.emit(),this.updateSelectAllButton()}async componentWillLoad(){Array.isArray(this.value)&&this.validateValues(this.value),({strings:this.strings}=await s.fetchComponentLocaleStrings(this.hostElement,i.getAssetPath(".")))}componentDidLoad(){void 0!==this.initialChipSelection&&(this.selectedChips=this.initialChipSelection,this.isValid=!0)}handleDismiss(e){const i=e.target;this.value=Array.isArray(this.value)?this.value.filter((e=>e!==i.value)):"",this.chipLabel=Array.isArray(this.chipLabel)?this.chipLabel.filter((e=>e!==i.innerText)):"",this.chipRefs=this.chipRefs.filter((e=>e.value!==i.value))}handleChipSelection(e){if("single"===this.selectionMode)this.selectedChips=this.selectedChips.includes(e)?[]:[e];else{if("multi"!==this.selectionMode)throw new s.ArcgisWebAnalysisError("RequiredPropertyMissing","The selectionMode property is required and must be either 'single' or 'multi'");this.selectedChips=this.selectedChips.includes(e)?this.selectedChips=this.selectedChips.filter((i=>i!==e)):this.selectedChips=[...this.selectedChips,e]}}updateSelectAllButton(){!0===this.selectAllEnabled&&(Array.isArray(this.value)&&this.selectedChips.length===this.value.length||this.selectedChips[0]===this.value?this.canSelectAll=!1:this.canSelectAll=!0)}async checkValidity(){return this.validateSelection(),Promise.resolve(this.isValid)}render(){var e,i;return!0===(Array.isArray(this.value)&&Array.isArray(this.chipLabel)&&(null===(e=this.value)||void 0===e?void 0:e.length)===(null===(i=this.chipLabel)||void 0===i?void 0:i.length))?this.renderChips():this.renderChip()}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{value:["validateValues"],selectedChips:["selectedChipsChange"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-ui-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height:30vh;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{margin-bottom:var(--analysis-half-spacing)}.analysis-chip-button{margin:var(--analysis-quarter-spacing);border-width:2px}.analysis-chip-button:hover{cursor:pointer}.analysis-chip-disabled{margin:var(--analysis-quarter-spacing);background-color:var(--calcite-ui-foreground-2);border:none}"}},[1,"analysis-chip-group",{value:[1025],iconLabel:[1,"icon-label"],scale:[513],selectAllEnabled:[516,"select-all-enabled"],label:[513],selectionMode:[1537,"selection-mode"],disabled:[516],dismissible:[516],selectedChips:[1040],initialChipSelection:[1040],chipLabel:[1025,"chip-label"],required:[516],validationParams:[16],canSelectAll:[32],checkValidity:[64]},[[0,"calciteChipClose","handleDismiss"]]]);function a(){"undefined"!=typeof customElements&&["analysis-chip-group"].forEach((e=>{"analysis-chip-group"===e&&(customElements.get(e)||customElements.define(e,l))}))}a(),e.AnalysisChipGroup=l,e.defineCustomElement=a}));