"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([[8648],{69079:(e,t,n)=>{n.d(t,{BN:()=>u,Yc:()=>h,mx:()=>c,rk:()=>o});var a=n(51366);const o="arial-unicode-ms",l="woff2",i=new Map,s=new Set;class r{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(e){const t=h(e),n=i.get(t);if(n)return n.promise;const o=new FontFace(e.family,`url('${a.Z.fontsUrl}/woff2/${t}.${l}') format('${l}')`,{style:e.style,weight:e.weight}),c=document.fonts;if(c.has(o)&&"loading"===o.status)return o.loaded;const u=o.load().then((()=>(c.add(o),o)));return i.set(t,new r(o,u)),s.add(o),u}function u(e){if(!e)return o;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return u(e.family)+(t.length>0?t:"-regular")}},8648:(e,t,n)=>{n.r(t),n.d(t,{getContrastingBackgroundTheme:()=>q,getRenderSymbolParameters:()=>j,previewSymbol2D:()=>E});var a=n(30936),o=n(70375),l=n(69079),i=n(95550),s=n(89298),r=n(83773),c=n(5840),u=n(63659);function h(e,t){const{r:n,g:o,b:l}=t?.ignoreAlpha?e:function(e){let{r:t,g:n,b:o,a:l}=e;return l<1&&(t=Math.round(l*t+255*(1-l)),n=Math.round(l*n+255*(1-l)),o=Math.round(l*o+255*(1-l))),new a.Z({r:t,g:n,b:o})}(e);return.2126*n+.7152*o+.0722*l}n(1983);const m="picture-fill",d="picture-marker",f="simple-fill",p="simple-line",w="simple-marker",y="text",g="Aa",b=r.b_.size,v=r.b_.maxSize,k=r.b_.maxOutlineSize,x=r.b_.lineWidth,M=225,L=document.createElement("canvas");function z(e,t){const n=L.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}const F=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=(0,i.Wz)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return n*F*t;case"cm":return n*C*t}}return parseFloat(e)}function Z(e){const t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,i.F2)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,i.F2)(t.height):null}}function _(e,t){return e>t?"dark":"light"}function j(e,t){const n="number"==typeof t?.size?t?.size:null,a=null!=n?(0,i.F2)(n):null,o=null!=t?.maxSize?(0,i.F2)(t.maxSize):null,l=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,c=(0,s._M)(e);let u=(0,s.mx)(e);"dark"!==q(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:"#bdc3c7"});const h={shape:null,fill:c,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const M=u?.width||0;let L=null!=t?.size&&(null==t?.scale||t?.scale),F=0,C=0,_=!1;switch(e.type){case w:{const n=e.style,{width:s,height:r}=Z(t),c=s===r&&null!=s?s:null!=a?a:Math.min((0,i.F2)(e.size),o||v);switch(F=c,C=c,n){case"circle":h.shape={type:"circle",cx:0,cy:0,r:.5*c},L||(F+=M,C+=M);break;case"cross":h.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[F,.5*C]},{command:"M",values:[.5*F,0]},{command:"L",values:[.5*F,C]}]};break;case"diamond":h.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[.5*F,0]},{command:"L",values:[F,.5*C]},{command:"L",values:[.5*F,C]},{command:"Z",values:[]}]},L||(F+=M,C+=M);break;case"square":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},L||(F+=M,C+=M),l&&(_=!0);break;case"triangle":h.shape={type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},L||(F+=M,C+=M),l&&(_=!0);break;case"x":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,C]},{command:"M",values:[F,0]},{command:"L",values:[0,C]}]},l&&(_=!0);break;case"path":h.shape={type:"path",path:e.path||""},L||(F+=M,C+=M),l&&(_=!0),L=!0}break}case p:{const{width:e,height:n}=Z(t),o=null!=n?n:null!=a?a:M,l=null!=e?e:x;u&&(u.width=o),F=l,C=o;const i=h?.stroke?.cap||"butt",s="round"===i;L=!0,h.stroke&&(h.stroke.cap="butt"===i?"square":i),h.shape={type:"path",path:[{command:"M",values:[s?o/2:0,C/2]},{command:"L",values:[s?F-o/2:F,C/2]}]};break}case m:case f:{const e="object"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:n,height:o}=Z(t);F=!e&&n!==o||null==n?null!=a?a:b:n,C=!e&&n!==o||null==o?F:o,L||(F+=M,C+=M),L=!0,h.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,C]},{command:"L",values:[0,C]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:r.JZ.fill[0];break}case d:{const n=Math.min((0,i.F2)(e.width),o||v),s=Math.min((0,i.F2)(e.height),o||v),{width:r,height:c}=Z(t),u=r===c&&null!=r?r:null!=a?a:Math.max(n,s),m=n/s;F=m<=1?Math.ceil(u*m):u,C=m<=1?u:Math.ceil(u/m),h.shape={type:"image",x:-Math.round(F/2),y:-Math.round(C/2),width:F,height:C,src:e.url||""},l&&(_=!0);break}case y:{const n=e,l=t?.overrideText||n.text||g,s=n.font,{width:r,height:c}=Z(t),u=null!=c?c:null!=a?a:Math.min((0,i.F2)(s.size),o||v),m=z(l,{weight:s.weight,size:u,family:s.family}),d=/[\uE600-\uE6FF]/.test(l);F=r??(d?u:m),C=u;let f=.25*S((s?u:0).toString());d&&(f+=5),h.shape={type:"text",text:l,x:n.xoffset||0,y:n.yoffset||f,align:"middle",alignBaseline:n.verticalAlignment,decoration:s&&s.decoration,rotated:n.rotated,kerning:n.kerning},h.font=s&&{size:u,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:h,size:[F,C],renderOptions:{node:t?.node,scale:L,opacity:t?.opacity,rotation:l,useRotationSize:_,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}async function E(e,t){const{shapeDescriptor:n,size:a,renderOptions:h}=j(e,t);if(!n.shape)throw new o.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,a=e.color;if("pattern"===n?.type&&a&&e.type!==m){const e=await(0,s.Od)(n.src,a.toCss(!0));n.src=e,t.fill=n}}(e,n),await async function(e,t,n,a){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,l.mx)(e.font)}catch{}const{width:o}=Z(a),i=/[\uE600-\uE6FF]/.test(t.shape.text);null!=o||i||(n[0]=z(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}(e,n,a,t);const d=[[n]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){const e=.6*a[0];d.unshift([{...n,offset:[-e,0],fill:(0,r.dc)(n.fill,-.3)}]),d.push([{...n,offset:[e,0],fill:(0,r.dc)(n.fill,.3)}]),a[0]+=2*e,h.scale=!1}return"text"===e.type&&function(e,t,n,a,o){if(null!=e.haloColor&&null!=e.haloSize){o.masking??=n.map((()=>[]));const l=(0,i.F2)(e.haloSize);a[0]+=l,a[1]+=l,n.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*l,join:"round",cap:"round"}}]),o.masking.unshift([{shape:{type:"rect",x:0,y:0,width:a[0]+2*u.M8,height:a[1]+2*u.M8},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(a[0]+=2*u.M8,a[1]+=2*u.M8,n.unshift([{shape:{type:"rect",x:0,y:0,width:a[0],height:a[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,i.F2)(e.borderLineSize)}}]),o.masking?.unshift([]))}(e,n,d,a,h),(0,c.wh)(d,a,h)}function q(e,t=M){const n=(0,s._M)(e),o=(0,s.mx)(e),l=!n||"type"in n?null:new a.Z(n),i=o?.color?new a.Z(o?.color):null,r=l?_(h(l),t):null,c=i?_(h(i),t):null;return c?r?r===c?r:t>=M?"light":"dark":c:r}}}]);